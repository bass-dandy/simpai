var Nr=Object.defineProperty;var xr=(r,e,t)=>e in r?Nr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var vt=(r,e,t)=>(xr(r,typeof e!="symbol"?e+"":e,t),t);import{S as le,i as ae,s as ie,G as rt,k as U,l as A,m as T,h as v,n as E,M as gn,b as S,H as it,I as lt,J as at,f as P,t as M,e as ke,g as Te,d as Ce,N as St,O as re,P as Ae,v as ct,Q as xe,R as $e,T as fe,F as Ut,U as Pe,a as N,c as x,K as $,x as Y,y as X,z as q,A as J,q as Q,r as Z,u as Je,V as Vr,W as jr,X as zr,B as Hr,Y as _n,Z as Dt,E as st,C as ee,_ as et,w as pt,$ as Gr,a0 as mn,L as tt,a1 as gt,a2 as Lt,a3 as nn,a4 as Rt,a5 as vn,a6 as Be,a7 as Se,a8 as Re,a9 as wn,aa as Wr,ab as Yr,ac as qr,ad as Jr}from"../../chunks/index-0d8951b5.js";import{w as Xr,d as $r}from"../../chunks/index-6cf798f5.js";function Kr(r){let[e,t]=r;if(!((e===16||e===17)&&t===251))throw new Error("Input is not a valid QFS compressed buffer! Did you forget to truncate the size bytes?");const n=Zr(r),i=65536*r[2]+256*r[3]+r[4],l=n(i);let s=r[0]&1?8:5,a=0;for(;s<r.length&&r[s]<252;){let o=r[s],c=r[s+1],f=r[s+2];if(o&128)if(o&64)if(o&32){let d=(o&31)*4+4;ot(l,a,r,s+1,d),s+=d+1,a+=d}else{let d=r[s+3],p=o&3;ot(l,a,r,s+4,p),s+=p+4,a+=p,p=(o>>2&3)*256+d+5;let g=((o&16)<<12)+256*c+f+1;ot(l,a,l,a-g,p),a+=p}else{let d=c>>6&3;ot(l,a,r,s+3,d),s+=d+3,a+=d,d=(o&63)+4;let p=(c&63)*256+f+1;ot(l,a,l,a-p,d),a+=d}else{let d=o&3;ot(l,a,r,s+2,d),s+=d+2,a+=d,d=((o&28)>>2)+3;let p=(o>>5<<8)+c+1;ot(l,a,l,a-p,d),a+=d}}if(s<r.length&&a<l.length){let o=r[s]&3;ot(l,a,r,s+1,o),a+=o}if(a!==l.length)throw new Error("Error when decompressing!");return l}var Qr=Kr;function Zr(r){const e=r.constructor;if(e.allocUnsafe)return t=>e.allocUnsafe(t);{const t=e[Symbol.species]||e;return n=>new t(n)}}function ot(r,e,t,n,i){let l=i;for(;l--;)r[e++]=t[n++]}class Qe{constructor(e){vt(this,"view");vt(this,"cursor");this.view=new DataView(e),this.cursor=0}seekForward(e){return this.cursor+=e,this}seekTo(e){return this.cursor=e,this}readUint8(){const e=this.view.getUint8(this.cursor);return this.cursor+=1,e}readUint8Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint8());return t}readUint16(){const e=this.view.getUint16(this.cursor,!0);return this.cursor+=2,e}readUint16Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint16());return t}readUint32(){const e=this.view.getUint32(this.cursor,!0);return this.cursor+=4,e}readUint32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint32());return t}readBuffer(e){const t=this.view.buffer.slice(this.cursor,this.cursor+e);return this.cursor+=e,t}readCountedString(){const e=this.readUint32();return new TextDecoder().decode(this.readBuffer(e))}readFileName(){return new TextDecoder().decode(this.readBuffer(64)).replace(/\u0000/g,"")}readUntilNull(){for(let e=this.cursor;e<this.view.byteLength;e++)if(this.view.getUint8(e)===0){const t=this.view.buffer.slice(this.cursor,e);return this.cursor=e+1,t}return this.view.buffer.slice(this.cursor)}}class Ze{constructor(){vt(this,"buffer");vt(this,"encoder");this.buffer=new ArrayBuffer(0)}appendBytes(e){const t=new Uint8Array(this.buffer.byteLength+e);t.set(new Uint8Array(this.buffer),0),this.buffer=t.buffer}writeUint8(e){const t=this.buffer.byteLength;this.appendBytes(1);const n=new DataView(this.buffer);n.setUint8(t,e),this.buffer=n.buffer}writeUint8Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length);const n=new DataView(this.buffer);e.forEach((i,l)=>{n.setUint8(t+l,i)}),this.buffer=n.buffer}writeUint16(e){const t=this.buffer.byteLength;this.appendBytes(2);const n=new DataView(this.buffer);n.setUint16(t,e,!0),this.buffer=n.buffer}writeUint16Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*2);const n=new DataView(this.buffer);e.forEach((i,l)=>{n.setUint16(t+l*2,i,!0)}),this.buffer=n.buffer}writeUint32(e){const t=this.buffer.byteLength;this.appendBytes(4);const n=new DataView(this.buffer);n.setUint32(t,e,!0),this.buffer=n.buffer}writeUint32Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*4);const n=new DataView(this.buffer);e.forEach((i,l)=>{n.setUint32(t+l*4,i,!0)}),this.buffer=n.buffer}writeBuffer(e){const t=new Uint8Array(this.buffer.byteLength+e.byteLength);t.set(new Uint8Array(this.buffer),0),t.set(new Uint8Array(e),this.buffer.byteLength),this.buffer=t.buffer}writeString(e,t){this.encoder||(this.encoder=new TextEncoder),t!=null&&t.counted&&this.writeUint32(e.length),this.writeBuffer(this.encoder.encode(e).buffer)}writeNulls(e){this.appendBytes(e)}}const pe={BCON:"42434f4e",BHAV:"42484156",CTSS:"43545353",DIR:"e86b1eef",GLOB:"474c4f42",NREF:"4e524546",OBJD:"4f424a44",OBJF:"4f424a66",STR:"53545223",TPRP:"54505250",TRCN:"5452434e",TTAB:"54544142",TTAS:"54544173",VERS:"ebfee342","2ARY":"6b943b43","3ARY":"2a51171b","5DS":"ac06a676","5EL":"6a97042f","5LF":"ac06a66f","5SC":"25232b11",ANIM:"fb00791e",BMP:"424d505f",CATS:"43415453",CIGE:"43494745",CINE:"4d51f042",CREG:"cdb467b8",CRES:"e519c933",DGRP:"44475250",FACE:"46414345",FAMI:"46414d49",FAMh:"46414d68",FAMt:"8c870743",FCNS:"46434e53",FPL:"ab4ba572",FWAV:"46574156",FX:"ea5118b0",GMDC:"ac4f8687",GMND:"7ba3838c",HOUS:"484f5553",INI:"2026960b",JFIF:"8c3ce95a",LGHT1:"c9c81b9b",LGHT2:"c9c81ba3",LGHT3:"c9c81ba9",LGHT4:"c9c81bad",LIFO:"ed534136",LTXT:"0bf999e7",LXNR:"cccef852",MATSHAD:"cd7fe87a",MP3:"2026960b",MOBJT:"6f626a74",NGBH:"4e474248",NHTG:"abcb5da4",NHTR:"abd0dc63",NID:"ac8a7a2e",NMAP:"4e6d6150",OBJT:"fa1c39f7",OBJM:"4f626a4d",PALT:"50414c54",PDAT:"aace2efb",PERS:"50455253",PMAP:"8cc0a14b",PNG:"856ddbac",POOL:"0c900fdb",POSI:"504f5349",PTBP:"50544250",SFX:"8db5e4c2",SHPE:"fc6eb1f7",SIMI:"53494d49",SKIN:"ac506764",SLOT:"534c4f54",SMAP:"cac4fc40",SPR2:"53505232",SPX1:"2026960b",SREL:"cc364c2a",STXR:"ace46235",SWAF:"cd95548e",TATT:"54415454",TGA:"856ddbac",TMAP:"4b58975b",TREE:"54524545",TRKS:"0b9eb87e",TSSG:"ba353ce1",TXMT:"49596978",TXTR:"1c4a276c",UI:"00000000",VERT:"cb4387a1",WFR:"cd95548e",WGRA:"0a284d0b",WLL:"8a84d7b0",WRLD:"49ff7d76",XA:"2026960b",XMTO:"584d544f",XOBJ:"584f424a"},ei=Object.entries(pe).reduce((r,[e,t])=>(r[t]=e,r),{});function nt(r){const e=typeof r=="number"?r.toString(16):r.toLowerCase();return ei[e]??"UNK"}function ti(r){return r.meta.typeId===pe.BCON}function ni(r){return r.meta.typeId===pe.BHAV}function ri(r){return r.meta.typeId===pe.GLOB}function ii(r){return r.meta.typeId===pe.NREF}function li(r){return r.meta.typeId===pe.OBJD}function ai(r){return r.meta.typeId===pe.OBJF}function si(r){return r.meta.typeId===pe.STR||r.meta.typeId===pe.CTSS||r.meta.typeId===pe.TTAS}function oi(r){return r.meta.typeId===pe.TTAB}function ci(r){return r.meta.typeId===pe.TPRP}function ui(r){return r.meta.typeId===pe.TRCN}function fi(r){const e=new Qe(r),t={filename:e.readFileName(),flag:!1,items:[]},n=e.readUint16();t.flag=(n&32768)!==0;const i=n&32767;for(let l=0;l<i;l++)t.items.push(e.readUint16());return t}function hi(r){const e=new Ze,n=new TextEncoder().encode(r.filename);e.writeBuffer(n),e.writeNulls(64-n.byteLength);let i=r.items.length;return r.flag&&(i|=32768),e.writeUint16(i),e.writeUint16Array(r.items),e.buffer}function di(r){const e=new Qe(r),t={filename:e.readFileName(),format:e.readUint16(),count:e.readUint16(),type:e.readUint8(),argc:e.readUint8(),locals:e.readUint8(),headerFlag:e.readUint8(),treeVersion:e.readUint32(),instructions:[]};for(;t.instructions.length<t.count;){const n={opcode:e.readUint16(),gotoOnTrue:0,gotoOnFalse:0,nodeVersion:void 0,cacheFlags:void 0,operands:[]};t.format<32771?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(8)):t.format<32773?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(16)):t.format<32775?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16)):(n.gotoOnTrue=e.readUint16(),n.gotoOnFalse=e.readUint16(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16),t.format===32777&&(n.cacheFlags=e.readUint8())),t.instructions.push(n)}return t}function pi(r){const e=new Ze,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.format),e.writeUint16(r.instructions.length),e.writeUint8(r.type),e.writeUint8(r.argc),e.writeUint8(r.locals),e.writeUint8(r.headerFlag),e.writeUint32(r.treeVersion),r.instructions.forEach(i=>{e.writeUint16(i.opcode),r.format<32773?(e.writeUint8(i.gotoOnTrue),e.writeUint8(i.gotoOnFalse),e.writeUint8Array(i.operands)):r.format<32775?(e.writeUint8(i.gotoOnTrue),e.writeUint8(i.gotoOnFalse),e.writeUint8(i.nodeVersion??0),e.writeUint8Array(i.operands)):(e.writeUint16(i.gotoOnTrue),e.writeUint16(i.gotoOnFalse),e.writeUint8(i.nodeVersion??0),e.writeUint8Array(i.operands),r.format===32777&&e.writeUint8(i.cacheFlags??0))}),e.buffer}function gi(r){const e=new Qe(r),t={filename:e.readFileName(),semiglobal:""},n=e.readUint8();return t.semiglobal=new TextDecoder().decode(e.readBuffer(n)),t}function _i(r){const e=new Ze,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8(r.semiglobal.length),e.writeBuffer(t.encode(r.semiglobal).buffer),e.buffer}function mi(r){return{filename:new TextDecoder().decode(r)}}function vi(r){return new TextEncoder().encode(r.filename)}const kr={version:2,initialStackSize:1,defaultWallAdjacentFlags:1,defaultPlacementFlags:1,defaultWallPlacementFlags:1,defaultAllowedHeightFlags:1,ttabId:1,interactionGroup:1,objectType:1,multiTileMasterId:1,multiTileSubIndex:1,useDefaultPlacementFlags:1,lookAtScore:1,guid:2,isUnlockable:1,catalogUseFlags:1,price:1,strId:1,slotId:1,diagonalSelectorGuid:2,gridSelectorGuid:2,objectOwnership:1,ignoreGlobalSimInCAS:1,cannotMoveOutWith:1,hauntable:1,proxyGuid:2,slotGroup:1,aspirationFlags:1,memoryNiceOrBad:1,isSalePriceDifferent:1,initialSaleDepreciation:1,dailySaleDepreciation:1,isSelfDepreciating:1,depreciationLimit:1,roomSortFlags:1,functionSortFlags:1,ctssId:1,isGlobalSimObject:1,tooltipNameType:1,templateVersion:1,nicenessMultiplier:1,noDuplicateOnPlacement:1,wantCategory:1,noNewNameFromTemplate:1,objectVersion:1,defaultThumbnailId:1,motiveEffectsId:1,jobObjectGuid:2,catalogPopupId:1,ignoreCurrentModelIndexInIcons:1,levelOffset:1,hasShadow:1,attributeCount:1,objectArrayCount:1,_hole0:1,frontDirection:1,_hole1:1,multiTileLeadObject:1,expansionFlag:1,_numDynamicSpritesTS1:1,chairEntryFlags:1,tileWidth:1,inhibitSuitCopying:1,buildModeType:1,originalGuid:2,objectModelGuid:2,buildModeSubSort:1,_thumbnailGraphicTS1:1,_shadowFlagsTS1:1,footprintMask:1,_hole2:1,_shadowBrightnessTS1:1,_hole3:1,_wallStyleSpriteIdTS1:1,hungerRating:1,comfortRating:1,hygieneRating:1,bladderRating:1,energyRating:1,funRating:1,roomRating:1,skillFlags:1,numTypeAttributes:1,miscFlags:1,_typeAttrGuidTS1:2,functionSubSort:1,downtownSort:1,keepBuying:1,vacationSort:1,resetLotAction:1,"3dObjectType":1,communitySort:1,dreamFlags:1};function wi(r){const e=new Qe(r),t={filename:e.readFileName(),data:{}};Object.entries(kr).forEach(([i,l])=>{l===1?t.data[i]=e.readUint16():l===2&&(t.data[i]=e.readUint32())}),e.readBuffer(12);const n=e.readCountedString();return t.filename!==n&&console.error(`OBJD malformed: start filename (${t.filename}) does not match end filename (${n})`),t}function bi(r){const e=new Ze,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),Object.entries(kr).forEach(([i,l])=>{l===1?e.writeUint16(r.data[i]):l===2&&e.writeUint32(r.data[i])}),e.writeNulls(12),e.writeString(r.filename,{counted:!0}),e.buffer}function yi(r){const e=new Qe(r),t={filename:e.readFileName(),header:e.readUint32Array(3),functions:[]},n=e.readUint32();for(let i=0;i<n;i++)t.functions.push({guard:e.readUint16(),action:e.readUint16()});return t}function $i(r){const e=new Ze,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(r.header),e.writeUint32(r.functions.length),r.functions.forEach(i=>{e.writeUint16(i.guard),e.writeUint16(i.action)}),e.buffer}function ki(r){const e=new Qe(r),t=new TextDecoder,n={filename:e.readFileName(),formatCode:e.readUint16(),stringSets:[]},i=e.readUint16();for(let l=0;l<i;l++)n.stringSets.push({languageId:e.readUint8(),value:t.decode(e.readUntilNull()),description:t.decode(e.readUntilNull())});return n}function Ei(r){const e=new Ze,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.formatCode),e.writeUint16(r.stringSets.length),r.stringSets.forEach(i=>{e.writeUint8(i.languageId),e.writeBuffer(t.encode(i.value)),e.writeNulls(1),e.writeBuffer(t.encode(i.description)),e.writeNulls(1)}),e.buffer}function bn(r){return Float32Array.of(r.readUint32())[0]??0}function yn(r,e,t,n){const i=e===null?Math.max(t==="human"?5:8,n.readUint32()):e.length,l={groups:[]};for(let s=0;s<i;s++){const a=r<84?Math.max((e==null?void 0:e[s])??0,16):n.readUint32(),o={items:[]};for(let c=0;c<a;c++)if(t==="human")o.items.push(n.readUint16());else{const f=n.readUint32(),d=[];for(let p=0;p<f;p++)d.push(n.readUint16());o.items.push({values:d})}l.groups.push(o)}return l}function Ii(r){const e=new Qe(r),t={filename:e.readFileName(),header:[e.readUint32(),e.readUint32(),e.readUint32()],items:[]},n=t.header[1],i=e.readUint16();for(let l=0;l<i;l++){let s=null;n<68?s=[16]:n<84&&(s=[16,16,16,16,16,16,16]),t.items.push({action:e.readUint16(),guard:e.readUint16(),counts:s==null?void 0:s.map(()=>e.readUint32()),flags:e.readUint16(),flags2:e.readUint16(),strIndex:e.readUint32(),attenuationCode:e.readUint32(),attenuationValue:bn(e),autonomy:e.readUint32(),joinIndex:e.readUint32(),uiDisplayType:n>69?e.readUint16():0,facialAnimation:n>74?e.readUint32():0,memoryIterMult:n>76?bn(e):0,objectType:n>76?e.readUint32():0,modelTableId:n>70?e.readUint32():0,humanGroups:yn(n,s,"human",e),animalGroups:n>84?yn(n,s,"animal",e):null})}return t}function $n(r,e,t,n){e===null&&n.writeUint32(t.groups.length),t.groups.forEach(i=>{r<84&&n.writeUint32(i.items.length),i.items.forEach(l=>{typeof l=="number"?n.writeUint16(l):(n.writeUint32(l.values.length),l.values.forEach(s=>n.writeUint16(s)))})})}function Ui(r){const e=new Ze,t=new TextEncoder,n=r.header[1],i=t.encode(r.filename);return e.writeBuffer(i),e.writeNulls(64-i.byteLength),e.writeUint32Array(r.header),e.writeUint16(r.items.length),r.items.forEach(l=>{e.writeUint16(l.action),e.writeUint16(l.guard),e.writeUint32Array(l.counts||[]),e.writeUint16(l.flags),e.writeUint16(l.flags2),e.writeUint32(l.strIndex),e.writeUint32(l.attenuationCode),e.writeUint32(l.attenuationValue),e.writeUint32(l.autonomy),e.writeUint32(l.joinIndex),n>69&&e.writeUint16(l.uiDisplayType),n>74&&e.writeUint32(l.facialAnimation),n>76&&(e.writeUint32(l.memoryIterMult),e.writeUint32(l.objectType)),n>70&&e.writeUint32(l.modelTableId),$n(n,l.counts,l.humanGroups,e),n>84&&l.animalGroups&&$n(n,l.counts,l.animalGroups,e)}),e.buffer}function kn(r){const e=new TextDecoder,t=r.readUint8();return e.decode(r.readBuffer(t))}function En(r,e){const t=new TextEncoder;r.writeUint8(e.length),r.writeBuffer(t.encode(e))}function Ai(r){const e=new Qe(r),t={filename:e.readFileName(),header:[e.readUint8(),e.readUint8(),e.readUint8()],params:[],locals:[],trailer:[]},n=e.readUint32(),i=e.readUint32();for(let l=0;l<n;l++)t.params.push({label:kn(e),pdata:0});for(let l=0;l<i;l++)t.locals.push(kn(e));return e.seekForward(4),t.params.forEach(l=>{l.pdata=e.readUint8()}),t.trailer.push(e.readUint32()),t.trailer.push(e.readUint32()),t}function Ti(r){const e=new Ze,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8Array(r.header),r.params.forEach(i=>{En(e,i.label)}),r.locals.forEach(i=>{En(e,i)}),e.writeUint32(0),r.params.forEach(i=>{e.writeUint8(i.pdata)}),e.writeUint32Array(r.trailer),e.buffer}function Ci(r){const e=new Qe(r),t=new TextDecoder,n={filename:e.readFileName(),version:0,items:[]};e.readUint32(),n.version=e.readUint32(),e.readUint32();const i=e.readUint32();for(;n.items.length<i;)n.items.push({used:e.readUint32(),constId:e.readUint32(),constName:t.decode(e.readBuffer(e.readUint8())),desc:n.version>83?t.decode(e.readBuffer(e.readUint8())):"",value:n.version>83?e.readUint8():e.readUint16(),minValue:e.readUint16(),maxValue:e.readUint16()});return n}function Di(r){const e=new Ze,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeString("NCRT"),e.writeUint32(r.version),e.writeUint32(0),e.writeUint32(r.items.length),r.items.forEach(i=>{e.writeUint32(i.used),e.writeUint32(i.constId),e.writeUint8(i.constName.length),e.writeString(i.constName),r.version>83?(e.writeUint8(i.desc.length),e.writeString(i.desc),e.writeUint8(i.value)):e.writeUint16(i.value),e.writeUint16(i.minValue),e.writeUint16(i.maxValue)}),e.buffer}function Fi(r,e){switch(r){case pe.BCON:return fi(e);case pe.BHAV:return di(e);case pe.GLOB:return gi(e);case pe.NREF:return mi(e);case pe.OBJD:return wi(e);case pe.OBJF:return yi(e);case pe.TTAB:return Ii(e);case pe.TPRP:return Ai(e);case pe.TRCN:return Ci(e);case pe.STR:case pe.CTSS:case pe.TTAS:return ki(e);default:return console.log(`No handler for file with typeId ${r} (${nt(r)})`),e}}function Bi(r){const e=new Qe(r);if(new TextDecoder().decode(e.readBuffer(4))!=="DBPF")throw new Error("Not a DBPF file!");const n=e.readUint32(),i=e.readUint32();if(n!==1||i>1)throw new Error(`Expected version 1.0 or 1.1 but got ${n}.${i}`);e.seekTo(32);const l=e.readUint32(),s=e.readUint32(),a=e.readUint32();e.seekTo(60);const o=i===1?e.readUint32():0;if(l!==7||o>2)throw new Error(`Expected index version 7.1 or 7.2 but got ${l}.${o}`);e.seekTo(a);const c=[];for(let d=0;d<s;d++)c.push({typeId:e.readUint32().toString(16),groupId:e.readUint32(),instanceId:e.readUint32(),instanceId2:o===2?e.readUint32():void 0,location:e.readUint32(),size:e.readUint32(),compressed:!1});c.forEach(d=>{if(d.typeId===pe.DIR){const p=d.size/(o===2?20:16);let g=0;console.log(`DIR found with ${p} entries`);for(let m=0;m<p;m++){e.seekTo(d.location);const y=e.readUint32().toString(16),b=e.readUint32(),k=e.readUint32(),C=o===2?e.readUint32():void 0,D=c.find(F=>F.typeId===y&&F.groupId===b&&F.instanceId===k&&F.instanceId2===C);D&&(D.compressed=!0,g++)}console.log(`found ${g} matching resources out of ${p} DIR entries`)}});const f=[];return c.forEach(d=>{if(d.typeId===pe.DIR)return;e.seekTo(d.location);const p=e.readBuffer(d.size);d.compressed?console.log(`decompressing and deserializing ${nt(d.typeId)}`):console.log(`deserializing ${nt(d.typeId)}`);const g=Fi(d.typeId,d.compressed?Qr(new Uint8Array(p).slice(4)).buffer:p);f.push({meta:d,content:g})}),f}function Si(r){const e=new Ze;e.writeString("DBPF"),e.writeUint32(1),e.writeUint32(1),e.writeNulls(20),e.writeUint32(7),e.writeUint32(r.length),e.writeUint32(0),e.writeUint32(r.length*24),e.writeNulls(12),e.writeUint32(2),e.writeNulls(32);const t=[];r.forEach(l=>{let s=new ArrayBuffer(0);ti(l)?s=hi(l.content):ni(l)?s=pi(l.content):ri(l)?s=_i(l.content):ii(l)?s=vi(l.content):li(l)?s=bi(l.content):ai(l)?s=$i(l.content):si(l)?s=Ei(l.content):oi(l)?s=Ui(l.content):ci(l)?s=Ti(l.content):ui(l)?s=Di(l.content):s=l.content,t.push({...l.meta,location:e.buffer.byteLength,size:s.byteLength}),e.writeBuffer(s)});const n=e.buffer.byteLength;t.forEach(l=>{e.writeUint32(parseInt(l.typeId,16)),e.writeUint32(l.groupId),e.writeUint32(l.instanceId),l.instanceId2!==void 0&&e.writeUint32(l.instanceId2),e.writeUint32(l.location),e.writeUint32(l.size)});const i=new DataView(e.buffer);return i.setUint32(40,n,!0),i.buffer}function Ri(r){let e,t,n;const i=r[2].default,l=rt(i,r,r[1],null);return{c(){e=U("div"),l&&l.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=T(e);l&&l.l(a),a.forEach(v),this.h()},h(){E(e,"class",t=gn(`popover ${r[0]}`)+" svelte-1og6ho9")},m(s,a){S(s,e,a),l&&l.m(e,null),n=!0},p(s,[a]){l&&l.p&&(!n||a&2)&&it(l,i,s,s[1],n?at(i,s[1],a,null):lt(s[1]),null),(!n||a&1&&t!==(t=gn(`popover ${s[0]}`)+" svelte-1og6ho9"))&&E(e,"class",t)},i(s){n||(P(l,s),n=!0)},o(s){M(l,s),n=!1},d(s){s&&v(e),l&&l.d(s)}}}function Pi(r,e,t){let{$$slots:n={},$$scope:i}=e,{position:l="top"}=e;return r.$$set=s=>{"position"in s&&t(0,l=s.position),"$$scope"in s&&t(1,i=s.$$scope)},[l,i,n]}class Oi extends le{constructor(e){super(),ae(this,e,Pi,Ri,ie,{position:0})}}function Mi(r){let e,t,n,i;const l=r[8].default,s=rt(l,r,r[11],null);let a=[{class:r[1]},{style:r[2]},r[6]],o={};for(let c=0;c<a.length;c+=1)o=re(o,a[c]);return{c(){e=U("button"),s&&s.c(),this.h()},l(c){e=A(c,"BUTTON",{class:!0,style:!0});var f=T(e);s&&s.l(f),f.forEach(v),this.h()},h(){xe(e,o),$e(e,"svelte-1dioxib",!0)},m(c,f){S(c,e,f),s&&s.m(e,null),e.autofocus&&e.focus(),r[10](e),t=!0,n||(i=fe(e,"click",function(){Ut(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(c,f){r=c,s&&s.p&&(!t||f&2048)&&it(s,l,r,r[11],t?at(l,r[11],f,null):lt(r[11]),null),xe(e,o=Pe(a,[(!t||f&2)&&{class:r[1]},(!t||f&4)&&{style:r[2]},f&64&&r[6]])),$e(e,"svelte-1dioxib",!0)},i(c){t||(P(s,c),t=!0)},o(c){M(s,c),t=!1},d(c){c&&v(e),s&&s.d(c),r[10](null),n=!1,i()}}}function Li(r){let e,t,n,i,l,s,a;const o=r[8].default,c=rt(o,r,r[11],null);let f=[{class:r[1]},{style:n=`height: ${r[3]}px; width: ${r[3]}px;`},r[6]],d={};for(let g=0;g<f.length;g+=1)d=re(d,f[g]);let p=r[4]&&In(r);return{c(){e=U("div"),t=U("button"),c&&c.c(),i=N(),p&&p.c(),this.h()},l(g){e=A(g,"DIV",{class:!0,style:!0});var m=T(e);t=A(m,"BUTTON",{class:!0,style:!0});var y=T(t);c&&c.l(y),y.forEach(v),i=x(m),p&&p.l(m),m.forEach(v),this.h()},h(){xe(t,d),$e(t,"svelte-1dioxib",!0),E(e,"class","bevel svelte-1dioxib"),E(e,"style",r[2])},m(g,m){S(g,e,m),$(e,t),c&&c.m(t,null),t.autofocus&&t.focus(),r[9](t),$(e,i),p&&p.m(e,null),l=!0,s||(a=fe(t,"click",function(){Ut(r[0])&&r[0].apply(this,arguments)}),s=!0)},p(g,m){r=g,c&&c.p&&(!l||m&2048)&&it(c,o,r,r[11],l?at(o,r[11],m,null):lt(r[11]),null),xe(t,d=Pe(f,[(!l||m&2)&&{class:r[1]},(!l||m&8&&n!==(n=`height: ${r[3]}px; width: ${r[3]}px;`))&&{style:n},m&64&&r[6]])),$e(t,"svelte-1dioxib",!0),r[4]?p?(p.p(r,m),m&16&&P(p,1)):(p=In(r),p.c(),P(p,1),p.m(e,null)):p&&(Te(),M(p,1,1,()=>{p=null}),Ce()),(!l||m&4)&&E(e,"style",r[2])},i(g){l||(P(c,g),P(p),l=!0)},o(g){M(c,g),M(p),l=!1},d(g){g&&v(e),c&&c.d(g),r[9](null),p&&p.d(),s=!1,a()}}}function In(r){let e,t;return e=new Oi({props:{position:"top",$$slots:{default:[Ni]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,i){const l={};i&2064&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ni(r){let e;return{c(){e=Q(r[4])},l(t){e=Z(t,r[4])},m(t,n){S(t,e,n)},p(t,n){n&16&&Je(e,t[4])},d(t){t&&v(e)}}}function xi(r){let e,t,n,i;const l=[Li,Mi],s=[];function a(o,c){return o[1]==="skeuomorphic"?0:1}return e=a(r),t=s[e]=l[e](r),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){s[e].m(o,c),S(o,n,c),i=!0},p(o,[c]){let f=e;e=a(o),e===f?s[e].p(o,c):(Te(),M(s[f],1,1,()=>{s[f]=null}),Ce(),t=s[e],t?t.p(o,c):(t=s[e]=l[e](o),t.c()),P(t,1),t.m(n.parentNode,n))},i(o){i||(P(t),i=!0)},o(o){M(t),i=!1},d(o){s[e].d(o),o&&v(n)}}}function Vi(r,e,t){const n=["focus","onClick","variant","style","size","tooltip"];let i=St(e,n),{$$slots:l={},$$scope:s}=e,a;function o(){a.focus()}let{onClick:c}=e,{variant:f="link"}=e,{style:d=void 0}=e,{size:p=35}=e,{tooltip:g=""}=e;function m(b){ct[b?"unshift":"push"](()=>{a=b,t(5,a)})}function y(b){ct[b?"unshift":"push"](()=>{a=b,t(5,a)})}return r.$$set=b=>{e=re(re({},e),Ae(b)),t(6,i=St(e,n)),"onClick"in b&&t(0,c=b.onClick),"variant"in b&&t(1,f=b.variant),"style"in b&&t(2,d=b.style),"size"in b&&t(3,p=b.size),"tooltip"in b&&t(4,g=b.tooltip),"$$scope"in b&&t(11,s=b.$$scope)},[c,f,d,p,g,a,i,o,l,m,y,s]}class Me extends le{constructor(e){super(),ae(this,e,Vi,xi,ie,{focus:7,onClick:0,variant:1,style:2,size:3,tooltip:4})}get focus(){return this.$$.ctx[7]}}var dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ft=0;Ft<dt.length;Ft++)bt[dt.charCodeAt(Ft)]=Ft;var ji=function(r){var e=new Uint8Array(r),t,n=e.length,i="";for(t=0;t<n;t+=3)i+=dt[e[t]>>2],i+=dt[(e[t]&3)<<4|e[t+1]>>4],i+=dt[(e[t+1]&15)<<2|e[t+2]>>6],i+=dt[e[t+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i},zi=function(r){var e=r.length*.75,t=r.length,n,i=0,l,s,a,o;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=new ArrayBuffer(e),f=new Uint8Array(c);for(n=0;n<t;n+=4)l=bt[r.charCodeAt(n)],s=bt[r.charCodeAt(n+1)],a=bt[r.charCodeAt(n+2)],o=bt[r.charCodeAt(n+3)],f[i++]=l<<2|s>>4,f[i++]=(s&15)<<4|a>>2,f[i++]=(a&3)<<6|o&63;return c};function Xe(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+r+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _t(r){return!!r&&!!r[Ge]}function ht(r){return!!r&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Ki}(r)||Array.isArray(r)||!!r[Sn]||!!r.constructor[Sn]||rn(r)||ln(r))}function $t(r,e,t){t===void 0&&(t=!1),mt(r)===0?(t?Object.keys:un)(r).forEach(function(n){t&&typeof n=="symbol"||e(n,r[n],r)}):r.forEach(function(n,i){return e(i,n,r)})}function mt(r){var e=r[Ge];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:rn(r)?2:ln(r)?3:0}function qt(r,e){return mt(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Hi(r,e){return mt(r)===2?r.get(e):r[e]}function Er(r,e,t){var n=mt(r);n===2?r.set(e,t):n===3?(r.delete(e),r.add(t)):r[e]=t}function Gi(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function rn(r){return Ji&&r instanceof Map}function ln(r){return Xi&&r instanceof Set}function ft(r){return r.o||r.t}function an(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=Qi(r);delete e[Ge];for(var t=un(e),n=0;n<t.length;n++){var i=t[n],l=e[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(e[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[i]})}return Object.create(Object.getPrototypeOf(r),e)}function sn(r,e){return e===void 0&&(e=!1),on(r)||_t(r)||!ht(r)||(mt(r)>1&&(r.set=r.add=r.clear=r.delete=Wi),Object.freeze(r),e&&$t(r,function(t,n){return sn(n,!0)},!0)),r}function Wi(){Xe(2)}function on(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function Ke(r){var e=Zi[r];return e||Xe(18,r),e}function Un(){return kt}function Nt(r,e){e&&(Ke("Patches"),r.u=[],r.s=[],r.v=e)}function Pt(r){Jt(r),r.p.forEach(Yi),r.p=null}function Jt(r){r===kt&&(kt=r.l)}function An(r){return kt={p:[],l:kt,h:r,m:!0,_:0}}function Yi(r){var e=r[Ge];e.i===0||e.i===1?e.j():e.O=!0}function xt(r,e){e._=e.p.length;var t=e.p[0],n=r!==void 0&&r!==t;return e.h.g||Ke("ES5").S(e,r,n),n?(t[Ge].P&&(Pt(e),Xe(4)),ht(r)&&(r=Ot(e,r),e.l||Mt(e,r)),e.u&&Ke("Patches").M(t[Ge].t,r,e.u,e.s)):r=Ot(e,t,[]),Pt(e),e.u&&e.v(e.u,e.s),r!==Ir?r:void 0}function Ot(r,e,t){if(on(e))return e;var n=e[Ge];if(!n)return $t(e,function(l,s){return Tn(r,n,e,l,s,t)},!0),e;if(n.A!==r)return e;if(!n.P)return Mt(r,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=an(n.k):n.o;$t(n.i===3?new Set(i):i,function(l,s){return Tn(r,n,i,l,s,t)}),Mt(r,i,!1),t&&r.u&&Ke("Patches").R(n,t,r.u,r.s)}return n.o}function Tn(r,e,t,n,i,l){if(_t(i)){var s=Ot(r,i,l&&e&&e.i!==3&&!qt(e.D,n)?l.concat(n):void 0);if(Er(t,n,s),!_t(s))return;r.m=!1}if(ht(i)&&!on(i)){if(!r.h.F&&r._<1)return;Ot(r,i),e&&e.A.l||Mt(r,i)}}function Mt(r,e,t){t===void 0&&(t=!1),r.h.F&&r.m&&sn(e,t)}function Vt(r,e){var t=r[Ge];return(t?ft(t):r)[e]}function Cn(r,e){if(e in r)for(var t=Object.getPrototypeOf(r);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function Xt(r){r.P||(r.P=!0,r.l&&Xt(r.l))}function jt(r){r.o||(r.o=an(r.t))}function Kt(r,e,t){var n=rn(e)?Ke("MapSet").N(e,t):ln(e)?Ke("MapSet").T(e,t):r.g?function(i,l){var s=Array.isArray(i),a={i:s?1:0,A:l?l.A:Un(),P:!1,I:!1,D:{},l,t:i,k:null,o:null,j:null,C:!1},o=a,c=Qt;s&&(o=[a],c=yt);var f=Proxy.revocable(o,c),d=f.revoke,p=f.proxy;return a.k=p,a.j=d,p}(e,t):Ke("ES5").J(e,t);return(t?t.A:Un()).p.push(n),n}function qi(r){return _t(r)||Xe(22,r),function e(t){if(!ht(t))return t;var n,i=t[Ge],l=mt(t);if(i){if(!i.P&&(i.i<4||!Ke("ES5").K(i)))return i.t;i.I=!0,n=Dn(t,l),i.I=!1}else n=Dn(t,l);return $t(n,function(s,a){i&&Hi(i.t,s)===a||Er(n,s,e(a))}),l===3?new Set(n):n}(r)}function Dn(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return an(r)}var Fn,kt,cn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ji=typeof Map<"u",Xi=typeof Set<"u",Bn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Ir=cn?Symbol.for("immer-nothing"):((Fn={})["immer-nothing"]=!0,Fn),Sn=cn?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=cn?Symbol.for("immer-state"):"__$immer_state",Ki=""+Object.prototype.constructor,un=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,Qi=Object.getOwnPropertyDescriptors||function(r){var e={};return un(r).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(r,t)}),e},Zi={},Qt={get:function(r,e){if(e===Ge)return r;var t=ft(r);if(!qt(t,e))return function(i,l,s){var a,o=Cn(l,s);return o?"value"in o?o.value:(a=o.get)===null||a===void 0?void 0:a.call(i.k):void 0}(r,t,e);var n=t[e];return r.I||!ht(n)?n:n===Vt(r.t,e)?(jt(r),r.o[e]=Kt(r.A.h,n,r)):n},has:function(r,e){return e in ft(r)},ownKeys:function(r){return Reflect.ownKeys(ft(r))},set:function(r,e,t){var n=Cn(ft(r),e);if(n!=null&&n.set)return n.set.call(r.k,t),!0;if(!r.P){var i=Vt(ft(r),e),l=i==null?void 0:i[Ge];if(l&&l.t===t)return r.o[e]=t,r.D[e]=!1,!0;if(Gi(t,i)&&(t!==void 0||qt(r.t,e)))return!0;jt(r),Xt(r)}return r.o[e]===t&&typeof t!="number"&&(t!==void 0||e in r.o)||(r.o[e]=t,r.D[e]=!0,!0)},deleteProperty:function(r,e){return Vt(r.t,e)!==void 0||e in r.t?(r.D[e]=!1,jt(r),Xt(r)):delete r.D[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var t=ft(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){Xe(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){Xe(12)}},yt={};$t(Qt,function(r,e){yt[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),yt.deleteProperty=function(r,e){return yt.set.call(this,r,e,void 0)},yt.set=function(r,e,t){return Qt.set.call(this,r[0],e,t,r[0])};var el=function(){function r(t){var n=this;this.g=Bn,this.F=!0,this.produce=function(i,l,s){if(typeof i=="function"&&typeof l!="function"){var a=l;l=i;var o=n;return function(y){var b=this;y===void 0&&(y=a);for(var k=arguments.length,C=Array(k>1?k-1:0),D=1;D<k;D++)C[D-1]=arguments[D];return o.produce(y,function(F){var H;return(H=l).call.apply(H,[b,F].concat(C))})}}var c;if(typeof l!="function"&&Xe(6),s!==void 0&&typeof s!="function"&&Xe(7),ht(i)){var f=An(n),d=Kt(n,i,void 0),p=!0;try{c=l(d),p=!1}finally{p?Pt(f):Jt(f)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(y){return Nt(f,s),xt(y,f)},function(y){throw Pt(f),y}):(Nt(f,s),xt(c,f))}if(!i||typeof i!="object"){if((c=l(i))===void 0&&(c=i),c===Ir&&(c=void 0),n.F&&sn(c,!0),s){var g=[],m=[];Ke("Patches").M(i,c,g,m),s(g,m)}return c}Xe(21,i)},this.produceWithPatches=function(i,l){if(typeof i=="function")return function(c){for(var f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];return n.produceWithPatches(c,function(g){return i.apply(void 0,[g].concat(d))})};var s,a,o=n.produce(i,l,function(c,f){s=c,a=f});return typeof Promise<"u"&&o instanceof Promise?o.then(function(c){return[c,s,a]}):[o,s,a]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=r.prototype;return e.createDraft=function(t){ht(t)||Xe(8),_t(t)&&(t=qi(t));var n=An(this),i=Kt(this,t,void 0);return i[Ge].C=!0,Jt(n),i},e.finishDraft=function(t,n){var i=t&&t[Ge],l=i.A;return Nt(l,n),xt(void 0,l)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Bn&&Xe(20),this.g=t},e.applyPatches=function(t,n){var i;for(i=n.length-1;i>=0;i--){var l=n[i];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}i>-1&&(n=n.slice(i+1));var s=Ke("Patches").$;return _t(t)?s(t,n):this.produce(t,function(a){return s(a,n)})},r}(),We=new el,tl=We.produce;We.produceWithPatches.bind(We);We.setAutoFreeze.bind(We);We.setUseProxies.bind(We);We.applyPatches.bind(We);We.createDraft.bind(We);We.finishDraft.bind(We);const de=tl;var Bt,nl=new Uint8Array(16);function rl(){if(!Bt&&(Bt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Bt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bt(nl)}const il=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ll(r){return typeof r=="string"&&il.test(r)}var Oe=[];for(var zt=0;zt<256;++zt)Oe.push((zt+256).toString(16).substr(1));function al(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Oe[r[e+0]]+Oe[r[e+1]]+Oe[r[e+2]]+Oe[r[e+3]]+"-"+Oe[r[e+4]]+Oe[r[e+5]]+"-"+Oe[r[e+6]]+Oe[r[e+7]]+"-"+Oe[r[e+8]]+Oe[r[e+9]]+"-"+Oe[r[e+10]]+Oe[r[e+11]]+Oe[r[e+12]]+Oe[r[e+13]]+Oe[r[e+14]]+Oe[r[e+15]]).toLowerCase();if(!ll(t))throw TypeError("Stringified UUID is invalid");return t}function wt(r,e,t){r=r||{};var n=r.random||(r.rng||rl)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return al(n)}const Zt=["English (US)","English (UK)","French","German","Italian","Spanish","Dutch","Danish","Swedish","Norwegian","Finnish","Hebrew","Russian","Portuguese","Japanese","Polish","Traditional Chinese","Simplified Chinese","Thai","Korean","Czech"],sl={TGA:"[image file]",NREF:"[name reference]",BCON:"[behavior constant]",BHAV:"[behavior function]",CTSS:"[catalogue description]",GLOB:"[global data]",OBJD:"[object data]",OBJF:"[object functions]",STR:"[text lists]"},Ht={filename:"",formatCode:3,stringSets:[{languageId:1,value:"",description:""}]},Et={BCON:{filename:"",flag:!1,items:[0]},GLOB:{filename:"",semiglobal:""},NREF:{filename:""},OBJF:{filename:"",header:[0,0,0],functions:Array.from(Array(55)).map(()=>({action:0,guard:0}))},TRCN:{filename:"",version:0,items:[{used:0,constId:0,constName:"",desc:"",value:0,minValue:0,maxValue:0}]},STR:Ht,CTSS:Ht,TTAS:Ht,TGA:new ArrayBuffer(0),JFIF:new ArrayBuffer(0)};function Rn(r){return(r==null?void 0:r.contentChanges)!==void 0||(r==null?void 0:r.metaChanges)!==void 0}function he(r){return{activePackage(){return r.packages[r.activePackageId]},activeResourceId(){var e;return(e=this.activePackage())==null?void 0:e.activeResourceId},activeResource(){var t;const e=this.activeResourceId();return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},openResourceIds(){var t;const e=(t=this.activePackage())==null?void 0:t.resources;return e?Object.keys(e).filter(n=>{var i;return(i=e[n])==null?void 0:i.isOpen}):[]},resourceById(e){var t;return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},isDirty(e){const t=e??this.activeResourceId();return t?Rn(this.resourceById(t)):!1},isPackageDirty(e){const t=r.packages[e??r.activePackageId];return Object.values((t==null?void 0:t.resources)??{}).some(Rn)},linkedResourceId(e){var i;const t=he(r).activePackage(),n=he(r).activeResource();return(i=Object.entries((t==null?void 0:t.resources)??{}).find(([,l])=>l.meta.typeId===pe[e]&&l.meta.instanceId===(n==null?void 0:n.meta.instanceId)&&l.meta.instanceId2===(n==null?void 0:n.meta.instanceId2)))==null?void 0:i[0]}}}function ol(r){const e=typeof r=="number"?r:parseInt(r,16);return Zt[e-1]||"Unknown"}function Fe(r,e){if(r===void 0)return"";let t=r.toString(16).toUpperCase();for(;e&&t.length<e;)t="0"+t;return`0x${t}`}function en(r){return Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(";")}function Ur(r,e){return[...r.slice(0,e),...r.slice(e+1)]}function cl(r,e){let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{r(...n),t=void 0},e)}}function Pn(r,e){const t=[];for(let n=0;n<r;n++)t.push(e(n));return t}const Ar="editorState",tn="base64:",ul=cl(r=>{const e=JSON.stringify(r,(t,n)=>n instanceof ArrayBuffer?`${tn}${ji(n)}`:n);localStorage.setItem(Ar,e)},1e3);function fl(){const r={activePackageId:"",packages:{}},e=localStorage.getItem(Ar);return e?JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(tn)?zi(n.slice(tn.length)):n):r}function Gt(r,e){const t=e.filter(n=>n!==r);return t[Math.min(e.indexOf(r),t.length-1)]??""}const De=Xr(fl());De.subscribe(ul);const ve={subscribe:De.subscribe,async addPackage(r){const e=Bi(await r.arrayBuffer()).reduce((n,i)=>(n[wt()]=i,n),{}),t=wt();De.update(n=>de(n,i=>{i.packages[t]={filename:r.name,resources:e,activeResourceId:""},i.activePackageId=t}))},removePackage(r){window.confirm("Close this package? You'll lose all changes.")&&De.update(e=>de(e,t=>{r===e.activePackageId&&(t.activePackageId=Gt(r,Object.keys(e.packages))),delete t.packages[r]}))},setActivePackage(r){De.update(e=>de(e,t=>{t.activePackageId=r}))},downloadActivePackage(){const r=Vr(De);if(he(r).isPackageDirty()&&!window.confirm("This package contains resources with unsaved changes. Download anyway?"))return;const e=he(r).activePackage();if(!e)return console.error("Failed to find active package, unable to download");const t=Si(Object.values(e.resources)),n=new Blob([new Uint8Array(t)],{type:"octet/stream"}),i=window.URL.createObjectURL(n),l=document.createElement("a");l.href=i,l.download=e.filename,l.click(),window.URL.revokeObjectURL(i)},openResource(r){De.update(e=>de(e,t=>{const n=he(t).resourceById(r);if(n){n.isOpen=!0;const i=he(t).activePackage();i&&(i.activeResourceId=r)}}))},closeResource(r){De.update(e=>de(e,t=>{var s;const n=(s=he(e).activePackage())==null?void 0:s.activeResourceId;if(he(e).isDirty(r)&&!window.confirm("Close this resource? You'll lose all unsaved changes."))return;const i=he(e).openResourceIds();if(r===n){const a=he(t).activePackage();a&&(a.activeResourceId=Gt(r,i))}const l=he(t).resourceById(r);l&&(l.isOpen=!1,delete l.contentChanges,delete l.metaChanges)}))},editActiveResource(r){De.update(e=>de(e,t=>{const n=he(t).activeResource();n&&(n.contentChanges=r)}))},editActiveResourceMeta(r){De.update(e=>de(e,t=>{const n=he(t).activeResource();n&&(n.metaChanges=r)}))},resetActiveResource(){window.confirm("Undo all unsaved changes to this resource? This cannot be undone.")&&De.update(r=>de(r,e=>{const t=he(e).activeResource();t&&(delete t.contentChanges,delete t.metaChanges)}))},saveActiveResource(){De.update(r=>de(r,e=>{const t=he(e).activeResource();(t==null?void 0:t.contentChanges)!==void 0&&(t.content=t.contentChanges,delete t.contentChanges),(t==null?void 0:t.metaChanges)!==void 0&&(t.meta=t.metaChanges,delete t.metaChanges)}))},copyActiveResource(){De.update(r=>de(r,e=>{const t=he(e).activePackage(),n=he(r).activeResource();if(t&&n){const i=wt();t.resources[i]={...n},t.activeResourceId=i}}))},deleteActiveResource(){window.confirm("Remove this resource from the package file? This cannot be undone.")&&De.update(r=>de(r,e=>{const t=he(e).activePackage(),n=he(e).activeResourceId();if(t&&n){const i=he(e).openResourceIds();t.activeResourceId=Gt(n,i),delete t.resources[n]}}))},createNewResource(r){De.update(e=>de(e,t=>{const n=he(t).activePackage(),i=wt();n&&(n.resources[i]={meta:{typeId:pe[r],groupId:0,instanceId:0,instanceId2:0,location:0,size:0},content:Et[r],isOpen:!0},n.activeResourceId=i)}))},createLinkedResource(r,e){De.update(t=>de(t,n=>{const i=he(n).activePackage(),l=he(n).activeResource(),s=wt();i&&l&&(i.resources[s]={meta:{...l.meta,typeId:pe[r]},content:e??Et[r]})}))},setActiveResource(r){De.update(e=>de(e,t=>{const n=he(t).activePackage();n&&(n.activeResourceId=r)}))}},Tr=$r(De,r=>he(r).activePackage()),Cr=$r(De,r=>he(r).activeResource());function hl(r){const e=r-1;return e*e*e+1}function On(r,{delay:e=0,duration:t=400,easing:n=jr}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:l=>`opacity: ${l*i}`}}function Mn(r,{delay:e=0,duration:t=400,easing:n=hl,x:i=0,y:l=0,opacity:s=0}={}){const a=getComputedStyle(r),o=+a.opacity,c=a.transform==="none"?"":a.transform,f=o*(1-s);return{delay:e,duration:t,easing:n,css:(d,p)=>`
			transform: ${c} translate(${(1-d)*i}px, ${(1-d)*l}px);
			opacity: ${o-f*p}`}}function dl(r){let e,t,n,i,l;const s=r[2].default,a=rt(s,r,r[1],null);return{c(){e=U("div"),a&&a.c(),this.h()},l(o){e=A(o,"DIV",{});var c=T(e);a&&a.l(c),c.forEach(v),this.h()},h(){e.hidden=!0},m(o,c){S(o,e,c),a&&a.m(e,null),n=!0,i||(l=zr(t=pl.call(null,e,r[0])),i=!0)},p(o,[c]){a&&a.p&&(!n||c&2)&&it(a,s,o,o[1],n?at(s,o[1],c,null):lt(o[1]),null),t&&Ut(t.update)&&c&1&&t.update.call(null,o[0])},i(o){n||(P(a,o),n=!0)},o(o){M(a,o),n=!1},d(o){o&&v(e),a&&a.d(o),i=!1,l()}}}function pl(r,e="body"){let t;async function n(l){if(e=l,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Hr(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(r),r.hidden=!1}function i(){r.parentNode&&r.parentNode.removeChild(r)}return n(e),{update:n,destroy:i}}function gl(r,e,t){let{$$slots:n={},$$scope:i}=e,{target:l="body"}=e;return r.$$set=s=>{"target"in s&&t(0,l=s.target),"$$scope"in s&&t(1,i=s.$$scope)},[l,i,n]}class _l extends le{constructor(e){super(),ae(this,e,gl,dl,ie,{target:0})}}function ml(r){let e,t;const n=r[5].default,i=rt(n,r,r[4],null);let l=[r[1]],s={};for(let a=0;a<l.length;a+=1)s=re(s,l[a]);return{c(){e=U("li"),i&&i.c(),this.h()},l(a){e=A(a,"LI",{});var o=T(e);i&&i.l(o),o.forEach(v),this.h()},h(){xe(e,s),$e(e,"svelte-lyag80",!0)},m(a,o){S(a,e,o),i&&i.m(e,null),t=!0},p(a,o){i&&i.p&&(!t||o&16)&&it(i,n,a,a[4],t?at(n,a[4],o,null):lt(a[4]),null),xe(e,s=Pe(l,[o&2&&a[1]])),$e(e,"svelte-lyag80",!0)},i(a){t||(P(i,a),t=!0)},o(a){M(i,a),t=!1},d(a){a&&v(e),i&&i.d(a)}}}function vl(r){let e,t;const n=r[5].default,i=rt(n,r,r[4],null);let l=[r[1]],s={};for(let a=0;a<l.length;a+=1)s=re(s,l[a]);return{c(){e=U("ol"),i&&i.c(),this.h()},l(a){e=A(a,"OL",{});var o=T(e);i&&i.l(o),o.forEach(v),this.h()},h(){xe(e,s),$e(e,"svelte-lyag80",!0)},m(a,o){S(a,e,o),i&&i.m(e,null),t=!0},p(a,o){i&&i.p&&(!t||o&16)&&it(i,n,a,a[4],t?at(n,a[4],o,null):lt(a[4]),null),xe(e,s=Pe(l,[o&2&&a[1]])),$e(e,"svelte-lyag80",!0)},i(a){t||(P(i,a),t=!0)},o(a){M(i,a),t=!1},d(a){a&&v(e),i&&i.d(a)}}}function wl(r){let e,t;const n=r[5].default,i=rt(n,r,r[4],null);let l=[r[1]],s={};for(let a=0;a<l.length;a+=1)s=re(s,l[a]);return{c(){e=U("ul"),i&&i.c(),this.h()},l(a){e=A(a,"UL",{});var o=T(e);i&&i.l(o),o.forEach(v),this.h()},h(){xe(e,s),$e(e,"svelte-lyag80",!0)},m(a,o){S(a,e,o),i&&i.m(e,null),t=!0},p(a,o){i&&i.p&&(!t||o&16)&&it(i,n,a,a[4],t?at(n,a[4],o,null):lt(a[4]),null),xe(e,s=Pe(l,[o&2&&a[1]])),$e(e,"svelte-lyag80",!0)},i(a){t||(P(i,a),t=!0)},o(a){M(i,a),t=!1},d(a){a&&v(e),i&&i.d(a)}}}function bl(r){let e,t;const n=r[5].default,i=rt(n,r,r[4],null);let l=[r[1]],s={};for(let a=0;a<l.length;a+=1)s=re(s,l[a]);return{c(){e=U("div"),i&&i.c(),this.h()},l(a){e=A(a,"DIV",{});var o=T(e);i&&i.l(o),o.forEach(v),this.h()},h(){xe(e,s),$e(e,"svelte-lyag80",!0)},m(a,o){S(a,e,o),i&&i.m(e,null),t=!0},p(a,o){i&&i.p&&(!t||o&16)&&it(i,n,a,a[4],t?at(n,a[4],o,null):lt(a[4]),null),xe(e,s=Pe(l,[o&2&&a[1]])),$e(e,"svelte-lyag80",!0)},i(a){t||(P(i,a),t=!0)},o(a){M(i,a),t=!1},d(a){a&&v(e),i&&i.d(a)}}}function yl(r){let e,t,n,i;const l=[bl,wl,vl,ml],s=[];function a(o,c){return o[0]==="div"?0:o[0]==="ul"?1:o[0]==="ol"?2:o[0]==="li"?3:-1}return~(e=a(r))&&(t=s[e]=l[e](r)),{c(){t&&t.c(),n=ke()},l(o){t&&t.l(o),n=ke()},m(o,c){~e&&s[e].m(o,c),S(o,n,c),i=!0},p(o,[c]){let f=e;e=a(o),e===f?~e&&s[e].p(o,c):(t&&(Te(),M(s[f],1,1,()=>{s[f]=null}),Ce()),~e?(t=s[e],t?t.p(o,c):(t=s[e]=l[e](o),t.c()),P(t,1),t.m(n.parentNode,n)):t=null)},i(o){i||(P(t),i=!0)},o(o){M(t),i=!1},d(o){~e&&s[e].d(o),o&&v(n)}}}function $l(r,e,t){let{$$slots:n={},$$scope:i}=e,{style:l={}}=e,{secondary:s=!1}=e,{as:a="div"}=e,o;return r.$$set=c=>{"style"in c&&t(2,l=c.style),"secondary"in c&&t(3,s=c.secondary),"as"in c&&t(0,a=c.as),"$$scope"in c&&t(4,i=c.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&t(1,o={style:en(l),class:s?"secondary":"primary"})},[a,o,l,s,i,n]}class ze extends le{constructor(e){super(),ae(this,e,$l,yl,ie,{style:2,secondary:3,as:0})}}function Ln(r){let e,t;return e=new _l({props:{$$slots:{default:[El]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,i){const l={};i&269&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Nn(r){let e,t;return{c(){e=U("h2"),t=Q(r[0]),this.h()},l(n){e=A(n,"H2",{class:!0});var i=T(e);t=Z(i,r[0]),i.forEach(v),this.h()},h(){E(e,"class","svelte-tzis89")},m(n,i){S(n,e,i),$(e,t)},p(n,i){i&1&&Je(t,n[0])},d(n){n&&v(e)}}}function kl(r){let e,t,n=r[0]&&Nn(r);const i=r[4].default,l=rt(i,r,r[8],null);return{c(){n&&n.c(),e=N(),l&&l.c()},l(s){n&&n.l(s),e=x(s),l&&l.l(s)},m(s,a){n&&n.m(s,a),S(s,e,a),l&&l.m(s,a),t=!0},p(s,a){s[0]?n?n.p(s,a):(n=Nn(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),l&&l.p&&(!t||a&256)&&it(l,i,s,s[8],t?at(i,s[8],a,null):lt(s[8]),null)},i(s){t||(P(l,s),t=!0)},o(s){M(l,s),t=!1},d(s){n&&n.d(s),s&&v(e),l&&l.d(s)}}}function El(r){let e,t,n,i,l,s,a,o;return n=new ze({props:{secondary:!0,style:{position:"relative"},$$slots:{default:[kl]},$$scope:{ctx:r}}}),{c(){e=U("div"),t=U("div"),Y(n.$$.fragment),this.h()},l(c){e=A(c,"DIV",{class:!0});var f=T(e);t=A(f,"DIV",{});var d=T(t);X(n.$$.fragment,d),d.forEach(v),f.forEach(v),this.h()},h(){E(e,"class","background svelte-tzis89")},m(c,f){S(c,e,f),$(e,t),q(n,t,null),r[7](e),s=!0,a||(o=[fe(e,"click",r[5]),fe(e,"keydown",r[6])],a=!0)},p(c,f){const d={};f&257&&(d.$$scope={dirty:f,ctx:c}),n.$set(d)},i(c){s||(P(n.$$.fragment,c),_n(()=>{i||(i=Dt(t,Mn,{y:-200,duration:100},!0)),i.run(1)}),_n(()=>{l||(l=Dt(e,On,{duration:100},!0)),l.run(1)}),s=!0)},o(c){M(n.$$.fragment,c),i||(i=Dt(t,Mn,{y:-200,duration:100},!1)),i.run(0),l||(l=Dt(e,On,{duration:100},!1)),l.run(0),s=!1},d(c){c&&v(e),J(n),c&&i&&i.end(),r[7](null),c&&l&&l.end(),a=!1,st(o)}}}function Il(r){let e,t,n=r[1]&&Ln(r);return{c(){n&&n.c(),e=ke()},l(i){n&&n.l(i),e=ke()},m(i,l){n&&n.m(i,l),S(i,e,l),t=!0},p(i,[l]){i[1]?n?(n.p(i,l),l&2&&P(n,1)):(n=Ln(i),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(Te(),M(n,1,1,()=>{n=null}),Ce())},i(i){t||(P(n),t=!0)},o(i){M(n),t=!1},d(i){n&&n.d(i),i&&v(e)}}}function Ul(r,e,t){let{$$slots:n={},$$scope:i}=e,{title:l=void 0}=e,{isOpen:s}=e,{onClose:a}=e,o;const c=p=>{p.target===o&&a()},f=p=>{p.key==="Escape"&&a()};function d(p){ct[p?"unshift":"push"](()=>{o=p,t(3,o)})}return r.$$set=p=>{"title"in p&&t(0,l=p.title),"isOpen"in p&&t(1,s=p.isOpen),"onClose"in p&&t(2,a=p.onClose),"$$scope"in p&&t(8,i=p.$$scope)},[l,s,a,o,n,c,f,d,i]}class Al extends le{constructor(e){super(),ae(this,e,Ul,Il,ie,{title:0,isOpen:1,onClose:2})}}function Tl(r){let e,t,n,i,l=[{style:t=r[1]&&en(r[1])},r[2]],s={};for(let a=0;a<l.length;a+=1)s=re(s,l[a]);return{c(){e=U("button"),this.h()},l(a){e=A(a,"BUTTON",{style:!0}),T(e).forEach(v),this.h()},h(){xe(e,s),$e(e,"svelte-gwh5g1",!0)},m(a,o){S(a,e,o),e.autofocus&&e.focus(),n||(i=fe(e,"click",function(){Ut(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(a,[o]){r=a,xe(e,s=Pe(l,[o&2&&t!==(t=r[1]&&en(r[1]))&&{style:t},o&4&&r[2]])),$e(e,"svelte-gwh5g1",!0)},i:ee,o:ee,d(a){a&&v(e),n=!1,i()}}}function Cl(r,e,t){const n=["onClick","style"];let i=St(e,n),{onClick:l}=e,{style:s=void 0}=e;return r.$$set=a=>{e=re(re({},e),Ae(a)),t(2,i=St(e,n)),"onClick"in a&&t(0,l=a.onClick),"style"in a&&t(1,s=a.style)},[l,s,i]}class fn extends le{constructor(e){super(),ae(this,e,Cl,Tl,ie,{onClick:0,style:1})}}function xn(r,e,t){const n=r.slice();return n[5]=e[t],n}function Vn(r,e,t){const n=r.slice();n[8]=e[t];const i=n[5][n[8]];return n[9]=i,n}function jn(r,e,t){const n=r.slice();return n[8]=e[t],n}function zn(r){let e,t=r[8]+"",n,i;return{c(){e=U("th"),n=Q(t),i=N(),this.h()},l(l){e=A(l,"TH",{class:!0});var s=T(e);n=Z(s,t),i=x(s),s.forEach(v),this.h()},h(){var l,s,a,o;E(e,"class","svelte-1r7sqdr"),$e(e,"stretch",(s=(l=r[1])==null?void 0:l[r[8]])==null?void 0:s.stretch),$e(e,"shrink",(o=(a=r[1])==null?void 0:a[r[8]])==null?void 0:o.shrink)},m(l,s){S(l,e,s),$(e,n),$(e,i)},p(l,s){var a,o,c,f;s&1&&t!==(t=l[8]+"")&&Je(n,t),s&3&&$e(e,"stretch",(o=(a=l[1])==null?void 0:a[l[8]])==null?void 0:o.stretch),s&3&&$e(e,"shrink",(f=(c=l[1])==null?void 0:c[l[8]])==null?void 0:f.shrink)},d(l){l&&v(e)}}}function Dl(r){let e=(r[9]??"-")+"",t;return{c(){t=Q(e)},l(n){t=Z(n,e)},m(n,i){S(n,t,i)},p(n,i){i&5&&e!==(e=(n[9]??"-")+"")&&Je(t,e)},i:ee,o:ee,d(n){n&&v(t)}}}function Fl(r){let e=r[9].element,t,n=r[9].element&&Wt(r);return{c(){n&&n.c(),t=ke()},l(i){n&&n.l(i),t=ke()},m(i,l){n&&n.m(i,l),S(i,t,l)},p(i,l){i[9].element?e?ie(e,i[9].element)?(n.d(1),n=Wt(i),n.c(),n.m(t.parentNode,t)):n.p(i,l):(n=Wt(i),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=i[9].element},i:ee,o:ee,d(i){i&&v(t),n&&n.d(i)}}}function Bl(r){let e,t,n;const i=[r[9].props??{}];var l=r[9].component;function s(a){let o={};for(let c=0;c<i.length;c+=1)o=re(o,i[c]);return{props:o}}return l&&(e=pt(l,s())),{c(){e&&Y(e.$$.fragment),t=ke()},l(a){e&&X(e.$$.fragment,a),t=ke()},m(a,o){e&&q(e,a,o),S(a,t,o),n=!0},p(a,o){const c=o&5?Pe(i,[Gr(a[9].props??{})]):{};if(l!==(l=a[9].component)){if(e){Te();const f=e;M(f.$$.fragment,1,0,()=>{J(f,1)}),Ce()}l?(e=pt(l,s()),Y(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(c)},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&M(e.$$.fragment,a),n=!1},d(a){a&&v(t),e&&J(e,a)}}}function Wt(r){let e,t=[r[9].props??{}],n={};for(let i=0;i<t.length;i+=1)n=re(n,t[i]);return{c(){e=U(r[9].element),this.h()},l(i){e=A(i,(r[9].element||"null").toUpperCase(),{}),T(e).forEach(v),this.h()},h(){/-/.test(r[9].element)?mn(e,n):xe(e,n),$e(e,"svelte-1r7sqdr",!0)},m(i,l){S(i,e,l)},p(i,l){n=Pe(t,[l&5&&(i[9].props??{})]),/-/.test(i[9].element)?mn(e,n):xe(e,n),$e(e,"svelte-1r7sqdr",!0)},d(i){i&&v(e)}}}function Hn(r){let e,t,n,i,l,s;const a=[Bl,Fl,Dl],o=[];function c(f,d){return d&5&&(t=null),d&5&&(n=null),t==null&&(t=!!f[3](f[9])),t?0:(n==null&&(n=!!f[4](f[9])),n?1:2)}return i=c(r,-1),l=o[i]=a[i](r),{c(){e=U("td"),l.c(),this.h()},l(f){e=A(f,"TD",{class:!0});var d=T(e);l.l(d),d.forEach(v),this.h()},h(){E(e,"class","svelte-1r7sqdr")},m(f,d){S(f,e,d),o[i].m(e,null),s=!0},p(f,d){let p=i;i=c(f,d),i===p?o[i].p(f,d):(Te(),M(o[p],1,1,()=>{o[p]=null}),Ce(),l=o[i],l?l.p(f,d):(l=o[i]=a[i](f),l.c()),P(l,1),l.m(e,null))},i(f){s||(P(l),s=!0)},o(f){M(l),s=!1},d(f){f&&v(e),o[i].d()}}}function Gn(r){let e,t,n,i=r[0],l=[];for(let a=0;a<i.length;a+=1)l[a]=Hn(Vn(r,i,a));const s=a=>M(l[a],1,1,()=>{l[a]=null});return{c(){e=U("tr");for(let a=0;a<l.length;a+=1)l[a].c();t=N(),this.h()},l(a){e=A(a,"TR",{class:!0});var o=T(e);for(let c=0;c<l.length;c+=1)l[c].l(o);t=x(o),o.forEach(v),this.h()},h(){E(e,"class","svelte-1r7sqdr")},m(a,o){S(a,e,o);for(let c=0;c<l.length;c+=1)l[c].m(e,null);$(e,t),n=!0},p(a,o){if(o&29){i=a[0];let c;for(c=0;c<i.length;c+=1){const f=Vn(a,i,c);l[c]?(l[c].p(f,o),P(l[c],1)):(l[c]=Hn(f),l[c].c(),P(l[c],1),l[c].m(e,t))}for(Te(),c=i.length;c<l.length;c+=1)s(c);Ce()}},i(a){if(!n){for(let o=0;o<i.length;o+=1)P(l[o]);n=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)M(l[o]);n=!1},d(a){a&&v(e),et(l,a)}}}function Sl(r){let e,t,n,i,l,s=r[0],a=[];for(let d=0;d<s.length;d+=1)a[d]=zn(jn(r,s,d));let o=r[2],c=[];for(let d=0;d<o.length;d+=1)c[d]=Gn(xn(r,o,d));const f=d=>M(c[d],1,1,()=>{c[d]=null});return{c(){e=U("table"),t=U("thead");for(let d=0;d<a.length;d+=1)a[d].c();n=N(),i=U("tbody");for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=A(d,"TABLE",{class:!0});var p=T(e);t=A(p,"THEAD",{});var g=T(t);for(let y=0;y<a.length;y+=1)a[y].l(g);g.forEach(v),n=x(p),i=A(p,"TBODY",{});var m=T(i);for(let y=0;y<c.length;y+=1)c[y].l(m);m.forEach(v),p.forEach(v),this.h()},h(){E(e,"class","svelte-1r7sqdr")},m(d,p){S(d,e,p),$(e,t);for(let g=0;g<a.length;g+=1)a[g].m(t,null);$(e,n),$(e,i);for(let g=0;g<c.length;g+=1)c[g].m(i,null);l=!0},p(d,p){if(p&3){s=d[0];let g;for(g=0;g<s.length;g+=1){const m=jn(d,s,g);a[g]?a[g].p(m,p):(a[g]=zn(m),a[g].c(),a[g].m(t,null))}for(;g<a.length;g+=1)a[g].d(1);a.length=s.length}if(p&29){o=d[2];let g;for(g=0;g<o.length;g+=1){const m=xn(d,o,g);c[g]?(c[g].p(m,p),P(c[g],1)):(c[g]=Gn(m),c[g].c(),P(c[g],1),c[g].m(i,null))}for(Te(),g=o.length;g<c.length;g+=1)f(g);Ce()}},i(d){if(!l){for(let p=0;p<o.length;p+=1)P(c[p]);l=!0}},o(d){c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)M(c[p]);l=!1},d(d){d&&v(e),et(a,d),et(c,d)}}}function Rl(r){let e,t;return e=new ze({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[Sl]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,[i]){const l={};i&16391&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Pl(r,e,t){let{columns:n}=e,{columnConfig:i}=e,{rows:l}=e;const s=o=>o&&typeof o!="string"&&typeof o!="number"&&o.component,a=o=>o&&typeof o!="string"&&typeof o!="number"&&o.element;return r.$$set=o=>{"columns"in o&&t(0,n=o.columns),"columnConfig"in o&&t(1,i=o.columnConfig),"rows"in o&&t(2,l=o.rows)},[n,i,l,s,a]}class Dr extends le{constructor(e){super(),ae(this,e,Pl,Rl,ie,{columns:0,columnConfig:1,rows:2})}}function Ol(r){let e,t,n;return{c(){e=U("input"),this.h()},l(i){e=A(i,"INPUT",{type:!0,style:!0}),this.h()},h(){E(e,"type","text"),e.value=r[0],E(e,"style",r[1])},m(i,l){S(i,e,l),t||(n=fe(e,"input",r[2]),t=!0)},p(i,[l]){l&1&&e.value!==i[0]&&(e.value=i[0]),l&2&&E(e,"style",i[1])},i:ee,o:ee,d(i){i&&v(e),t=!1,n()}}}function Ml(r,e,t){let{value:n}=e,{onChange:i}=e,{style:l}=e;const s=a=>{i(a.target.value)};return r.$$set=a=>{"value"in a&&t(0,n=a.value),"onChange"in a&&t(3,i=a.onChange),"style"in a&&t(1,l=a.style)},[n,l,s,i]}class Fr extends le{constructor(e){super(),ae(this,e,Ml,Ol,ie,{value:0,onChange:3,style:1})}}function Ll(r){let e,t;return e=new Me({props:{onClick:r[4],$$slots:{default:[xl]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,i){const l={};i&1024&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Nl(r){let e,t;return e=new Me({props:{onClick:r[8],$$slots:{default:[Vl]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,i){const l={};i&4&&(l.onClick=n[8]),i&1024&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function xl(r){let e;return{c(){e=Q("Create TRCN")},l(t){e=Z(t,"Create TRCN")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function Vl(r){let e;return{c(){e=Q("Edit TRCN")},l(t){e=Z(t,"Edit TRCN")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function jl(r){let e;return{c(){e=Q("Append new value")},l(t){e=Z(t,"Append new value")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function zl(r){let e,t,n,i,l,s,a,o,c,f,d,p,g,m;const y=[Nl,Ll],b=[];function k(C,D){return C[2]?0:1}return t=k(r),n=b[t]=y[t](r),l=new Me({props:{onClick:r[5],$$slots:{default:[jl]},$$scope:{ctx:r}}}),{c(){e=U("div"),n.c(),i=N(),Y(l.$$.fragment),s=N(),a=U("div"),o=U("label"),c=Q(`Flag
				`),f=U("input"),this.h()},l(C){e=A(C,"DIV",{class:!0});var D=T(e);n.l(D),i=x(D),X(l.$$.fragment,D),D.forEach(v),s=x(C),a=A(C,"DIV",{class:!0});var F=T(a);o=A(F,"LABEL",{});var H=T(o);c=Z(H,`Flag
				`),f=A(H,"INPUT",{type:!0}),H.forEach(v),F.forEach(v),this.h()},h(){E(e,"class","control-group svelte-oueji5"),E(f,"type","checkbox"),f.checked=d=r[0].flag,E(a,"class","control-group svelte-oueji5")},m(C,D){S(C,e,D),b[t].m(e,null),$(e,i),q(l,e,null),S(C,s,D),S(C,a,D),$(a,o),$(o,c),$(o,f),p=!0,g||(m=fe(f,"input",r[6]),g=!0)},p(C,D){let F=t;t=k(C),t===F?b[t].p(C,D):(Te(),M(b[F],1,1,()=>{b[F]=null}),Ce(),n=b[t],n?n.p(C,D):(n=b[t]=y[t](C),n.c()),P(n,1),n.m(e,i));const H={};D&1024&&(H.$$scope={dirty:D,ctx:C}),l.$set(H),(!p||D&1&&d!==(d=C[0].flag))&&(f.checked=d)},i(C){p||(P(n),P(l.$$.fragment,C),p=!0)},o(C){M(n),M(l.$$.fragment,C),p=!1},d(C){C&&v(e),b[t].d(),J(l),C&&v(s),C&&v(a),g=!1,m()}}}function Hl(r){let e,t,n,i,l;return t=new ze({props:{secondary:!0,style:{display:"flex",gap:"15px","justify-content":"space-between","margin-bottom":"5px"},$$slots:{default:[zl]},$$scope:{ctx:r}}}),i=new Dr({props:{columns:["","Value",...r[3]?["Label","Default","Min","Max","Used"]:[]],columnConfig:{"":{shrink:!0}},rows:r[0].items.map(r[9])}}),{c(){e=U("div"),Y(t.$$.fragment),n=N(),Y(i.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=T(e);X(t.$$.fragment,a),n=x(a),X(i.$$.fragment,a),a.forEach(v),this.h()},h(){E(e,"class","bcon-view svelte-oueji5")},m(s,a){S(s,e,a),q(t,e,null),$(e,n),q(i,e,null),l=!0},p(s,[a]){const o={};a&1029&&(o.$$scope={dirty:a,ctx:s}),t.$set(o);const c={};a&8&&(c.columns=["","Value",...s[3]?["Label","Default","Min","Max","Used"]:[]]),a&11&&(c.rows=s[0].items.map(s[9])),i.$set(c)},i(s){l||(P(t.$$.fragment,s),P(i.$$.fragment,s),l=!0)},o(s){M(t.$$.fragment,s),M(i.$$.fragment,s),l=!1},d(s){s&&v(e),J(t),J(i)}}}function Gl(r,e,t){let n;tt(r,ve,g=>t(7,n=g));let{content:i}=e,{onChange:l}=e,s,a;const o=()=>{ve.createLinkedResource("TRCN",{...Et.TRCN,filename:i.filename,items:i.items.map((g,m)=>({...Et.TRCN.items[0],constId:m+1}))})},c=()=>l(de(i,g=>{g.items.push(0)})),f=g=>l(de(i,m=>{m.flag=g.target.checked})),d=()=>s?ve.openResource(s):null,p=(g,m)=>{var y,b,k,C,D;return{"":{component:fn,props:{onClick:()=>{l(de(i,F=>{F.items=Ur(F.items,m)}))},"aria-label":`delete line ${m}`}},Value:{component:Fr,props:{onChange:F=>l(de(i,H=>{H.items[m]=parseInt(F,16)??0})),value:Fe(g,4),style:"width: 100%; min-width: 75px;"}},Label:(y=a==null?void 0:a[m])==null?void 0:y.constName,Default:Fe((b=a==null?void 0:a[m])==null?void 0:b.value,4)||"-",Min:Fe((k=a==null?void 0:a[m])==null?void 0:k.minValue,4)||"-",Max:Fe((C=a==null?void 0:a[m])==null?void 0:C.maxValue,4)||"-",Used:a!=null&&a[m]?{element:"input",props:{type:"checkbox",checked:(D=a==null?void 0:a[m])==null?void 0:D.used,disabled:!0}}:void 0}};return r.$$set=g=>{"content"in g&&t(0,i=g.content),"onChange"in g&&t(1,l=g.onChange)},r.$$.update=()=>{var g,m;if(r.$$.dirty&132){t(2,s=he(n).linkedResourceId("TRCN"));const y=he(n).resourceById(s);t(3,a=((g=y==null?void 0:y.contentChanges)==null?void 0:g.items)??((m=y==null?void 0:y.content)==null?void 0:m.items))}},[i,l,s,a,o,c,f,n,d,p]}class Wl extends le{constructor(e){super(),ae(this,e,Gl,Hl,ie,{content:0,onChange:1})}}function Yl(r){let e,t,n,i,l,s,a;return{c(){e=U("label"),t=Q("Semi global"),n=N(),i=U("input"),this.h()},l(o){e=A(o,"LABEL",{for:!0});var c=T(e);t=Z(c,"Semi global"),c.forEach(v),n=x(o),i=A(o,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){E(e,"for","semiglobal-input"),E(i,"id","semiglobal-input"),E(i,"type","text"),i.value=l=r[0].semiglobal,E(i,"class","svelte-1vnf0ng")},m(o,c){S(o,e,c),$(e,t),S(o,n,c),S(o,i,c),s||(a=fe(i,"input",r[1]),s=!0)},p(o,c){c&1&&l!==(l=o[0].semiglobal)&&i.value!==l&&(i.value=l)},d(o){o&&v(e),o&&v(n),o&&v(i),s=!1,a()}}}function ql(r){let e,t,n;return t=new ze({props:{secondary:!0,$$slots:{default:[Yl]},$$scope:{ctx:r}}}),{c(){e=U("div"),Y(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var l=T(e);X(t.$$.fragment,l),l.forEach(v),this.h()},h(){E(e,"class","svelte-1vnf0ng")},m(i,l){S(i,e,l),q(t,e,null),n=!0},p(i,[l]){const s={};l&9&&(s.$$scope={dirty:l,ctx:i}),t.$set(s)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&v(e),J(t)}}}function Jl(r,e,t){let{content:n}=e,{onChange:i}=e;const l=s=>i(de(n,a=>{a.semiglobal=s.target.value}));return r.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(2,i=s.onChange)},[n,l,i]}class Xl extends le{constructor(e){super(),ae(this,e,Jl,ql,ie,{content:0,onChange:2})}}function Kl(r){let e;return{c(){e=Q("This file can be edited by changing the file name!")},l(t){e=Z(t,"This file can be edited by changing the file name!")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function Ql(r){let e,t,n;return t=new ze({props:{secondary:!0,$$slots:{default:[Kl]},$$scope:{ctx:r}}}),{c(){e=U("div"),Y(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var l=T(e);X(t.$$.fragment,l),l.forEach(v),this.h()},h(){E(e,"class","svelte-ez7vw6")},m(i,l){S(i,e,l),q(t,e,null),n=!0},p(i,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:i}),t.$set(s)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&v(e),J(t)}}}class Zl extends le{constructor(e){super(),ae(this,e,null,Ql,ie,{})}}function Wn(r,e,t){const n=r.slice();return n[22]=e[t],n[24]=t,n}function Yn(r,e,t){const n=r.slice();return n[22]=e[t],n[24]=t,n}function qn(r,e,t){const n=r.slice();return n[22]=e[t],n[24]=t,n}function Jn(r,e,t){const n=r.slice();return n[22]=e[t],n[24]=t,n}function Xn(r){let e,t,n,i=r[22]+"",l,s,a,o;function c(){return r[13](r[24])}return{c(){e=U("label"),t=U("input"),n=N(),l=Q(i),s=N(),this.h()},l(f){e=A(f,"LABEL",{});var d=T(e);t=A(d,"INPUT",{type:!0}),n=x(d),l=Z(d,i),s=x(d),d.forEach(v),this.h()},h(){E(t,"type","radio"),t.__value=1<<r[24],t.value=t.__value,r[12][0].push(t)},m(f,d){S(f,e,d),$(e,t),t.checked=t.__value===r[1],$(e,n),$(e,l),$(e,s),a||(o=[fe(t,"change",r[11]),fe(t,"change",gt(c))],a=!0)},p(f,d){r=f,d&2&&(t.checked=t.__value===r[1])},d(f){f&&v(e),r[12][0].splice(r[12][0].indexOf(t),1),a=!1,st(o)}}}function Kn(r){let e,t,n,i=r[22]+"",l,s,a,o;function c(){return r[15](r[24])}return{c(){e=U("label"),t=U("input"),n=N(),l=Q(i),s=N(),this.h()},l(f){e=A(f,"LABEL",{});var d=T(e);t=A(d,"INPUT",{type:!0}),n=x(d),l=Z(d,i),s=x(d),d.forEach(v),this.h()},h(){E(t,"type","radio"),t.__value=1<<r[24],t.value=t.__value,r[12][1].push(t)},m(f,d){S(f,e,d),$(e,t),t.checked=t.__value===r[0],$(e,n),$(e,l),$(e,s),a||(o=[fe(t,"change",r[14]),fe(t,"change",gt(c))],a=!0)},p(f,d){r=f,d&1&&(t.checked=t.__value===r[0])},d(f){f&&v(e),r[12][1].splice(r[12][1].indexOf(t),1),a=!1,st(o)}}}function Qn(r){let e,t,n,i,l=r[4],s=[];for(let a=0;a<l.length;a+=1)s[a]=er(Yn(r,l,a));return{c(){e=U("div"),t=U("h3"),n=Q("Function subsort"),i=N();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=A(a,"DIV",{class:!0});var o=T(e);t=A(o,"H3",{class:!0});var c=T(t);n=Z(c,"Function subsort"),c.forEach(v),i=x(o);for(let f=0;f<s.length;f+=1)s[f].l(o);o.forEach(v),this.h()},h(){E(t,"class","svelte-s35f8w"),E(e,"class","radio-group svelte-s35f8w")},m(a,o){S(a,e,o),$(e,t),$(t,n),$(e,i);for(let c=0;c<s.length;c+=1)s[c].m(e,null)},p(a,o){if(o&276){l=a[4];let c;for(c=0;c<l.length;c+=1){const f=Yn(a,l,c);s[c]?s[c].p(f,o):(s[c]=er(f),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=l.length}},d(a){a&&v(e),et(s,a)}}}function Zn(r){let e,t,n,i=r[22]+"",l,s,a,o;function c(){return r[17](r[24])}return{c(){e=U("label"),t=U("input"),n=N(),l=Q(i),s=N(),this.h()},l(f){e=A(f,"LABEL",{});var d=T(e);t=A(d,"INPUT",{type:!0}),n=x(d),l=Z(d,i),s=x(d),d.forEach(v),this.h()},h(){E(t,"type","radio"),t.__value=1<<r[24],t.value=t.__value,r[12][2].push(t)},m(f,d){S(f,e,d),$(e,t),t.checked=t.__value===r[2],$(e,n),$(e,l),$(e,s),a||(o=[fe(t,"change",r[16]),fe(t,"change",gt(c))],a=!0)},p(f,d){r=f,d&4&&(t.checked=t.__value===r[2]),d&16&&i!==(i=r[22]+"")&&Je(l,i)},d(f){f&&v(e),r[12][2].splice(r[12][2].indexOf(t),1),a=!1,st(o)}}}function er(r){let e,t=r[22]!==null&&Zn(r);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,i){n[22]!==null?t?t.p(n,i):(t=Zn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function tr(r){let e,t,n,i=r[22]+"",l,s,a,o;function c(){return r[19](r[24])}return{c(){e=U("label"),t=U("input"),n=N(),l=Q(i),s=N(),this.h()},l(f){e=A(f,"LABEL",{});var d=T(e);t=A(d,"INPUT",{type:!0}),n=x(d),l=Z(d,i),s=x(d),d.forEach(v),this.h()},h(){E(t,"type","radio"),t.__value=1<<r[24],t.value=t.__value,r[12][3].push(t)},m(f,d){S(f,e,d),$(e,t),t.checked=t.__value===r[3],$(e,n),$(e,l),$(e,s),a||(o=[fe(t,"change",r[18]),fe(t,"change",gt(c))],a=!0)},p(f,d){r=f,d&8&&(t.checked=t.__value===r[3])},d(f){f&&v(e),r[12][3].splice(r[12][3].indexOf(t),1),a=!1,st(o)}}}function ea(r){var G;let e,t,n,i,l,s,a,o,c,f,d,p,g,m,y,b=r[5],k=[];for(let B=0;B<b.length;B+=1)k[B]=Xn(Jn(r,b,B));let C=r[6],D=[];for(let B=0;B<C.length;B+=1)D[B]=Kn(qn(r,C,B));let F=((G=r[4])==null?void 0:G.length)&&Qn(r),H=r[7],j=[];for(let B=0;B<H.length;B+=1)j[B]=tr(Wn(r,H,B));return{c(){e=U("div"),t=U("h3"),n=Q("Room sort"),i=N();for(let B=0;B<k.length;B+=1)k[B].c();l=N(),s=U("div"),a=U("h3"),o=Q("Function sort"),c=N();for(let B=0;B<D.length;B+=1)D[B].c();f=N(),F&&F.c(),d=N(),p=U("div"),g=U("h3"),m=Q("Skill flags"),y=N();for(let B=0;B<j.length;B+=1)j[B].c();this.h()},l(B){e=A(B,"DIV",{class:!0});var K=T(e);t=A(K,"H3",{class:!0});var V=T(t);n=Z(V,"Room sort"),V.forEach(v),i=x(K);for(let z=0;z<k.length;z+=1)k[z].l(K);K.forEach(v),l=x(B),s=A(B,"DIV",{class:!0});var L=T(s);a=A(L,"H3",{class:!0});var W=T(a);o=Z(W,"Function sort"),W.forEach(v),c=x(L);for(let z=0;z<D.length;z+=1)D[z].l(L);L.forEach(v),f=x(B),F&&F.l(B),d=x(B),p=A(B,"DIV",{class:!0});var te=T(p);g=A(te,"H3",{class:!0});var ge=T(g);m=Z(ge,"Skill flags"),ge.forEach(v),y=x(te);for(let z=0;z<j.length;z+=1)j[z].l(te);te.forEach(v),this.h()},h(){E(t,"class","svelte-s35f8w"),E(e,"class","radio-group svelte-s35f8w"),E(a,"class","svelte-s35f8w"),E(s,"class","radio-group svelte-s35f8w"),E(g,"class","svelte-s35f8w"),E(p,"class","radio-group svelte-s35f8w")},m(B,K){S(B,e,K),$(e,t),$(t,n),$(e,i);for(let V=0;V<k.length;V+=1)k[V].m(e,null);S(B,l,K),S(B,s,K),$(s,a),$(a,o),$(s,c);for(let V=0;V<D.length;V+=1)D[V].m(s,null);S(B,f,K),F&&F.m(B,K),S(B,d,K),S(B,p,K),$(p,g),$(g,m),$(p,y);for(let V=0;V<j.length;V+=1)j[V].m(p,null)},p(B,K){var V;if(K&290){b=B[5];let L;for(L=0;L<b.length;L+=1){const W=Jn(B,b,L);k[L]?k[L].p(W,K):(k[L]=Xn(W),k[L].c(),k[L].m(e,null))}for(;L<k.length;L+=1)k[L].d(1);k.length=b.length}if(K&321){C=B[6];let L;for(L=0;L<C.length;L+=1){const W=qn(B,C,L);D[L]?D[L].p(W,K):(D[L]=Kn(W),D[L].c(),D[L].m(s,null))}for(;L<D.length;L+=1)D[L].d(1);D.length=C.length}if((V=B[4])!=null&&V.length?F?F.p(B,K):(F=Qn(B),F.c(),F.m(d.parentNode,d)):F&&(F.d(1),F=null),K&392){H=B[7];let L;for(L=0;L<H.length;L+=1){const W=Wn(B,H,L);j[L]?j[L].p(W,K):(j[L]=tr(W),j[L].c(),j[L].m(p,null))}for(;L<j.length;L+=1)j[L].d(1);j.length=H.length}},d(B){B&&v(e),et(k,B),B&&v(l),B&&v(s),et(D,B),B&&v(f),F&&F.d(B),B&&v(d),B&&v(p),et(j,B)}}}function ta(r){let e,t,n;return t=new ze({props:{secondary:!0,$$slots:{default:[ea]},$$scope:{ctx:r}}}),{c(){e=U("div"),Y(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var l=T(e);X(t.$$.fragment,l),l.forEach(v),this.h()},h(){E(e,"class","objd-container svelte-s35f8w")},m(i,l){S(i,e,l),q(t,e,null),n=!0},p(i,[l]){const s={};l&268435487&&(s.$$scope={dirty:l,ctx:i}),t.$set(s)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&v(e),J(t)}}}function na(r,e,t){let{content:n}=e,{onChange:i}=e;const l=["Kitchen","Bedroom","Bathroom","Living room","Outside","Dining room","Misc.","Study","Kids"],s=["Seating","Surfaces","Appliances","Electronics","Plumbing","Decorative","General","Lights","Hobbies","Aspiration","Career"],a={Seating:["Dining room","Living room","Sofas","Beds","Recreation",null,null,"Misc."],Surfaces:["Counter","Table","End table","Desk","Coffee table","Shelf",null,"Misc."],Appliances:["Cooking","Refrigerator","Small","Large",null,null,null,"Misc."],Electronics:["Entertainment","TV & computer","Audio","Small",null,null,null,"Misc."],Plumbing:["Toilet","Shower","Sink","Hot tub",null,null,null,"Misc."],Decorative:["Wall","Sculpture","Rug","Plant","Mirror","Curtain",null,"Misc."],General:[null,"Dresser",null,"Party","Child","Car","Pets","Misc."],Lights:["Table lamp","Floor lamp","Wall lamp","Ceiling lamp","Outdoor",null,null,"Misc."],Hobbies:["Creativity","Knowledge","Excercise","Recreation",null,null,null,"Misc."],Aspiration:[],Career:[]},o=["Cleaning","Cooking","Mechanical","Logic","Body","Creativity","Charisma","School study"];let c=0,f=0,d=0,p=0,g;const m=(B,K)=>{i(de(n,V=>{V.data[B]=1<<K}))},y=[[],[],[],[]];function b(){c=this.__value,t(1,c),t(9,n),t(0,f)}const k=B=>m("roomSortFlags",B);function C(){f=this.__value,t(0,f),t(9,n)}const D=B=>m("functionSortFlags",B);function F(){d=this.__value,t(2,d),t(9,n),t(0,f)}const H=B=>m("functionSubSort",B);function j(){p=this.__value,t(3,p),t(9,n),t(0,f)}const G=B=>m("skillFlags",B);return r.$$set=B=>{"content"in B&&t(9,n=B.content),"onChange"in B&&t(10,i=B.onChange)},r.$$.update=()=>{if(r.$$.dirty&513){t(1,c=n.data.roomSortFlags),t(0,f=n.data.functionSortFlags),t(2,d=n.data.functionSubSort),t(3,p=n.data.skillFlags);const B=s.find((K,V)=>f===1<<V);t(4,g=B?a[B]:void 0)}},[f,c,d,p,g,l,s,o,m,n,i,b,y,k,C,D,F,H,j,G]}class ra extends le{constructor(e){super(),ae(this,e,na,ta,ie,{content:9,onChange:10})}}function nr(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function rr(r){let e,t,n=r[1][r[6]]+"",i,l,s,a,o,c,f,d,p,g,m,y;return{c(){e=U("tr"),t=U("td"),i=Q(n),l=N(),s=U("td"),a=U("input"),c=N(),f=U("td"),d=U("input"),g=N(),this.h()},l(b){e=A(b,"TR",{});var k=T(e);t=A(k,"TD",{class:!0});var C=T(t);i=Z(C,n),C.forEach(v),l=x(k),s=A(k,"TD",{class:!0});var D=T(s);a=A(D,"INPUT",{type:!0,placeholder:!0,class:!0}),D.forEach(v),c=x(k),f=A(k,"TD",{class:!0});var F=T(f);d=A(F,"INPUT",{type:!0,placeholder:!0,class:!0}),F.forEach(v),g=x(k),k.forEach(v),this.h()},h(){E(t,"class","svelte-1qmxsor"),E(a,"type","text"),E(a,"placeholder","none"),a.value=o=Fe(r[4].action||void 0,4),E(a,"class","svelte-1qmxsor"),E(s,"class","svelte-1qmxsor"),E(d,"type","text"),E(d,"placeholder","none"),d.value=p=Fe(r[4].guard||void 0,4),E(d,"class","svelte-1qmxsor"),E(f,"class","svelte-1qmxsor")},m(b,k){S(b,e,k),$(e,t),$(t,i),$(e,l),$(e,s),$(s,a),$(e,c),$(e,f),$(f,d),$(e,g),m||(y=[fe(a,"input",r[2]("action",r[6])),fe(d,"input",r[2]("guard",r[6]))],m=!0)},p(b,k){r=b,k&1&&o!==(o=Fe(r[4].action||void 0,4))&&a.value!==o&&(a.value=o),k&1&&p!==(p=Fe(r[4].guard||void 0,4))&&d.value!==p&&(d.value=p)},d(b){b&&v(e),m=!1,st(y)}}}function ia(r){let e,t,n,i,l,s,a,o,c,f,d,p,g=r[0].functions,m=[];for(let y=0;y<g.length;y+=1)m[y]=rr(nr(r,g,y));return{c(){e=U("table"),t=U("thead"),n=U("td"),i=Q("Function"),l=N(),s=U("td"),a=Q("Action BHAV"),o=N(),c=U("td"),f=Q("Guardian BHAV"),d=N(),p=U("tbody");for(let y=0;y<m.length;y+=1)m[y].c();this.h()},l(y){e=A(y,"TABLE",{class:!0});var b=T(e);t=A(b,"THEAD",{class:!0});var k=T(t);n=A(k,"TD",{class:!0});var C=T(n);i=Z(C,"Function"),C.forEach(v),l=x(k),s=A(k,"TD",{class:!0});var D=T(s);a=Z(D,"Action BHAV"),D.forEach(v),o=x(k),c=A(k,"TD",{class:!0});var F=T(c);f=Z(F,"Guardian BHAV"),F.forEach(v),k.forEach(v),d=x(b),p=A(b,"TBODY",{});var H=T(p);for(let j=0;j<m.length;j+=1)m[j].l(H);H.forEach(v),b.forEach(v),this.h()},h(){E(n,"class","svelte-1qmxsor"),E(s,"class","svelte-1qmxsor"),E(c,"class","svelte-1qmxsor"),E(t,"class","svelte-1qmxsor"),E(e,"class","svelte-1qmxsor")},m(y,b){S(y,e,b),$(e,t),$(t,n),$(n,i),$(t,l),$(t,s),$(s,a),$(t,o),$(t,c),$(c,f),$(e,d),$(e,p);for(let k=0;k<m.length;k+=1)m[k].m(p,null)},p(y,b){if(b&7){g=y[0].functions;let k;for(k=0;k<g.length;k+=1){const C=nr(y,g,k);m[k]?m[k].p(C,b):(m[k]=rr(C),m[k].c(),m[k].m(p,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=g.length}},d(y){y&&v(e),et(m,y)}}}function la(r){let e,t,n;return t=new ze({props:{secondary:!0,$$slots:{default:[ia]},$$scope:{ctx:r}}}),{c(){e=U("div"),Y(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var l=T(e);X(t.$$.fragment,l),l.forEach(v),this.h()},h(){E(e,"class","svelte-1qmxsor")},m(i,l){S(i,e,l),q(t,e,null),n=!0},p(i,[l]){const s={};l&129&&(s.$$scope={dirty:l,ctx:i}),t.$set(s)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&v(e),J(t)}}}function aa(r,e,t){let{content:n}=e,{onChange:i}=e;const l=["init","main","load","cleanup","queue skipped","allow intersection","wall adjacency changed","room changed","dynamic multi-tile update","placement","pickup","user placement","user pickup","level info request","serving surface","portal","gardening","wash hands","prep","cook","surface","dispose","food","pickup from slot","wash dish","eating surface","sit","stand","clean","repair","ui event","Restock","Wash Clothes","start live mode","stop live mode","link objects","message handler","pre route","post route","goal check","reaction handler","along route callback","awareness","reset","look at target","walk over","utility state change","set model by type","get model type","delete","user delete","just moved in","prevent place in slot","global awareness","object updated by design mode"],s=(a,o)=>c=>i(de(n,f=>{const d=f.functions[o];if(d){const p=c.target.value;d[a]=parseInt(p,16)}}));return r.$$set=a=>{"content"in a&&t(0,n=a.content),"onChange"in a&&t(3,i=a.onChange)},[n,l,s,i]}class sa extends le{constructor(e){super(),ae(this,e,aa,la,ie,{content:0,onChange:3})}}function ir(r,e,t){const n=r.slice();return n[8]=e[t],n[10]=t,n}function lr(r,e,t){const n=r.slice();return n[11]=e[t],n[10]=t,n}function ar(r){let e,t=ol(r[10]+1)+"",n;return{c(){e=U("option"),n=Q(t),this.h()},l(i){e=A(i,"OPTION",{});var l=T(e);n=Z(l,t),l.forEach(v),this.h()},h(){e.__value=r[10]+1,e.value=e.__value},m(i,l){S(i,e,l),$(e,n)},p:ee,d(i){i&&v(e)}}}function oa(r){let e,t,n,i,l,s,a,o,c,f,d,p,g,m,y,b,k,C,D,F;function H(...V){return r[5](r[10],...V)}let j=Zt,G=[];for(let V=0;V<j.length;V+=1)G[V]=ar(lr(r,j,V));function B(...V){return r[6](r[10],...V)}function K(...V){return r[7](r[10],...V)}return{c(){e=U("div"),t=U("div"),n=U("label"),i=Q(`Description
					`),l=U("input"),a=N(),o=U("div"),c=U("label"),f=Q(`Language
					`),d=U("select");for(let V=0;V<G.length;V+=1)G[V].c();g=N(),m=U("label"),y=Q(`Value
			`),b=U("textarea"),C=N(),this.h()},l(V){e=A(V,"DIV",{class:!0});var L=T(e);t=A(L,"DIV",{class:!0});var W=T(t);n=A(W,"LABEL",{class:!0});var te=T(n);i=Z(te,`Description
					`),l=A(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(v),W.forEach(v),a=x(L),o=A(L,"DIV",{class:!0});var ge=T(o);c=A(ge,"LABEL",{class:!0});var z=T(c);f=Z(z,`Language
					`),d=A(z,"SELECT",{class:!0});var Ee=T(d);for(let ce=0;ce<G.length;ce+=1)G[ce].l(Ee);Ee.forEach(v),z.forEach(v),ge.forEach(v),L.forEach(v),g=x(V),m=A(V,"LABEL",{class:!0});var be=T(m);y=Z(be,`Value
			`),b=A(be,"TEXTAREA",{class:!0,placeholder:!0}),T(b).forEach(v),be.forEach(v),C=x(V),this.h()},h(){E(l,"type","text"),E(l,"placeholder","No description"),l.value=s=r[8].description,E(l,"class","svelte-f4dafu"),E(n,"class","svelte-f4dafu"),E(t,"class","description svelte-f4dafu"),E(d,"class","language svelte-f4dafu"),E(c,"class","svelte-f4dafu"),E(o,"class","language"),E(e,"class","meta svelte-f4dafu"),E(b,"class","value svelte-f4dafu"),E(b,"placeholder","No value"),b.value=k=r[8].value,E(m,"class","svelte-f4dafu")},m(V,L){S(V,e,L),$(e,t),$(t,n),$(n,i),$(n,l),$(e,a),$(e,o),$(o,c),$(c,f),$(c,d);for(let W=0;W<G.length;W+=1)G[W].m(d,null);Rt(d,r[8].languageId),S(V,g,L),S(V,m,L),$(m,y),$(m,b),S(V,C,L),D||(F=[fe(l,"input",H),fe(d,"input",B),fe(b,"input",K)],D=!0)},p(V,L){if(r=V,L&1&&s!==(s=r[8].description)&&l.value!==s&&(l.value=s),L&0){j=Zt;let W;for(W=0;W<j.length;W+=1){const te=lr(r,j,W);G[W]?G[W].p(te,L):(G[W]=ar(te),G[W].c(),G[W].m(d,null))}for(;W<G.length;W+=1)G[W].d(1);G.length=j.length}L&1&&p!==(p=r[8].languageId)&&Rt(d,r[8].languageId),L&1&&k!==(k=r[8].value)&&(b.value=k)},d(V){V&&v(e),et(G,V),V&&v(g),V&&v(m),V&&v(C),D=!1,st(F)}}}function sr(r,e){let t,n,i;return n=new ze({props:{as:"li",style:{"margin-top":e[10]?"5px":"0"},secondary:!0,$$slots:{default:[oa]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=ke(),Y(n.$$.fragment),this.h()},l(l){t=ke(),X(n.$$.fragment,l),this.h()},h(){this.first=t},m(l,s){S(l,t,s),q(n,l,s),i=!0},p(l,s){e=l;const a={};s&1&&(a.style={"margin-top":e[10]?"5px":"0"}),s&8193&&(a.$$scope={dirty:s,ctx:e}),n.$set(a)},i(l){i||(P(n.$$.fragment,l),i=!0)},o(l){M(n.$$.fragment,l),i=!1},d(l){l&&v(t),J(n,l)}}}function ca(r){let e,t=[],n=new Map,i,l=r[0].stringSets;const s=a=>a[10];for(let a=0;a<l.length;a+=1){let o=ir(r,l,a),c=s(o);n.set(c,t[a]=sr(c,o))}return{c(){e=U("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=A(a,"UL",{class:!0});var o=T(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(v),this.h()},h(){E(e,"class","svelte-f4dafu")},m(a,o){S(a,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0},p(a,[o]){o&15&&(l=a[0].stringSets,Te(),t=Lt(t,o,s,1,a,l,n,e,nn,sr,null,ir),Ce())},i(a){if(!i){for(let o=0;o<l.length;o+=1)P(t[o]);i=!0}},o(a){for(let o=0;o<t.length;o+=1)M(t[o]);i=!1},d(a){a&&v(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ua(r,e,t){let{content:n}=e,{onChange:i}=e;const l=(d,p)=>i(de(n,g=>{const m=g.stringSets[p];m&&(m.description=d.target.value)})),s=(d,p)=>i(de(n,g=>{const m=g.stringSets[p];m&&(m.languageId=parseInt(d.target.value,10))})),a=(d,p)=>i(de(n,g=>{const m=g.stringSets[p];m&&(m.value=d.target.value)})),o=(d,p)=>l(p,d),c=(d,p)=>s(p,d),f=(d,p)=>a(p,d);return r.$$set=d=>{"content"in d&&t(0,n=d.content),"onChange"in d&&t(4,i=d.onChange)},[n,l,s,a,i,o,c,f]}class Yt extends le{constructor(e){super(),ae(this,e,ua,ca,ie,{content:0,onChange:4})}}var fa=function(r){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=r,t.c=e,t.d=function(n,i,l){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:l})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="",t(t.s=0)}([function(r,e,t){(function(n){var i=function(){function f(d,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}}();function l(f){if(Array.isArray(f)){for(var d=0,p=Array(f.length);d<f.length;d++)p[d]=f[d];return p}else return Array.from(f)}function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var a={noImage:0,colorMapped:1,RGB:2,blackAndWhite:3,runlengthColorMapped:9,runlengthRGB:10,compressedBlackAndWhite:11,compressedColorMapped:32,compressed4PassQTColorMapped:33},o=18,c=function(){function f(d){var p=this;s(this,f),d instanceof n?this._buffer=d:typeof d=="string"?this._buffer=n.from(d,"binary"):d?this._buffer=n.from(d):this._buffer=null,this._idLength=0,this._colorMapType=0,this._imageType=0,this._colorMapOrigin=0,this._colorMapLength=0,this._colorMapDepth=0,this._imageXOrigin=0,this._imageYOrigin=0,this._imageWidth=0,this._imageHeight=0,this._imageDepth=0,this._alphaDepth=0,this._leftToRight=!0,this._topToBottom=!1,this._interleave=!1,this._hasAlpha=!1,this._imageID=null,this._canvas=null,this._context=null,this._imageData=null,this._image=null,this._src=null,this.onload=null,this.onerror=null,this._resolveFunc=null,this._rejectFunc=null,this._didLoad=new Promise(function(g,m){p._resolveFunc=g,p._rejectFunc=m}),d&&this._parseData()}return i(f,[{key:"_loadURL",value:function(p){var g=this;this._src=p,this._requestBinaryFile(p).then(function(m){g._buffer=n.from(m),g._parseData()}).catch(function(m){g._reject(m)})}},{key:"_requestBinaryFile",value:function(p){return new Promise(function(g,m){var y=new XMLHttpRequest;y.open("GET",p),y.responseType="arraybuffer",y.onload=function(b){y.response?g(y.response):m(y)},y.onerror=function(b){m(b)},y.send(null)})}},{key:"_parseData",value:function(){this._readHeader(),this._readImageID(),this._initImage();var p=this._getImageData();switch(this._imageType){case a.noImage:break;case a.colorMapped:{this._parseColorMapData(p);break}case a.RGB:{this._parseRGBData(p);break}case a.blackAndWhite:{this._parseBlackAndWhiteData(p);break}case a.runlengthColorMapped:{this._parseColorMapData(p);break}case a.runlengthRGB:{this._parseRGBData(p);break}case a.compressedBlackAndWhite:{this._parseBlackAndWhiteData(p);break}case a.compressedColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}case a.compressed4PassQTColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}default:throw new Error("unknown imageType: "+this._imageType)}this._setImage(),this._deleteBuffer()}},{key:"_readHeader",value:function(){this._idLength=this._buffer.readUIntLE(0,1),this._colorMapType=this._buffer.readUIntLE(1,1),this._imageType=this._buffer.readUIntLE(2,1),this._colorMapOrigin=this._buffer.readUIntLE(3,2),this._colorMapLength=this._buffer.readUIntLE(5,2),this._colorMapDepth=this._buffer.readUIntLE(7,1),this._imageXOrigin=this._buffer.readUIntLE(8,2),this._imageYOrigin=this._buffer.readUIntLE(10,2),this._imageWidth=this._buffer.readUIntLE(12,2),this._imageHeight=this._buffer.readUIntLE(14,2),this._imageDepth=this._buffer.readUIntLE(16,1);var p=this._buffer.readUIntLE(17,1);this._alphaDepth=p&15,this._leftToRight=(p&16)===0,this._topToBottom=(p&32)>0,this._interleave=p&192}},{key:"_readImageID",value:function(){this._idLength>0&&(this._imageID=this._buffer.subarray(o,this._idLength))}},{key:"_initImage",value:function(){this._imageType!==a.noImage&&(this._imageWidth<=0||this._imageHeight<=0||(this._canvas=document.createElement("canvas"),this._canvas.width=this._imageWidth,this._canvas.height=this._imageHeight,this._context=this._canvas.getContext("2d"),this._imageData=this._context.createImageData(this._imageWidth,this._imageHeight)))}},{key:"_setImage",value:function(){var p=this;this._context.putImageData(this._imageData,0,0),this._image=new Image,this._image.width=this._imageWidth,this._image.height=this._imageHeight,this._image.onload=function(){p._resolve()},this._image.src=this._canvas.toDataURL()}},{key:"_deleteBuffer",value:function(){this._buffer&&(delete this._buffer,this._buffer=null),this._imageData&&(delete this._imageData,this._imageData=null)}},{key:"_parseColorMapData",value:function(p){if(this._colorMapDepth===24||this._colorMapDepth===16||this._colorMapDepth===15)this._hasAlpha=!1;else if(this._colorMapDepth===32)this._hasAlpha=!0;else throw new Error("unknown colorMapDepth: "+this._colorMapDepth);var g=o+this._idLength,m=Math.ceil(this._colorMapDepth/8);m*this._colorMapLength;for(var y=1,b=[],k=g,C=0;C<this._colorMapLength;C++){var D=this._getRGBA(this._buffer,k,this._colorMapDepth);b.push(D),k+=m}var F=this._imageData.data,H=0,j=0,G=1,B=1;this._leftToRight||(H=this._imageWidth-1,G=-1),this._topToBottom||(j=this._imageHeight-1,B=-1),k=0;for(var K=j,V=[255,255,255,255],L=0;L<this._imageHeight;L++){for(var W=H,te=0;te<this._imageWidth;te++){var ge=(K*this._imageWidth+W)*4,z=V,Ee=p[k]-this._colorMapOrigin;Ee>=0&&(z=b[Ee]),F[ge]=z[0],F[ge+1]=z[1],F[ge+2]=z[2],F[ge+3]=z[3],W+=G,k+=y}K+=B}}},{key:"_parseRGBData",value:function(p){if(this._imageDepth===24||this._imageDepth===16||this._imageDepth===15)this._hasAlpha=!1;else if(this._imageDepth===32)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var g=Math.ceil(this._imageDepth/8),m=this._imageData.data,y=0,b=0,k=1,C=1;this._leftToRight||(y=this._imageWidth-1,k=-1),this._topToBottom||(b=this._imageHeight-1,C=-1);for(var D=0,F=b,H=0;H<this._imageHeight;H++){for(var j=y,G=0;G<this._imageWidth;G++){var B=(F*this._imageWidth+j)*4,K=this._getRGBA(p,D,this._imageDepth);m[B]=K[0],m[B+1]=K[1],m[B+2]=K[2],m[B+3]=K[3],j+=k,D+=g}F+=C}}},{key:"_getRGBA",value:function(p,g,m){if(m===15){var y=(p[g+1]&124)<<1,b=(p[g+1]&3)<<6|(p[g]&224)>>2,k=(p[g]&31)<<3,C=255;return[y,b,k,C]}else if(m===16){var D=(p[g+1]&124)<<1,F=(p[g+1]&3)<<6|(p[g]&224)>>2,H=(p[g]&31)<<3,j=255;return[D,F,H,j]}else{if(m===24)return[p[g+2],p[g+1],p[g],255];if(m===32)return[p[g+2],p[g+1],p[g],p[g+3]]}throw new Error("unsupported imageDepth: "+m)}},{key:"_parseBlackAndWhiteData",value:function(p){if(this._imageDepth==8)this._hasAlpha=!1;else if(this._imageDepth==16)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var g=this._imageDepth/8,m=this._imageData.data,y=0,b=0,k=1,C=1;this._leftToRight||(y=this._imageWidth-1,k=-1),this._topToBottom||(b=this._imageHeight-1,C=-1);var D=0;if(this._hasAlpha)for(var F=b,H=0;H<this._imageHeight;H++){for(var j=y,G=0;G<this._imageWidth;G++){var B=(F*this._imageWidth+j)*4,K=p[D],V=p[D+1];m[B]=K,m[B+1]=K,m[B+2]=K,m[B+3]=V,j+=k,D+=g}F+=C}else for(var L=b,W=0;W<this._imageHeight;W++){for(var te=y,ge=0;ge<this._imageWidth;ge++){var z=(L*this._imageWidth+te)*4,Ee=p[D],be=255;m[z]=Ee,m[z+1]=Ee,m[z+2]=Ee,m[z+3]=be,te+=k,D+=g}L+=C}}},{key:"_getImageData",value:function(){var p=null;if(this._imageType!==a.none){var g=Math.ceil(this._colorMapDepth/8)*this._colorMapLength,m=o+this._idLength+g;p=this._buffer.subarray(m)}return this._imageType===a.runlengthColorMapped||this._imageType===a.runlengthRGB?p=this._decompressRunlengthData(p):this._imageType===a.compressedBlackAndWhite?p=this._decompressRunlengthData(p):(this._imageType===a.compressedColorMapped||this._imageType===a.compressed4PassQTColorMapped)&&console.error("Compressed Color Mapped TGA Image data is not supported"),p}},{key:"_decompressRunlengthData",value:function(p){for(var g=[],m=Math.ceil(this._imageDepth/8),y=m*this._imageWidth*this._imageHeight,b=0;g.length<y;){var k=p[b];if(b+=1,k&128){var C=p.slice(b,b+m);b+=m;for(var D=(k&127)+1,F=0;F<D;F++)g.push.apply(g,l(C))}else{var H=(k+1)*m;g.push.apply(g,l(p.slice(b,b+H))),b+=H}}return g}},{key:"_resolve",value:function(p){this.onload&&this.onload(p),this._resolveFunc(p)}},{key:"_reject",value:function(p){this.onerror&&this.onerror(p),this._rejectFunc(p)}},{key:"image",get:function(){return this._image}},{key:"canvas",get:function(){return this._canvas}},{key:"didLoad",get:function(){return this._didLoad}},{key:"src",get:function(){return this._src},set:function(p){this._loadURL(p)}}],[{key:"imageWithData",value:function(p){return new f(p)}},{key:"imageWithURL",value:function(p){var g=new f;return g._loadURL(p),g}}]),f}();r.exports=c}).call(e,t(1).Buffer)},function(r,e,t){(function(n){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var i=t(3),l=t(4),s=t(5);e.Buffer=f,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=o();function a(){try{var _=new Uint8Array(1);return _.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},_.foo()===42&&typeof _.subarray=="function"&&_.subarray(1,1).byteLength===0}catch{return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(_,u){if(o()<u)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(_=new Uint8Array(u),_.__proto__=f.prototype):(_===null&&(_=new f(u)),_.length=u),_}function f(_,u,h){if(!f.TYPED_ARRAY_SUPPORT&&!(this instanceof f))return new f(_,u,h);if(typeof _=="number"){if(typeof u=="string")throw new Error("If encoding is specified then the first argument must be a string");return m(this,_)}return d(this,_,u,h)}f.poolSize=8192,f._augment=function(_){return _.__proto__=f.prototype,_};function d(_,u,h,w){if(typeof u=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&u instanceof ArrayBuffer?k(_,u,h,w):typeof u=="string"?y(_,u,h):C(_,u)}f.from=function(_,u,h){return d(null,_,u,h)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0}));function p(_){if(typeof _!="number")throw new TypeError('"size" argument must be a number');if(_<0)throw new RangeError('"size" argument must not be negative')}function g(_,u,h,w){return p(u),u<=0?c(_,u):h!==void 0?typeof w=="string"?c(_,u).fill(h,w):c(_,u).fill(h):c(_,u)}f.alloc=function(_,u,h){return g(null,_,u,h)};function m(_,u){if(p(u),_=c(_,u<0?0:D(u)|0),!f.TYPED_ARRAY_SUPPORT)for(var h=0;h<u;++h)_[h]=0;return _}f.allocUnsafe=function(_){return m(null,_)},f.allocUnsafeSlow=function(_){return m(null,_)};function y(_,u,h){if((typeof h!="string"||h==="")&&(h="utf8"),!f.isEncoding(h))throw new TypeError('"encoding" must be a valid string encoding');var w=H(u,h)|0;_=c(_,w);var I=_.write(u,h);return I!==w&&(_=_.slice(0,I)),_}function b(_,u){var h=u.length<0?0:D(u.length)|0;_=c(_,h);for(var w=0;w<h;w+=1)_[w]=u[w]&255;return _}function k(_,u,h,w){if(u.byteLength,h<0||u.byteLength<h)throw new RangeError("'offset' is out of bounds");if(u.byteLength<h+(w||0))throw new RangeError("'length' is out of bounds");return h===void 0&&w===void 0?u=new Uint8Array(u):w===void 0?u=new Uint8Array(u,h):u=new Uint8Array(u,h,w),f.TYPED_ARRAY_SUPPORT?(_=u,_.__proto__=f.prototype):_=b(_,u),_}function C(_,u){if(f.isBuffer(u)){var h=D(u.length)|0;return _=c(_,h),_.length===0||u.copy(_,0,0,h),_}if(u){if(typeof ArrayBuffer<"u"&&u.buffer instanceof ArrayBuffer||"length"in u)return typeof u.length!="number"||Lr(u.length)?c(_,0):b(_,u);if(u.type==="Buffer"&&s(u.data))return b(_,u.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function D(_){if(_>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return _|0}function F(_){return+_!=_&&(_=0),f.alloc(+_)}f.isBuffer=function(u){return!!(u!=null&&u._isBuffer)},f.compare=function(u,h){if(!f.isBuffer(u)||!f.isBuffer(h))throw new TypeError("Arguments must be Buffers");if(u===h)return 0;for(var w=u.length,I=h.length,R=0,O=Math.min(w,I);R<O;++R)if(u[R]!==h[R]){w=u[R],I=h[R];break}return w<I?-1:I<w?1:0},f.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(u,h){if(!s(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return f.alloc(0);var w;if(h===void 0)for(h=0,w=0;w<u.length;++w)h+=u[w].length;var I=f.allocUnsafe(h),R=0;for(w=0;w<u.length;++w){var O=u[w];if(!f.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(I,R),R+=O.length}return I};function H(_,u){if(f.isBuffer(_))return _.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(_)||_ instanceof ArrayBuffer))return _.byteLength;typeof _!="string"&&(_=""+_);var h=_.length;if(h===0)return 0;for(var w=!1;;)switch(u){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":case void 0:return At(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return hn(_).length;default:if(w)return At(_).length;u=(""+u).toLowerCase(),w=!0}}f.byteLength=H;function j(_,u,h){var w=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,u>>>=0,h<=u))return"";for(_||(_="utf8");;)switch(_){case"hex":return ne(this,u,h);case"utf8":case"utf-8":return be(this,u,h);case"ascii":return ut(this,u,h);case"latin1":case"binary":return Ie(this,u,h);case"base64":return Ee(this,u,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,u,h);default:if(w)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),w=!0}}f.prototype._isBuffer=!0;function G(_,u,h){var w=_[u];_[u]=_[h],_[h]=w}f.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var h=0;h<u;h+=2)G(this,h,h+1);return this},f.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var h=0;h<u;h+=4)G(this,h,h+3),G(this,h+1,h+2);return this},f.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var h=0;h<u;h+=8)G(this,h,h+7),G(this,h+1,h+6),G(this,h+2,h+5),G(this,h+3,h+4);return this},f.prototype.toString=function(){var u=this.length|0;return u===0?"":arguments.length===0?be(this,0,u):j.apply(this,arguments)},f.prototype.equals=function(u){if(!f.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:f.compare(this,u)===0},f.prototype.inspect=function(){var u="",h=e.INSPECT_MAX_BYTES;return this.length>0&&(u=this.toString("hex",0,h).match(/.{2}/g).join(" "),this.length>h&&(u+=" ... ")),"<Buffer "+u+">"},f.prototype.compare=function(u,h,w,I,R){if(!f.isBuffer(u))throw new TypeError("Argument must be a Buffer");if(h===void 0&&(h=0),w===void 0&&(w=u?u.length:0),I===void 0&&(I=0),R===void 0&&(R=this.length),h<0||w>u.length||I<0||R>this.length)throw new RangeError("out of range index");if(I>=R&&h>=w)return 0;if(I>=R)return-1;if(h>=w)return 1;if(h>>>=0,w>>>=0,I>>>=0,R>>>=0,this===u)return 0;for(var O=R-I,ue=w-h,me=Math.min(O,ue),we=this.slice(I,R),Ne=u.slice(h,w),ye=0;ye<me;++ye)if(we[ye]!==Ne[ye]){O=we[ye],ue=Ne[ye];break}return O<ue?-1:ue<O?1:0};function B(_,u,h,w,I){if(_.length===0)return-1;if(typeof h=="string"?(w=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,isNaN(h)&&(h=I?0:_.length-1),h<0&&(h=_.length+h),h>=_.length){if(I)return-1;h=_.length-1}else if(h<0)if(I)h=0;else return-1;if(typeof u=="string"&&(u=f.from(u,w)),f.isBuffer(u))return u.length===0?-1:K(_,u,h,w,I);if(typeof u=="number")return u=u&255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(_,u,h):Uint8Array.prototype.lastIndexOf.call(_,u,h):K(_,[u],h,w,I);throw new TypeError("val must be string, number or Buffer")}function K(_,u,h,w,I){var R=1,O=_.length,ue=u.length;if(w!==void 0&&(w=String(w).toLowerCase(),w==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(_.length<2||u.length<2)return-1;R=2,O/=2,ue/=2,h/=2}function me(dn,pn){return R===1?dn[pn]:dn.readUInt16BE(pn*R)}var we;if(I){var Ne=-1;for(we=h;we<O;we++)if(me(_,we)===me(u,Ne===-1?0:we-Ne)){if(Ne===-1&&(Ne=we),we-Ne+1===ue)return Ne*R}else Ne!==-1&&(we-=we-Ne),Ne=-1}else for(h+ue>O&&(h=O-ue),we=h;we>=0;we--){for(var ye=!0,Ct=0;Ct<ue;Ct++)if(me(_,we+Ct)!==me(u,Ct)){ye=!1;break}if(ye)return we}return-1}f.prototype.includes=function(u,h,w){return this.indexOf(u,h,w)!==-1},f.prototype.indexOf=function(u,h,w){return B(this,u,h,w,!0)},f.prototype.lastIndexOf=function(u,h,w){return B(this,u,h,w,!1)};function V(_,u,h,w){h=Number(h)||0;var I=_.length-h;w?(w=Number(w),w>I&&(w=I)):w=I;var R=u.length;if(R%2!==0)throw new TypeError("Invalid hex string");w>R/2&&(w=R/2);for(var O=0;O<w;++O){var ue=parseInt(u.substr(O*2,2),16);if(isNaN(ue))return O;_[h+O]=ue}return O}function L(_,u,h,w){return Tt(At(u,_.length-h),_,h,w)}function W(_,u,h,w){return Tt(Or(u),_,h,w)}function te(_,u,h,w){return W(_,u,h,w)}function ge(_,u,h,w){return Tt(hn(u),_,h,w)}function z(_,u,h,w){return Tt(Mr(u,_.length-h),_,h,w)}f.prototype.write=function(u,h,w,I){if(h===void 0)I="utf8",w=this.length,h=0;else if(w===void 0&&typeof h=="string")I=h,w=this.length,h=0;else if(isFinite(h))h=h|0,isFinite(w)?(w=w|0,I===void 0&&(I="utf8")):(I=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var R=this.length-h;if((w===void 0||w>R)&&(w=R),u.length>0&&(w<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");for(var O=!1;;)switch(I){case"hex":return V(this,u,h,w);case"utf8":case"utf-8":return L(this,u,h,w);case"ascii":return W(this,u,h,w);case"latin1":case"binary":return te(this,u,h,w);case"base64":return ge(this,u,h,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,u,h,w);default:if(O)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),O=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ee(_,u,h){return u===0&&h===_.length?i.fromByteArray(_):i.fromByteArray(_.slice(u,h))}function be(_,u,h){h=Math.min(_.length,h);for(var w=[],I=u;I<h;){var R=_[I],O=null,ue=R>239?4:R>223?3:R>191?2:1;if(I+ue<=h){var me,we,Ne,ye;switch(ue){case 1:R<128&&(O=R);break;case 2:me=_[I+1],(me&192)===128&&(ye=(R&31)<<6|me&63,ye>127&&(O=ye));break;case 3:me=_[I+1],we=_[I+2],(me&192)===128&&(we&192)===128&&(ye=(R&15)<<12|(me&63)<<6|we&63,ye>2047&&(ye<55296||ye>57343)&&(O=ye));break;case 4:me=_[I+1],we=_[I+2],Ne=_[I+3],(me&192)===128&&(we&192)===128&&(Ne&192)===128&&(ye=(R&15)<<18|(me&63)<<12|(we&63)<<6|Ne&63,ye>65535&&ye<1114112&&(O=ye))}}O===null?(O=65533,ue=1):O>65535&&(O-=65536,w.push(O>>>10&1023|55296),O=56320|O&1023),w.push(O),I+=ue}return Ue(w)}var ce=4096;function Ue(_){var u=_.length;if(u<=ce)return String.fromCharCode.apply(String,_);for(var h="",w=0;w<u;)h+=String.fromCharCode.apply(String,_.slice(w,w+=ce));return h}function ut(_,u,h){var w="";h=Math.min(_.length,h);for(var I=u;I<h;++I)w+=String.fromCharCode(_[I]&127);return w}function Ie(_,u,h){var w="";h=Math.min(_.length,h);for(var I=u;I<h;++I)w+=String.fromCharCode(_[I]);return w}function ne(_,u,h){var w=_.length;(!u||u<0)&&(u=0),(!h||h<0||h>w)&&(h=w);for(var I="",R=u;R<h;++R)I+=Pr(_[R]);return I}function se(_,u,h){for(var w=_.slice(u,h),I="",R=0;R<w.length;R+=2)I+=String.fromCharCode(w[R]+w[R+1]*256);return I}f.prototype.slice=function(u,h){var w=this.length;u=~~u,h=h===void 0?w:~~h,u<0?(u+=w,u<0&&(u=0)):u>w&&(u=w),h<0?(h+=w,h<0&&(h=0)):h>w&&(h=w),h<u&&(h=u);var I;if(f.TYPED_ARRAY_SUPPORT)I=this.subarray(u,h),I.__proto__=f.prototype;else{var R=h-u;I=new f(R,void 0);for(var O=0;O<R;++O)I[O]=this[O+u]}return I};function oe(_,u,h){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+u>h)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(u,h,w){u=u|0,h=h|0,w||oe(u,h,this.length);for(var I=this[u],R=1,O=0;++O<h&&(R*=256);)I+=this[u+O]*R;return I},f.prototype.readUIntBE=function(u,h,w){u=u|0,h=h|0,w||oe(u,h,this.length);for(var I=this[u+--h],R=1;h>0&&(R*=256);)I+=this[u+--h]*R;return I},f.prototype.readUInt8=function(u,h){return h||oe(u,1,this.length),this[u]},f.prototype.readUInt16LE=function(u,h){return h||oe(u,2,this.length),this[u]|this[u+1]<<8},f.prototype.readUInt16BE=function(u,h){return h||oe(u,2,this.length),this[u]<<8|this[u+1]},f.prototype.readUInt32LE=function(u,h){return h||oe(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},f.prototype.readUInt32BE=function(u,h){return h||oe(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},f.prototype.readIntLE=function(u,h,w){u=u|0,h=h|0,w||oe(u,h,this.length);for(var I=this[u],R=1,O=0;++O<h&&(R*=256);)I+=this[u+O]*R;return R*=128,I>=R&&(I-=Math.pow(2,8*h)),I},f.prototype.readIntBE=function(u,h,w){u=u|0,h=h|0,w||oe(u,h,this.length);for(var I=h,R=1,O=this[u+--I];I>0&&(R*=256);)O+=this[u+--I]*R;return R*=128,O>=R&&(O-=Math.pow(2,8*h)),O},f.prototype.readInt8=function(u,h){return h||oe(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},f.prototype.readInt16LE=function(u,h){h||oe(u,2,this.length);var w=this[u]|this[u+1]<<8;return w&32768?w|4294901760:w},f.prototype.readInt16BE=function(u,h){h||oe(u,2,this.length);var w=this[u+1]|this[u]<<8;return w&32768?w|4294901760:w},f.prototype.readInt32LE=function(u,h){return h||oe(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},f.prototype.readInt32BE=function(u,h){return h||oe(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},f.prototype.readFloatLE=function(u,h){return h||oe(u,4,this.length),l.read(this,u,!0,23,4)},f.prototype.readFloatBE=function(u,h){return h||oe(u,4,this.length),l.read(this,u,!1,23,4)},f.prototype.readDoubleLE=function(u,h){return h||oe(u,8,this.length),l.read(this,u,!0,52,8)},f.prototype.readDoubleBE=function(u,h){return h||oe(u,8,this.length),l.read(this,u,!1,52,8)};function _e(_,u,h,w,I,R){if(!f.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>I||u<R)throw new RangeError('"value" argument is out of bounds');if(h+w>_.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(u,h,w,I){if(u=+u,h=h|0,w=w|0,!I){var R=Math.pow(2,8*w)-1;_e(this,u,h,w,R,0)}var O=1,ue=0;for(this[h]=u&255;++ue<w&&(O*=256);)this[h+ue]=u/O&255;return h+w},f.prototype.writeUIntBE=function(u,h,w,I){if(u=+u,h=h|0,w=w|0,!I){var R=Math.pow(2,8*w)-1;_e(this,u,h,w,R,0)}var O=w-1,ue=1;for(this[h+O]=u&255;--O>=0&&(ue*=256);)this[h+O]=u/ue&255;return h+w},f.prototype.writeUInt8=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,1,255,0),f.TYPED_ARRAY_SUPPORT||(u=Math.floor(u)),this[h]=u&255,h+1};function Le(_,u,h,w){u<0&&(u=65535+u+1);for(var I=0,R=Math.min(_.length-h,2);I<R;++I)_[h+I]=(u&255<<8*(w?I:1-I))>>>(w?I:1-I)*8}f.prototype.writeUInt16LE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[h]=u&255,this[h+1]=u>>>8):Le(this,u,h,!0),h+2},f.prototype.writeUInt16BE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[h]=u>>>8,this[h+1]=u&255):Le(this,u,h,!1),h+2};function Ve(_,u,h,w){u<0&&(u=4294967295+u+1);for(var I=0,R=Math.min(_.length-h,4);I<R;++I)_[h+I]=u>>>(w?I:3-I)*8&255}f.prototype.writeUInt32LE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[h+3]=u>>>24,this[h+2]=u>>>16,this[h+1]=u>>>8,this[h]=u&255):Ve(this,u,h,!0),h+4},f.prototype.writeUInt32BE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[h]=u>>>24,this[h+1]=u>>>16,this[h+2]=u>>>8,this[h+3]=u&255):Ve(this,u,h,!1),h+4},f.prototype.writeIntLE=function(u,h,w,I){if(u=+u,h=h|0,!I){var R=Math.pow(2,8*w-1);_e(this,u,h,w,R-1,-R)}var O=0,ue=1,me=0;for(this[h]=u&255;++O<w&&(ue*=256);)u<0&&me===0&&this[h+O-1]!==0&&(me=1),this[h+O]=(u/ue>>0)-me&255;return h+w},f.prototype.writeIntBE=function(u,h,w,I){if(u=+u,h=h|0,!I){var R=Math.pow(2,8*w-1);_e(this,u,h,w,R-1,-R)}var O=w-1,ue=1,me=0;for(this[h+O]=u&255;--O>=0&&(ue*=256);)u<0&&me===0&&this[h+O+1]!==0&&(me=1),this[h+O]=(u/ue>>0)-me&255;return h+w},f.prototype.writeInt8=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,1,127,-128),f.TYPED_ARRAY_SUPPORT||(u=Math.floor(u)),u<0&&(u=255+u+1),this[h]=u&255,h+1},f.prototype.writeInt16LE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[h]=u&255,this[h+1]=u>>>8):Le(this,u,h,!0),h+2},f.prototype.writeInt16BE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[h]=u>>>8,this[h+1]=u&255):Le(this,u,h,!1),h+2},f.prototype.writeInt32LE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[h]=u&255,this[h+1]=u>>>8,this[h+2]=u>>>16,this[h+3]=u>>>24):Ve(this,u,h,!0),h+4},f.prototype.writeInt32BE=function(u,h,w){return u=+u,h=h|0,w||_e(this,u,h,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),f.TYPED_ARRAY_SUPPORT?(this[h]=u>>>24,this[h+1]=u>>>16,this[h+2]=u>>>8,this[h+3]=u&255):Ve(this,u,h,!1),h+4};function Ye(_,u,h,w,I,R){if(h+w>_.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function je(_,u,h,w,I){return I||Ye(_,u,h,4),l.write(_,u,h,w,23,4),h+4}f.prototype.writeFloatLE=function(u,h,w){return je(this,u,h,!0,w)},f.prototype.writeFloatBE=function(u,h,w){return je(this,u,h,!1,w)};function qe(_,u,h,w,I){return I||Ye(_,u,h,8),l.write(_,u,h,w,52,8),h+8}f.prototype.writeDoubleLE=function(u,h,w){return qe(this,u,h,!0,w)},f.prototype.writeDoubleBE=function(u,h,w){return qe(this,u,h,!1,w)},f.prototype.copy=function(u,h,w,I){if(w||(w=0),!I&&I!==0&&(I=this.length),h>=u.length&&(h=u.length),h||(h=0),I>0&&I<w&&(I=w),I===w||u.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("sourceStart out of bounds");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),u.length-h<I-w&&(I=u.length-h+w);var R=I-w,O;if(this===u&&w<h&&h<I)for(O=R-1;O>=0;--O)u[O+h]=this[O+w];else if(R<1e3||!f.TYPED_ARRAY_SUPPORT)for(O=0;O<R;++O)u[O+h]=this[O+w];else Uint8Array.prototype.set.call(u,this.subarray(w,w+R),h);return R},f.prototype.fill=function(u,h,w,I){if(typeof u=="string"){if(typeof h=="string"?(I=h,h=0,w=this.length):typeof w=="string"&&(I=w,w=this.length),u.length===1){var R=u.charCodeAt(0);R<256&&(u=R)}if(I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!f.isEncoding(I))throw new TypeError("Unknown encoding: "+I)}else typeof u=="number"&&(u=u&255);if(h<0||this.length<h||this.length<w)throw new RangeError("Out of range index");if(w<=h)return this;h=h>>>0,w=w===void 0?this.length:w>>>0,u||(u=0);var O;if(typeof u=="number")for(O=h;O<w;++O)this[O]=u;else{var ue=f.isBuffer(u)?u:At(new f(u,I).toString()),me=ue.length;for(O=0;O<w-h;++O)this[O+h]=ue[O%me]}return this};var He=/[^+\/0-9A-Za-z-_]/g;function Sr(_){if(_=Rr(_).replace(He,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function Rr(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")}function Pr(_){return _<16?"0"+_.toString(16):_.toString(16)}function At(_,u){u=u||1/0;for(var h,w=_.length,I=null,R=[],O=0;O<w;++O){if(h=_.charCodeAt(O),h>55295&&h<57344){if(!I){if(h>56319){(u-=3)>-1&&R.push(239,191,189);continue}else if(O+1===w){(u-=3)>-1&&R.push(239,191,189);continue}I=h;continue}if(h<56320){(u-=3)>-1&&R.push(239,191,189),I=h;continue}h=(I-55296<<10|h-56320)+65536}else I&&(u-=3)>-1&&R.push(239,191,189);if(I=null,h<128){if((u-=1)<0)break;R.push(h)}else if(h<2048){if((u-=2)<0)break;R.push(h>>6|192,h&63|128)}else if(h<65536){if((u-=3)<0)break;R.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((u-=4)<0)break;R.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return R}function Or(_){for(var u=[],h=0;h<_.length;++h)u.push(_.charCodeAt(h)&255);return u}function Mr(_,u){for(var h,w,I,R=[],O=0;O<_.length&&!((u-=2)<0);++O)h=_.charCodeAt(O),w=h>>8,I=h%256,R.push(I),R.push(w);return R}function hn(_){return i.toByteArray(Sr(_))}function Tt(_,u,h,w){for(var I=0;I<w&&!(I+h>=u.length||I>=_.length);++I)u[I+h]=_[I];return I}function Lr(_){return _!==_}}).call(e,t(2))},function(r,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}r.exports=t},function(r,e,t){e.byteLength=f,e.toByteArray=d,e.fromByteArray=m;for(var n=[],i=[],l=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function c(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return y[b-2]==="="?2:y[b-1]==="="?1:0}function f(y){return y.length*3/4-c(y)}function d(y){var b,k,C,D,F,H=y.length;D=c(y),F=new l(H*3/4-D),k=D>0?H-4:H;var j=0;for(b=0;b<k;b+=4)C=i[y.charCodeAt(b)]<<18|i[y.charCodeAt(b+1)]<<12|i[y.charCodeAt(b+2)]<<6|i[y.charCodeAt(b+3)],F[j++]=C>>16&255,F[j++]=C>>8&255,F[j++]=C&255;return D===2?(C=i[y.charCodeAt(b)]<<2|i[y.charCodeAt(b+1)]>>4,F[j++]=C&255):D===1&&(C=i[y.charCodeAt(b)]<<10|i[y.charCodeAt(b+1)]<<4|i[y.charCodeAt(b+2)]>>2,F[j++]=C>>8&255,F[j++]=C&255),F}function p(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function g(y,b,k){for(var C,D=[],F=b;F<k;F+=3)C=(y[F]<<16)+(y[F+1]<<8)+y[F+2],D.push(p(C));return D.join("")}function m(y){for(var b,k=y.length,C=k%3,D="",F=[],H=16383,j=0,G=k-C;j<G;j+=H)F.push(g(y,j,j+H>G?G:j+H));return C===1?(b=y[k-1],D+=n[b>>2],D+=n[b<<4&63],D+="=="):C===2&&(b=(y[k-2]<<8)+y[k-1],D+=n[b>>10],D+=n[b>>4&63],D+=n[b<<2&63],D+="="),F.push(D),F.join("")}},function(r,e){e.read=function(t,n,i,l,s){var a,o,c=s*8-l-1,f=(1<<c)-1,d=f>>1,p=-7,g=i?s-1:0,m=i?-1:1,y=t[n+g];for(g+=m,a=y&(1<<-p)-1,y>>=-p,p+=c;p>0;a=a*256+t[n+g],g+=m,p-=8);for(o=a&(1<<-p)-1,a>>=-p,p+=l;p>0;o=o*256+t[n+g],g+=m,p-=8);if(a===0)a=1-d;else{if(a===f)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,l),a=a-d}return(y?-1:1)*o*Math.pow(2,a-l)},e.write=function(t,n,i,l,s,a){var o,c,f,d=a*8-s-1,p=(1<<d)-1,g=p>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:a-1,b=l?1:-1,k=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,o=p):(o=Math.floor(Math.log(n)/Math.LN2),n*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+g>=1?n+=m/f:n+=m*Math.pow(2,1-g),n*f>=2&&(o++,f/=2),o+g>=p?(c=0,o=p):o+g>=1?(c=(n*f-1)*Math.pow(2,s),o=o+g):(c=n*Math.pow(2,g-1)*Math.pow(2,s),o=0));s>=8;t[i+y]=c&255,y+=b,c/=256,s-=8);for(o=o<<s|c,d+=s;d>0;t[i+y]=o&255,y+=b,o/=256,d-=8);t[i+y-b]|=k*128}},function(r,e){var t={}.toString;r.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}}]);function ha(r){let e;return{c(){e=Q("Upload image file")},l(t){e=Z(t,"Upload image file")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function da(r){let e,t;return e=new Me({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[6],$$slots:{default:[ha]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,i){const l={};i&4&&(l.onClick=n[6]),i&512&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function or(r){let e,t;return e=new ze({props:{secondary:!0,style:{"margin-top":"5px",overflow:"hidden"},$$slots:{default:[pa]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,i){const l={};i&514&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function pa(r){let e,t;return{c(){e=U("img"),this.h()},l(n){e=A(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){vn(e.src,t=r[1])||E(e,"src",t),E(e,"alt",""),E(e,"class","svelte-23h5j9")},m(n,i){S(n,e,i)},p(n,i){i&2&&!vn(e.src,t=n[1])&&E(e,"src",t)},d(n){n&&v(e)}}}function ga(r){let e,t,n,i,l,s,a,o;i=new ze({props:{secondary:!0,$$slots:{default:[da]},$$scope:{ctx:r}}});let c=r[1]&&or(r);return{c(){e=U("div"),t=U("input"),n=N(),Y(i.$$.fragment),l=N(),c&&c.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var d=T(e);t=A(d,"INPUT",{type:!0,accept:!0,class:!0}),n=x(d),X(i.$$.fragment,d),l=x(d),c&&c.l(d),d.forEach(v),this.h()},h(){E(t,"type","file"),E(t,"accept","image/jpeg, image/png, .tga"),E(t,"class","svelte-23h5j9"),E(e,"class","tga-view svelte-23h5j9")},m(f,d){S(f,e,d),$(e,t),r[4](t),$(e,n),q(i,e,null),$(e,l),c&&c.m(e,null),s=!0,a||(o=fe(t,"change",r[5]),a=!0)},p(f,[d]){const p={};d&516&&(p.$$scope={dirty:d,ctx:f}),i.$set(p),f[1]?c?(c.p(f,d),d&2&&P(c,1)):(c=or(f),c.c(),P(c,1),c.m(e,null)):c&&(Te(),M(c,1,1,()=>{c=null}),Ce())},i(f){s||(P(i.$$.fragment,f),P(c),s=!0)},o(f){M(i.$$.fragment,f),M(c),s=!1},d(f){f&&v(e),r[4](null),J(i),c&&c.d(),a=!1,o()}}}function _a(r,e,t){let{content:n}=e,{onChange:i}=e,l,s;const a={jpg:[255,216],png:[137,80,78,71,13,10,26,10]},o=(p,g)=>g.every((m,y)=>m===p[y]);function c(p){ct[p?"unshift":"push"](()=>{s=p,t(2,s)})}const f=async()=>{var p,g;i(await((g=(p=s.files)==null?void 0:p[0])==null?void 0:g.arrayBuffer()))},d=()=>s.click();return r.$$set=p=>{"content"in p&&t(3,n=p.content),"onChange"in p&&t(0,i=p.onChange)},r.$$.update=()=>{if(r.$$.dirty&8){const p=new Uint8Array(n);let g;if(!n||!p.length)t(1,l="");else if(o(p,a.jpg))g=new Blob([p],{type:"image/jpeg"}),t(1,l=window.URL.createObjectURL(g));else if(o(p,a.png))g=new Blob([p],{type:"image/png"}),t(1,l=window.URL.createObjectURL(g));else{const m=fa.imageWithData(n);m.didLoad.then(()=>{t(1,l=m.image.src)})}}},[i,l,s,n,c,f,d]}class cr extends le{constructor(e){super(),ae(this,e,_a,ga,ie,{content:3,onChange:0})}}function ma(r){let e,t,n;return{c(){e=U("input"),this.h()},l(i){e=A(i,"INPUT",{type:!0}),this.h()},h(){E(e,"type","checkbox"),e.checked=r[0]},m(i,l){S(i,e,l),t||(n=fe(e,"click",function(){Ut(r[1])&&r[1].apply(this,arguments)}),t=!0)},p(i,[l]){r=i,l&1&&(e.checked=r[0])},i:ee,o:ee,d(i){i&&v(e),t=!1,n()}}}function va(r,e,t){let{checked:n}=e,{onClick:i}=e;return r.$$set=l=>{"checked"in l&&t(0,n=l.checked),"onClick"in l&&t(1,i=l.onClick)},[n,i]}class wa extends le{constructor(e){super(),ae(this,e,va,ma,ie,{checked:0,onClick:1})}}function ba(r){let e,t;return{c(){e=U("span"),t=Q("Warning: failed to find BCON file with matching instance id"),this.h()},l(n){e=A(n,"SPAN",{class:!0});var i=T(e);t=Z(i,"Warning: failed to find BCON file with matching instance id"),i.forEach(v),this.h()},h(){E(e,"class","warn svelte-daywxd")},m(n,i){S(n,e,i),$(e,t)},p:ee,i:ee,o:ee,d(n){n&&v(e)}}}function ya(r){let e,t;return e=new Me({props:{onClick:r[8],$$slots:{default:[$a]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,i){const l={};i&4&&(l.onClick=n[8]),i&1024&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function $a(r){let e;return{c(){e=Q("Edit BCON")},l(t){e=Z(t,"Edit BCON")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function ka(r){let e;return{c(){e=Q("Append new value")},l(t){e=Z(t,"Append new value")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function Ea(r){let e,t,n,i,l;const s=[ya,ba],a=[];function o(c,f){return c[2]?0:1}return e=o(r),t=a[e]=s[e](r),i=new Me({props:{onClick:r[6],style:"margin-left: 5px",$$slots:{default:[ka]},$$scope:{ctx:r}}}),{c(){t.c(),n=N(),Y(i.$$.fragment)},l(c){t.l(c),n=x(c),X(i.$$.fragment,c)},m(c,f){a[e].m(c,f),S(c,n,f),q(i,c,f),l=!0},p(c,f){let d=e;e=o(c),e===d?a[e].p(c,f):(Te(),M(a[d],1,1,()=>{a[d]=null}),Ce(),t=a[e],t?t.p(c,f):(t=a[e]=s[e](c),t.c()),P(t,1),t.m(n.parentNode,n));const p={};f&1024&&(p.$$scope={dirty:f,ctx:c}),i.$set(p)},i(c){l||(P(t),P(i.$$.fragment,c),l=!0)},o(c){M(t),M(i.$$.fragment,c),l=!1},d(c){a[e].d(c),c&&v(n),J(i,c)}}}function Ia(r){var s;let e,t,n,i,l;return t=new ze({props:{secondary:!0,style:{"margin-bottom":"5px"},$$slots:{default:[Ea]},$$scope:{ctx:r}}}),i=new Dr({props:{columns:["","Value","Label","Default","Min","Max","Used"],columnConfig:{"":{shrink:!0}},rows:Pn(Math.max(r[0].items.length,((s=r[3])==null?void 0:s.length)??0),r[9])}}),{c(){e=U("div"),Y(t.$$.fragment),n=N(),Y(i.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var o=T(e);X(t.$$.fragment,o),n=x(o),X(i.$$.fragment,o),o.forEach(v),this.h()},h(){E(e,"class","trcn-view svelte-daywxd")},m(a,o){S(a,e,o),q(t,e,null),$(e,n),q(i,e,null),l=!0},p(a,[o]){var d;const c={};o&1028&&(c.$$scope={dirty:o,ctx:a}),t.$set(c);const f={};o&11&&(f.rows=Pn(Math.max(a[0].items.length,((d=a[3])==null?void 0:d.length)??0),a[9])),i.$set(f)},i(a){l||(P(t.$$.fragment,a),P(i.$$.fragment,a),l=!0)},o(a){M(t.$$.fragment,a),M(i.$$.fragment,a),l=!1},d(a){a&&v(e),J(t),J(i)}}}function Ua(r,e,t){let n;tt(r,ve,g=>t(7,n=g));let{content:i}=e,{onChange:l}=e,s,a;const o=(g,m)=>{const y=i.items[m];return y?{component:Fr,props:{onChange:b=>l(de(i,k=>{const C=k.items[m];C&&(C[g]=g==="constName"||g==="desc"?b:parseInt(b))})),value:y[g],style:"width: 100%; min-width: 75px;"}}:void 0},c=g=>{g.forEach((m,y)=>{m.constId=y+1})},f=()=>{l(de(i,g=>{g.items.push({...Et.TRCN.items[0]}),c(g.items)}))},d=()=>s?ve.openResource(s):null,p=g=>{const m=i.items[g];return{"":m?{component:fn,props:{onClick:()=>{l(de(i,y=>{y.items=Ur(y.items,g),c(y.items)}))},"aria-label":`delete line ${g}`}}:"",Value:(a==null?void 0:a[g])!==void 0?Fe(a[g],4):void 0,Label:o("constName",g),Default:o("value",g),Min:o("minValue",g),Max:o("maxValue",g),Used:m?{component:wa,props:{checked:!!(m!=null&&m.used),onClick:()=>l(de(i,y=>{const b=y.items[g];b&&(b.used=b.used?0:1)}))}}:""}};return r.$$set=g=>{"content"in g&&t(0,i=g.content),"onChange"in g&&t(1,l=g.onChange)},r.$$.update=()=>{var g;if(r.$$.dirty&132){t(2,s=he(n).linkedResourceId("BCON"));const m=he(n).resourceById(s);t(3,a=((g=m==null?void 0:m.contentChanges)==null?void 0:g.items)??(m==null?void 0:m.content.items))}},[i,l,s,a,o,c,f,n,d,p]}class Aa extends le{constructor(e){super(),ae(this,e,Ua,Ia,ie,{content:0,onChange:1})}}function Ta(r){let e;return{c(){e=Q("No view for this resource type")},l(t){e=Z(t,"No view for this resource type")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function Ca(r){let e,t;return e=new ze({props:{secondary:!0,$$slots:{default:[Ta]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,[i]){const l={};i&1&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}class Da extends le{constructor(e){super(),ae(this,e,null,Ca,ie,{})}}const It={BCON:Wl,CTSS:Yt,GLOB:Xl,JFIF:cr,NREF:Zl,OBJD:ra,OBJF:sa,STR:Yt,TGA:cr,TRCN:Aa,TTAS:Yt};function ur(r){if(r)return It[nt(r.meta.typeId)]??Da}function Fa(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99h144v-144C192 62.32 206.33 48 224 48s32 14.32 32 32.01v144h144c17.7-.01 32 14.29 32 31.99z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function Ba(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class Sa extends le{constructor(e){super(),ae(this,e,Ba,Fa,ie,{})}}function Ra(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","M384 128H256V0l128 128zm-128 32h128v304c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.5-48-48V48C0 21.49 21.49 0 48 0h176l.004 128C224 145.7 238.3 160 256 160zm-1 135-39 39.1V232c0-13.25-10.75-24-24-24s-24 10.8-24 24v102.1L128.1 295c-3.8-4.7-9.9-7-16.1-7s-12.28 2.3-16.97 7c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94s-24.57-9.3-33.97 0z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function Pa(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class Oa extends le{constructor(e){super(),ae(this,e,Pa,Ra,ie,{})}}function Ma(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","M438.6 105.4c12.5 12.5 12.5 32.7 0 45.2l-256 256c-12.5 12.5-32.7 12.5-45.2 0L9.372 278.6c-12.496-12.5-12.496-32.7 0-45.2 12.498-12.5 32.758-12.5 45.258 0L159.1 338.7l234.3-233.3c12.5-12.52 32.7-12.52 45.2 0z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function La(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class Na extends le{constructor(e){super(),ae(this,e,La,Ma,ie,{})}}function xa(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 0 1-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 0 1-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function Va(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class ja extends le{constructor(e){super(),ae(this,e,Va,xa,ie,{})}}function fr(r,e,t){const n=r.slice();return n[13]=e[t],n}function za(r){let e,t;return e=new Oa({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p:ee,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ha(r){let e,t;return e=new Sa({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p:ee,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function hr(r,e){let t,n=e[13]+"",i;return{key:r,first:null,c(){t=U("option"),i=Q(n),this.h()},l(l){t=A(l,"OPTION",{});var s=T(t);i=Z(s,n),s.forEach(v),this.h()},h(){t.__value=e[13],t.value=t.__value,this.first=t},m(l,s){S(l,t,s),$(t,i)},p(l,s){e=l},d(l){l&&v(t)}}}function Ga(r){let e,t;return e=new ja({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p:ee,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Wa(r){let e,t;return e=new Na({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p:ee,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ya(r){let e,t,n,i=[],l=new Map,s,a,o,c,f,d,p,g,m=Object.keys(It);const y=b=>b[13];for(let b=0;b<m.length;b+=1){let k=fr(r,m,b),C=y(k);l.set(C,i[b]=hr(C,k))}return o=new Me({props:{variant:"skeuomorphic",size:25,onClick:r[5],"aria-label":"cancel",style:"margin-right: 5px;",$$slots:{default:[Ga]},$$scope:{ctx:r}}}),f=new Me({props:{variant:"skeuomorphic",size:25,onClick:r[12],"aria-label":"submit",$$slots:{default:[Wa]},$$scope:{ctx:r}}}),{c(){e=U("label"),t=Q(`Type:
			`),n=U("select");for(let b=0;b<i.length;b+=1)i[b].c();s=N(),a=U("div"),Y(o.$$.fragment),c=N(),Y(f.$$.fragment),this.h()},l(b){e=A(b,"LABEL",{class:!0});var k=T(e);t=Z(k,`Type:
			`),n=A(k,"SELECT",{class:!0});var C=T(n);for(let F=0;F<i.length;F+=1)i[F].l(C);C.forEach(v),k.forEach(v),s=x(b),a=A(b,"DIV",{class:!0});var D=T(a);X(o.$$.fragment,D),c=x(D),X(f.$$.fragment,D),D.forEach(v),this.h()},h(){E(n,"class","svelte-1sk2j0c"),E(e,"class","modal-content svelte-1sk2j0c"),E(a,"class","modal-controls svelte-1sk2j0c")},m(b,k){S(b,e,k),$(e,t),$(e,n);for(let C=0;C<i.length;C+=1)i[C].m(n,null);Rt(n,r[3]),r[11](n),S(b,s,k),S(b,a,k),q(o,a,null),$(a,c),q(f,a,null),d=!0,p||(g=fe(n,"input",r[6]),p=!0)},p(b,k){k&0&&(m=Object.keys(It),i=Lt(i,k,y,1,b,m,l,n,Wr,hr,null,fr)),(!d||k&8)&&Rt(n,b[3]);const C={};k&65536&&(C.$$scope={dirty:k,ctx:b}),o.$set(C);const D={};k&8&&(D.onClick=b[12]),k&65536&&(D.$$scope={dirty:k,ctx:b}),f.$set(D)},i(b){d||(P(o.$$.fragment,b),P(f.$$.fragment,b),d=!0)},o(b){M(o.$$.fragment,b),M(f.$$.fragment,b),d=!1},d(b){b&&v(e);for(let k=0;k<i.length;k+=1)i[k].d();r[11](null),b&&v(s),b&&v(a),J(o),J(f),p=!1,g()}}}function qa(r){let e,t,n,i,l,s,a,o,c,f,d,p,g,m,y;o=new Me({props:{variant:"skeuomorphic",size:25,style:"margin: 0 5px; padding: 1px;",onClick:r[8],tooltip:"Download package","aria-label":"download package",$$slots:{default:[za]},$$scope:{ctx:r}}});let b={variant:"skeuomorphic",size:25,style:"padding: 1px;",onClick:r[9],tooltip:"Add resource","aria-label":"add resource",$$slots:{default:[Ha]},$$scope:{ctx:r}};return f=new Me({props:b}),r[10](f),p=new Al({props:{title:"Add new resource",isOpen:r[2],onClose:r[5],$$slots:{default:[Ya]},$$scope:{ctx:r}}}),{c(){e=U("div"),t=U("label"),n=Q("Search"),i=N(),l=U("div"),s=U("input"),a=N(),Y(o.$$.fragment),c=N(),Y(f.$$.fragment),d=N(),Y(p.$$.fragment),this.h()},l(k){e=A(k,"DIV",{});var C=T(e);t=A(C,"LABEL",{for:!0,class:!0});var D=T(t);n=Z(D,"Search"),D.forEach(v),i=x(C),l=A(C,"DIV",{class:!0});var F=T(l);s=A(F,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),a=x(F),X(o.$$.fragment,F),c=x(F),X(f.$$.fragment,F),F.forEach(v),d=x(C),X(p.$$.fragment,C),C.forEach(v),this.h()},h(){E(t,"for","file-search"),E(t,"class","search-label svelte-1sk2j0c"),E(s,"id","file-search"),E(s,"type","text"),E(s,"placeholder","File name, file type, group ID, or instance ID"),E(s,"class","svelte-1sk2j0c"),E(l,"class","actions svelte-1sk2j0c")},m(k,C){S(k,e,C),$(e,t),$(t,n),$(e,i),$(e,l),$(l,s),wn(s,r[0]),$(l,a),q(o,l,null),$(l,c),q(f,l,null),$(e,d),q(p,e,null),g=!0,m||(y=fe(s,"input",r[7]),m=!0)},p(k,[C]){C&1&&s.value!==k[0]&&wn(s,k[0]);const D={};C&65536&&(D.$$scope={dirty:C,ctx:k}),o.$set(D);const F={};C&4&&(F.onClick=k[9]),C&65536&&(F.$$scope={dirty:C,ctx:k}),f.$set(F);const H={};C&4&&(H.isOpen=k[2]),C&65546&&(H.$$scope={dirty:C,ctx:k}),p.$set(H)},i(k){g||(P(o.$$.fragment,k),P(f.$$.fragment,k),P(p.$$.fragment,k),g=!0)},o(k){M(o.$$.fragment,k),M(f.$$.fragment,k),M(p.$$.fragment,k),g=!1},d(k){k&&v(e),J(o),r[10](null),J(f),J(p),m=!1,y()}}}function Ja(r,e,t){let{search:n=""}=e,i=!1,l=Object.keys(It)[0],s,a;const o=()=>{t(2,i=!1),t(3,l=Object.keys(It)[0]),a.focus()},c=b=>{t(3,l=b.target.value)};function f(){n=this.value,t(0,n)}const d=()=>ve.downloadActivePackage(),p=()=>{t(2,i=!0)};function g(b){ct[b?"unshift":"push"](()=>{a=b,t(4,a)})}function m(b){ct[b?"unshift":"push"](()=>{s=b,t(1,s)})}const y=()=>{ve.createNewResource(l),o()};return r.$$set=b=>{"search"in b&&t(0,n=b.search)},r.$$.update=()=>{r.$$.dirty&2&&(s==null||s.focus())},[n,s,i,l,a,o,c,f,d,p,g,m,y]}class Xa extends le{constructor(e){super(),ae(this,e,Ja,qa,ie,{search:0})}}function dr(r,e,t){const n=r.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function Ka(r){let e,t,n=r[2](r[7])+"",i,l,s,a=nt(r[7].meta.typeId)+"",o,c,f,d,p,g,m,y,b=Fe(r[7].meta.groupId)+"",k,C,D,F,H,j,G,B=Fe(r[7].meta.instanceId2,8)+"",K,V,L,W,te,ge,z,Ee=Fe(r[7].meta.instanceId,8)+"",be;return{c(){e=U("div"),t=U("div"),i=Q(n),l=N(),s=U("div"),o=Q(a),c=N(),f=U("dl"),d=U("div"),p=U("dt"),g=Q("Group"),m=N(),y=U("dd"),k=Q(b),C=N(),D=U("div"),F=U("dt"),H=Q("Instance (High)"),j=N(),G=U("dd"),K=Q(B),V=N(),L=U("div"),W=U("dt"),te=Q("Instance"),ge=N(),z=U("dd"),be=Q(Ee),this.h()},l(ce){e=A(ce,"DIV",{class:!0});var Ue=T(e);t=A(Ue,"DIV",{class:!0});var ut=T(t);i=Z(ut,n),ut.forEach(v),l=x(Ue),s=A(Ue,"DIV",{class:!0});var Ie=T(s);o=Z(Ie,a),Ie.forEach(v),Ue.forEach(v),c=x(ce),f=A(ce,"DL",{class:!0});var ne=T(f);d=A(ne,"DIV",{class:!0});var se=T(d);p=A(se,"DT",{class:!0});var oe=T(p);g=Z(oe,"Group"),oe.forEach(v),m=x(se),y=A(se,"DD",{class:!0});var _e=T(y);k=Z(_e,b),_e.forEach(v),C=x(se),se.forEach(v),D=A(ne,"DIV",{class:!0});var Le=T(D);F=A(Le,"DT",{class:!0});var Ve=T(F);H=Z(Ve,"Instance (High)"),Ve.forEach(v),j=x(Le),G=A(Le,"DD",{class:!0});var Ye=T(G);K=Z(Ye,B),Ye.forEach(v),V=x(Le),Le.forEach(v),L=A(ne,"DIV",{class:!0});var je=T(L);W=A(je,"DT",{class:!0});var qe=T(W);te=Z(qe,"Instance"),qe.forEach(v),ge=x(je),z=A(je,"DD",{class:!0});var He=T(z);be=Z(He,Ee),He.forEach(v),je.forEach(v),ne.forEach(v),this.h()},h(){E(t,"class","filename svelte-1odav1k"),E(s,"class","type svelte-1odav1k"),E(e,"class","file-info svelte-1odav1k"),E(p,"class","svelte-1odav1k"),E(y,"class","svelte-1odav1k"),E(d,"class","file-meta svelte-1odav1k"),E(F,"class","svelte-1odav1k"),E(G,"class","svelte-1odav1k"),E(D,"class","file-meta svelte-1odav1k"),E(W,"class","svelte-1odav1k"),E(z,"class","svelte-1odav1k"),E(L,"class","file-meta svelte-1odav1k"),E(f,"class","svelte-1odav1k")},m(ce,Ue){S(ce,e,Ue),$(e,t),$(t,i),$(e,l),$(e,s),$(s,o),S(ce,c,Ue),S(ce,f,Ue),$(f,d),$(d,p),$(p,g),$(d,m),$(d,y),$(y,k),$(d,C),$(f,D),$(D,F),$(F,H),$(D,j),$(D,G),$(G,K),$(D,V),$(f,L),$(L,W),$(W,te),$(L,ge),$(L,z),$(z,be)},p(ce,Ue){Ue&2&&n!==(n=ce[2](ce[7])+"")&&Je(i,n),Ue&2&&a!==(a=nt(ce[7].meta.typeId)+"")&&Je(o,a),Ue&2&&b!==(b=Fe(ce[7].meta.groupId)+"")&&Je(k,b),Ue&2&&B!==(B=Fe(ce[7].meta.instanceId2,8)+"")&&Je(K,B),Ue&2&&Ee!==(Ee=Fe(ce[7].meta.instanceId,8)+"")&&Je(be,Ee)},d(ce){ce&&v(e),ce&&v(c),ce&&v(f)}}}function pr(r,e){let t,n,i,l;function s(){return e[5](e[6])}return n=new Me({props:{variant:"block",onClick:s,style:"padding: 5px 15px;",$$slots:{default:[Ka]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=U("li"),Y(n.$$.fragment),i=N(),this.h()},l(a){t=A(a,"LI",{class:!0});var o=T(t);X(n.$$.fragment,o),i=x(o),o.forEach(v),this.h()},h(){E(t,"class","svelte-1odav1k"),this.first=t},m(a,o){S(a,t,o),q(n,t,null),$(t,i),l=!0},p(a,o){e=a;const c={};o&2&&(c.onClick=s),o&1026&&(c.$$scope={dirty:o,ctx:e}),n.$set(c)},i(a){l||(P(n.$$.fragment,a),l=!0)},o(a){M(n.$$.fragment,a),l=!1},d(a){a&&v(t),J(n)}}}function Qa(r){let e,t,n,i,l,s=[],a=new Map,o;function c(g){r[4](g)}let f={};r[0]!==void 0&&(f.search=r[0]),t=new Xa({props:f}),ct.push(()=>Yr(t,"search",c,r[0]));let d=r[1];const p=g=>g[6];for(let g=0;g<d.length;g+=1){let m=dr(r,d,g),y=p(m);a.set(y,s[g]=pr(y,m))}return{c(){e=U("div"),Y(t.$$.fragment),i=N(),l=U("ul");for(let g=0;g<s.length;g+=1)s[g].c();this.h()},l(g){e=A(g,"DIV",{class:!0});var m=T(e);X(t.$$.fragment,m),i=x(m),l=A(m,"UL",{class:!0});var y=T(l);for(let b=0;b<s.length;b+=1)s[b].l(y);y.forEach(v),m.forEach(v),this.h()},h(){E(l,"class","svelte-1odav1k"),E(e,"class","file-list svelte-1odav1k")},m(g,m){S(g,e,m),q(t,e,null),$(e,i),$(e,l);for(let y=0;y<s.length;y+=1)s[y].m(l,null);o=!0},p(g,[m]){const y={};!n&&m&1&&(n=!0,y.search=g[0],qr(()=>n=!1)),t.$set(y),m&6&&(d=g[1],Te(),s=Lt(s,m,p,1,g,d,a,l,nn,pr,null,dr),Ce())},i(g){if(!o){P(t.$$.fragment,g);for(let m=0;m<d.length;m+=1)P(s[m]);o=!0}},o(g){M(t.$$.fragment,g);for(let m=0;m<s.length;m+=1)M(s[m]);o=!1},d(g){g&&v(e),J(t);for(let m=0;m<s.length;m+=1)s[m].d()}}}function Za(r,e,t){let n;tt(r,Tr,c=>t(3,n=c));let i="",l;const s=c=>{var f;return((f=c.content)==null?void 0:f.filename)||sl[nt(c.meta.typeId)]||""};function a(c){i=c,t(0,i)}const o=c=>ve.openResource(c);return r.$$.update=()=>{if(r.$$.dirty&9){const c=new RegExp(i,"i");t(1,l=i?Object.entries((n==null?void 0:n.resources)??{}).filter(([,f])=>Fe(f.meta.groupId,8).match(c)||Fe(f.meta.instanceId,8).match(c)||Fe(f.meta.instanceId2,8).match(c)||s(f).toUpperCase().match(c)||nt(f.meta.typeId).match(c)):Object.entries((n==null?void 0:n.resources)??{}))}},[i,l,s,n,a,o]}class es extends le{constructor(e){super(),ae(this,e,Za,Qa,ie,{})}}function ts(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function ns(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class rs extends le{constructor(e){super(),ae(this,e,ns,ts,ie,{})}}function is(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function ls(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class as extends le{constructor(e){super(),ae(this,e,ls,is,ie,{})}}function ss(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function os(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class cs extends le{constructor(e){super(),ae(this,e,os,ss,ie,{})}}function us(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function fs(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class hs extends le{constructor(e){super(),ae(this,e,fs,us,ie,{})}}function ds(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},r[0]],i={};for(let l=0;l<n.length;l+=1)i=re(i,n[l]);return{c(){e=Be("svg"),t=Be("path"),this.h()},l(l){e=Se(l,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=T(e);t=Se(s,"path",{fill:!0,d:!0}),T(t).forEach(v),s.forEach(v),this.h()},h(){E(t,"fill","currentColor"),E(t,"d","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"),Re(e,i)},m(l,s){S(l,e,s),$(e,t)},p(l,[s]){Re(e,i=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},s&1&&l[0]]))},i:ee,o:ee,d(l){l&&v(e)}}}function ps(r,e,t){return r.$$set=n=>{t(0,e=re(re({},e),Ae(n)))},e=Ae(e),[e]}class gs extends le{constructor(e){super(),ae(this,e,ps,ds,ie,{})}}function gr(r){let e,t,n,i,l,s,a;return{c(){e=U("label"),t=Q("File name"),n=N(),i=U("input"),this.h()},l(o){e=A(o,"LABEL",{for:!0});var c=T(e);t=Z(c,"File name"),c.forEach(v),n=x(o),i=A(o,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){var o;E(e,"for","filename-input"),E(i,"id","filename-input"),E(i,"type","text"),i.value=l=(o=r[1])==null?void 0:o.filename,E(i,"class","svelte-1h6mk83")},m(o,c){S(o,e,c),$(e,t),S(o,n,c),S(o,i,c),s||(a=fe(i,"input",r[3]),s=!0)},p(o,c){var f;c&2&&l!==(l=(f=o[1])==null?void 0:f.filename)&&i.value!==l&&(i.value=l)},d(o){o&&v(e),o&&v(n),o&&v(i),s=!1,a()}}}function _s(r){let e,t;return e=new cs({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ms(r){let e,t;return e=new as({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function vs(r){let e,t,n,i;const l=[ms,_s],s=[];function a(o,c){return o[0]?0:1}return e=a(r),t=s[e]=l[e](r),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){s[e].m(o,c),S(o,n,c),i=!0},p(o,c){let f=e;e=a(o),e!==f&&(Te(),M(s[f],1,1,()=>{s[f]=null}),Ce(),t=s[e],t||(t=s[e]=l[e](o),t.c()),P(t,1),t.m(n.parentNode,n))},i(o){i||(P(t),i=!0)},o(o){M(t),i=!1},d(o){s[e].d(o),o&&v(n)}}}function ws(r){let e,t;return e=new gs({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p:ee,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function bs(r){let e,t;return e=new rs({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p:ee,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ys(r){let e,t;return e=new hs({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p:ee,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function $s(r){let e,t=r[1]&&!(r[1]instanceof ArrayBuffer)&&Object.hasOwn(r[1],"filename"),n,i,l,s,a,o,c,f,d,p,g,m,y,b,k,C,D,F,H,j,G,B,K,V,L,W,te,ge,z,Ee,be,ce,Ue,ut,Ie=t&&gr(r);return L=new Me({props:{disabled:!r[0],onClick:r[7],variant:"skeuomorphic",tooltip:"Save changes","aria-label":"Save changes",$$slots:{default:[vs]},$$scope:{ctx:r}}}),te=new Me({props:{disabled:!r[0],onClick:r[8],variant:"skeuomorphic",tooltip:"Abandon changes","aria-label":"Abandon changes",$$slots:{default:[ws]},$$scope:{ctx:r}}}),z=new Me({props:{onClick:r[9],variant:"skeuomorphic",tooltip:"Clone resource","aria-label":"Clone resource",$$slots:{default:[bs]},$$scope:{ctx:r}}}),be=new Me({props:{onClick:r[10],variant:"skeuomorphic",tooltip:"Delete resource","aria-label":"Delete resource",$$slots:{default:[ys]},$$scope:{ctx:r}}}),{c(){e=U("div"),Ie&&Ie.c(),n=N(),i=U("div"),l=U("div"),s=U("label"),a=Q("Group ID"),o=N(),c=U("input"),d=N(),p=U("div"),g=U("label"),m=Q("Instance ID (High)"),y=N(),b=U("input"),C=N(),D=U("div"),F=U("label"),H=Q("Instance ID"),j=N(),G=U("input"),K=N(),V=U("div"),Y(L.$$.fragment),W=N(),Y(te.$$.fragment),ge=N(),Y(z.$$.fragment),Ee=N(),Y(be.$$.fragment),this.h()},l(ne){e=A(ne,"DIV",{});var se=T(e);Ie&&Ie.l(se),n=x(se),i=A(se,"DIV",{class:!0});var oe=T(i);l=A(oe,"DIV",{class:!0});var _e=T(l);s=A(_e,"LABEL",{for:!0});var Le=T(s);a=Z(Le,"Group ID"),Le.forEach(v),o=x(_e),c=A(_e,"INPUT",{id:!0,type:!0,class:!0}),_e.forEach(v),d=x(oe),p=A(oe,"DIV",{class:!0});var Ve=T(p);g=A(Ve,"LABEL",{for:!0});var Ye=T(g);m=Z(Ye,"Instance ID (High)"),Ye.forEach(v),y=x(Ve),b=A(Ve,"INPUT",{id:!0,type:!0,class:!0}),Ve.forEach(v),C=x(oe),D=A(oe,"DIV",{class:!0});var je=T(D);F=A(je,"LABEL",{for:!0});var qe=T(F);H=Z(qe,"Instance ID"),qe.forEach(v),j=x(je),G=A(je,"INPUT",{id:!0,type:!0,class:!0}),je.forEach(v),oe.forEach(v),K=x(se),V=A(se,"DIV",{class:!0});var He=T(V);X(L.$$.fragment,He),W=x(He),X(te.$$.fragment,He),ge=x(He),X(z.$$.fragment,He),Ee=x(He),X(be.$$.fragment,He),He.forEach(v),se.forEach(v),this.h()},h(){var ne,se,oe;E(s,"for","group-id-input"),E(c,"id","group-id-input"),E(c,"type","text"),c.value=f=(ne=r[2])==null?void 0:ne.groupId,E(c,"class","svelte-1h6mk83"),E(l,"class","input-wrapper svelte-1h6mk83"),E(g,"for","instance-id2-input"),E(b,"id","instance-id2-input"),E(b,"type","text"),b.value=k=(se=r[2])==null?void 0:se.instanceId2,E(b,"class","svelte-1h6mk83"),E(p,"class","input-wrapper svelte-1h6mk83"),E(F,"for","instance-id-input"),E(G,"id","instance-id-input"),E(G,"type","text"),G.value=B=(oe=r[2])==null?void 0:oe.instanceId,E(G,"class","svelte-1h6mk83"),E(D,"class","input-wrapper svelte-1h6mk83"),E(i,"class","meta svelte-1h6mk83"),E(V,"class","actions svelte-1h6mk83")},m(ne,se){S(ne,e,se),Ie&&Ie.m(e,null),$(e,n),$(e,i),$(i,l),$(l,s),$(s,a),$(l,o),$(l,c),$(i,d),$(i,p),$(p,g),$(g,m),$(p,y),$(p,b),$(i,C),$(i,D),$(D,F),$(F,H),$(D,j),$(D,G),$(e,K),$(e,V),q(L,V,null),$(V,W),q(te,V,null),$(V,ge),q(z,V,null),$(V,Ee),q(be,V,null),ce=!0,Ue||(ut=[fe(c,"input",r[4]("groupId")),fe(b,"input",r[4]("instanceId2")),fe(G,"input",r[4]("instanceId"))],Ue=!0)},p(ne,[se]){var Ye,je,qe;se&2&&(t=ne[1]&&!(ne[1]instanceof ArrayBuffer)&&Object.hasOwn(ne[1],"filename")),t?Ie?Ie.p(ne,se):(Ie=gr(ne),Ie.c(),Ie.m(e,n)):Ie&&(Ie.d(1),Ie=null),(!ce||se&4&&f!==(f=(Ye=ne[2])==null?void 0:Ye.groupId)&&c.value!==f)&&(c.value=f),(!ce||se&4&&k!==(k=(je=ne[2])==null?void 0:je.instanceId2)&&b.value!==k)&&(b.value=k),(!ce||se&4&&B!==(B=(qe=ne[2])==null?void 0:qe.instanceId)&&G.value!==B)&&(G.value=B);const oe={};se&1&&(oe.disabled=!ne[0]),se&2049&&(oe.$$scope={dirty:se,ctx:ne}),L.$set(oe);const _e={};se&1&&(_e.disabled=!ne[0]),se&2048&&(_e.$$scope={dirty:se,ctx:ne}),te.$set(_e);const Le={};se&2048&&(Le.$$scope={dirty:se,ctx:ne}),z.$set(Le);const Ve={};se&2048&&(Ve.$$scope={dirty:se,ctx:ne}),be.$set(Ve)},i(ne){ce||(P(L.$$.fragment,ne),P(te.$$.fragment,ne),P(z.$$.fragment,ne),P(be.$$.fragment,ne),ce=!0)},o(ne){M(L.$$.fragment,ne),M(te.$$.fragment,ne),M(z.$$.fragment,ne),M(be.$$.fragment,ne),ce=!1},d(ne){ne&&v(e),Ie&&Ie.d(),J(L),J(te),J(z),J(be),Ue=!1,st(ut)}}}function ks(r,e,t){let n,i;tt(r,Cr,m=>t(5,n=m)),tt(r,ve,m=>t(6,i=m));let l,s,a;const o=m=>{!s||s instanceof ArrayBuffer||ve.editActiveResource(de(s,y=>{y.filename=m.target.value}))},c=m=>y=>{a&&ve.editActiveResourceMeta(de(a,b=>{b[m]=parseInt(y.target.value,10)}))},f=()=>ve.saveActiveResource(),d=()=>ve.resetActiveResource(),p=()=>ve.copyActiveResource(),g=()=>ve.deleteActiveResource();return r.$$.update=()=>{r.$$.dirty&96&&(t(0,l=he(i).isDirty()),t(1,s=(n==null?void 0:n.contentChanges)??(n==null?void 0:n.content)),t(2,a=(n==null?void 0:n.metaChanges)??(n==null?void 0:n.meta)))},[l,s,a,o,c,n,i,f,d,p,g]}class Es extends le{constructor(e){super(),ae(this,e,ks,$s,ie,{})}}function _r(r,e,t){const n=r.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function mr(r){let e,t=[],n=new Map,i,l=Object.entries(r[0]);const s=a=>a[9];for(let a=0;a<l.length;a+=1){let o=_r(r,l,a),c=s(o);n.set(c,t[a]=wr(c,o))}return{c(){e=U("section");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=A(a,"SECTION",{role:!0,tabindex:!0,class:!0});var o=T(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(v),this.h()},h(){E(e,"role","tablist"),E(e,"tabindex","0"),E(e,"class","svelte-3w0nkk")},m(a,o){S(a,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0},p(a,o){o&15&&(l=Object.entries(a[0]),Te(),t=Lt(t,o,s,1,a,l,n,e,nn,wr,null,_r),Ce())},i(a){if(!i){for(let o=0;o<l.length;o+=1)P(t[o]);i=!0}},o(a){for(let o=0;o<t.length;o+=1)M(t[o]);i=!1},d(a){a&&v(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function vr(r){let e,t;function n(){return r[8](r[9])}return e=new fn({props:{onClick:n,"aria-label":"close tab",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}}}),{c(){Y(e.$$.fragment)},l(i){X(e.$$.fragment,i)},m(i,l){q(e,i,l),t=!0},p(i,l){r=i;const s={};l&9&&(s.onClick=n),e.$set(s)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){J(e,i)}}}function wr(r,e){let t,n,i,l=e[10].title+"",s,a,o,c,f,d,p,g;function m(){return e[7](e[9])}let y=!e[10].hideClose&&vr(e);return{key:r,first:null,c(){t=U("div"),n=U("button"),i=U("span"),s=Q(l),o=N(),y&&y.c(),c=N(),this.h()},l(b){t=A(b,"DIV",{role:!0,"aria-selected":!0,class:!0});var k=T(t);n=A(k,"BUTTON",{class:!0});var C=T(n);i=A(C,"SPAN",{class:!0});var D=T(i);s=Z(D,l),D.forEach(v),C.forEach(v),o=x(k),y&&y.l(k),c=x(k),k.forEach(v),this.h()},h(){E(i,"class","tab-text svelte-3w0nkk"),E(n,"class","tab svelte-3w0nkk"),n.disabled=a=e[1]===e[9],$e(n,"closable",!e[10].hideClose),E(t,"role","tab"),E(t,"aria-selected",f=e[1]===e[9]),E(t,"class","svelte-3w0nkk"),this.first=t},m(b,k){S(b,t,k),$(t,n),$(n,i),$(i,s),$(t,o),y&&y.m(t,null),$(t,c),d=!0,p||(g=fe(n,"click",m),p=!0)},p(b,k){e=b,(!d||k&1)&&l!==(l=e[10].title+"")&&Je(s,l),(!d||k&3&&a!==(a=e[1]===e[9]))&&(n.disabled=a),(!d||k&1)&&$e(n,"closable",!e[10].hideClose),e[10].hideClose?y&&(Te(),M(y,1,1,()=>{y=null}),Ce()):y?(y.p(e,k),k&1&&P(y,1)):(y=vr(e),y.c(),P(y,1),y.m(t,c)),(!d||k&3&&f!==(f=e[1]===e[9]))&&E(t,"aria-selected",f)},i(b){d||(P(y),d=!0)},o(b){M(y),d=!1},d(b){b&&v(t),y&&y.d(),p=!1,g()}}}function Is(r){var s;let e,t,n;var i=(s=r[0][r[1]])==null?void 0:s.content;function l(a){return{}}return i&&(e=pt(i,l())),{c(){e&&Y(e.$$.fragment),t=ke()},l(a){e&&X(e.$$.fragment,a),t=ke()},m(a,o){e&&q(e,a,o),S(a,t,o),n=!0},p(a,o){var c;if(i!==(i=(c=a[0][a[1]])==null?void 0:c.content)){if(e){Te();const f=e;M(f.$$.fragment,1,0,()=>{J(f,1)}),Ce()}i?(e=pt(i,l()),Y(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&M(e.$$.fragment,a),n=!1},d(a){a&&v(t),e&&J(e,a)}}}function Us(r){let e=!r[4]||Object.keys(r[0]).length>1,t,n,i,l=e&&mr(r);return n=new ze({props:{secondary:!0,style:{flex:"1",...r[6]},$$slots:{default:[Is]},$$scope:{ctx:r}}}),{c(){l&&l.c(),t=N(),Y(n.$$.fragment)},l(s){l&&l.l(s),t=x(s),X(n.$$.fragment,s)},m(s,a){l&&l.m(s,a),S(s,t,a),q(n,s,a),i=!0},p(s,a){a&17&&(e=!s[4]||Object.keys(s[0]).length>1),e?l?(l.p(s,a),a&17&&P(l,1)):(l=mr(s),l.c(),P(l,1),l.m(t.parentNode,t)):l&&(Te(),M(l,1,1,()=>{l=null}),Ce());const o={};a&64&&(o.style={flex:"1",...s[6]}),a&8195&&(o.$$scope={dirty:a,ctx:s}),n.$set(o)},i(s){i||(P(l),P(n.$$.fragment,s),i=!0)},o(s){M(l),M(n.$$.fragment,s),i=!1},d(s){l&&l.d(s),s&&v(t),J(n,s)}}}function As(r){let e,t;return e=new ze({props:{style:{display:"flex","flex-direction":"column",...r[5]},$$slots:{default:[Us]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,i){q(e,n,i),t=!0},p(n,[i]){const l={};i&32&&(l.style={display:"flex","flex-direction":"column",...n[5]}),i&8287&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ts(r,e,t){let{tabs:n}=e,{activeTab:i}=e,{onChange:l}=e,{onClose:s}=e,{hideSingleTab:a=!1}=e,{style:o={}}=e,{contentStyle:c={}}=e;const f=p=>l(p),d=p=>s(p);return r.$$set=p=>{"tabs"in p&&t(0,n=p.tabs),"activeTab"in p&&t(1,i=p.activeTab),"onChange"in p&&t(2,l=p.onChange),"onClose"in p&&t(3,s=p.onClose),"hideSingleTab"in p&&t(4,a=p.hideSingleTab),"style"in p&&t(5,o=p.style),"contentStyle"in p&&t(6,c=p.contentStyle)},[n,i,l,s,a,o,c,f,d]}class Br extends le{constructor(e){super(),ae(this,e,Ts,As,ie,{tabs:0,activeTab:1,onChange:2,onClose:3,hideSingleTab:4,style:5,contentStyle:6})}}function br(r){let e,t,n,i,l;return t=new Br({props:{tabs:r[1],activeTab:r[0].activeResourceId,onChange:r[5],onClose:r[6],style:{"flex-shrink":"0"},contentStyle:{"padding-bottom":"30px",position:"relative"}}}),i=new ze({props:{style:{"flex-shrink":"1","min-height":"0","margin-top":"30px",overflow:"hidden"},$$slots:{default:[Cs]},$$scope:{ctx:r}}}),{c(){e=U("div"),Y(t.$$.fragment),n=N(),Y(i.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=T(e);X(t.$$.fragment,a),n=x(a),X(i.$$.fragment,a),a.forEach(v),this.h()},h(){E(e,"class","file-viewer svelte-9p8pe0")},m(s,a){S(s,e,a),q(t,e,null),$(e,n),q(i,e,null),l=!0},p(s,a){const o={};a&2&&(o.tabs=s[1]),a&1&&(o.activeTab=s[0].activeResourceId),t.$set(o);const c={};a&132&&(c.$$scope={dirty:a,ctx:s}),i.$set(c)},i(s){l||(P(t.$$.fragment,s),P(i.$$.fragment,s),l=!0)},o(s){M(t.$$.fragment,s),M(i.$$.fragment,s),l=!1},d(s){s&&v(e),J(t),J(i)}}}function Cs(r){let e,t,n;var i=ur(r[2]);function l(s){return{props:{content:s[2].contentChanges??s[2].content,onChange:s[3]}}}return i&&(e=pt(i,l(r))),{c(){e&&Y(e.$$.fragment),t=ke()},l(s){e&&X(e.$$.fragment,s),t=ke()},m(s,a){e&&q(e,s,a),S(s,t,a),n=!0},p(s,a){const o={};if(a&4&&(o.content=s[2].contentChanges??s[2].content),i!==(i=ur(s[2]))){if(e){Te();const c=e;M(c.$$.fragment,1,0,()=>{J(c,1)}),Ce()}i?(e=pt(i,l(s)),Y(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else i&&e.$set(o)},i(s){n||(e&&P(e.$$.fragment,s),n=!0)},o(s){e&&M(e.$$.fragment,s),n=!1},d(s){s&&v(t),e&&J(e,s)}}}function Ds(r){let e,t,n=r[0]&&r[2]&&br(r);return{c(){n&&n.c(),e=ke()},l(i){n&&n.l(i),e=ke()},m(i,l){n&&n.m(i,l),S(i,e,l),t=!0},p(i,[l]){i[0]&&i[2]?n?(n.p(i,l),l&5&&P(n,1)):(n=br(i),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(Te(),M(n,1,1,()=>{n=null}),Ce())},i(i){t||(P(n),t=!0)},o(i){M(n),t=!1},d(i){n&&n.d(i),i&&v(e)}}}function Fs(r,e,t){let n,i,l;tt(r,ve,f=>t(4,n=f)),tt(r,Tr,f=>t(0,i=f)),tt(r,Cr,f=>t(2,l=f));let s;const a=f=>{f&&ve.editActiveResource(f)},o=f=>ve.setActiveResource(f),c=f=>ve.closeResource(f);return r.$$.update=()=>{r.$$.dirty&17&&t(1,s={...Object.entries((i==null?void 0:i.resources)??{}).reduce((f,[d,p])=>{var g;return p.isOpen&&(f[d]={title:`${((g=p.content)==null?void 0:g.filename)||nt(p.meta.typeId)}${he(n).isDirty(d)?"*":""}`,content:Es}),f},{})})},[i,s,l,a,n,o,c]}class Bs extends le{constructor(e){super(),ae(this,e,Fs,Ds,ie,{})}}function Ss(r){let e,t,n,i,l,s,a,o,c,f,d,p,g,m,y,b,k,C,D,F,H,j,G,B,K,V,L;return{c(){e=U("div"),t=U("div"),n=U("div"),i=U("div"),l=N(),s=U("div"),a=N(),o=U("div"),c=N(),f=U("div"),d=N(),p=U("div"),g=N(),m=U("div"),y=N(),b=U("div"),k=N(),C=U("div"),D=N(),F=U("div"),H=N(),j=U("div"),G=N(),B=U("div"),K=N(),V=U("div"),this.h()},l(W){e=A(W,"DIV",{class:!0,style:!0});var te=T(e);t=A(te,"DIV",{style:!0});var ge=T(t);n=A(ge,"DIV",{class:!0});var z=T(n);i=A(z,"DIV",{class:!0}),T(i).forEach(v),l=x(z),s=A(z,"DIV",{class:!0}),T(s).forEach(v),a=x(z),o=A(z,"DIV",{class:!0}),T(o).forEach(v),c=x(z),f=A(z,"DIV",{class:!0}),T(f).forEach(v),d=x(z),p=A(z,"DIV",{class:!0}),T(p).forEach(v),g=x(z),m=A(z,"DIV",{class:!0}),T(m).forEach(v),y=x(z),b=A(z,"DIV",{class:!0}),T(b).forEach(v),k=x(z),C=A(z,"DIV",{class:!0}),T(C).forEach(v),D=x(z),F=A(z,"DIV",{class:!0}),T(F).forEach(v),H=x(z),j=A(z,"DIV",{class:!0}),T(j).forEach(v),G=x(z),B=A(z,"DIV",{class:!0}),T(B).forEach(v),K=x(z),V=A(z,"DIV",{class:!0}),T(V).forEach(v),z.forEach(v),ge.forEach(v),te.forEach(v),this.h()},h(){E(i,"class","triangle bottom face-1 svelte-10dc8xq"),E(s,"class","triangle bottom face-2 svelte-10dc8xq"),E(o,"class","triangle bottom face-3 svelte-10dc8xq"),E(f,"class","triangle bottom face-4 svelte-10dc8xq"),E(p,"class","triangle bottom face-5 svelte-10dc8xq"),E(m,"class","triangle bottom face-6 svelte-10dc8xq"),E(b,"class","triangle top face-1 svelte-10dc8xq"),E(C,"class","triangle top face-2 svelte-10dc8xq"),E(F,"class","triangle top face-3 svelte-10dc8xq"),E(j,"class","triangle top face-4 svelte-10dc8xq"),E(B,"class","triangle top face-5 svelte-10dc8xq"),E(V,"class","triangle top face-6 svelte-10dc8xq"),E(n,"class","rotator svelte-10dc8xq"),E(t,"style",r[1]),E(e,"class","plumbob-wrapper svelte-10dc8xq"),E(e,"style",L=`height:${r[0]}px;width:${r[0]/2}px`)},m(W,te){S(W,e,te),$(e,t),$(t,n),$(n,i),$(n,l),$(n,s),$(n,a),$(n,o),$(n,c),$(n,f),$(n,d),$(n,p),$(n,g),$(n,m),$(n,y),$(n,b),$(n,k),$(n,C),$(n,D),$(n,F),$(n,H),$(n,j),$(n,G),$(n,B),$(n,K),$(n,V)},p(W,[te]){te&2&&E(t,"style",W[1]),te&1&&L!==(L=`height:${W[0]}px;width:${W[0]/2}px`)&&E(e,"style",L)},i:ee,o:ee,d(W){W&&v(e)}}}function Rs(r,e,t){let{size:n}=e,i;return r.$$set=l=>{"size"in l&&t(0,n=l.size)},r.$$.update=()=>{r.$$.dirty&1&&t(1,i=n?`transform:scale(${n/100})`:void 0)},[n,i]}class Ps extends le{constructor(e){super(),ae(this,e,Rs,Ss,ie,{size:0})}}function Os(r){let e;return{c(){e=Q("browse files")},l(t){e=Z(t,"browse files")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function Ms(r){let e,t,n,i,l,s,a,o,c,f,d,p,g;return l=new Ps({props:{size:50}}),f=new Me({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[4],$$slots:{default:[Os]},$$scope:{ctx:r}}}),{c(){e=U("div"),t=U("div"),n=U("input"),i=N(),Y(l.$$.fragment),s=N(),a=U("span"),o=Q("Drag .package file here or"),c=N(),Y(f.$$.fragment),this.h()},l(m){e=A(m,"DIV",{class:!0});var y=T(e);t=A(y,"DIV",{class:!0});var b=T(t);n=A(b,"INPUT",{type:!0,accept:!0,class:!0}),i=x(b),X(l.$$.fragment,b),s=x(b),a=A(b,"SPAN",{class:!0});var k=T(a);o=Z(k,"Drag .package file here or"),k.forEach(v),c=x(b),X(f.$$.fragment,b),b.forEach(v),y.forEach(v),this.h()},h(){E(n,"type","file"),E(n,"accept",".package"),E(n,"class","svelte-n3cac0"),E(a,"class","text svelte-n3cac0"),E(t,"class","drop-zone svelte-n3cac0"),E(e,"class","wrapper svelte-n3cac0")},m(m,y){S(m,e,y),$(e,t),$(t,n),r[2](n),$(t,i),q(l,t,null),$(t,s),$(t,a),$(a,o),$(t,c),q(f,t,null),d=!0,p||(g=[fe(n,"change",r[3]),fe(t,"dragover",gt(r[1])),fe(t,"drop",gt(r[5]))],p=!0)},p(m,[y]){const b={};y&1&&(b.onClick=m[4]),y&64&&(b.$$scope={dirty:y,ctx:m}),f.$set(b)},i(m){d||(P(l.$$.fragment,m),P(f.$$.fragment,m),d=!0)},o(m){M(l.$$.fragment,m),M(f.$$.fragment,m),d=!1},d(m){m&&v(e),r[2](null),J(l),J(f),p=!1,st(g)}}}function Ls(r,e,t){let n;function i(c){Jr.call(this,r,c)}function l(c){ct[c?"unshift":"push"](()=>{n=c,t(0,n)})}return[n,i,l,async()=>{var f;const c=(f=n.files)==null?void 0:f[0];c&&await ve.addPackage(c)},()=>n.click(),async c=>{var d,p,g;const f=(g=(p=(d=c==null?void 0:c.dataTransfer)==null?void 0:d.items)==null?void 0:p[0])==null?void 0:g.getAsFile();f&&await ve.addPackage(f)}]}class Ns extends le{constructor(e){super(),ae(this,e,Ls,Ms,ie,{})}}function xs(r){let e;return{c(){e=Q("Try the custom career template!")},l(t){e=Z(t,"Try the custom career template!")},m(t,n){S(t,e,n)},d(t){t&&v(e)}}}function Vs(r){let e,t,n,i,l,s,a,o,c,f,d,p,g,m;return a=new Ns({}),g=new Me({props:{onClick:r[0],style:"font-size: 1.2rem",$$slots:{default:[xs]},$$scope:{ctx:r}}}),{c(){e=U("div"),t=U("div"),n=U("h1"),i=Q("SIMPAI"),l=Q(`
		Sims 2 Package Alteration Interface`),s=N(),Y(a.$$.fragment),o=N(),c=U("div"),f=Q("Not sure where to start?"),d=U("br"),p=N(),Y(g.$$.fragment),this.h()},l(y){e=A(y,"DIV",{class:!0});var b=T(e);t=A(b,"DIV",{class:!0});var k=T(t);n=A(k,"H1",{class:!0});var C=T(n);i=Z(C,"SIMPAI"),C.forEach(v),l=Z(k,`
		Sims 2 Package Alteration Interface`),k.forEach(v),s=x(b),X(a.$$.fragment,b),o=x(b),c=A(b,"DIV",{class:!0});var D=T(c);f=Z(D,"Not sure where to start?"),d=A(D,"BR",{}),p=x(D),X(g.$$.fragment,D),D.forEach(v),b.forEach(v),this.h()},h(){E(n,"class","svelte-iietxr"),E(t,"class","intro svelte-iietxr"),E(c,"class","help svelte-iietxr"),E(e,"class","welcome svelte-iietxr")},m(y,b){S(y,e,b),$(e,t),$(t,n),$(n,i),$(t,l),$(e,s),q(a,e,null),$(e,o),$(e,c),$(c,f),$(c,d),$(c,p),q(g,c,null),m=!0},p(y,[b]){const k={};b&2&&(k.$$scope={dirty:b,ctx:y}),g.$set(k)},i(y){m||(P(a.$$.fragment,y),P(g.$$.fragment,y),m=!0)},o(y){M(a.$$.fragment,y),M(g.$$.fragment,y),m=!1},d(y){y&&v(e),J(a),J(g)}}}const yr="career.package";function js(r){return[async()=>{const t=await fetch(`/simpai/templates/${yr}`);await ve.addPackage(new File([await t.arrayBuffer()],yr))}]}class zs extends le{constructor(e){super(),ae(this,e,js,Vs,ie,{})}}function Hs(r){let e,t,n,i,l,s,a;return n=new Br({props:{tabs:r[1],activeTab:r[0].activePackageId,onChange:r[2],onClose:r[3],style:{width:"100%",flex:"1","min-height":"0"},contentStyle:{"min-height":"0",padding:"15px 0"},hideSingleTab:!0}}),s=new Bs({}),{c(){e=U("div"),t=U("div"),Y(n.$$.fragment),i=N(),l=U("div"),Y(s.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var c=T(e);t=A(c,"DIV",{class:!0});var f=T(t);X(n.$$.fragment,f),f.forEach(v),i=x(c),l=A(c,"DIV",{class:!0});var d=T(l);X(s.$$.fragment,d),d.forEach(v),c.forEach(v),this.h()},h(){E(t,"class","left svelte-x0u2sm"),E(l,"class","right svelte-x0u2sm"),E(e,"class","layout svelte-x0u2sm")},m(o,c){S(o,e,c),$(e,t),q(n,t,null),$(e,i),$(e,l),q(s,l,null),a=!0},p(o,[c]){const f={};c&2&&(f.tabs=o[1]),c&1&&(f.activeTab=o[0].activePackageId),n.$set(f)},i(o){a||(P(n.$$.fragment,o),P(s.$$.fragment,o),a=!0)},o(o){M(n.$$.fragment,o),M(s.$$.fragment,o),a=!1},d(o){o&&v(e),J(n),J(s)}}}function Gs(r,e,t){let n;tt(r,ve,a=>t(0,n=a));let i;const l=a=>ve.setActivePackage(a),s=a=>ve.removePackage(a);return r.$$.update=()=>{r.$$.dirty&1&&t(1,i={...Object.entries(n.packages).reduce((a,[o,c])=>(a[o]={title:c.filename,content:es},a),{}),"":{title:"+",content:zs,hideClose:!0}})},[n,i,l,s]}class Js extends le{constructor(e){super(),ae(this,e,Gs,Hs,ie,{})}}export{Js as default};
