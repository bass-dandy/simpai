var yr=Object.defineProperty;var $r=(r,e,t)=>e in r?yr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var vt=(r,e,t)=>($r(r,typeof e!="symbol"?e+"":e,t),t);import{S as le,i as oe,s as ue,G as tt,k as A,l as T,m as U,h as y,n as k,M as fn,b as L,H as nt,I as rt,J as it,f as P,t as M,e as Re,g as Le,d as Me,N as Ct,O as te,P as Ie,v as st,Q as Ve,R as Se,T as pe,F as xt,U as xe,a as N,c as V,K as $,x as W,y as J,z as Y,A as q,q as K,r as Q,u as Ze,V as Er,W as kr,X as Ir,B as Ur,Y as hn,Z as Ut,E as pt,C as ce,_ as ht,$ as $t,a0 as ar,a1 as Qt,a2 as Zt,a3 as dn,a4 as Ae,a5 as Te,a6 as De,a7 as pn,a8 as Ar,a9 as Tr,L as ut,w as Bt,aa as gn,ab as Dr}from"../../chunks/index-f22f7921.js";import{w as Cr,d as sr}from"../../chunks/index-c1818a6e.js";function Br(r){let[e,t]=r;if(!((e===16||e===17)&&t===251))throw new Error("Input is not a valid QFS compressed buffer! Did you forget to truncate the size bytes?");const n=Rr(r),i=65536*r[2]+256*r[3]+r[4],a=n(i);let s=r[0]&1?8:5,l=0;for(;s<r.length&&r[s]<252;){let c=r[s],h=r[s+1],f=r[s+2];if(c&128)if(c&64)if(c&32){let g=(c&31)*4+4;at(a,l,r,s+1,g),s+=g+1,l+=g}else{let g=r[s+3],d=c&3;at(a,l,r,s+4,d),s+=d+4,l+=d,d=(c>>2&3)*256+g+5;let w=((c&16)<<12)+256*h+f+1;at(a,l,a,l-w,d),l+=d}else{let g=h>>6&3;at(a,l,r,s+3,g),s+=g+3,l+=g,g=(c&63)+4;let d=(h&63)*256+f+1;at(a,l,a,l-d,g),l+=g}else{let g=c&3;at(a,l,r,s+2,g),s+=g+2,l+=g,g=((c&28)>>2)+3;let d=(c>>5<<8)+h+1;at(a,l,a,l-d,g),l+=g}}if(s<r.length&&l<a.length){let c=r[s]&3;at(a,l,r,s+1,c),l+=c}if(l!==a.length)throw new Error("Error when decompressing!");return a}var Fr=Br;function Rr(r){const e=r.constructor;if(e.allocUnsafe)return t=>e.allocUnsafe(t);{const t=e[Symbol.species]||e;return n=>new t(n)}}function at(r,e,t,n,i){let a=i;for(;a--;)r[e++]=t[n++]}class Ke{constructor(e){vt(this,"view");vt(this,"cursor");this.view=new DataView(e),this.cursor=0}seekForward(e){return this.cursor+=e,this}seekTo(e){return this.cursor=e,this}readUint8(){const e=this.view.getUint8(this.cursor);return this.cursor+=1,e}readUint8Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint8());return t}readUint16(){const e=this.view.getUint16(this.cursor,!0);return this.cursor+=2,e}readUint16Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint16());return t}readUint32(){const e=this.view.getUint32(this.cursor,!0);return this.cursor+=4,e}readUint32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint32());return t}readBuffer(e){const t=this.view.buffer.slice(this.cursor,this.cursor+e);return this.cursor+=e,t}readCountedString(){const e=this.readUint32();return new TextDecoder().decode(this.readBuffer(e))}readFileName(){return new TextDecoder().decode(this.readBuffer(64)).replace(/\u0000/g,"")}readUntilNull(){for(let e=this.cursor;e<this.view.byteLength;e++)if(this.view.getUint8(e)===0){const t=this.view.buffer.slice(this.cursor,e);return this.cursor=e+1,t}return this.view.buffer.slice(this.cursor)}}class Qe{constructor(){vt(this,"buffer");vt(this,"encoder");this.buffer=new ArrayBuffer(0)}appendBytes(e){const t=new Uint8Array(this.buffer.byteLength+e);t.set(new Uint8Array(this.buffer),0),this.buffer=t.buffer}writeUint8(e){const t=this.buffer.byteLength;this.appendBytes(1);const n=new DataView(this.buffer);n.setUint8(t,e),this.buffer=n.buffer}writeUint8Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length);const n=new DataView(this.buffer);e.forEach((i,a)=>{n.setUint8(t+a,i)}),this.buffer=n.buffer}writeUint16(e){const t=this.buffer.byteLength;this.appendBytes(2);const n=new DataView(this.buffer);n.setUint16(t,e,!0),this.buffer=n.buffer}writeUint16Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*2);const n=new DataView(this.buffer);e.forEach((i,a)=>{n.setUint16(t+a*2,i,!0)}),this.buffer=n.buffer}writeUint32(e){const t=this.buffer.byteLength;this.appendBytes(4);const n=new DataView(this.buffer);n.setUint32(t,e,!0),this.buffer=n.buffer}writeUint32Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*4);const n=new DataView(this.buffer);e.forEach((i,a)=>{n.setUint32(t+a*4,i,!0)}),this.buffer=n.buffer}writeBuffer(e){const t=new Uint8Array(this.buffer.byteLength+e.byteLength);t.set(new Uint8Array(this.buffer),0),t.set(new Uint8Array(e),this.buffer.byteLength),this.buffer=t.buffer}writeString(e,t){this.encoder||(this.encoder=new TextEncoder),t!=null&&t.counted&&this.writeUint32(e.length),this.writeBuffer(this.encoder.encode(e).buffer)}writeNulls(e){this.appendBytes(e)}}const fe={BCON:"42434f4e",BHAV:"42484156",CTSS:"43545353",DIR:"e86b1eef",GLOB:"474c4f42",NREF:"4e524546",OBJD:"4f424a44",OBJF:"4f424a66",STR:"53545223",TPRP:"54505250",TRCN:"5452434e",TTAB:"54544142",TTAS:"54544173",VERS:"ebfee342","2ARY":"6b943b43","3ARY":"2a51171b","5DS":"ac06a676","5EL":"6a97042f","5LF":"ac06a66f","5SC":"25232b11",ANIM:"fb00791e",BMP:"424d505f",CATS:"43415453",CIGE:"43494745",CINE:"4d51f042",CREG:"cdb467b8",CRES:"e519c933",DGRP:"44475250",FACE:"46414345",FAMI:"46414d49",FAMh:"46414d68",FAMt:"8c870743",FCNS:"46434e53",FPL:"ab4ba572",FWAV:"46574156",FX:"ea5118b0",GMDC:"ac4f8687",GMND:"7ba3838c",HOUS:"484f5553",INI:"2026960b",JFIF:"8c3ce95a",LGHT1:"c9c81b9b",LGHT2:"c9c81ba3",LGHT3:"c9c81ba9",LGHT4:"c9c81bad",LIFO:"ed534136",LTXT:"0bf999e7",LXNR:"cccef852",MATSHAD:"cd7fe87a",MP3:"2026960b",MOBJT:"6f626a74",NGBH:"4e474248",NHTG:"abcb5da4",NHTR:"abd0dc63",NID:"ac8a7a2e",NMAP:"4e6d6150",OBJT:"fa1c39f7",OBJM:"4f626a4d",PALT:"50414c54",PDAT:"aace2efb",PERS:"50455253",PMAP:"8cc0a14b",PNG:"856ddbac",POOL:"0c900fdb",POSI:"504f5349",PTBP:"50544250",SFX:"8db5e4c2",SHPE:"fc6eb1f7",SIMI:"53494d49",SKIN:"ac506764",SLOT:"534c4f54",SMAP:"cac4fc40",SPR2:"53505232",SPX1:"2026960b",SREL:"cc364c2a",STXR:"ace46235",SWAF:"cd95548e",TATT:"54415454",TGA:"856ddbac",TMAP:"4b58975b",TREE:"54524545",TRKS:"0b9eb87e",TSSG:"ba353ce1",TXMT:"49596978",TXTR:"1c4a276c",UI:"00000000",VERT:"cb4387a1",WFR:"cd95548e",WGRA:"0a284d0b",WLL:"8a84d7b0",WRLD:"49ff7d76",XA:"2026960b",XMTO:"584d544f",XOBJ:"584f424a"},Sr=Object.entries(fe).reduce((r,[e,t])=>(r[t]=e,r),{});function et(r){const e=typeof r=="number"?r.toString(16):r.toLowerCase();return Sr[e]??"UNK"}function xr(r){return r.meta.typeId===fe.BCON}function Pr(r){return r.meta.typeId===fe.BHAV}function Or(r){return r.meta.typeId===fe.GLOB}function Lr(r){return r.meta.typeId===fe.NREF}function Mr(r){return r.meta.typeId===fe.OBJD}function Nr(r){return r.meta.typeId===fe.OBJF}function Vr(r){return r.meta.typeId===fe.STR||r.meta.typeId===fe.CTSS||r.meta.typeId===fe.TTAS}function jr(r){return r.meta.typeId===fe.TTAB}function zr(r){return r.meta.typeId===fe.TPRP}function Hr(r){return r.meta.typeId===fe.TRCN}function Gr(r){const e=new Ke(r),t={filename:e.readFileName(),flag:!1,itemCount:0,items:[]},n=e.readUint16();t.flag=(n&32768)!==0,t.itemCount=n&32767;for(let i=0;i<t.itemCount;i++)t.items.push(e.readUint16());return t}function Wr(r){const e=new Qe,n=new TextEncoder().encode(r.filename);e.writeBuffer(n),e.writeNulls(64-n.byteLength);let i=r.itemCount;return r.flag&&(i|=32768),e.writeUint16(i),e.writeUint16Array(r.items),e.buffer}function Yr(r){const e=new Ke(r),t={filename:e.readFileName(),format:e.readUint16(),count:e.readUint16(),type:e.readUint8(),argc:e.readUint8(),locals:e.readUint8(),headerFlag:e.readUint8(),treeVersion:e.readUint32(),instructions:[]};for(;t.instructions.length<t.count;){const n={opcode:e.readUint16(),gotoOnTrue:0,gotoOnFalse:0,nodeVersion:void 0,cacheFlags:void 0,operands:[]};t.format<32771?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(8)):t.format<32773?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(16)):t.format<32775?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16)):(n.gotoOnTrue=e.readUint16(),n.gotoOnFalse=e.readUint16(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16),t.format===32777&&(n.cacheFlags=e.readUint8())),t.instructions.push(n)}return t}function qr(r){const e=new Qe,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.format),e.writeUint16(r.instructions.length),e.writeUint8(r.type),e.writeUint8(r.argc),e.writeUint8(r.locals),e.writeUint8(r.headerFlag),e.writeUint32(r.treeVersion),r.instructions.forEach(i=>{e.writeUint16(i.opcode),r.format<32773?(e.writeUint8(i.gotoOnTrue),e.writeUint8(i.gotoOnFalse),e.writeUint8Array(i.operands)):r.format<32775?(e.writeUint8(i.gotoOnTrue),e.writeUint8(i.gotoOnFalse),e.writeUint8(i.nodeVersion??0),e.writeUint8Array(i.operands)):(e.writeUint16(i.gotoOnTrue),e.writeUint16(i.gotoOnFalse),e.writeUint8(i.nodeVersion??0),e.writeUint8Array(i.operands),r.format===32777&&e.writeUint8(i.cacheFlags??0))}),e.buffer}function Xr(r){const e=new Ke(r),t={filename:e.readFileName(),length:e.readUint8(),semiglobal:""};return t.semiglobal=new TextDecoder().decode(e.readBuffer(t.length)),t}function Jr(r){const e=new Qe,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8(r.length),e.writeBuffer(t.encode(r.semiglobal).buffer),e.buffer}function Kr(r){return{filename:new TextDecoder().decode(r)}}function Qr(r){return new TextEncoder().encode(r.filename)}const lr={version:2,initialStackSize:1,defaultWallAdjacentFlags:1,defaultPlacementFlags:1,defaultWallPlacementFlags:1,defaultAllowedHeightFlags:1,ttabId:1,interactionGroup:1,objectType:1,multiTileMasterId:1,multiTileSubIndex:1,useDefaultPlacementFlags:1,lookAtScore:1,guid:2,isUnlockable:1,catalogUseFlags:1,price:1,strId:1,slotId:1,diagonalSelectorGuid:2,gridSelectorGuid:2,objectOwnership:1,ignoreGlobalSimInCAS:1,cannotMoveOutWith:1,hauntable:1,proxyGuid:2,slotGroup:1,aspirationFlags:1,memoryNiceOrBad:1,isSalePriceDifferent:1,initialSaleDepreciation:1,dailySaleDepreciation:1,isSelfDepreciating:1,depreciationLimit:1,roomSortFlags:1,functionSortFlags:1,ctssId:1,isGlobalSimObject:1,tooltipNameType:1,templateVersion:1,nicenessMultiplier:1,noDuplicateOnPlacement:1,wantCategory:1,noNewNameFromTemplate:1,objectVersion:1,defaultThumbnailId:1,motiveEffectsId:1,jobObjectGuid:2,catalogPopupId:1,ignoreCurrentModelIndexInIcons:1,levelOffset:1,hasShadow:1,attributeCount:1,objectArrayCount:1,_hole0:1,frontDirection:1,_hole1:1,multiTileLeadObject:1,expansionFlag:1,_numDynamicSpritesTS1:1,chairEntryFlags:1,tileWidth:1,inhibitSuitCopying:1,buildModeType:1,originalGuid:2,objectModelGuid:2,buildModeSubSort:1,_thumbnailGraphicTS1:1,_shadowFlagsTS1:1,footprintMask:1,_hole2:1,_shadowBrightnessTS1:1,_hole3:1,_wallStyleSpriteIdTS1:1,hungerRating:1,comfortRating:1,hygieneRating:1,bladderRating:1,energyRating:1,funRating:1,roomRating:1,skillFlags:1,numTypeAttributes:1,miscFlags:1,_typeAttrGuidTS1:2,functionSubSort:1,downtownSort:1,keepBuying:1,vacationSort:1,resetLotAction:1,"3dObjectType":1,communitySort:1,dreamFlags:1};function Zr(r){const e=new Ke(r),t={filename:e.readFileName(),data:{}};Object.entries(lr).forEach(([i,a])=>{a===1?t.data[i]=e.readUint16():a===2&&(t.data[i]=e.readUint32())}),e.readBuffer(12);const n=e.readCountedString();return t.filename!==n&&console.error(`OBJD malformed: start filename (${t.filename}) does not match end filename (${n})`),t}function ei(r){const e=new Qe,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),Object.entries(lr).forEach(([i,a])=>{a===1?e.writeUint16(r.data[i]):a===2&&e.writeUint32(r.data[i])}),e.writeNulls(12),e.writeString(r.filename,{counted:!0}),e.buffer}function ti(r){const e=new Ke(r),t={filename:e.readFileName(),header:e.readUint32Array(3),count:e.readUint32(),functions:[]};for(let n=0;n<t.count;n++)t.functions.push({guard:e.readUint16(),action:e.readUint16()});return t}function ni(r){const e=new Qe,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(r.header),e.writeUint32(r.functions.length),r.functions.forEach(i=>{e.writeUint16(i.guard),e.writeUint16(i.action)}),e.buffer}function ri(r){const e=new Ke(r),t=new TextDecoder,n={filename:e.readFileName(),formatCode:e.readUint16(),stringSetCount:e.readUint16(),stringSets:[]};for(let i=0;i<n.stringSetCount;i++)n.stringSets.push({languageId:e.readUint8(),value:t.decode(e.readUntilNull()),description:t.decode(e.readUntilNull())});return n}function ii(r){const e=new Qe,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.formatCode),e.writeUint16(r.stringSets.length),r.stringSets.forEach(i=>{e.writeUint8(i.languageId),e.writeBuffer(t.encode(i.value)),e.writeNulls(1),e.writeBuffer(t.encode(i.description)),e.writeNulls(1)}),e.buffer}function vn(r){return Float32Array.of(r.readUint32())[0]??0}function mn(r,e,t,n){const i=e===null?Math.max(t==="human"?5:8,n.readUint32()):e.length,a={groups:[]};for(let s=0;s<i;s++){const l=r<84?Math.max((e==null?void 0:e[s])??0,16):n.readUint32(),c={items:[]};for(let h=0;h<l;h++)if(t==="human")c.items.push(n.readUint16());else{const f=n.readUint32(),g=[];for(let d=0;d<f;d++)g.push(n.readUint16());c.items.push({values:g})}a.groups.push(c)}return a}function ai(r){const e=new Ke(r),t={filename:e.readFileName(),header:[e.readUint32(),e.readUint32(),e.readUint32()],items:[]},n=t.header[1],i=e.readUint16();for(let a=0;a<i;a++){let s=null;n<68?s=[16]:n<84&&(s=[16,16,16,16,16,16,16]),t.items.push({action:e.readUint16(),guard:e.readUint16(),counts:s==null?void 0:s.map(()=>e.readUint32()),flags:e.readUint16(),flags2:e.readUint16(),strIndex:e.readUint32(),attenuationCode:e.readUint32(),attenuationValue:vn(e),autonomy:e.readUint32(),joinIndex:e.readUint32(),uiDisplayType:n>69?e.readUint16():0,facialAnimation:n>74?e.readUint32():0,memoryIterMult:n>76?vn(e):0,objectType:n>76?e.readUint32():0,modelTableId:n>70?e.readUint32():0,humanGroups:mn(n,s,"human",e),animalGroups:n>84?mn(n,s,"animal",e):null})}return t}function _n(r,e,t,n){e===null&&n.writeUint32(t.groups.length),t.groups.forEach(i=>{r<84&&n.writeUint32(i.items.length),i.items.forEach(a=>{typeof a=="number"?n.writeUint16(a):(n.writeUint32(a.values.length),a.values.forEach(s=>n.writeUint16(s)))})})}function si(r){const e=new Qe,t=new TextEncoder,n=r.header[1],i=t.encode(r.filename);return e.writeBuffer(i),e.writeNulls(64-i.byteLength),e.writeUint32Array(r.header),e.writeUint16(r.items.length),r.items.forEach(a=>{e.writeUint16(a.action),e.writeUint16(a.guard),e.writeUint32Array(a.counts||[]),e.writeUint16(a.flags),e.writeUint16(a.flags2),e.writeUint32(a.strIndex),e.writeUint32(a.attenuationCode),e.writeUint32(a.attenuationValue),e.writeUint32(a.autonomy),e.writeUint32(a.joinIndex),n>69&&e.writeUint16(a.uiDisplayType),n>74&&e.writeUint32(a.facialAnimation),n>76&&(e.writeUint32(a.memoryIterMult),e.writeUint32(a.objectType)),n>70&&e.writeUint32(a.modelTableId),_n(n,a.counts,a.humanGroups,e),n>84&&a.animalGroups&&_n(n,a.counts,a.animalGroups,e)}),e.buffer}function wn(r){const e=new TextDecoder,t=r.readUint8();return e.decode(r.readBuffer(t))}function bn(r,e){const t=new TextEncoder;r.writeUint8(e.length),r.writeBuffer(t.encode(e))}function li(r){const e=new Ke(r),t={filename:e.readFileName(),header:[e.readUint8(),e.readUint8(),e.readUint8()],params:[],locals:[],trailer:[]},n=e.readUint32(),i=e.readUint32();for(let a=0;a<n;a++)t.params.push({label:wn(e),pdata:0});for(let a=0;a<i;a++)t.locals.push(wn(e));return e.seekForward(4),t.params.forEach(a=>{a.pdata=e.readUint8()}),t.trailer.push(e.readUint32()),t.trailer.push(e.readUint32()),t}function oi(r){const e=new Qe,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8Array(r.header),r.params.forEach(i=>{bn(e,i.label)}),r.locals.forEach(i=>{bn(e,i)}),e.writeUint32(0),r.params.forEach(i=>{e.writeUint8(i.pdata)}),e.writeUint32Array(r.trailer),e.buffer}function ui(r){const e=new Ke(r),t=new TextDecoder,i={filename:e.readFileName(),header:[e.readUint32(),e.readUint32(),e.readUint32()],itemCount:e.readUint32(),items:[]},a=i.header[1];for(;i.items.length<i.itemCount;)i.items.push({used:e.readUint32(),id:e.readUint32(),name:t.decode(e.readBuffer(e.readUint8())),desc:a>83?t.decode(e.readBuffer(e.readUint8())):"",value:a>83?e.readUint8():e.readUint16(),minValue:e.readUint16(),maxValue:e.readUint16()});return i}function ci(r){const e=new Qe,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(r.header),e.writeUint32(r.itemCount),r.items.forEach(i=>{e.writeUint32(i.used),e.writeUint32(i.id),e.writeUint8(i.name.length),e.writeString(i.name),r.header[1]>83?(e.writeUint8(i.desc.length),e.writeString(i.desc),e.writeUint8(i.value)):e.writeUint16(i.value),e.writeUint16(i.minValue),e.writeUint16(i.maxValue)}),e.buffer}function fi(r,e){switch(r){case fe.BCON:return Gr(e);case fe.BHAV:return Yr(e);case fe.GLOB:return Xr(e);case fe.NREF:return Kr(e);case fe.OBJD:return Zr(e);case fe.OBJF:return ti(e);case fe.TTAB:return ai(e);case fe.TPRP:return li(e);case fe.TRCN:return ui(e);case fe.STR:case fe.CTSS:case fe.TTAS:return ri(e);default:return console.log(`No handler for file with typeId ${r} (${et(r)})`),e}}function hi(r){const e=new Ke(r);if(new TextDecoder().decode(e.readBuffer(4))!=="DBPF")throw new Error("Not a DBPF file!");const n=e.readUint32(),i=e.readUint32();if(n!==1||i>1)throw new Error(`Expected version 1.0 or 1.1 but got ${n}.${i}`);e.seekTo(32);const a=e.readUint32(),s=e.readUint32(),l=e.readUint32();e.seekTo(60);const c=i===1?e.readUint32():0;if(a!==7||c>2)throw new Error(`Expected index version 7.1 or 7.2 but got ${a}.${c}`);e.seekTo(l);const h=[];for(let g=0;g<s;g++)h.push({typeId:e.readUint32().toString(16),groupId:e.readUint32(),instanceId:e.readUint32(),instanceId2:c===2?e.readUint32():void 0,location:e.readUint32(),size:e.readUint32(),compressed:!1});h.forEach(g=>{if(g.typeId===fe.DIR){const d=g.size/(c===2?20:16);let w=0;console.log(`DIR found with ${d} entries`);for(let b=0;b<d;b++){e.seekTo(g.location);const m=e.readUint32().toString(16),v=e.readUint32(),E=e.readUint32(),C=c===2?e.readUint32():void 0,D=h.find(S=>S.typeId===m&&S.groupId===v&&S.instanceId===E&&S.instanceId2===C);D&&(D.compressed=!0,w++)}console.log(`found ${w} matching resources out of ${d} DIR entries`)}});const f=[];return h.forEach(g=>{if(g.typeId===fe.DIR)return;e.seekTo(g.location);const d=e.readBuffer(g.size);g.compressed?console.log(`decompressing and deserializing ${et(g.typeId)}`):console.log(`deserializing ${et(g.typeId)}`);const w=fi(g.typeId,g.compressed?Fr(new Uint8Array(d).slice(4)).buffer:d);f.push({meta:g,content:w})}),f}function di(r){const e=new Qe;e.writeString("DBPF"),e.writeUint32(1),e.writeUint32(1),e.writeNulls(20),e.writeUint32(7),e.writeUint32(r.length),e.writeUint32(0),e.writeUint32(r.length*24),e.writeNulls(12),e.writeUint32(2),e.writeNulls(32);const t=[];r.forEach(a=>{let s=new ArrayBuffer(0);xr(a)?s=Wr(a.content):Pr(a)?s=qr(a.content):Or(a)?s=Jr(a.content):Lr(a)?s=Qr(a.content):Mr(a)?s=ei(a.content):Nr(a)?s=ni(a.content):Vr(a)?s=ii(a.content):jr(a)?s=si(a.content):zr(a)?s=oi(a.content):Hr(a)?s=ci(a.content):s=a.content,t.push({...a.meta,location:e.buffer.byteLength,size:s.byteLength}),e.writeBuffer(s)});const n=e.buffer.byteLength;t.forEach(a=>{e.writeUint32(parseInt(a.typeId,16)),e.writeUint32(a.groupId),e.writeUint32(a.instanceId),a.instanceId2!==void 0&&e.writeUint32(a.instanceId2),e.writeUint32(a.location),e.writeUint32(a.size)});const i=new DataView(e.buffer);return i.setUint32(40,n,!0),i.buffer}function pi(r){let e,t,n;const i=r[2].default,a=tt(i,r,r[1],null);return{c(){e=A("div"),a&&a.c(),this.h()},l(s){e=T(s,"DIV",{class:!0});var l=U(e);a&&a.l(l),l.forEach(y),this.h()},h(){k(e,"class",t=fn(`popover ${r[0]}`)+" svelte-1og6ho9")},m(s,l){L(s,e,l),a&&a.m(e,null),n=!0},p(s,[l]){a&&a.p&&(!n||l&2)&&nt(a,i,s,s[1],n?it(i,s[1],l,null):rt(s[1]),null),(!n||l&1&&t!==(t=fn(`popover ${s[0]}`)+" svelte-1og6ho9"))&&k(e,"class",t)},i(s){n||(P(a,s),n=!0)},o(s){M(a,s),n=!1},d(s){s&&y(e),a&&a.d(s)}}}function gi(r,e,t){let{$$slots:n={},$$scope:i}=e,{position:a="top"}=e;return r.$$set=s=>{"position"in s&&t(0,a=s.position),"$$scope"in s&&t(1,i=s.$$scope)},[a,i,n]}class vi extends le{constructor(e){super(),oe(this,e,gi,pi,ue,{position:0})}}function mi(r){let e,t,n,i;const a=r[8].default,s=tt(a,r,r[11],null);let l=[{class:r[1]},{style:r[2]},r[6]],c={};for(let h=0;h<l.length;h+=1)c=te(c,l[h]);return{c(){e=A("button"),s&&s.c(),this.h()},l(h){e=T(h,"BUTTON",{class:!0,style:!0});var f=U(e);s&&s.l(f),f.forEach(y),this.h()},h(){Ve(e,c),Se(e,"svelte-1dioxib",!0)},m(h,f){L(h,e,f),s&&s.m(e,null),e.autofocus&&e.focus(),r[10](e),t=!0,n||(i=pe(e,"click",function(){xt(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(h,f){r=h,s&&s.p&&(!t||f&2048)&&nt(s,a,r,r[11],t?it(a,r[11],f,null):rt(r[11]),null),Ve(e,c=xe(l,[(!t||f&2)&&{class:r[1]},(!t||f&4)&&{style:r[2]},f&64&&r[6]])),Se(e,"svelte-1dioxib",!0)},i(h){t||(P(s,h),t=!0)},o(h){M(s,h),t=!1},d(h){h&&y(e),s&&s.d(h),r[10](null),n=!1,i()}}}function _i(r){let e,t,n,i,a,s,l;const c=r[8].default,h=tt(c,r,r[11],null);let f=[{class:r[1]},{style:n=`height: ${r[3]}px; width: ${r[3]}px;`},r[6]],g={};for(let w=0;w<f.length;w+=1)g=te(g,f[w]);let d=r[4]&&yn(r);return{c(){e=A("div"),t=A("button"),h&&h.c(),i=N(),d&&d.c(),this.h()},l(w){e=T(w,"DIV",{class:!0,style:!0});var b=U(e);t=T(b,"BUTTON",{class:!0,style:!0});var m=U(t);h&&h.l(m),m.forEach(y),i=V(b),d&&d.l(b),b.forEach(y),this.h()},h(){Ve(t,g),Se(t,"svelte-1dioxib",!0),k(e,"class","bevel svelte-1dioxib"),k(e,"style",r[2])},m(w,b){L(w,e,b),$(e,t),h&&h.m(t,null),t.autofocus&&t.focus(),r[9](t),$(e,i),d&&d.m(e,null),a=!0,s||(l=pe(t,"click",function(){xt(r[0])&&r[0].apply(this,arguments)}),s=!0)},p(w,b){r=w,h&&h.p&&(!a||b&2048)&&nt(h,c,r,r[11],a?it(c,r[11],b,null):rt(r[11]),null),Ve(t,g=xe(f,[(!a||b&2)&&{class:r[1]},(!a||b&8&&n!==(n=`height: ${r[3]}px; width: ${r[3]}px;`))&&{style:n},b&64&&r[6]])),Se(t,"svelte-1dioxib",!0),r[4]?d?(d.p(r,b),b&16&&P(d,1)):(d=yn(r),d.c(),P(d,1),d.m(e,null)):d&&(Le(),M(d,1,1,()=>{d=null}),Me()),(!a||b&4)&&k(e,"style",r[2])},i(w){a||(P(h,w),P(d),a=!0)},o(w){M(h,w),M(d),a=!1},d(w){w&&y(e),h&&h.d(w),r[9](null),d&&d.d(),s=!1,l()}}}function yn(r){let e,t;return e=new vi({props:{position:"top",$$slots:{default:[wi]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const a={};i&2064&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function wi(r){let e;return{c(){e=K(r[4])},l(t){e=Q(t,r[4])},m(t,n){L(t,e,n)},p(t,n){n&16&&Ze(e,t[4])},d(t){t&&y(e)}}}function bi(r){let e,t,n,i;const a=[_i,mi],s=[];function l(c,h){return c[1]==="skeuomorphic"?0:1}return e=l(r),t=s[e]=a[e](r),{c(){t.c(),n=Re()},l(c){t.l(c),n=Re()},m(c,h){s[e].m(c,h),L(c,n,h),i=!0},p(c,[h]){let f=e;e=l(c),e===f?s[e].p(c,h):(Le(),M(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t?t.p(c,h):(t=s[e]=a[e](c),t.c()),P(t,1),t.m(n.parentNode,n))},i(c){i||(P(t),i=!0)},o(c){M(t),i=!1},d(c){s[e].d(c),c&&y(n)}}}function yi(r,e,t){const n=["focus","onClick","variant","style","size","tooltip"];let i=Ct(e,n),{$$slots:a={},$$scope:s}=e,l;function c(){l.focus()}let{onClick:h}=e,{variant:f="link"}=e,{style:g=void 0}=e,{size:d=35}=e,{tooltip:w=""}=e;function b(v){st[v?"unshift":"push"](()=>{l=v,t(5,l)})}function m(v){st[v?"unshift":"push"](()=>{l=v,t(5,l)})}return r.$$set=v=>{e=te(te({},e),Ie(v)),t(6,i=Ct(e,n)),"onClick"in v&&t(0,h=v.onClick),"variant"in v&&t(1,f=v.variant),"style"in v&&t(2,g=v.style),"size"in v&&t(3,d=v.size),"tooltip"in v&&t(4,w=v.tooltip),"$$scope"in v&&t(11,s=v.$$scope)},[h,f,g,d,w,l,i,c,a,b,m,s]}class ze extends le{constructor(e){super(),oe(this,e,yi,bi,ue,{focus:7,onClick:0,variant:1,style:2,size:3,tooltip:4})}get focus(){return this.$$.ctx[7]}}var ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var At=0;At<ft.length;At++)mt[ft.charCodeAt(At)]=At;var $i=function(r){var e=new Uint8Array(r),t,n=e.length,i="";for(t=0;t<n;t+=3)i+=ft[e[t]>>2],i+=ft[(e[t]&3)<<4|e[t+1]>>4],i+=ft[(e[t+1]&15)<<2|e[t+2]>>6],i+=ft[e[t+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i},Ei=function(r){var e=r.length*.75,t=r.length,n,i=0,a,s,l,c;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var h=new ArrayBuffer(e),f=new Uint8Array(h);for(n=0;n<t;n+=4)a=mt[r.charCodeAt(n)],s=mt[r.charCodeAt(n+1)],l=mt[r.charCodeAt(n+2)],c=mt[r.charCodeAt(n+3)],f[i++]=a<<2|s>>4,f[i++]=(s&15)<<4|l>>2,f[i++]=(l&3)<<6|c&63;return h};function Xe(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+r+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function dt(r){return!!r&&!!r[He]}function ct(r){return!!r&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Bi}(r)||Array.isArray(r)||!!r[Dn]||!!r.constructor[Dn]||en(r)||tn(r))}function wt(r,e,t){t===void 0&&(t=!1),gt(r)===0?(t?Object.keys:ln)(r).forEach(function(n){t&&typeof n=="symbol"||e(n,r[n],r)}):r.forEach(function(n,i){return e(i,n,r)})}function gt(r){var e=r[He];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:en(r)?2:tn(r)?3:0}function Ht(r,e){return gt(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function ki(r,e){return gt(r)===2?r.get(e):r[e]}function or(r,e,t){var n=gt(r);n===2?r.set(e,t):n===3?(r.delete(e),r.add(t)):r[e]=t}function Ii(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function en(r){return Di&&r instanceof Map}function tn(r){return Ci&&r instanceof Set}function ot(r){return r.o||r.t}function nn(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=Fi(r);delete e[He];for(var t=ln(e),n=0;n<t.length;n++){var i=t[n],a=e[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:r[i]})}return Object.create(Object.getPrototypeOf(r),e)}function rn(r,e){return e===void 0&&(e=!1),an(r)||dt(r)||!ct(r)||(gt(r)>1&&(r.set=r.add=r.clear=r.delete=Ui),Object.freeze(r),e&&wt(r,function(t,n){return rn(n,!0)},!0)),r}function Ui(){Xe(2)}function an(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function Je(r){var e=Ri[r];return e||Xe(18,r),e}function $n(){return bt}function Pt(r,e){e&&(Je("Patches"),r.u=[],r.s=[],r.v=e)}function Ft(r){Gt(r),r.p.forEach(Ai),r.p=null}function Gt(r){r===bt&&(bt=r.l)}function En(r){return bt={p:[],l:bt,h:r,m:!0,_:0}}function Ai(r){var e=r[He];e.i===0||e.i===1?e.j():e.O=!0}function Ot(r,e){e._=e.p.length;var t=e.p[0],n=r!==void 0&&r!==t;return e.h.g||Je("ES5").S(e,r,n),n?(t[He].P&&(Ft(e),Xe(4)),ct(r)&&(r=Rt(e,r),e.l||St(e,r)),e.u&&Je("Patches").M(t[He].t,r,e.u,e.s)):r=Rt(e,t,[]),Ft(e),e.u&&e.v(e.u,e.s),r!==ur?r:void 0}function Rt(r,e,t){if(an(e))return e;var n=e[He];if(!n)return wt(e,function(a,s){return kn(r,n,e,a,s,t)},!0),e;if(n.A!==r)return e;if(!n.P)return St(r,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=nn(n.k):n.o;wt(n.i===3?new Set(i):i,function(a,s){return kn(r,n,i,a,s,t)}),St(r,i,!1),t&&r.u&&Je("Patches").R(n,t,r.u,r.s)}return n.o}function kn(r,e,t,n,i,a){if(dt(i)){var s=Rt(r,i,a&&e&&e.i!==3&&!Ht(e.D,n)?a.concat(n):void 0);if(or(t,n,s),!dt(s))return;r.m=!1}if(ct(i)&&!an(i)){if(!r.h.F&&r._<1)return;Rt(r,i),e&&e.A.l||St(r,i)}}function St(r,e,t){t===void 0&&(t=!1),r.h.F&&r.m&&rn(e,t)}function Lt(r,e){var t=r[He];return(t?ot(t):r)[e]}function In(r,e){if(e in r)for(var t=Object.getPrototypeOf(r);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function Wt(r){r.P||(r.P=!0,r.l&&Wt(r.l))}function Mt(r){r.o||(r.o=nn(r.t))}function Yt(r,e,t){var n=en(e)?Je("MapSet").N(e,t):tn(e)?Je("MapSet").T(e,t):r.g?function(i,a){var s=Array.isArray(i),l={i:s?1:0,A:a?a.A:$n(),P:!1,I:!1,D:{},l:a,t:i,k:null,o:null,j:null,C:!1},c=l,h=qt;s&&(c=[l],h=_t);var f=Proxy.revocable(c,h),g=f.revoke,d=f.proxy;return l.k=d,l.j=g,d}(e,t):Je("ES5").J(e,t);return(t?t.A:$n()).p.push(n),n}function Ti(r){return dt(r)||Xe(22,r),function e(t){if(!ct(t))return t;var n,i=t[He],a=gt(t);if(i){if(!i.P&&(i.i<4||!Je("ES5").K(i)))return i.t;i.I=!0,n=Un(t,a),i.I=!1}else n=Un(t,a);return wt(n,function(s,l){i&&ki(i.t,s)===l||or(n,s,e(l))}),a===3?new Set(n):n}(r)}function Un(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return nn(r)}var An,bt,sn=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Di=typeof Map<"u",Ci=typeof Set<"u",Tn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ur=sn?Symbol.for("immer-nothing"):((An={})["immer-nothing"]=!0,An),Dn=sn?Symbol.for("immer-draftable"):"__$immer_draftable",He=sn?Symbol.for("immer-state"):"__$immer_state",Bi=""+Object.prototype.constructor,ln=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,Fi=Object.getOwnPropertyDescriptors||function(r){var e={};return ln(r).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(r,t)}),e},Ri={},qt={get:function(r,e){if(e===He)return r;var t=ot(r);if(!Ht(t,e))return function(i,a,s){var l,c=In(a,s);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(i.k):void 0}(r,t,e);var n=t[e];return r.I||!ct(n)?n:n===Lt(r.t,e)?(Mt(r),r.o[e]=Yt(r.A.h,n,r)):n},has:function(r,e){return e in ot(r)},ownKeys:function(r){return Reflect.ownKeys(ot(r))},set:function(r,e,t){var n=In(ot(r),e);if(n!=null&&n.set)return n.set.call(r.k,t),!0;if(!r.P){var i=Lt(ot(r),e),a=i==null?void 0:i[He];if(a&&a.t===t)return r.o[e]=t,r.D[e]=!1,!0;if(Ii(t,i)&&(t!==void 0||Ht(r.t,e)))return!0;Mt(r),Wt(r)}return r.o[e]===t&&typeof t!="number"&&(t!==void 0||e in r.o)||(r.o[e]=t,r.D[e]=!0,!0)},deleteProperty:function(r,e){return Lt(r.t,e)!==void 0||e in r.t?(r.D[e]=!1,Mt(r),Wt(r)):delete r.D[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var t=ot(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){Xe(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){Xe(12)}},_t={};wt(qt,function(r,e){_t[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),_t.deleteProperty=function(r,e){return _t.set.call(this,r,e,void 0)},_t.set=function(r,e,t){return qt.set.call(this,r[0],e,t,r[0])};var Si=function(){function r(t){var n=this;this.g=Tn,this.F=!0,this.produce=function(i,a,s){if(typeof i=="function"&&typeof a!="function"){var l=a;a=i;var c=n;return function(m){var v=this;m===void 0&&(m=l);for(var E=arguments.length,C=Array(E>1?E-1:0),D=1;D<E;D++)C[D-1]=arguments[D];return c.produce(m,function(S){var R;return(R=a).call.apply(R,[v,S].concat(C))})}}var h;if(typeof a!="function"&&Xe(6),s!==void 0&&typeof s!="function"&&Xe(7),ct(i)){var f=En(n),g=Yt(n,i,void 0),d=!0;try{h=a(g),d=!1}finally{d?Ft(f):Gt(f)}return typeof Promise<"u"&&h instanceof Promise?h.then(function(m){return Pt(f,s),Ot(m,f)},function(m){throw Ft(f),m}):(Pt(f,s),Ot(h,f))}if(!i||typeof i!="object"){if((h=a(i))===void 0&&(h=i),h===ur&&(h=void 0),n.F&&rn(h,!0),s){var w=[],b=[];Je("Patches").M(i,h,w,b),s(w,b)}return h}Xe(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(h){for(var f=arguments.length,g=Array(f>1?f-1:0),d=1;d<f;d++)g[d-1]=arguments[d];return n.produceWithPatches(h,function(w){return i.apply(void 0,[w].concat(g))})};var s,l,c=n.produce(i,a,function(h,f){s=h,l=f});return typeof Promise<"u"&&c instanceof Promise?c.then(function(h){return[h,s,l]}):[c,s,l]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=r.prototype;return e.createDraft=function(t){ct(t)||Xe(8),dt(t)&&(t=Ti(t));var n=En(this),i=Yt(this,t,void 0);return i[He].C=!0,Gt(n),i},e.finishDraft=function(t,n){var i=t&&t[He],a=i.A;return Pt(a,n),Ot(void 0,a)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Tn&&Xe(20),this.g=t},e.applyPatches=function(t,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}i>-1&&(n=n.slice(i+1));var s=Je("Patches").$;return dt(t)?s(t,n):this.produce(t,function(l){return s(l,n)})},r}(),Ge=new Si,xi=Ge.produce;Ge.produceWithPatches.bind(Ge);Ge.setAutoFreeze.bind(Ge);Ge.setUseProxies.bind(Ge);Ge.applyPatches.bind(Ge);Ge.createDraft.bind(Ge);Ge.finishDraft.bind(Ge);const me=xi;var Tt,Pi=new Uint8Array(16);function Oi(){if(!Tt&&(Tt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Tt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tt(Pi)}const Li=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Mi(r){return typeof r=="string"&&Li.test(r)}var Ce=[];for(var Nt=0;Nt<256;++Nt)Ce.push((Nt+256).toString(16).substr(1));function Ni(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Ce[r[e+0]]+Ce[r[e+1]]+Ce[r[e+2]]+Ce[r[e+3]]+"-"+Ce[r[e+4]]+Ce[r[e+5]]+"-"+Ce[r[e+6]]+Ce[r[e+7]]+"-"+Ce[r[e+8]]+Ce[r[e+9]]+"-"+Ce[r[e+10]]+Ce[r[e+11]]+Ce[r[e+12]]+Ce[r[e+13]]+Ce[r[e+14]]+Ce[r[e+15]]).toLowerCase();if(!Mi(t))throw TypeError("Stringified UUID is invalid");return t}function Dt(r,e,t){r=r||{};var n=r.random||(r.rng||Oi)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Ni(n)}const Xt=["English (US)","English (UK)","French","German","Italian","Spanish","Dutch","Danish","Swedish","Norwegian","Finnish","Hebrew","Russian","Portuguese","Japanese","Polish","Traditional Chinese","Simplified Chinese","Thai","Korean","Czech"],Vi={TGA:"[image file]",NREF:"[name reference]",BCON:"[behavior constant]",BHAV:"[behavior function]",CTSS:"[catalogue description]",GLOB:"[global data]",OBJD:"[object data]",OBJF:"[object functions]",STR:"[text lists]"},Vt={filename:"",stringSets:[{languageId:1,value:"",description:""}]},ji={BCON:{filename:"",flag:!1,items:[0]},GLOB:{filename:"",semiglobal:""},NREF:{filename:""},OBJF:{filename:"",functions:Array.from(Array(55)).map(()=>({action:0,guard:0}))},TGA:new ArrayBuffer(0),JFIF:new ArrayBuffer(0),STR:Vt,CTSS:Vt,TTAS:Vt};function Cn(r){return(r==null?void 0:r.contentChanges)!==void 0||(r==null?void 0:r.metaChanges)!==void 0}function ve(r){return{activePackage(){return r.packages[r.activePackageId]},activeResourceId(){var e;return(e=this.activePackage())==null?void 0:e.activeResourceId},activeResource(){var t;const e=this.activeResourceId();return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},openResourceIds(){var t;const e=(t=this.activePackage())==null?void 0:t.resources;return e?Object.keys(e).filter(n=>{var i;return(i=e[n])==null?void 0:i.isOpen}):[]},resourceById(e){var t;return(t=this.activePackage())==null?void 0:t.resources[e]},isDirty(e){const t=e??this.activeResourceId();return t?Cn(this.resourceById(t)):!1},isPackageDirty(e){const t=r.packages[e??r.activePackageId];return Object.values((t==null?void 0:t.resources)??{}).some(Cn)}}}function zi(r){const e=typeof r=="number"?r:parseInt(r,16);return Xt[e-1]||"Unknown"}function Ne(r,e){if(r===void 0)return"";let t=r.toString(16).toUpperCase();for(;e&&t.length<e;)t="0"+t;return`0x${t}`}function Hi(r){const t=new Uint16Array([r])[0];return t===void 0?NaN:32768&t?(t^32768)-32768:r}function Jt(r){return Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(";")}function Gi(r,e){return[...r.slice(0,e),...r.slice(e+1)]}function Wi(r,e){let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{r(...n),t=void 0},e)}}const cr="editorState",Kt="base64:",Yi=Wi(r=>{const e=JSON.stringify(r,(t,n)=>n instanceof ArrayBuffer?`${Kt}${$i(n)}`:n);localStorage.setItem(cr,e)},1e3);function qi(){const r={activePackageId:"",packages:{}},e=localStorage.getItem(cr);return e?JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(Kt)?Ei(n.slice(Kt.length)):n):r}function jt(r,e){const t=e.filter(n=>n!==r);return t[Math.min(e.indexOf(r),t.length-1)]??""}const Ue=Cr(qi());Ue.subscribe(Yi);const ke={subscribe:Ue.subscribe,async addPackage(r){const e=hi(await r.arrayBuffer()).reduce((n,i)=>(n[Dt()]=i,n),{}),t=Dt();Ue.update(n=>me(n,i=>{i.packages[t]={filename:r.name,resources:e,activeResourceId:""},i.activePackageId=t}))},removePackage(r){window.confirm("Close this package? You'll lose all changes.")&&Ue.update(e=>me(e,t=>{r===e.activePackageId&&(t.activePackageId=jt(r,Object.keys(e.packages))),delete t.packages[r]}))},setActivePackage(r){Ue.update(e=>me(e,t=>{t.activePackageId=r}))},downloadActivePackage(){const r=Er(Ue);if(ve(r).isPackageDirty()&&!window.confirm("This package contains resources with unsaved changes. Download anyway?"))return;const e=ve(r).activePackage();if(!e)return console.error("Failed to find active package, unable to download");const t=di(Object.values(e.resources)),n=new Blob([new Uint8Array(t)],{type:"octet/stream"}),i=window.URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=e.filename,a.click(),window.URL.revokeObjectURL(i)},openResource(r){Ue.update(e=>me(e,t=>{const n=ve(t).resourceById(r);if(n){n.isOpen=!0;const i=ve(t).activePackage();i&&(i.activeResourceId=r)}}))},closeResource(r){Ue.update(e=>me(e,t=>{var s;const n=(s=ve(e).activePackage())==null?void 0:s.activeResourceId;if(ve(e).isDirty(r)&&!window.confirm("Close this resource? You'll lose all unsaved changes."))return;const i=ve(e).openResourceIds();if(r===n){const l=ve(t).activePackage();l&&(l.activeResourceId=jt(r,i))}const a=ve(t).resourceById(r);a&&(a.isOpen=!1,delete a.contentChanges,delete a.metaChanges)}))},editActiveResource(r){Ue.update(e=>me(e,t=>{const n=ve(t).activeResource();n&&(n.contentChanges=r)}))},editActiveResourceMeta(r){Ue.update(e=>me(e,t=>{const n=ve(t).activeResource();n&&(n.metaChanges=r)}))},resetActiveResource(){window.confirm("Undo all unsaved changes to this resource? This cannot be undone.")&&Ue.update(r=>me(r,e=>{const t=ve(e).activeResource();t&&(delete t.contentChanges,delete t.metaChanges)}))},saveActiveResource(){Ue.update(r=>me(r,e=>{const t=ve(e).activeResource();(t==null?void 0:t.contentChanges)!==void 0&&(t.content=t.contentChanges,delete t.contentChanges),(t==null?void 0:t.metaChanges)!==void 0&&(t.meta=t.metaChanges,delete t.metaChanges)}))},copyActiveResource(){Ue.update(r=>me(r,e=>{const t=ve(e).activePackage(),n=ve(r).activeResource();if(t&&n){const i=Dt();t.resources[i]={...n},t.activeResourceId=i}}))},deleteActiveResource(){window.confirm("Remove this resource from the package file? This cannot be undone.")&&Ue.update(r=>me(r,e=>{const t=ve(e).activePackage(),n=ve(e).activeResourceId();if(t&&n){const i=ve(e).openResourceIds();t.activeResourceId=jt(n,i),delete t.resources[n]}}))},createNewResource(r){Ue.update(e=>me(e,t=>{const n=ve(t).activePackage(),i=Dt();n&&(n.resources[i]={meta:{typeId:fe[r],groupId:0,instanceId:0,instanceId2:0,location:0,size:0},content:ji[r],isOpen:!0},n.activeResourceId=i)}))},setActiveResource(r){Ue.update(e=>me(e,t=>{const n=ve(t).activePackage();n&&(n.activeResourceId=r)}))}},fr=sr(Ue,r=>ve(r).activePackage()),hr=sr(Ue,r=>ve(r).activeResource());function Xi(r){const e=r-1;return e*e*e+1}function Bn(r,{delay:e=0,duration:t=400,easing:n=kr}={}){const i=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:a=>`opacity: ${a*i}`}}function Fn(r,{delay:e=0,duration:t=400,easing:n=Xi,x:i=0,y:a=0,opacity:s=0}={}){const l=getComputedStyle(r),c=+l.opacity,h=l.transform==="none"?"":l.transform,f=c*(1-s);return{delay:e,duration:t,easing:n,css:(g,d)=>`
			transform: ${h} translate(${(1-g)*i}px, ${(1-g)*a}px);
			opacity: ${c-f*d}`}}function Ji(r){let e,t,n,i,a;const s=r[2].default,l=tt(s,r,r[1],null);return{c(){e=A("div"),l&&l.c(),this.h()},l(c){e=T(c,"DIV",{});var h=U(e);l&&l.l(h),h.forEach(y),this.h()},h(){e.hidden=!0},m(c,h){L(c,e,h),l&&l.m(e,null),n=!0,i||(a=Ir(t=Ki.call(null,e,r[0])),i=!0)},p(c,[h]){l&&l.p&&(!n||h&2)&&nt(l,s,c,c[1],n?it(s,c[1],h,null):rt(c[1]),null),t&&xt(t.update)&&h&1&&t.update.call(null,c[0])},i(c){n||(P(l,c),n=!0)},o(c){M(l,c),n=!1},d(c){c&&y(e),l&&l.d(c),i=!1,a()}}}function Ki(r,e="body"){let t;async function n(a){if(e=a,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Ur(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(r),r.hidden=!1}function i(){r.parentNode&&r.parentNode.removeChild(r)}return n(e),{update:n,destroy:i}}function Qi(r,e,t){let{$$slots:n={},$$scope:i}=e,{target:a="body"}=e;return r.$$set=s=>{"target"in s&&t(0,a=s.target),"$$scope"in s&&t(1,i=s.$$scope)},[a,i,n]}class Zi extends le{constructor(e){super(),oe(this,e,Qi,Ji,ue,{target:0})}}function ea(r){let e,t;const n=r[5].default,i=tt(n,r,r[4],null);let a=[r[1]],s={};for(let l=0;l<a.length;l+=1)s=te(s,a[l]);return{c(){e=A("li"),i&&i.c(),this.h()},l(l){e=T(l,"LI",{});var c=U(e);i&&i.l(c),c.forEach(y),this.h()},h(){Ve(e,s),Se(e,"svelte-lyag80",!0)},m(l,c){L(l,e,c),i&&i.m(e,null),t=!0},p(l,c){i&&i.p&&(!t||c&16)&&nt(i,n,l,l[4],t?it(n,l[4],c,null):rt(l[4]),null),Ve(e,s=xe(a,[c&2&&l[1]])),Se(e,"svelte-lyag80",!0)},i(l){t||(P(i,l),t=!0)},o(l){M(i,l),t=!1},d(l){l&&y(e),i&&i.d(l)}}}function ta(r){let e,t;const n=r[5].default,i=tt(n,r,r[4],null);let a=[r[1]],s={};for(let l=0;l<a.length;l+=1)s=te(s,a[l]);return{c(){e=A("ol"),i&&i.c(),this.h()},l(l){e=T(l,"OL",{});var c=U(e);i&&i.l(c),c.forEach(y),this.h()},h(){Ve(e,s),Se(e,"svelte-lyag80",!0)},m(l,c){L(l,e,c),i&&i.m(e,null),t=!0},p(l,c){i&&i.p&&(!t||c&16)&&nt(i,n,l,l[4],t?it(n,l[4],c,null):rt(l[4]),null),Ve(e,s=xe(a,[c&2&&l[1]])),Se(e,"svelte-lyag80",!0)},i(l){t||(P(i,l),t=!0)},o(l){M(i,l),t=!1},d(l){l&&y(e),i&&i.d(l)}}}function na(r){let e,t;const n=r[5].default,i=tt(n,r,r[4],null);let a=[r[1]],s={};for(let l=0;l<a.length;l+=1)s=te(s,a[l]);return{c(){e=A("ul"),i&&i.c(),this.h()},l(l){e=T(l,"UL",{});var c=U(e);i&&i.l(c),c.forEach(y),this.h()},h(){Ve(e,s),Se(e,"svelte-lyag80",!0)},m(l,c){L(l,e,c),i&&i.m(e,null),t=!0},p(l,c){i&&i.p&&(!t||c&16)&&nt(i,n,l,l[4],t?it(n,l[4],c,null):rt(l[4]),null),Ve(e,s=xe(a,[c&2&&l[1]])),Se(e,"svelte-lyag80",!0)},i(l){t||(P(i,l),t=!0)},o(l){M(i,l),t=!1},d(l){l&&y(e),i&&i.d(l)}}}function ra(r){let e,t;const n=r[5].default,i=tt(n,r,r[4],null);let a=[r[1]],s={};for(let l=0;l<a.length;l+=1)s=te(s,a[l]);return{c(){e=A("div"),i&&i.c(),this.h()},l(l){e=T(l,"DIV",{});var c=U(e);i&&i.l(c),c.forEach(y),this.h()},h(){Ve(e,s),Se(e,"svelte-lyag80",!0)},m(l,c){L(l,e,c),i&&i.m(e,null),t=!0},p(l,c){i&&i.p&&(!t||c&16)&&nt(i,n,l,l[4],t?it(n,l[4],c,null):rt(l[4]),null),Ve(e,s=xe(a,[c&2&&l[1]])),Se(e,"svelte-lyag80",!0)},i(l){t||(P(i,l),t=!0)},o(l){M(i,l),t=!1},d(l){l&&y(e),i&&i.d(l)}}}function ia(r){let e,t,n,i;const a=[ra,na,ta,ea],s=[];function l(c,h){return c[0]==="div"?0:c[0]==="ul"?1:c[0]==="ol"?2:c[0]==="li"?3:-1}return~(e=l(r))&&(t=s[e]=a[e](r)),{c(){t&&t.c(),n=Re()},l(c){t&&t.l(c),n=Re()},m(c,h){~e&&s[e].m(c,h),L(c,n,h),i=!0},p(c,[h]){let f=e;e=l(c),e===f?~e&&s[e].p(c,h):(t&&(Le(),M(s[f],1,1,()=>{s[f]=null}),Me()),~e?(t=s[e],t?t.p(c,h):(t=s[e]=a[e](c),t.c()),P(t,1),t.m(n.parentNode,n)):t=null)},i(c){i||(P(t),i=!0)},o(c){M(t),i=!1},d(c){~e&&s[e].d(c),c&&y(n)}}}function aa(r,e,t){let{$$slots:n={},$$scope:i}=e,{style:a={}}=e,{secondary:s=!1}=e,{as:l="div"}=e,c;return r.$$set=h=>{"style"in h&&t(2,a=h.style),"secondary"in h&&t(3,s=h.secondary),"as"in h&&t(0,l=h.as),"$$scope"in h&&t(4,i=h.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&t(1,c={style:Jt(a),class:s?"secondary":"primary"})},[l,c,a,s,i,n]}class We extends le{constructor(e){super(),oe(this,e,aa,ia,ue,{style:2,secondary:3,as:0})}}function Rn(r){let e,t;return e=new Zi({props:{$$slots:{default:[la]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const a={};i&269&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Sn(r){let e,t;return{c(){e=A("h2"),t=K(r[0]),this.h()},l(n){e=T(n,"H2",{class:!0});var i=U(e);t=Q(i,r[0]),i.forEach(y),this.h()},h(){k(e,"class","svelte-tzis89")},m(n,i){L(n,e,i),$(e,t)},p(n,i){i&1&&Ze(t,n[0])},d(n){n&&y(e)}}}function sa(r){let e,t,n=r[0]&&Sn(r);const i=r[4].default,a=tt(i,r,r[8],null);return{c(){n&&n.c(),e=N(),a&&a.c()},l(s){n&&n.l(s),e=V(s),a&&a.l(s)},m(s,l){n&&n.m(s,l),L(s,e,l),a&&a.m(s,l),t=!0},p(s,l){s[0]?n?n.p(s,l):(n=Sn(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a&&a.p&&(!t||l&256)&&nt(a,i,s,s[8],t?it(i,s[8],l,null):rt(s[8]),null)},i(s){t||(P(a,s),t=!0)},o(s){M(a,s),t=!1},d(s){n&&n.d(s),s&&y(e),a&&a.d(s)}}}function la(r){let e,t,n,i,a,s,l,c;return n=new We({props:{secondary:!0,style:{position:"relative"},$$slots:{default:[sa]},$$scope:{ctx:r}}}),{c(){e=A("div"),t=A("div"),W(n.$$.fragment),this.h()},l(h){e=T(h,"DIV",{class:!0});var f=U(e);t=T(f,"DIV",{});var g=U(t);J(n.$$.fragment,g),g.forEach(y),f.forEach(y),this.h()},h(){k(e,"class","background svelte-tzis89")},m(h,f){L(h,e,f),$(e,t),Y(n,t,null),r[7](e),s=!0,l||(c=[pe(e,"click",r[5]),pe(e,"keydown",r[6])],l=!0)},p(h,f){const g={};f&257&&(g.$$scope={dirty:f,ctx:h}),n.$set(g)},i(h){s||(P(n.$$.fragment,h),hn(()=>{i||(i=Ut(t,Fn,{y:-200,duration:100},!0)),i.run(1)}),hn(()=>{a||(a=Ut(e,Bn,{duration:100},!0)),a.run(1)}),s=!0)},o(h){M(n.$$.fragment,h),i||(i=Ut(t,Fn,{y:-200,duration:100},!1)),i.run(0),a||(a=Ut(e,Bn,{duration:100},!1)),a.run(0),s=!1},d(h){h&&y(e),q(n),h&&i&&i.end(),r[7](null),h&&a&&a.end(),l=!1,pt(c)}}}function oa(r){let e,t,n=r[1]&&Rn(r);return{c(){n&&n.c(),e=Re()},l(i){n&&n.l(i),e=Re()},m(i,a){n&&n.m(i,a),L(i,e,a),t=!0},p(i,[a]){i[1]?n?(n.p(i,a),a&2&&P(n,1)):(n=Rn(i),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(Le(),M(n,1,1,()=>{n=null}),Me())},i(i){t||(P(n),t=!0)},o(i){M(n),t=!1},d(i){n&&n.d(i),i&&y(e)}}}function ua(r,e,t){let{$$slots:n={},$$scope:i}=e,{title:a=void 0}=e,{isOpen:s}=e,{onClose:l}=e,c;const h=d=>{d.target===c&&l()},f=d=>{d.key==="Escape"&&l()};function g(d){st[d?"unshift":"push"](()=>{c=d,t(3,c)})}return r.$$set=d=>{"title"in d&&t(0,a=d.title),"isOpen"in d&&t(1,s=d.isOpen),"onClose"in d&&t(2,l=d.onClose),"$$scope"in d&&t(8,i=d.$$scope)},[a,s,l,c,n,h,f,g,i]}class ca extends le{constructor(e){super(),oe(this,e,ua,oa,ue,{title:0,isOpen:1,onClose:2})}}function fa(r){let e,t,n,i,a=[{style:t=r[1]&&Jt(r[1])},r[2]],s={};for(let l=0;l<a.length;l+=1)s=te(s,a[l]);return{c(){e=A("button"),this.h()},l(l){e=T(l,"BUTTON",{style:!0}),U(e).forEach(y),this.h()},h(){Ve(e,s),Se(e,"svelte-gwh5g1",!0)},m(l,c){L(l,e,c),e.autofocus&&e.focus(),n||(i=pe(e,"click",function(){xt(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(l,[c]){r=l,Ve(e,s=xe(a,[c&2&&t!==(t=r[1]&&Jt(r[1]))&&{style:t},c&4&&r[2]])),Se(e,"svelte-gwh5g1",!0)},i:ce,o:ce,d(l){l&&y(e),n=!1,i()}}}function ha(r,e,t){const n=["onClick","style"];let i=Ct(e,n),{onClick:a}=e,{style:s=void 0}=e;return r.$$set=l=>{e=te(te({},e),Ie(l)),t(2,i=Ct(e,n)),"onClick"in l&&t(0,a=l.onClick),"style"in l&&t(1,s=l.style)},[a,s,i]}class dr extends le{constructor(e){super(),oe(this,e,ha,fa,ue,{onClick:0,style:1})}}function xn(r,e,t){const n=r.slice();return n[12]=e[t],n[14]=t,n}function Pn(r,e,t){const n=r.slice();return n[15]=e[t],n}function On(r,e){let t,n=e[15]+"",i,a;return{key:r,first:null,c(){t=A("option"),i=K(n),a=N(),this.h()},l(s){t=T(s,"OPTION",{});var l=U(t);i=Q(l,n),a=V(l),l.forEach(y),this.h()},h(){t.__value=e[15],t.value=t.__value,this.first=t},m(s,l){L(s,t,l),$(t,i),$(t,a)},p(s,l){e=s},d(s){s&&y(t)}}}function da(r){let e,t,n,i,a,s,l,c,h=[],f=new Map,g,d,w=Object.keys(r[4]);const b=m=>m[15];for(let m=0;m<w.length;m+=1){let v=Pn(r,w,m),E=b(v);f.set(E,h[m]=On(E,v))}return{c(){e=A("label"),t=K(`Flag
			`),n=A("input"),a=N(),s=A("label"),l=K(`Display as
			`),c=A("select");for(let m=0;m<h.length;m+=1)h[m].c();this.h()},l(m){e=T(m,"LABEL",{});var v=U(e);t=Q(v,`Flag
			`),n=T(v,"INPUT",{type:!0}),v.forEach(y),a=V(m),s=T(m,"LABEL",{});var E=U(s);l=Q(E,`Display as
			`),c=T(E,"SELECT",{class:!0});var C=U(c);for(let D=0;D<h.length;D+=1)h[D].l(C);C.forEach(y),E.forEach(y),this.h()},h(){k(n,"type","checkbox"),n.checked=i=r[0].flag,k(c,"class","display-as svelte-1p5vpeh")},m(m,v){L(m,e,v),$(e,t),$(e,n),L(m,a,v),L(m,s,v),$(s,l),$(s,c);for(let E=0;E<h.length;E+=1)h[E].m(c,null);ht(c,r[2]),g||(d=[pe(n,"input",r[5]),pe(c,"input",r[6])],g=!0)},p(m,v){v&1&&i!==(i=m[0].flag)&&(n.checked=i),v&16&&(w=Object.keys(m[4]),h=$t(h,v,b,1,m,w,f,c,ar,On,null,Pn)),v&20&&ht(c,m[2])},d(m){m&&y(e),m&&y(a),m&&y(s);for(let v=0;v<h.length;v+=1)h[v].d();g=!1,pt(d)}}}function Ln(r){let e,t,n,i,a,s=r[3](r[14])+"",l,c,h,f,g,d,w,b,m,v,E,C;function D(){return r[8](r[14])}n=new dr({props:{onClick:D,"aria-label":"remove value"}});function S(...R){return r[9](r[14],...R)}return{c(){e=A("tr"),t=A("td"),W(n.$$.fragment),i=N(),a=A("td"),l=K(s),c=N(),h=A("td"),f=A("input"),d=N(),w=A("td"),b=K("-"),m=N(),this.h()},l(R){e=T(R,"TR",{});var x=U(e);t=T(x,"TD",{class:!0});var O=U(t);J(n.$$.fragment,O),O.forEach(y),i=V(x),a=T(x,"TD",{class:!0});var z=U(a);l=Q(z,s),z.forEach(y),c=V(x),h=T(x,"TD",{class:!0});var ee=U(h);f=T(ee,"INPUT",{type:!0}),ee.forEach(y),d=V(x),w=T(x,"TD",{class:!0});var j=U(w);b=Q(j,"-"),j.forEach(y),m=V(x),x.forEach(y),this.h()},h(){k(t,"class","svelte-1p5vpeh"),k(a,"class","svelte-1p5vpeh"),k(f,"type","text"),f.value=g=r[3](r[12]),k(h,"class","svelte-1p5vpeh"),k(w,"class","svelte-1p5vpeh")},m(R,x){L(R,e,x),$(e,t),Y(n,t,null),$(e,i),$(e,a),$(a,l),$(e,c),$(e,h),$(h,f),$(e,d),$(e,w),$(w,b),$(e,m),v=!0,E||(C=pe(f,"input",S),E=!0)},p(R,x){r=R;const O={};x&3&&(O.onClick=D),n.$set(O),(!v||x&8)&&s!==(s=r[3](r[14])+"")&&Ze(l,s),(!v||x&9&&g!==(g=r[3](r[12]))&&f.value!==g)&&(f.value=g)},i(R){v||(P(n.$$.fragment,R),v=!0)},o(R){M(n.$$.fragment,R),v=!1},d(R){R&&y(e),q(n),E=!1,C()}}}function pa(r){let e;return{c(){e=K("Add new value")},l(t){e=Q(t,"Add new value")},m(t,n){L(t,e,n)},d(t){t&&y(e)}}}function ga(r){let e,t,n,i,a,s,l,c,h,f,g,d,w,b,m,v,E,C=r[0].items,D=[];for(let R=0;R<C.length;R+=1)D[R]=Ln(xn(r,C,R));const S=R=>M(D[R],1,1,()=>{D[R]=null});return v=new ze({props:{onClick:r[10],$$slots:{default:[pa]},$$scope:{ctx:r}}}),{c(){e=A("table"),t=A("thead"),n=A("td"),i=N(),a=A("td"),s=K("Line"),l=N(),c=A("td"),h=K("Value"),f=N(),g=A("td"),d=K("Label"),w=N(),b=A("tbody");for(let R=0;R<D.length;R+=1)D[R].c();m=N(),W(v.$$.fragment),this.h()},l(R){e=T(R,"TABLE",{class:!0});var x=U(e);t=T(x,"THEAD",{});var O=U(t);n=T(O,"TD",{class:!0}),U(n).forEach(y),i=V(O),a=T(O,"TD",{class:!0});var z=U(a);s=Q(z,"Line"),z.forEach(y),l=V(O),c=T(O,"TD",{class:!0});var ee=U(c);h=Q(ee,"Value"),ee.forEach(y),f=V(O),g=T(O,"TD",{class:!0});var j=U(g);d=Q(j,"Label"),j.forEach(y),O.forEach(y),w=V(x),b=T(x,"TBODY",{});var X=U(b);for(let G=0;G<D.length;G+=1)D[G].l(X);X.forEach(y),x.forEach(y),m=V(R),J(v.$$.fragment,R),this.h()},h(){k(n,"class","svelte-1p5vpeh"),k(a,"class","svelte-1p5vpeh"),k(c,"class","svelte-1p5vpeh"),k(g,"class","svelte-1p5vpeh"),k(e,"class","svelte-1p5vpeh")},m(R,x){L(R,e,x),$(e,t),$(t,n),$(t,i),$(t,a),$(a,s),$(t,l),$(t,c),$(c,h),$(t,f),$(t,g),$(g,d),$(e,w),$(e,b);for(let O=0;O<D.length;O+=1)D[O].m(b,null);L(R,m,x),Y(v,R,x),E=!0},p(R,x){if(x&139){C=R[0].items;let z;for(z=0;z<C.length;z+=1){const ee=xn(R,C,z);D[z]?(D[z].p(ee,x),P(D[z],1)):(D[z]=Ln(ee),D[z].c(),P(D[z],1),D[z].m(b,null))}for(Le(),z=C.length;z<D.length;z+=1)S(z);Me()}const O={};x&3&&(O.onClick=R[10]),x&262144&&(O.$$scope={dirty:x,ctx:R}),v.$set(O)},i(R){if(!E){for(let x=0;x<C.length;x+=1)P(D[x]);P(v.$$.fragment,R),E=!0}},o(R){D=D.filter(Boolean);for(let x=0;x<D.length;x+=1)M(D[x]);M(v.$$.fragment,R),E=!1},d(R){R&&y(e),Qt(D,R),R&&y(m),q(v,R)}}}function va(r){let e,t,n,i,a;return t=new We({props:{style:{display:"flex","justify-content":"space-between"},secondary:!0,$$slots:{default:[da]},$$scope:{ctx:r}}}),i=new We({props:{secondary:!0,style:{"margin-top":"5px"},$$slots:{default:[ga]},$$scope:{ctx:r}}}),{c(){e=A("div"),W(t.$$.fragment),n=N(),W(i.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var l=U(e);J(t.$$.fragment,l),n=V(l),J(i.$$.fragment,l),l.forEach(y),this.h()},h(){k(e,"class","svelte-1p5vpeh")},m(s,l){L(s,e,l),Y(t,e,null),$(e,n),Y(i,e,null),a=!0},p(s,[l]){const c={};l&262149&&(c.$$scope={dirty:l,ctx:s}),t.$set(c);const h={};l&262155&&(h.$$scope={dirty:l,ctx:s}),i.$set(h)},i(s){a||(P(t.$$.fragment,s),P(i.$$.fragment,s),a=!0)},o(s){M(t.$$.fragment,s),M(i.$$.fragment,s),a=!1},d(s){s&&y(e),q(t),q(i)}}}function ma(r,e,t){let{content:n}=e,{onChange:i}=e;const a={Hex:{format:m=>Ne(m,4),parse:m=>parseInt(m,16)},Int:{format:m=>Hi(m),parse:m=>new Uint16Array([parseInt(m,10)])[0]},uInt:{format:m=>m>>>0,parse:m=>parseInt(m,10)}};let s="Hex",l,c;const h=m=>i(me(n,v=>{v.flag=m.target.checked})),f=m=>{t(2,s=m.target.value)},g=(m,v)=>i(me(n,E=>{E.items[v]=c(m.target.value)??0})),d=m=>{i(me(n,v=>{v.items=Gi(v.items,m)}))},w=(m,v)=>g(v,m),b=()=>{i(me(n,m=>{m.items.push(0)}))};return r.$$set=m=>{"content"in m&&t(0,n=m.content),"onChange"in m&&t(1,i=m.onChange)},r.$$.update=()=>{r.$$.dirty&4&&t(3,{format:l,parse:c}=a[s],l)},[n,i,s,l,a,h,f,g,d,w,b]}class _a extends le{constructor(e){super(),oe(this,e,ma,va,ue,{content:0,onChange:1})}}function wa(r){let e,t,n,i,a,s,l;return{c(){e=A("label"),t=K("Semi global"),n=N(),i=A("input"),this.h()},l(c){e=T(c,"LABEL",{for:!0});var h=U(e);t=Q(h,"Semi global"),h.forEach(y),n=V(c),i=T(c,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){k(e,"for","semiglobal-input"),k(i,"id","semiglobal-input"),k(i,"type","text"),i.value=a=r[0].semiglobal,k(i,"class","svelte-1vnf0ng")},m(c,h){L(c,e,h),$(e,t),L(c,n,h),L(c,i,h),s||(l=pe(i,"input",r[1]),s=!0)},p(c,h){h&1&&a!==(a=c[0].semiglobal)&&i.value!==a&&(i.value=a)},d(c){c&&y(e),c&&y(n),c&&y(i),s=!1,l()}}}function ba(r){let e,t,n;return t=new We({props:{secondary:!0,$$slots:{default:[wa]},$$scope:{ctx:r}}}),{c(){e=A("div"),W(t.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var a=U(e);J(t.$$.fragment,a),a.forEach(y),this.h()},h(){k(e,"class","svelte-1vnf0ng")},m(i,a){L(i,e,a),Y(t,e,null),n=!0},p(i,[a]){const s={};a&9&&(s.$$scope={dirty:a,ctx:i}),t.$set(s)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&y(e),q(t)}}}function ya(r,e,t){let{content:n}=e,{onChange:i}=e;const a=s=>i(me(n,l=>{l.semiglobal=s.target.value}));return r.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(2,i=s.onChange)},[n,a,i]}class $a extends le{constructor(e){super(),oe(this,e,ya,ba,ue,{content:0,onChange:2})}}function Ea(r){let e;return{c(){e=K("This file can be edited by changing the file name!")},l(t){e=Q(t,"This file can be edited by changing the file name!")},m(t,n){L(t,e,n)},d(t){t&&y(e)}}}function ka(r){let e,t,n;return t=new We({props:{secondary:!0,$$slots:{default:[Ea]},$$scope:{ctx:r}}}),{c(){e=A("div"),W(t.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var a=U(e);J(t.$$.fragment,a),a.forEach(y),this.h()},h(){k(e,"class","svelte-ez7vw6")},m(i,a){L(i,e,a),Y(t,e,null),n=!0},p(i,[a]){const s={};a&1&&(s.$$scope={dirty:a,ctx:i}),t.$set(s)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&y(e),q(t)}}}class Ia extends le{constructor(e){super(),oe(this,e,null,ka,ue,{})}}function Mn(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function Nn(r){let e,t,n=r[1][r[6]]+"",i,a,s,l,c,h,f,g,d,w,b,m;return{c(){e=A("tr"),t=A("td"),i=K(n),a=N(),s=A("td"),l=A("input"),h=N(),f=A("td"),g=A("input"),w=N(),this.h()},l(v){e=T(v,"TR",{});var E=U(e);t=T(E,"TD",{class:!0});var C=U(t);i=Q(C,n),C.forEach(y),a=V(E),s=T(E,"TD",{class:!0});var D=U(s);l=T(D,"INPUT",{type:!0,placeholder:!0,class:!0}),D.forEach(y),h=V(E),f=T(E,"TD",{class:!0});var S=U(f);g=T(S,"INPUT",{type:!0,placeholder:!0,class:!0}),S.forEach(y),w=V(E),E.forEach(y),this.h()},h(){k(t,"class","svelte-1qmxsor"),k(l,"type","text"),k(l,"placeholder","none"),l.value=c=Ne(r[4].action||void 0,4),k(l,"class","svelte-1qmxsor"),k(s,"class","svelte-1qmxsor"),k(g,"type","text"),k(g,"placeholder","none"),g.value=d=Ne(r[4].guard||void 0,4),k(g,"class","svelte-1qmxsor"),k(f,"class","svelte-1qmxsor")},m(v,E){L(v,e,E),$(e,t),$(t,i),$(e,a),$(e,s),$(s,l),$(e,h),$(e,f),$(f,g),$(e,w),b||(m=[pe(l,"input",r[2]("action",r[6])),pe(g,"input",r[2]("guard",r[6]))],b=!0)},p(v,E){r=v,E&1&&c!==(c=Ne(r[4].action||void 0,4))&&l.value!==c&&(l.value=c),E&1&&d!==(d=Ne(r[4].guard||void 0,4))&&g.value!==d&&(g.value=d)},d(v){v&&y(e),b=!1,pt(m)}}}function Ua(r){let e,t,n,i,a,s,l,c,h,f,g,d,w=r[0].functions,b=[];for(let m=0;m<w.length;m+=1)b[m]=Nn(Mn(r,w,m));return{c(){e=A("table"),t=A("thead"),n=A("td"),i=K("Function"),a=N(),s=A("td"),l=K("Action BHAV"),c=N(),h=A("td"),f=K("Guardian BHAV"),g=N(),d=A("tbody");for(let m=0;m<b.length;m+=1)b[m].c();this.h()},l(m){e=T(m,"TABLE",{class:!0});var v=U(e);t=T(v,"THEAD",{class:!0});var E=U(t);n=T(E,"TD",{class:!0});var C=U(n);i=Q(C,"Function"),C.forEach(y),a=V(E),s=T(E,"TD",{class:!0});var D=U(s);l=Q(D,"Action BHAV"),D.forEach(y),c=V(E),h=T(E,"TD",{class:!0});var S=U(h);f=Q(S,"Guardian BHAV"),S.forEach(y),E.forEach(y),g=V(v),d=T(v,"TBODY",{});var R=U(d);for(let x=0;x<b.length;x+=1)b[x].l(R);R.forEach(y),v.forEach(y),this.h()},h(){k(n,"class","svelte-1qmxsor"),k(s,"class","svelte-1qmxsor"),k(h,"class","svelte-1qmxsor"),k(t,"class","svelte-1qmxsor"),k(e,"class","svelte-1qmxsor")},m(m,v){L(m,e,v),$(e,t),$(t,n),$(n,i),$(t,a),$(t,s),$(s,l),$(t,c),$(t,h),$(h,f),$(e,g),$(e,d);for(let E=0;E<b.length;E+=1)b[E].m(d,null)},p(m,v){if(v&7){w=m[0].functions;let E;for(E=0;E<w.length;E+=1){const C=Mn(m,w,E);b[E]?b[E].p(C,v):(b[E]=Nn(C),b[E].c(),b[E].m(d,null))}for(;E<b.length;E+=1)b[E].d(1);b.length=w.length}},d(m){m&&y(e),Qt(b,m)}}}function Aa(r){let e,t,n;return t=new We({props:{secondary:!0,$$slots:{default:[Ua]},$$scope:{ctx:r}}}),{c(){e=A("div"),W(t.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var a=U(e);J(t.$$.fragment,a),a.forEach(y),this.h()},h(){k(e,"class","svelte-1qmxsor")},m(i,a){L(i,e,a),Y(t,e,null),n=!0},p(i,[a]){const s={};a&129&&(s.$$scope={dirty:a,ctx:i}),t.$set(s)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){M(t.$$.fragment,i),n=!1},d(i){i&&y(e),q(t)}}}function Ta(r,e,t){let{content:n}=e,{onChange:i}=e;const a=["init","main","load","cleanup","queue skipped","allow intersection","wall adjacency changed","room changed","dynamic multi-tile update","placement","pickup","user placement","user pickup","level info request","serving surface","portal","gardening","wash hands","prep","cook","surface","dispose","food","pickup from slot","wash dish","eating surface","sit","stand","clean","repair","ui event","Restock","Wash Clothes","start live mode","stop live mode","link objects","message handler","pre route","post route","goal check","reaction handler","along route callback","awareness","reset","look at target","walk over","utility state change","set model by type","get model type","delete","user delete","just moved in","prevent place in slot","global awareness","object updated by design mode"],s=(l,c)=>h=>i(me(n,f=>{const g=f.functions[c];if(g){const d=h.target.value;g[l]=parseInt(d,16)}}));return r.$$set=l=>{"content"in l&&t(0,n=l.content),"onChange"in l&&t(3,i=l.onChange)},[n,a,s,i]}class Da extends le{constructor(e){super(),oe(this,e,Ta,Aa,ue,{content:0,onChange:3})}}function Vn(r,e,t){const n=r.slice();return n[8]=e[t],n[10]=t,n}function jn(r,e,t){const n=r.slice();return n[11]=e[t],n[10]=t,n}function zn(r){let e,t=zi(r[10]+1)+"",n;return{c(){e=A("option"),n=K(t),this.h()},l(i){e=T(i,"OPTION",{});var a=U(e);n=Q(a,t),a.forEach(y),this.h()},h(){e.__value=r[10]+1,e.value=e.__value},m(i,a){L(i,e,a),$(e,n)},p:ce,d(i){i&&y(e)}}}function Ca(r){let e,t,n,i,a,s,l,c,h,f,g,d,w,b,m,v,E,C,D,S;function R(...j){return r[5](r[10],...j)}let x=Xt,O=[];for(let j=0;j<x.length;j+=1)O[j]=zn(jn(r,x,j));function z(...j){return r[6](r[10],...j)}function ee(...j){return r[7](r[10],...j)}return{c(){e=A("div"),t=A("div"),n=A("label"),i=K(`Description
					`),a=A("input"),l=N(),c=A("div"),h=A("label"),f=K(`Language
					`),g=A("select");for(let j=0;j<O.length;j+=1)O[j].c();w=N(),b=A("label"),m=K(`Value
			`),v=A("textarea"),C=N(),this.h()},l(j){e=T(j,"DIV",{class:!0});var X=U(e);t=T(X,"DIV",{class:!0});var G=U(t);n=T(G,"LABEL",{class:!0});var ne=U(n);i=Q(ne,`Description
					`),a=T(ne,"INPUT",{type:!0,placeholder:!0,class:!0}),ne.forEach(y),G.forEach(y),l=V(X),c=T(X,"DIV",{class:!0});var _e=U(c);h=T(_e,"LABEL",{class:!0});var H=U(h);f=Q(H,`Language
					`),g=T(H,"SELECT",{class:!0});var ye=U(g);for(let ae=0;ae<O.length;ae+=1)O[ae].l(ye);ye.forEach(y),H.forEach(y),_e.forEach(y),X.forEach(y),w=V(j),b=T(j,"LABEL",{class:!0});var we=U(b);m=Q(we,`Value
			`),v=T(we,"TEXTAREA",{class:!0,placeholder:!0}),U(v).forEach(y),we.forEach(y),C=V(j),this.h()},h(){k(a,"type","text"),k(a,"placeholder","No description"),a.value=s=r[8].description,k(a,"class","svelte-f4dafu"),k(n,"class","svelte-f4dafu"),k(t,"class","description svelte-f4dafu"),k(g,"class","language svelte-f4dafu"),k(h,"class","svelte-f4dafu"),k(c,"class","language"),k(e,"class","meta svelte-f4dafu"),k(v,"class","value svelte-f4dafu"),k(v,"placeholder","No value"),v.value=E=r[8].value,k(b,"class","svelte-f4dafu")},m(j,X){L(j,e,X),$(e,t),$(t,n),$(n,i),$(n,a),$(e,l),$(e,c),$(c,h),$(h,f),$(h,g);for(let G=0;G<O.length;G+=1)O[G].m(g,null);ht(g,r[8].languageId),L(j,w,X),L(j,b,X),$(b,m),$(b,v),L(j,C,X),D||(S=[pe(a,"input",R),pe(g,"input",z),pe(v,"input",ee)],D=!0)},p(j,X){if(r=j,X&1&&s!==(s=r[8].description)&&a.value!==s&&(a.value=s),X&0){x=Xt;let G;for(G=0;G<x.length;G+=1){const ne=jn(r,x,G);O[G]?O[G].p(ne,X):(O[G]=zn(ne),O[G].c(),O[G].m(g,null))}for(;G<O.length;G+=1)O[G].d(1);O.length=x.length}X&1&&d!==(d=r[8].languageId)&&ht(g,r[8].languageId),X&1&&E!==(E=r[8].value)&&(v.value=E)},d(j){j&&y(e),Qt(O,j),j&&y(w),j&&y(b),j&&y(C),D=!1,pt(S)}}}function Hn(r,e){let t,n,i;return n=new We({props:{as:"li",style:{"margin-top":e[10]?"5px":"0"},secondary:!0,$$slots:{default:[Ca]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=Re(),W(n.$$.fragment),this.h()},l(a){t=Re(),J(n.$$.fragment,a),this.h()},h(){this.first=t},m(a,s){L(a,t,s),Y(n,a,s),i=!0},p(a,s){e=a;const l={};s&1&&(l.style={"margin-top":e[10]?"5px":"0"}),s&8193&&(l.$$scope={dirty:s,ctx:e}),n.$set(l)},i(a){i||(P(n.$$.fragment,a),i=!0)},o(a){M(n.$$.fragment,a),i=!1},d(a){a&&y(t),q(n,a)}}}function Ba(r){let e,t=[],n=new Map,i,a=r[0].stringSets;const s=l=>l[10];for(let l=0;l<a.length;l+=1){let c=Vn(r,a,l),h=s(c);n.set(h,t[l]=Hn(h,c))}return{c(){e=A("ul");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=T(l,"UL",{class:!0});var c=U(e);for(let h=0;h<t.length;h+=1)t[h].l(c);c.forEach(y),this.h()},h(){k(e,"class","svelte-f4dafu")},m(l,c){L(l,e,c);for(let h=0;h<t.length;h+=1)t[h].m(e,null);i=!0},p(l,[c]){c&15&&(a=l[0].stringSets,Le(),t=$t(t,c,s,1,l,a,n,e,Zt,Hn,null,Vn),Me())},i(l){if(!i){for(let c=0;c<a.length;c+=1)P(t[c]);i=!0}},o(l){for(let c=0;c<t.length;c+=1)M(t[c]);i=!1},d(l){l&&y(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Fa(r,e,t){let{content:n}=e,{onChange:i}=e;const a=(g,d)=>i(me(n,w=>{const b=w.stringSets[d];b&&(b.description=g.target.value)})),s=(g,d)=>i(me(n,w=>{const b=w.stringSets[d];b&&(b.languageId=parseInt(g.target.value,10))})),l=(g,d)=>i(me(n,w=>{const b=w.stringSets[d];b&&(b.value=g.target.value)})),c=(g,d)=>a(d,g),h=(g,d)=>s(d,g),f=(g,d)=>l(d,g);return r.$$set=g=>{"content"in g&&t(0,n=g.content),"onChange"in g&&t(4,i=g.onChange)},[n,a,s,l,i,c,h,f]}class zt extends le{constructor(e){super(),oe(this,e,Fa,Ba,ue,{content:0,onChange:4})}}var Ra=function(r){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=r,t.c=e,t.d=function(n,i,a){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="",t(t.s=0)}([function(r,e,t){(function(n){var i=function(){function f(g,d){for(var w=0;w<d.length;w++){var b=d[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,d,w){return d&&f(g.prototype,d),w&&f(g,w),g}}();function a(f){if(Array.isArray(f)){for(var g=0,d=Array(f.length);g<f.length;g++)d[g]=f[g];return d}else return Array.from(f)}function s(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}var l={noImage:0,colorMapped:1,RGB:2,blackAndWhite:3,runlengthColorMapped:9,runlengthRGB:10,compressedBlackAndWhite:11,compressedColorMapped:32,compressed4PassQTColorMapped:33},c=18,h=function(){function f(g){var d=this;s(this,f),g instanceof n?this._buffer=g:typeof g=="string"?this._buffer=n.from(g,"binary"):g?this._buffer=n.from(g):this._buffer=null,this._idLength=0,this._colorMapType=0,this._imageType=0,this._colorMapOrigin=0,this._colorMapLength=0,this._colorMapDepth=0,this._imageXOrigin=0,this._imageYOrigin=0,this._imageWidth=0,this._imageHeight=0,this._imageDepth=0,this._alphaDepth=0,this._leftToRight=!0,this._topToBottom=!1,this._interleave=!1,this._hasAlpha=!1,this._imageID=null,this._canvas=null,this._context=null,this._imageData=null,this._image=null,this._src=null,this.onload=null,this.onerror=null,this._resolveFunc=null,this._rejectFunc=null,this._didLoad=new Promise(function(w,b){d._resolveFunc=w,d._rejectFunc=b}),g&&this._parseData()}return i(f,[{key:"_loadURL",value:function(d){var w=this;this._src=d,this._requestBinaryFile(d).then(function(b){w._buffer=n.from(b),w._parseData()}).catch(function(b){w._reject(b)})}},{key:"_requestBinaryFile",value:function(d){return new Promise(function(w,b){var m=new XMLHttpRequest;m.open("GET",d),m.responseType="arraybuffer",m.onload=function(v){m.response?w(m.response):b(m)},m.onerror=function(v){b(v)},m.send(null)})}},{key:"_parseData",value:function(){this._readHeader(),this._readImageID(),this._initImage();var d=this._getImageData();switch(this._imageType){case l.noImage:break;case l.colorMapped:{this._parseColorMapData(d);break}case l.RGB:{this._parseRGBData(d);break}case l.blackAndWhite:{this._parseBlackAndWhiteData(d);break}case l.runlengthColorMapped:{this._parseColorMapData(d);break}case l.runlengthRGB:{this._parseRGBData(d);break}case l.compressedBlackAndWhite:{this._parseBlackAndWhiteData(d);break}case l.compressedColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}case l.compressed4PassQTColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}default:throw new Error("unknown imageType: "+this._imageType)}this._setImage(),this._deleteBuffer()}},{key:"_readHeader",value:function(){this._idLength=this._buffer.readUIntLE(0,1),this._colorMapType=this._buffer.readUIntLE(1,1),this._imageType=this._buffer.readUIntLE(2,1),this._colorMapOrigin=this._buffer.readUIntLE(3,2),this._colorMapLength=this._buffer.readUIntLE(5,2),this._colorMapDepth=this._buffer.readUIntLE(7,1),this._imageXOrigin=this._buffer.readUIntLE(8,2),this._imageYOrigin=this._buffer.readUIntLE(10,2),this._imageWidth=this._buffer.readUIntLE(12,2),this._imageHeight=this._buffer.readUIntLE(14,2),this._imageDepth=this._buffer.readUIntLE(16,1);var d=this._buffer.readUIntLE(17,1);this._alphaDepth=d&15,this._leftToRight=(d&16)===0,this._topToBottom=(d&32)>0,this._interleave=d&192}},{key:"_readImageID",value:function(){this._idLength>0&&(this._imageID=this._buffer.subarray(c,this._idLength))}},{key:"_initImage",value:function(){this._imageType!==l.noImage&&(this._imageWidth<=0||this._imageHeight<=0||(this._canvas=document.createElement("canvas"),this._canvas.width=this._imageWidth,this._canvas.height=this._imageHeight,this._context=this._canvas.getContext("2d"),this._imageData=this._context.createImageData(this._imageWidth,this._imageHeight)))}},{key:"_setImage",value:function(){var d=this;this._context.putImageData(this._imageData,0,0),this._image=new Image,this._image.width=this._imageWidth,this._image.height=this._imageHeight,this._image.onload=function(){d._resolve()},this._image.src=this._canvas.toDataURL()}},{key:"_deleteBuffer",value:function(){this._buffer&&(delete this._buffer,this._buffer=null),this._imageData&&(delete this._imageData,this._imageData=null)}},{key:"_parseColorMapData",value:function(d){if(this._colorMapDepth===24||this._colorMapDepth===16||this._colorMapDepth===15)this._hasAlpha=!1;else if(this._colorMapDepth===32)this._hasAlpha=!0;else throw new Error("unknown colorMapDepth: "+this._colorMapDepth);var w=c+this._idLength,b=Math.ceil(this._colorMapDepth/8);b*this._colorMapLength;for(var m=1,v=[],E=w,C=0;C<this._colorMapLength;C++){var D=this._getRGBA(this._buffer,E,this._colorMapDepth);v.push(D),E+=b}var S=this._imageData.data,R=0,x=0,O=1,z=1;this._leftToRight||(R=this._imageWidth-1,O=-1),this._topToBottom||(x=this._imageHeight-1,z=-1),E=0;for(var ee=x,j=[255,255,255,255],X=0;X<this._imageHeight;X++){for(var G=R,ne=0;ne<this._imageWidth;ne++){var _e=(ee*this._imageWidth+G)*4,H=j,ye=d[E]-this._colorMapOrigin;ye>=0&&(H=v[ye]),S[_e]=H[0],S[_e+1]=H[1],S[_e+2]=H[2],S[_e+3]=H[3],G+=O,E+=m}ee+=z}}},{key:"_parseRGBData",value:function(d){if(this._imageDepth===24||this._imageDepth===16||this._imageDepth===15)this._hasAlpha=!1;else if(this._imageDepth===32)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var w=Math.ceil(this._imageDepth/8),b=this._imageData.data,m=0,v=0,E=1,C=1;this._leftToRight||(m=this._imageWidth-1,E=-1),this._topToBottom||(v=this._imageHeight-1,C=-1);for(var D=0,S=v,R=0;R<this._imageHeight;R++){for(var x=m,O=0;O<this._imageWidth;O++){var z=(S*this._imageWidth+x)*4,ee=this._getRGBA(d,D,this._imageDepth);b[z]=ee[0],b[z+1]=ee[1],b[z+2]=ee[2],b[z+3]=ee[3],x+=E,D+=w}S+=C}}},{key:"_getRGBA",value:function(d,w,b){if(b===15){var m=(d[w+1]&124)<<1,v=(d[w+1]&3)<<6|(d[w]&224)>>2,E=(d[w]&31)<<3,C=255;return[m,v,E,C]}else if(b===16){var D=(d[w+1]&124)<<1,S=(d[w+1]&3)<<6|(d[w]&224)>>2,R=(d[w]&31)<<3,x=255;return[D,S,R,x]}else{if(b===24)return[d[w+2],d[w+1],d[w],255];if(b===32)return[d[w+2],d[w+1],d[w],d[w+3]]}throw new Error("unsupported imageDepth: "+b)}},{key:"_parseBlackAndWhiteData",value:function(d){if(this._imageDepth==8)this._hasAlpha=!1;else if(this._imageDepth==16)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var w=this._imageDepth/8,b=this._imageData.data,m=0,v=0,E=1,C=1;this._leftToRight||(m=this._imageWidth-1,E=-1),this._topToBottom||(v=this._imageHeight-1,C=-1);var D=0;if(this._hasAlpha)for(var S=v,R=0;R<this._imageHeight;R++){for(var x=m,O=0;O<this._imageWidth;O++){var z=(S*this._imageWidth+x)*4,ee=d[D],j=d[D+1];b[z]=ee,b[z+1]=ee,b[z+2]=ee,b[z+3]=j,x+=E,D+=w}S+=C}else for(var X=v,G=0;G<this._imageHeight;G++){for(var ne=m,_e=0;_e<this._imageWidth;_e++){var H=(X*this._imageWidth+ne)*4,ye=d[D],we=255;b[H]=ye,b[H+1]=ye,b[H+2]=ye,b[H+3]=we,ne+=E,D+=w}X+=C}}},{key:"_getImageData",value:function(){var d=null;if(this._imageType!==l.none){var w=Math.ceil(this._colorMapDepth/8)*this._colorMapLength,b=c+this._idLength+w;d=this._buffer.subarray(b)}return this._imageType===l.runlengthColorMapped||this._imageType===l.runlengthRGB?d=this._decompressRunlengthData(d):this._imageType===l.compressedBlackAndWhite?d=this._decompressRunlengthData(d):(this._imageType===l.compressedColorMapped||this._imageType===l.compressed4PassQTColorMapped)&&console.error("Compressed Color Mapped TGA Image data is not supported"),d}},{key:"_decompressRunlengthData",value:function(d){for(var w=[],b=Math.ceil(this._imageDepth/8),m=b*this._imageWidth*this._imageHeight,v=0;w.length<m;){var E=d[v];if(v+=1,E&128){var C=d.slice(v,v+b);v+=b;for(var D=(E&127)+1,S=0;S<D;S++)w.push.apply(w,a(C))}else{var R=(E+1)*b;w.push.apply(w,a(d.slice(v,v+R))),v+=R}}return w}},{key:"_resolve",value:function(d){this.onload&&this.onload(d),this._resolveFunc(d)}},{key:"_reject",value:function(d){this.onerror&&this.onerror(d),this._rejectFunc(d)}},{key:"image",get:function(){return this._image}},{key:"canvas",get:function(){return this._canvas}},{key:"didLoad",get:function(){return this._didLoad}},{key:"src",get:function(){return this._src},set:function(d){this._loadURL(d)}}],[{key:"imageWithData",value:function(d){return new f(d)}},{key:"imageWithURL",value:function(d){var w=new f;return w._loadURL(d),w}}]),f}();r.exports=h}).call(e,t(1).Buffer)},function(r,e,t){(function(n){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var i=t(3),a=t(4),s=t(5);e.Buffer=f,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:l(),e.kMaxLength=c();function l(){try{var p=new Uint8Array(1);return p.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},p.foo()===42&&typeof p.subarray=="function"&&p.subarray(1,1).byteLength===0}catch{return!1}}function c(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(p,o){if(c()<o)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(p=new Uint8Array(o),p.__proto__=f.prototype):(p===null&&(p=new f(o)),p.length=o),p}function f(p,o,u){if(!f.TYPED_ARRAY_SUPPORT&&!(this instanceof f))return new f(p,o,u);if(typeof p=="number"){if(typeof o=="string")throw new Error("If encoding is specified then the first argument must be a string");return b(this,p)}return g(this,p,o,u)}f.poolSize=8192,f._augment=function(p){return p.__proto__=f.prototype,p};function g(p,o,u,_){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer?E(p,o,u,_):typeof o=="string"?m(p,o,u):C(p,o)}f.from=function(p,o,u){return g(null,p,o,u)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0}));function d(p){if(typeof p!="number")throw new TypeError('"size" argument must be a number');if(p<0)throw new RangeError('"size" argument must not be negative')}function w(p,o,u,_){return d(o),o<=0?h(p,o):u!==void 0?typeof _=="string"?h(p,o).fill(u,_):h(p,o).fill(u):h(p,o)}f.alloc=function(p,o,u){return w(null,p,o,u)};function b(p,o){if(d(o),p=h(p,o<0?0:D(o)|0),!f.TYPED_ARRAY_SUPPORT)for(var u=0;u<o;++u)p[u]=0;return p}f.allocUnsafe=function(p){return b(null,p)},f.allocUnsafeSlow=function(p){return b(null,p)};function m(p,o,u){if((typeof u!="string"||u==="")&&(u="utf8"),!f.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');var _=R(o,u)|0;p=h(p,_);var I=p.write(o,u);return I!==_&&(p=p.slice(0,I)),p}function v(p,o){var u=o.length<0?0:D(o.length)|0;p=h(p,u);for(var _=0;_<u;_+=1)p[_]=o[_]&255;return p}function E(p,o,u,_){if(o.byteLength,u<0||o.byteLength<u)throw new RangeError("'offset' is out of bounds");if(o.byteLength<u+(_||0))throw new RangeError("'length' is out of bounds");return u===void 0&&_===void 0?o=new Uint8Array(o):_===void 0?o=new Uint8Array(o,u):o=new Uint8Array(o,u,_),f.TYPED_ARRAY_SUPPORT?(p=o,p.__proto__=f.prototype):p=v(p,o),p}function C(p,o){if(f.isBuffer(o)){var u=D(o.length)|0;return p=h(p,u),p.length===0||o.copy(p,0,0,u),p}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||br(o.length)?h(p,0):v(p,o);if(o.type==="Buffer"&&s(o.data))return v(p,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function D(p){if(p>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return p|0}function S(p){return+p!=p&&(p=0),f.alloc(+p)}f.isBuffer=function(o){return!!(o!=null&&o._isBuffer)},f.compare=function(o,u){if(!f.isBuffer(o)||!f.isBuffer(u))throw new TypeError("Arguments must be Buffers");if(o===u)return 0;for(var _=o.length,I=u.length,B=0,F=Math.min(_,I);B<F;++B)if(o[B]!==u[B]){_=o[B],I=u[B];break}return _<I?-1:I<_?1:0},f.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(o,u){if(!s(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return f.alloc(0);var _;if(u===void 0)for(u=0,_=0;_<o.length;++_)u+=o[_].length;var I=f.allocUnsafe(u),B=0;for(_=0;_<o.length;++_){var F=o[_];if(!f.isBuffer(F))throw new TypeError('"list" argument must be an Array of Buffers');F.copy(I,B),B+=F.length}return I};function R(p,o){if(f.isBuffer(p))return p.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(p)||p instanceof ArrayBuffer))return p.byteLength;typeof p!="string"&&(p=""+p);var u=p.length;if(u===0)return 0;for(var _=!1;;)switch(o){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":case void 0:return Et(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return on(p).length;default:if(_)return Et(p).length;o=(""+o).toLowerCase(),_=!0}}f.byteLength=R;function x(p,o,u){var _=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,o>>>=0,u<=o))return"";for(p||(p="utf8");;)switch(p){case"hex":return Z(this,o,u);case"utf8":case"utf-8":return we(this,o,u);case"ascii":return lt(this,o,u);case"latin1":case"binary":return $e(this,o,u);case"base64":return ye(this,o,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,o,u);default:if(_)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),_=!0}}f.prototype._isBuffer=!0;function O(p,o,u){var _=p[o];p[o]=p[u],p[u]=_}f.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<o;u+=2)O(this,u,u+1);return this},f.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<o;u+=4)O(this,u,u+3),O(this,u+1,u+2);return this},f.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<o;u+=8)O(this,u,u+7),O(this,u+1,u+6),O(this,u+2,u+5),O(this,u+3,u+4);return this},f.prototype.toString=function(){var o=this.length|0;return o===0?"":arguments.length===0?we(this,0,o):x.apply(this,arguments)},f.prototype.equals=function(o){if(!f.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:f.compare(this,o)===0},f.prototype.inspect=function(){var o="",u=e.INSPECT_MAX_BYTES;return this.length>0&&(o=this.toString("hex",0,u).match(/.{2}/g).join(" "),this.length>u&&(o+=" ... ")),"<Buffer "+o+">"},f.prototype.compare=function(o,u,_,I,B){if(!f.isBuffer(o))throw new TypeError("Argument must be a Buffer");if(u===void 0&&(u=0),_===void 0&&(_=o?o.length:0),I===void 0&&(I=0),B===void 0&&(B=this.length),u<0||_>o.length||I<0||B>this.length)throw new RangeError("out of range index");if(I>=B&&u>=_)return 0;if(I>=B)return-1;if(u>=_)return 1;if(u>>>=0,_>>>=0,I>>>=0,B>>>=0,this===o)return 0;for(var F=B-I,se=_-u,de=Math.min(F,se),ge=this.slice(I,B),Fe=o.slice(u,_),be=0;be<de;++be)if(ge[be]!==Fe[be]){F=ge[be],se=Fe[be];break}return F<se?-1:se<F?1:0};function z(p,o,u,_,I){if(p.length===0)return-1;if(typeof u=="string"?(_=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,isNaN(u)&&(u=I?0:p.length-1),u<0&&(u=p.length+u),u>=p.length){if(I)return-1;u=p.length-1}else if(u<0)if(I)u=0;else return-1;if(typeof o=="string"&&(o=f.from(o,_)),f.isBuffer(o))return o.length===0?-1:ee(p,o,u,_,I);if(typeof o=="number")return o=o&255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(p,o,u):Uint8Array.prototype.lastIndexOf.call(p,o,u):ee(p,[o],u,_,I);throw new TypeError("val must be string, number or Buffer")}function ee(p,o,u,_,I){var B=1,F=p.length,se=o.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(p.length<2||o.length<2)return-1;B=2,F/=2,se/=2,u/=2}function de(un,cn){return B===1?un[cn]:un.readUInt16BE(cn*B)}var ge;if(I){var Fe=-1;for(ge=u;ge<F;ge++)if(de(p,ge)===de(o,Fe===-1?0:ge-Fe)){if(Fe===-1&&(Fe=ge),ge-Fe+1===se)return Fe*B}else Fe!==-1&&(ge-=ge-Fe),Fe=-1}else for(u+se>F&&(u=F-se),ge=u;ge>=0;ge--){for(var be=!0,It=0;It<se;It++)if(de(p,ge+It)!==de(o,It)){be=!1;break}if(be)return ge}return-1}f.prototype.includes=function(o,u,_){return this.indexOf(o,u,_)!==-1},f.prototype.indexOf=function(o,u,_){return z(this,o,u,_,!0)},f.prototype.lastIndexOf=function(o,u,_){return z(this,o,u,_,!1)};function j(p,o,u,_){u=Number(u)||0;var I=p.length-u;_?(_=Number(_),_>I&&(_=I)):_=I;var B=o.length;if(B%2!==0)throw new TypeError("Invalid hex string");_>B/2&&(_=B/2);for(var F=0;F<_;++F){var se=parseInt(o.substr(F*2,2),16);if(isNaN(se))return F;p[u+F]=se}return F}function X(p,o,u,_){return kt(Et(o,p.length-u),p,u,_)}function G(p,o,u,_){return kt(_r(o),p,u,_)}function ne(p,o,u,_){return G(p,o,u,_)}function _e(p,o,u,_){return kt(on(o),p,u,_)}function H(p,o,u,_){return kt(wr(o,p.length-u),p,u,_)}f.prototype.write=function(o,u,_,I){if(u===void 0)I="utf8",_=this.length,u=0;else if(_===void 0&&typeof u=="string")I=u,_=this.length,u=0;else if(isFinite(u))u=u|0,isFinite(_)?(_=_|0,I===void 0&&(I="utf8")):(I=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var B=this.length-u;if((_===void 0||_>B)&&(_=B),o.length>0&&(_<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");for(var F=!1;;)switch(I){case"hex":return j(this,o,u,_);case"utf8":case"utf-8":return X(this,o,u,_);case"ascii":return G(this,o,u,_);case"latin1":case"binary":return ne(this,o,u,_);case"base64":return _e(this,o,u,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,o,u,_);default:if(F)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),F=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(p,o,u){return o===0&&u===p.length?i.fromByteArray(p):i.fromByteArray(p.slice(o,u))}function we(p,o,u){u=Math.min(p.length,u);for(var _=[],I=o;I<u;){var B=p[I],F=null,se=B>239?4:B>223?3:B>191?2:1;if(I+se<=u){var de,ge,Fe,be;switch(se){case 1:B<128&&(F=B);break;case 2:de=p[I+1],(de&192)===128&&(be=(B&31)<<6|de&63,be>127&&(F=be));break;case 3:de=p[I+1],ge=p[I+2],(de&192)===128&&(ge&192)===128&&(be=(B&15)<<12|(de&63)<<6|ge&63,be>2047&&(be<55296||be>57343)&&(F=be));break;case 4:de=p[I+1],ge=p[I+2],Fe=p[I+3],(de&192)===128&&(ge&192)===128&&(Fe&192)===128&&(be=(B&15)<<18|(de&63)<<12|(ge&63)<<6|Fe&63,be>65535&&be<1114112&&(F=be))}}F===null?(F=65533,se=1):F>65535&&(F-=65536,_.push(F>>>10&1023|55296),F=56320|F&1023),_.push(F),I+=se}return Ee(_)}var ae=4096;function Ee(p){var o=p.length;if(o<=ae)return String.fromCharCode.apply(String,p);for(var u="",_=0;_<o;)u+=String.fromCharCode.apply(String,p.slice(_,_+=ae));return u}function lt(p,o,u){var _="";u=Math.min(p.length,u);for(var I=o;I<u;++I)_+=String.fromCharCode(p[I]&127);return _}function $e(p,o,u){var _="";u=Math.min(p.length,u);for(var I=o;I<u;++I)_+=String.fromCharCode(p[I]);return _}function Z(p,o,u){var _=p.length;(!o||o<0)&&(o=0),(!u||u<0||u>_)&&(u=_);for(var I="",B=o;B<u;++B)I+=mr(p[B]);return I}function re(p,o,u){for(var _=p.slice(o,u),I="",B=0;B<_.length;B+=2)I+=String.fromCharCode(_[B]+_[B+1]*256);return I}f.prototype.slice=function(o,u){var _=this.length;o=~~o,u=u===void 0?_:~~u,o<0?(o+=_,o<0&&(o=0)):o>_&&(o=_),u<0?(u+=_,u<0&&(u=0)):u>_&&(u=_),u<o&&(u=o);var I;if(f.TYPED_ARRAY_SUPPORT)I=this.subarray(o,u),I.__proto__=f.prototype;else{var B=u-o;I=new f(B,void 0);for(var F=0;F<B;++F)I[F]=this[F+o]}return I};function ie(p,o,u){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+o>u)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(o,u,_){o=o|0,u=u|0,_||ie(o,u,this.length);for(var I=this[o],B=1,F=0;++F<u&&(B*=256);)I+=this[o+F]*B;return I},f.prototype.readUIntBE=function(o,u,_){o=o|0,u=u|0,_||ie(o,u,this.length);for(var I=this[o+--u],B=1;u>0&&(B*=256);)I+=this[o+--u]*B;return I},f.prototype.readUInt8=function(o,u){return u||ie(o,1,this.length),this[o]},f.prototype.readUInt16LE=function(o,u){return u||ie(o,2,this.length),this[o]|this[o+1]<<8},f.prototype.readUInt16BE=function(o,u){return u||ie(o,2,this.length),this[o]<<8|this[o+1]},f.prototype.readUInt32LE=function(o,u){return u||ie(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},f.prototype.readUInt32BE=function(o,u){return u||ie(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},f.prototype.readIntLE=function(o,u,_){o=o|0,u=u|0,_||ie(o,u,this.length);for(var I=this[o],B=1,F=0;++F<u&&(B*=256);)I+=this[o+F]*B;return B*=128,I>=B&&(I-=Math.pow(2,8*u)),I},f.prototype.readIntBE=function(o,u,_){o=o|0,u=u|0,_||ie(o,u,this.length);for(var I=u,B=1,F=this[o+--I];I>0&&(B*=256);)F+=this[o+--I]*B;return B*=128,F>=B&&(F-=Math.pow(2,8*u)),F},f.prototype.readInt8=function(o,u){return u||ie(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},f.prototype.readInt16LE=function(o,u){u||ie(o,2,this.length);var _=this[o]|this[o+1]<<8;return _&32768?_|4294901760:_},f.prototype.readInt16BE=function(o,u){u||ie(o,2,this.length);var _=this[o+1]|this[o]<<8;return _&32768?_|4294901760:_},f.prototype.readInt32LE=function(o,u){return u||ie(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},f.prototype.readInt32BE=function(o,u){return u||ie(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},f.prototype.readFloatLE=function(o,u){return u||ie(o,4,this.length),a.read(this,o,!0,23,4)},f.prototype.readFloatBE=function(o,u){return u||ie(o,4,this.length),a.read(this,o,!1,23,4)},f.prototype.readDoubleLE=function(o,u){return u||ie(o,8,this.length),a.read(this,o,!0,52,8)},f.prototype.readDoubleBE=function(o,u){return u||ie(o,8,this.length),a.read(this,o,!1,52,8)};function he(p,o,u,_,I,B){if(!f.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>I||o<B)throw new RangeError('"value" argument is out of bounds');if(u+_>p.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(o,u,_,I){if(o=+o,u=u|0,_=_|0,!I){var B=Math.pow(2,8*_)-1;he(this,o,u,_,B,0)}var F=1,se=0;for(this[u]=o&255;++se<_&&(F*=256);)this[u+se]=o/F&255;return u+_},f.prototype.writeUIntBE=function(o,u,_,I){if(o=+o,u=u|0,_=_|0,!I){var B=Math.pow(2,8*_)-1;he(this,o,u,_,B,0)}var F=_-1,se=1;for(this[u+F]=o&255;--F>=0&&(se*=256);)this[u+F]=o/se&255;return u+_},f.prototype.writeUInt8=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,1,255,0),f.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[u]=o&255,u+1};function Be(p,o,u,_){o<0&&(o=65535+o+1);for(var I=0,B=Math.min(p.length-u,2);I<B;++I)p[u+I]=(o&255<<8*(_?I:1-I))>>>(_?I:1-I)*8}f.prototype.writeUInt16LE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[u]=o&255,this[u+1]=o>>>8):Be(this,o,u,!0),u+2},f.prototype.writeUInt16BE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[u]=o>>>8,this[u+1]=o&255):Be(this,o,u,!1),u+2};function Pe(p,o,u,_){o<0&&(o=4294967295+o+1);for(var I=0,B=Math.min(p.length-u,4);I<B;++I)p[u+I]=o>>>(_?I:3-I)*8&255}f.prototype.writeUInt32LE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[u+3]=o>>>24,this[u+2]=o>>>16,this[u+1]=o>>>8,this[u]=o&255):Pe(this,o,u,!0),u+4},f.prototype.writeUInt32BE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255):Pe(this,o,u,!1),u+4},f.prototype.writeIntLE=function(o,u,_,I){if(o=+o,u=u|0,!I){var B=Math.pow(2,8*_-1);he(this,o,u,_,B-1,-B)}var F=0,se=1,de=0;for(this[u]=o&255;++F<_&&(se*=256);)o<0&&de===0&&this[u+F-1]!==0&&(de=1),this[u+F]=(o/se>>0)-de&255;return u+_},f.prototype.writeIntBE=function(o,u,_,I){if(o=+o,u=u|0,!I){var B=Math.pow(2,8*_-1);he(this,o,u,_,B-1,-B)}var F=_-1,se=1,de=0;for(this[u+F]=o&255;--F>=0&&(se*=256);)o<0&&de===0&&this[u+F+1]!==0&&(de=1),this[u+F]=(o/se>>0)-de&255;return u+_},f.prototype.writeInt8=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,1,127,-128),f.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[u]=o&255,u+1},f.prototype.writeInt16LE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[u]=o&255,this[u+1]=o>>>8):Be(this,o,u,!0),u+2},f.prototype.writeInt16BE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[u]=o>>>8,this[u+1]=o&255):Be(this,o,u,!1),u+2},f.prototype.writeInt32LE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[u]=o&255,this[u+1]=o>>>8,this[u+2]=o>>>16,this[u+3]=o>>>24):Pe(this,o,u,!0),u+4},f.prototype.writeInt32BE=function(o,u,_){return o=+o,u=u|0,_||he(this,o,u,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),f.TYPED_ARRAY_SUPPORT?(this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255):Pe(this,o,u,!1),u+4};function Ye(p,o,u,_,I,B){if(u+_>p.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Oe(p,o,u,_,I){return I||Ye(p,o,u,4),a.write(p,o,u,_,23,4),u+4}f.prototype.writeFloatLE=function(o,u,_){return Oe(this,o,u,!0,_)},f.prototype.writeFloatBE=function(o,u,_){return Oe(this,o,u,!1,_)};function qe(p,o,u,_,I){return I||Ye(p,o,u,8),a.write(p,o,u,_,52,8),u+8}f.prototype.writeDoubleLE=function(o,u,_){return qe(this,o,u,!0,_)},f.prototype.writeDoubleBE=function(o,u,_){return qe(this,o,u,!1,_)},f.prototype.copy=function(o,u,_,I){if(_||(_=0),!I&&I!==0&&(I=this.length),u>=o.length&&(u=o.length),u||(u=0),I>0&&I<_&&(I=_),I===_||o.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("sourceStart out of bounds");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),o.length-u<I-_&&(I=o.length-u+_);var B=I-_,F;if(this===o&&_<u&&u<I)for(F=B-1;F>=0;--F)o[F+u]=this[F+_];else if(B<1e3||!f.TYPED_ARRAY_SUPPORT)for(F=0;F<B;++F)o[F+u]=this[F+_];else Uint8Array.prototype.set.call(o,this.subarray(_,_+B),u);return B},f.prototype.fill=function(o,u,_,I){if(typeof o=="string"){if(typeof u=="string"?(I=u,u=0,_=this.length):typeof _=="string"&&(I=_,_=this.length),o.length===1){var B=o.charCodeAt(0);B<256&&(o=B)}if(I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!f.isEncoding(I))throw new TypeError("Unknown encoding: "+I)}else typeof o=="number"&&(o=o&255);if(u<0||this.length<u||this.length<_)throw new RangeError("Out of range index");if(_<=u)return this;u=u>>>0,_=_===void 0?this.length:_>>>0,o||(o=0);var F;if(typeof o=="number")for(F=u;F<_;++F)this[F]=o;else{var se=f.isBuffer(o)?o:Et(new f(o,I).toString()),de=se.length;for(F=0;F<_-u;++F)this[F+u]=se[F%de]}return this};var je=/[^+\/0-9A-Za-z-_]/g;function gr(p){if(p=vr(p).replace(je,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function vr(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function mr(p){return p<16?"0"+p.toString(16):p.toString(16)}function Et(p,o){o=o||1/0;for(var u,_=p.length,I=null,B=[],F=0;F<_;++F){if(u=p.charCodeAt(F),u>55295&&u<57344){if(!I){if(u>56319){(o-=3)>-1&&B.push(239,191,189);continue}else if(F+1===_){(o-=3)>-1&&B.push(239,191,189);continue}I=u;continue}if(u<56320){(o-=3)>-1&&B.push(239,191,189),I=u;continue}u=(I-55296<<10|u-56320)+65536}else I&&(o-=3)>-1&&B.push(239,191,189);if(I=null,u<128){if((o-=1)<0)break;B.push(u)}else if(u<2048){if((o-=2)<0)break;B.push(u>>6|192,u&63|128)}else if(u<65536){if((o-=3)<0)break;B.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((o-=4)<0)break;B.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return B}function _r(p){for(var o=[],u=0;u<p.length;++u)o.push(p.charCodeAt(u)&255);return o}function wr(p,o){for(var u,_,I,B=[],F=0;F<p.length&&!((o-=2)<0);++F)u=p.charCodeAt(F),_=u>>8,I=u%256,B.push(I),B.push(_);return B}function on(p){return i.toByteArray(gr(p))}function kt(p,o,u,_){for(var I=0;I<_&&!(I+u>=o.length||I>=p.length);++I)o[I+u]=p[I];return I}function br(p){return p!==p}}).call(e,t(2))},function(r,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}r.exports=t},function(r,e,t){e.byteLength=f,e.toByteArray=g,e.fromByteArray=b;for(var n=[],i=[],a=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=s.length;l<c;++l)n[l]=s[l],i[s.charCodeAt(l)]=l;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function h(m){var v=m.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return m[v-2]==="="?2:m[v-1]==="="?1:0}function f(m){return m.length*3/4-h(m)}function g(m){var v,E,C,D,S,R=m.length;D=h(m),S=new a(R*3/4-D),E=D>0?R-4:R;var x=0;for(v=0;v<E;v+=4)C=i[m.charCodeAt(v)]<<18|i[m.charCodeAt(v+1)]<<12|i[m.charCodeAt(v+2)]<<6|i[m.charCodeAt(v+3)],S[x++]=C>>16&255,S[x++]=C>>8&255,S[x++]=C&255;return D===2?(C=i[m.charCodeAt(v)]<<2|i[m.charCodeAt(v+1)]>>4,S[x++]=C&255):D===1&&(C=i[m.charCodeAt(v)]<<10|i[m.charCodeAt(v+1)]<<4|i[m.charCodeAt(v+2)]>>2,S[x++]=C>>8&255,S[x++]=C&255),S}function d(m){return n[m>>18&63]+n[m>>12&63]+n[m>>6&63]+n[m&63]}function w(m,v,E){for(var C,D=[],S=v;S<E;S+=3)C=(m[S]<<16)+(m[S+1]<<8)+m[S+2],D.push(d(C));return D.join("")}function b(m){for(var v,E=m.length,C=E%3,D="",S=[],R=16383,x=0,O=E-C;x<O;x+=R)S.push(w(m,x,x+R>O?O:x+R));return C===1?(v=m[E-1],D+=n[v>>2],D+=n[v<<4&63],D+="=="):C===2&&(v=(m[E-2]<<8)+m[E-1],D+=n[v>>10],D+=n[v>>4&63],D+=n[v<<2&63],D+="="),S.push(D),S.join("")}},function(r,e){e.read=function(t,n,i,a,s){var l,c,h=s*8-a-1,f=(1<<h)-1,g=f>>1,d=-7,w=i?s-1:0,b=i?-1:1,m=t[n+w];for(w+=b,l=m&(1<<-d)-1,m>>=-d,d+=h;d>0;l=l*256+t[n+w],w+=b,d-=8);for(c=l&(1<<-d)-1,l>>=-d,d+=a;d>0;c=c*256+t[n+w],w+=b,d-=8);if(l===0)l=1-g;else{if(l===f)return c?NaN:(m?-1:1)*(1/0);c=c+Math.pow(2,a),l=l-g}return(m?-1:1)*c*Math.pow(2,l-a)},e.write=function(t,n,i,a,s,l){var c,h,f,g=l*8-s-1,d=(1<<g)-1,w=d>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=a?0:l-1,v=a?1:-1,E=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(h=isNaN(n)?1:0,c=d):(c=Math.floor(Math.log(n)/Math.LN2),n*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+w>=1?n+=b/f:n+=b*Math.pow(2,1-w),n*f>=2&&(c++,f/=2),c+w>=d?(h=0,c=d):c+w>=1?(h=(n*f-1)*Math.pow(2,s),c=c+w):(h=n*Math.pow(2,w-1)*Math.pow(2,s),c=0));s>=8;t[i+m]=h&255,m+=v,h/=256,s-=8);for(c=c<<s|h,g+=s;g>0;t[i+m]=c&255,m+=v,c/=256,g-=8);t[i+m-v]|=E*128}},function(r,e){var t={}.toString;r.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}}]);function Sa(r){let e;return{c(){e=K("Upload image file")},l(t){e=Q(t,"Upload image file")},m(t,n){L(t,e,n)},d(t){t&&y(e)}}}function xa(r){let e,t;return e=new ze({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[6],$$slots:{default:[Sa]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const a={};i&4&&(a.onClick=n[6]),i&512&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Gn(r){let e,t;return e=new We({props:{secondary:!0,style:{"margin-top":"5px",overflow:"hidden"},$$slots:{default:[Pa]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,i){const a={};i&514&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Pa(r){let e,t;return{c(){e=A("img"),this.h()},l(n){e=T(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){dn(e.src,t=r[1])||k(e,"src",t),k(e,"alt",""),k(e,"class","svelte-23h5j9")},m(n,i){L(n,e,i)},p(n,i){i&2&&!dn(e.src,t=n[1])&&k(e,"src",t)},d(n){n&&y(e)}}}function Oa(r){let e,t,n,i,a,s,l,c;i=new We({props:{secondary:!0,$$slots:{default:[xa]},$$scope:{ctx:r}}});let h=r[1]&&Gn(r);return{c(){e=A("div"),t=A("input"),n=N(),W(i.$$.fragment),a=N(),h&&h.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var g=U(e);t=T(g,"INPUT",{type:!0,accept:!0,class:!0}),n=V(g),J(i.$$.fragment,g),a=V(g),h&&h.l(g),g.forEach(y),this.h()},h(){k(t,"type","file"),k(t,"accept","image/jpeg, image/png, .tga"),k(t,"class","svelte-23h5j9"),k(e,"class","tga-view svelte-23h5j9")},m(f,g){L(f,e,g),$(e,t),r[4](t),$(e,n),Y(i,e,null),$(e,a),h&&h.m(e,null),s=!0,l||(c=pe(t,"change",r[5]),l=!0)},p(f,[g]){const d={};g&516&&(d.$$scope={dirty:g,ctx:f}),i.$set(d),f[1]?h?(h.p(f,g),g&2&&P(h,1)):(h=Gn(f),h.c(),P(h,1),h.m(e,null)):h&&(Le(),M(h,1,1,()=>{h=null}),Me())},i(f){s||(P(i.$$.fragment,f),P(h),s=!0)},o(f){M(i.$$.fragment,f),M(h),s=!1},d(f){f&&y(e),r[4](null),q(i),h&&h.d(),l=!1,c()}}}function La(r,e,t){let{content:n}=e,{onChange:i}=e,a,s;const l={jpg:[255,216],png:[137,80,78,71,13,10,26,10]},c=(d,w)=>w.every((b,m)=>b===d[m]);function h(d){st[d?"unshift":"push"](()=>{s=d,t(2,s)})}const f=async()=>{var d,w;i(await((w=(d=s.files)==null?void 0:d[0])==null?void 0:w.arrayBuffer()))},g=()=>s.click();return r.$$set=d=>{"content"in d&&t(3,n=d.content),"onChange"in d&&t(0,i=d.onChange)},r.$$.update=()=>{if(r.$$.dirty&8){const d=new Uint8Array(n);let w;if(!n||!d.length)t(1,a="");else if(c(d,l.jpg))w=new Blob([d],{type:"image/jpeg"}),t(1,a=window.URL.createObjectURL(w));else if(c(d,l.png))w=new Blob([d],{type:"image/png"}),t(1,a=window.URL.createObjectURL(w));else{const b=Ra.imageWithData(n);b.didLoad.then(()=>{t(1,a=b.image.src)})}}},[i,a,s,n,h,f,g]}class Wn extends le{constructor(e){super(),oe(this,e,La,Oa,ue,{content:3,onChange:0})}}function Ma(r){let e;return{c(){e=K("No view for this resource type")},l(t){e=Q(t,"No view for this resource type")},m(t,n){L(t,e,n)},d(t){t&&y(e)}}}function Na(r){let e,t;return e=new We({props:{secondary:!0,$$slots:{default:[Ma]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,[i]){const a={};i&1&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}class Va extends le{constructor(e){super(),oe(this,e,null,Na,ue,{})}}const yt={BCON:_a,CTSS:zt,GLOB:$a,JFIF:Wn,NREF:Ia,OBJF:Da,STR:zt,TGA:Wn,TTAS:zt};function Yn(r){if(r)return yt[et(r.meta.typeId)]??Va}function ja(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99h144v-144C192 62.32 206.33 48 224 48s32 14.32 32 32.01v144h144c17.7-.01 32 14.29 32 31.99z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function za(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class Ha extends le{constructor(e){super(),oe(this,e,za,ja,ue,{})}}function Ga(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M384 128H256V0l128 128zm-128 32h128v304c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.5-48-48V48C0 21.49 21.49 0 48 0h176l.004 128C224 145.7 238.3 160 256 160zm-1 135-39 39.1V232c0-13.25-10.75-24-24-24s-24 10.8-24 24v102.1L128.1 295c-3.8-4.7-9.9-7-16.1-7s-12.28 2.3-16.97 7c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94s-24.57-9.3-33.97 0z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function Wa(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class Ya extends le{constructor(e){super(),oe(this,e,Wa,Ga,ue,{})}}function qa(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M438.6 105.4c12.5 12.5 12.5 32.7 0 45.2l-256 256c-12.5 12.5-32.7 12.5-45.2 0L9.372 278.6c-12.496-12.5-12.496-32.7 0-45.2 12.498-12.5 32.758-12.5 45.258 0L159.1 338.7l234.3-233.3c12.5-12.52 32.7-12.52 45.2 0z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function Xa(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class Ja extends le{constructor(e){super(),oe(this,e,Xa,qa,ue,{})}}function Ka(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 0 1-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 0 1-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function Qa(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class Za extends le{constructor(e){super(),oe(this,e,Qa,Ka,ue,{})}}function qn(r,e,t){const n=r.slice();return n[13]=e[t],n}function es(r){let e,t;return e=new Ya({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function ts(r){let e,t;return e=new Ha({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Xn(r,e){let t,n=e[13]+"",i;return{key:r,first:null,c(){t=A("option"),i=K(n),this.h()},l(a){t=T(a,"OPTION",{});var s=U(t);i=Q(s,n),s.forEach(y),this.h()},h(){t.__value=e[13],t.value=t.__value,this.first=t},m(a,s){L(a,t,s),$(t,i)},p(a,s){e=a},d(a){a&&y(t)}}}function ns(r){let e,t;return e=new Za({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function rs(r){let e,t;return e=new Ja({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function is(r){let e,t,n,i=[],a=new Map,s,l,c,h,f,g,d,w,b=Object.keys(yt);const m=v=>v[13];for(let v=0;v<b.length;v+=1){let E=qn(r,b,v),C=m(E);a.set(C,i[v]=Xn(C,E))}return c=new ze({props:{variant:"skeuomorphic",size:25,onClick:r[5],"aria-label":"cancel",style:"margin-right: 5px;",$$slots:{default:[ns]},$$scope:{ctx:r}}}),f=new ze({props:{variant:"skeuomorphic",size:25,onClick:r[12],"aria-label":"submit",$$slots:{default:[rs]},$$scope:{ctx:r}}}),{c(){e=A("label"),t=K(`Type:
			`),n=A("select");for(let v=0;v<i.length;v+=1)i[v].c();s=N(),l=A("div"),W(c.$$.fragment),h=N(),W(f.$$.fragment),this.h()},l(v){e=T(v,"LABEL",{class:!0});var E=U(e);t=Q(E,`Type:
			`),n=T(E,"SELECT",{class:!0});var C=U(n);for(let S=0;S<i.length;S+=1)i[S].l(C);C.forEach(y),E.forEach(y),s=V(v),l=T(v,"DIV",{class:!0});var D=U(l);J(c.$$.fragment,D),h=V(D),J(f.$$.fragment,D),D.forEach(y),this.h()},h(){k(n,"class","svelte-1sk2j0c"),k(e,"class","modal-content svelte-1sk2j0c"),k(l,"class","modal-controls svelte-1sk2j0c")},m(v,E){L(v,e,E),$(e,t),$(e,n);for(let C=0;C<i.length;C+=1)i[C].m(n,null);ht(n,r[3]),r[11](n),L(v,s,E),L(v,l,E),Y(c,l,null),$(l,h),Y(f,l,null),g=!0,d||(w=pe(n,"input",r[6]),d=!0)},p(v,E){E&0&&(b=Object.keys(yt),i=$t(i,E,m,1,v,b,a,n,ar,Xn,null,qn)),(!g||E&8)&&ht(n,v[3]);const C={};E&65536&&(C.$$scope={dirty:E,ctx:v}),c.$set(C);const D={};E&8&&(D.onClick=v[12]),E&65536&&(D.$$scope={dirty:E,ctx:v}),f.$set(D)},i(v){g||(P(c.$$.fragment,v),P(f.$$.fragment,v),g=!0)},o(v){M(c.$$.fragment,v),M(f.$$.fragment,v),g=!1},d(v){v&&y(e);for(let E=0;E<i.length;E+=1)i[E].d();r[11](null),v&&y(s),v&&y(l),q(c),q(f),d=!1,w()}}}function as(r){let e,t,n,i,a,s,l,c,h,f,g,d,w,b,m;c=new ze({props:{variant:"skeuomorphic",size:25,style:"margin: 0 5px; padding: 1px;",onClick:r[8],tooltip:"Download package","aria-label":"download package",$$slots:{default:[es]},$$scope:{ctx:r}}});let v={variant:"skeuomorphic",size:25,style:"padding: 1px;",onClick:r[9],tooltip:"Add resource","aria-label":"add resource",$$slots:{default:[ts]},$$scope:{ctx:r}};return f=new ze({props:v}),r[10](f),d=new ca({props:{title:"Add new resource",isOpen:r[2],onClose:r[5],$$slots:{default:[is]},$$scope:{ctx:r}}}),{c(){e=A("div"),t=A("label"),n=K("Search"),i=N(),a=A("div"),s=A("input"),l=N(),W(c.$$.fragment),h=N(),W(f.$$.fragment),g=N(),W(d.$$.fragment),this.h()},l(E){e=T(E,"DIV",{});var C=U(e);t=T(C,"LABEL",{for:!0,class:!0});var D=U(t);n=Q(D,"Search"),D.forEach(y),i=V(C),a=T(C,"DIV",{class:!0});var S=U(a);s=T(S,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),l=V(S),J(c.$$.fragment,S),h=V(S),J(f.$$.fragment,S),S.forEach(y),g=V(C),J(d.$$.fragment,C),C.forEach(y),this.h()},h(){k(t,"for","file-search"),k(t,"class","search-label svelte-1sk2j0c"),k(s,"id","file-search"),k(s,"type","text"),k(s,"placeholder","File name, file type, group ID, or instance ID"),k(s,"class","svelte-1sk2j0c"),k(a,"class","actions svelte-1sk2j0c")},m(E,C){L(E,e,C),$(e,t),$(t,n),$(e,i),$(e,a),$(a,s),pn(s,r[0]),$(a,l),Y(c,a,null),$(a,h),Y(f,a,null),$(e,g),Y(d,e,null),w=!0,b||(m=pe(s,"input",r[7]),b=!0)},p(E,[C]){C&1&&s.value!==E[0]&&pn(s,E[0]);const D={};C&65536&&(D.$$scope={dirty:C,ctx:E}),c.$set(D);const S={};C&4&&(S.onClick=E[9]),C&65536&&(S.$$scope={dirty:C,ctx:E}),f.$set(S);const R={};C&4&&(R.isOpen=E[2]),C&65546&&(R.$$scope={dirty:C,ctx:E}),d.$set(R)},i(E){w||(P(c.$$.fragment,E),P(f.$$.fragment,E),P(d.$$.fragment,E),w=!0)},o(E){M(c.$$.fragment,E),M(f.$$.fragment,E),M(d.$$.fragment,E),w=!1},d(E){E&&y(e),q(c),r[10](null),q(f),q(d),b=!1,m()}}}function ss(r,e,t){let{search:n=""}=e,i=!1,a=Object.keys(yt)[0],s,l;const c=()=>{t(2,i=!1),t(3,a=Object.keys(yt)[0]),l.focus()},h=v=>{t(3,a=v.target.value)};function f(){n=this.value,t(0,n)}const g=()=>ke.downloadActivePackage(),d=()=>{t(2,i=!0)};function w(v){st[v?"unshift":"push"](()=>{l=v,t(4,l)})}function b(v){st[v?"unshift":"push"](()=>{s=v,t(1,s)})}const m=()=>{ke.createNewResource(a),c()};return r.$$set=v=>{"search"in v&&t(0,n=v.search)},r.$$.update=()=>{r.$$.dirty&2&&(s==null||s.focus())},[n,s,i,a,l,c,h,f,g,d,w,b,m]}class ls extends le{constructor(e){super(),oe(this,e,ss,as,ue,{search:0})}}function Jn(r,e,t){const n=r.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function os(r){let e,t,n=r[2](r[7])+"",i,a,s,l=et(r[7].meta.typeId)+"",c,h,f,g,d,w,b,m,v=Ne(r[7].meta.groupId)+"",E,C,D,S,R,x,O,z=Ne(r[7].meta.instanceId2,8)+"",ee,j,X,G,ne,_e,H,ye=Ne(r[7].meta.instanceId,8)+"",we;return{c(){e=A("div"),t=A("div"),i=K(n),a=N(),s=A("div"),c=K(l),h=N(),f=A("dl"),g=A("div"),d=A("dt"),w=K("Group"),b=N(),m=A("dd"),E=K(v),C=N(),D=A("div"),S=A("dt"),R=K("Instance (High)"),x=N(),O=A("dd"),ee=K(z),j=N(),X=A("div"),G=A("dt"),ne=K("Instance"),_e=N(),H=A("dd"),we=K(ye),this.h()},l(ae){e=T(ae,"DIV",{class:!0});var Ee=U(e);t=T(Ee,"DIV",{class:!0});var lt=U(t);i=Q(lt,n),lt.forEach(y),a=V(Ee),s=T(Ee,"DIV",{class:!0});var $e=U(s);c=Q($e,l),$e.forEach(y),Ee.forEach(y),h=V(ae),f=T(ae,"DL",{class:!0});var Z=U(f);g=T(Z,"DIV",{class:!0});var re=U(g);d=T(re,"DT",{class:!0});var ie=U(d);w=Q(ie,"Group"),ie.forEach(y),b=V(re),m=T(re,"DD",{class:!0});var he=U(m);E=Q(he,v),he.forEach(y),C=V(re),re.forEach(y),D=T(Z,"DIV",{class:!0});var Be=U(D);S=T(Be,"DT",{class:!0});var Pe=U(S);R=Q(Pe,"Instance (High)"),Pe.forEach(y),x=V(Be),O=T(Be,"DD",{class:!0});var Ye=U(O);ee=Q(Ye,z),Ye.forEach(y),j=V(Be),Be.forEach(y),X=T(Z,"DIV",{class:!0});var Oe=U(X);G=T(Oe,"DT",{class:!0});var qe=U(G);ne=Q(qe,"Instance"),qe.forEach(y),_e=V(Oe),H=T(Oe,"DD",{class:!0});var je=U(H);we=Q(je,ye),je.forEach(y),Oe.forEach(y),Z.forEach(y),this.h()},h(){k(t,"class","filename svelte-1odav1k"),k(s,"class","type svelte-1odav1k"),k(e,"class","file-info svelte-1odav1k"),k(d,"class","svelte-1odav1k"),k(m,"class","svelte-1odav1k"),k(g,"class","file-meta svelte-1odav1k"),k(S,"class","svelte-1odav1k"),k(O,"class","svelte-1odav1k"),k(D,"class","file-meta svelte-1odav1k"),k(G,"class","svelte-1odav1k"),k(H,"class","svelte-1odav1k"),k(X,"class","file-meta svelte-1odav1k"),k(f,"class","svelte-1odav1k")},m(ae,Ee){L(ae,e,Ee),$(e,t),$(t,i),$(e,a),$(e,s),$(s,c),L(ae,h,Ee),L(ae,f,Ee),$(f,g),$(g,d),$(d,w),$(g,b),$(g,m),$(m,E),$(g,C),$(f,D),$(D,S),$(S,R),$(D,x),$(D,O),$(O,ee),$(D,j),$(f,X),$(X,G),$(G,ne),$(X,_e),$(X,H),$(H,we)},p(ae,Ee){Ee&2&&n!==(n=ae[2](ae[7])+"")&&Ze(i,n),Ee&2&&l!==(l=et(ae[7].meta.typeId)+"")&&Ze(c,l),Ee&2&&v!==(v=Ne(ae[7].meta.groupId)+"")&&Ze(E,v),Ee&2&&z!==(z=Ne(ae[7].meta.instanceId2,8)+"")&&Ze(ee,z),Ee&2&&ye!==(ye=Ne(ae[7].meta.instanceId,8)+"")&&Ze(we,ye)},d(ae){ae&&y(e),ae&&y(h),ae&&y(f)}}}function Kn(r,e){let t,n,i,a;function s(){return e[5](e[6])}return n=new ze({props:{variant:"block",onClick:s,style:"padding: 5px 15px;",$$slots:{default:[os]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=A("li"),W(n.$$.fragment),i=N(),this.h()},l(l){t=T(l,"LI",{class:!0});var c=U(t);J(n.$$.fragment,c),i=V(c),c.forEach(y),this.h()},h(){k(t,"class","svelte-1odav1k"),this.first=t},m(l,c){L(l,t,c),Y(n,t,null),$(t,i),a=!0},p(l,c){e=l;const h={};c&2&&(h.onClick=s),c&1026&&(h.$$scope={dirty:c,ctx:e}),n.$set(h)},i(l){a||(P(n.$$.fragment,l),a=!0)},o(l){M(n.$$.fragment,l),a=!1},d(l){l&&y(t),q(n)}}}function us(r){let e,t,n,i,a,s=[],l=new Map,c;function h(w){r[4](w)}let f={};r[0]!==void 0&&(f.search=r[0]),t=new ls({props:f}),st.push(()=>Ar(t,"search",h,r[0]));let g=r[1];const d=w=>w[6];for(let w=0;w<g.length;w+=1){let b=Jn(r,g,w),m=d(b);l.set(m,s[w]=Kn(m,b))}return{c(){e=A("div"),W(t.$$.fragment),i=N(),a=A("ul");for(let w=0;w<s.length;w+=1)s[w].c();this.h()},l(w){e=T(w,"DIV",{class:!0});var b=U(e);J(t.$$.fragment,b),i=V(b),a=T(b,"UL",{class:!0});var m=U(a);for(let v=0;v<s.length;v+=1)s[v].l(m);m.forEach(y),b.forEach(y),this.h()},h(){k(a,"class","svelte-1odav1k"),k(e,"class","file-list svelte-1odav1k")},m(w,b){L(w,e,b),Y(t,e,null),$(e,i),$(e,a);for(let m=0;m<s.length;m+=1)s[m].m(a,null);c=!0},p(w,[b]){const m={};!n&&b&1&&(n=!0,m.search=w[0],Tr(()=>n=!1)),t.$set(m),b&6&&(g=w[1],Le(),s=$t(s,b,d,1,w,g,l,a,Zt,Kn,null,Jn),Me())},i(w){if(!c){P(t.$$.fragment,w);for(let b=0;b<g.length;b+=1)P(s[b]);c=!0}},o(w){M(t.$$.fragment,w);for(let b=0;b<s.length;b+=1)M(s[b]);c=!1},d(w){w&&y(e),q(t);for(let b=0;b<s.length;b+=1)s[b].d()}}}function cs(r,e,t){let n;ut(r,fr,h=>t(3,n=h));let i="",a;const s=h=>{var f;return((f=h.content)==null?void 0:f.filename)||Vi[et(h.meta.typeId)]||""};function l(h){i=h,t(0,i)}const c=h=>ke.openResource(h);return r.$$.update=()=>{if(r.$$.dirty&9){const h=new RegExp(i,"i");t(1,a=i?Object.entries((n==null?void 0:n.resources)??{}).filter(([,f])=>Ne(f.meta.groupId,8).match(h)||Ne(f.meta.instanceId,8).match(h)||Ne(f.meta.instanceId2,8).match(h)||s(f).toUpperCase().match(h)||et(f.meta.typeId).match(h)):Object.entries((n==null?void 0:n.resources)??{}))}},[i,a,s,n,l,c]}class fs extends le{constructor(e){super(),oe(this,e,cs,us,ue,{})}}function hs(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function ds(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class ps extends le{constructor(e){super(),oe(this,e,ds,hs,ue,{})}}function gs(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function vs(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class ms extends le{constructor(e){super(),oe(this,e,vs,gs,ue,{})}}function _s(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function ws(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class bs extends le{constructor(e){super(),oe(this,e,ws,_s,ue,{})}}function ys(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function $s(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class Es extends le{constructor(e){super(),oe(this,e,$s,ys,ue,{})}}function ks(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},r[0]],i={};for(let a=0;a<n.length;a+=1)i=te(i,n[a]);return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Te(a,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var s=U(e);t=Te(s,"path",{fill:!0,d:!0}),U(t).forEach(y),s.forEach(y),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"),De(e,i)},m(a,s){L(a,e,s),$(e,t)},p(a,[s]){De(e,i=xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},s&1&&a[0]]))},i:ce,o:ce,d(a){a&&y(e)}}}function Is(r,e,t){return r.$$set=n=>{t(0,e=te(te({},e),Ie(n)))},e=Ie(e),[e]}class Us extends le{constructor(e){super(),oe(this,e,Is,ks,ue,{})}}function Qn(r){let e,t,n,i,a,s,l;return{c(){e=A("label"),t=K("File name"),n=N(),i=A("input"),this.h()},l(c){e=T(c,"LABEL",{for:!0});var h=U(e);t=Q(h,"File name"),h.forEach(y),n=V(c),i=T(c,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){var c;k(e,"for","filename-input"),k(i,"id","filename-input"),k(i,"type","text"),i.value=a=(c=r[1])==null?void 0:c.filename,k(i,"class","svelte-1h6mk83")},m(c,h){L(c,e,h),$(e,t),L(c,n,h),L(c,i,h),s||(l=pe(i,"input",r[3]),s=!0)},p(c,h){var f;h&2&&a!==(a=(f=c[1])==null?void 0:f.filename)&&i.value!==a&&(i.value=a)},d(c){c&&y(e),c&&y(n),c&&y(i),s=!1,l()}}}function As(r){let e,t;return e=new bs({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Ts(r){let e,t;return e=new ms({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Ds(r){let e,t,n,i;const a=[Ts,As],s=[];function l(c,h){return c[0]?0:1}return e=l(r),t=s[e]=a[e](r),{c(){t.c(),n=Re()},l(c){t.l(c),n=Re()},m(c,h){s[e].m(c,h),L(c,n,h),i=!0},p(c,h){let f=e;e=l(c),e!==f&&(Le(),M(s[f],1,1,()=>{s[f]=null}),Me(),t=s[e],t||(t=s[e]=a[e](c),t.c()),P(t,1),t.m(n.parentNode,n))},i(c){i||(P(t),i=!0)},o(c){M(t),i=!1},d(c){s[e].d(c),c&&y(n)}}}function Cs(r){let e,t;return e=new Us({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Bs(r){let e,t;return e=new ps({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Fs(r){let e,t;return e=new Es({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p:ce,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Rs(r){let e,t=r[1]&&!(r[1]instanceof ArrayBuffer)&&Object.hasOwn(r[1],"filename"),n,i,a,s,l,c,h,f,g,d,w,b,m,v,E,C,D,S,R,x,O,z,ee,j,X,G,ne,_e,H,ye,we,ae,Ee,lt,$e=t&&Qn(r);return X=new ze({props:{disabled:!r[0],onClick:r[7],variant:"skeuomorphic",tooltip:"Save changes","aria-label":"Save changes",$$slots:{default:[Ds]},$$scope:{ctx:r}}}),ne=new ze({props:{disabled:!r[0],onClick:r[8],variant:"skeuomorphic",tooltip:"Abandon changes","aria-label":"Abandon changes",$$slots:{default:[Cs]},$$scope:{ctx:r}}}),H=new ze({props:{onClick:r[9],variant:"skeuomorphic",tooltip:"Clone resource","aria-label":"Clone resource",$$slots:{default:[Bs]},$$scope:{ctx:r}}}),we=new ze({props:{onClick:r[10],variant:"skeuomorphic",tooltip:"Delete resource","aria-label":"Delete resource",$$slots:{default:[Fs]},$$scope:{ctx:r}}}),{c(){e=A("div"),$e&&$e.c(),n=N(),i=A("div"),a=A("div"),s=A("label"),l=K("Group ID"),c=N(),h=A("input"),g=N(),d=A("div"),w=A("label"),b=K("Instance ID (High)"),m=N(),v=A("input"),C=N(),D=A("div"),S=A("label"),R=K("Instance ID"),x=N(),O=A("input"),ee=N(),j=A("div"),W(X.$$.fragment),G=N(),W(ne.$$.fragment),_e=N(),W(H.$$.fragment),ye=N(),W(we.$$.fragment),this.h()},l(Z){e=T(Z,"DIV",{});var re=U(e);$e&&$e.l(re),n=V(re),i=T(re,"DIV",{class:!0});var ie=U(i);a=T(ie,"DIV",{class:!0});var he=U(a);s=T(he,"LABEL",{for:!0});var Be=U(s);l=Q(Be,"Group ID"),Be.forEach(y),c=V(he),h=T(he,"INPUT",{id:!0,type:!0,class:!0}),he.forEach(y),g=V(ie),d=T(ie,"DIV",{class:!0});var Pe=U(d);w=T(Pe,"LABEL",{for:!0});var Ye=U(w);b=Q(Ye,"Instance ID (High)"),Ye.forEach(y),m=V(Pe),v=T(Pe,"INPUT",{id:!0,type:!0,class:!0}),Pe.forEach(y),C=V(ie),D=T(ie,"DIV",{class:!0});var Oe=U(D);S=T(Oe,"LABEL",{for:!0});var qe=U(S);R=Q(qe,"Instance ID"),qe.forEach(y),x=V(Oe),O=T(Oe,"INPUT",{id:!0,type:!0,class:!0}),Oe.forEach(y),ie.forEach(y),ee=V(re),j=T(re,"DIV",{class:!0});var je=U(j);J(X.$$.fragment,je),G=V(je),J(ne.$$.fragment,je),_e=V(je),J(H.$$.fragment,je),ye=V(je),J(we.$$.fragment,je),je.forEach(y),re.forEach(y),this.h()},h(){var Z,re,ie;k(s,"for","group-id-input"),k(h,"id","group-id-input"),k(h,"type","text"),h.value=f=(Z=r[2])==null?void 0:Z.groupId,k(h,"class","svelte-1h6mk83"),k(a,"class","input-wrapper svelte-1h6mk83"),k(w,"for","instance-id2-input"),k(v,"id","instance-id2-input"),k(v,"type","text"),v.value=E=(re=r[2])==null?void 0:re.instanceId2,k(v,"class","svelte-1h6mk83"),k(d,"class","input-wrapper svelte-1h6mk83"),k(S,"for","instance-id-input"),k(O,"id","instance-id-input"),k(O,"type","text"),O.value=z=(ie=r[2])==null?void 0:ie.instanceId,k(O,"class","svelte-1h6mk83"),k(D,"class","input-wrapper svelte-1h6mk83"),k(i,"class","meta svelte-1h6mk83"),k(j,"class","actions svelte-1h6mk83")},m(Z,re){L(Z,e,re),$e&&$e.m(e,null),$(e,n),$(e,i),$(i,a),$(a,s),$(s,l),$(a,c),$(a,h),$(i,g),$(i,d),$(d,w),$(w,b),$(d,m),$(d,v),$(i,C),$(i,D),$(D,S),$(S,R),$(D,x),$(D,O),$(e,ee),$(e,j),Y(X,j,null),$(j,G),Y(ne,j,null),$(j,_e),Y(H,j,null),$(j,ye),Y(we,j,null),ae=!0,Ee||(lt=[pe(h,"input",r[4]("groupId")),pe(v,"input",r[4]("instanceId2")),pe(O,"input",r[4]("instanceId"))],Ee=!0)},p(Z,[re]){var Ye,Oe,qe;re&2&&(t=Z[1]&&!(Z[1]instanceof ArrayBuffer)&&Object.hasOwn(Z[1],"filename")),t?$e?$e.p(Z,re):($e=Qn(Z),$e.c(),$e.m(e,n)):$e&&($e.d(1),$e=null),(!ae||re&4&&f!==(f=(Ye=Z[2])==null?void 0:Ye.groupId)&&h.value!==f)&&(h.value=f),(!ae||re&4&&E!==(E=(Oe=Z[2])==null?void 0:Oe.instanceId2)&&v.value!==E)&&(v.value=E),(!ae||re&4&&z!==(z=(qe=Z[2])==null?void 0:qe.instanceId)&&O.value!==z)&&(O.value=z);const ie={};re&1&&(ie.disabled=!Z[0]),re&2049&&(ie.$$scope={dirty:re,ctx:Z}),X.$set(ie);const he={};re&1&&(he.disabled=!Z[0]),re&2048&&(he.$$scope={dirty:re,ctx:Z}),ne.$set(he);const Be={};re&2048&&(Be.$$scope={dirty:re,ctx:Z}),H.$set(Be);const Pe={};re&2048&&(Pe.$$scope={dirty:re,ctx:Z}),we.$set(Pe)},i(Z){ae||(P(X.$$.fragment,Z),P(ne.$$.fragment,Z),P(H.$$.fragment,Z),P(we.$$.fragment,Z),ae=!0)},o(Z){M(X.$$.fragment,Z),M(ne.$$.fragment,Z),M(H.$$.fragment,Z),M(we.$$.fragment,Z),ae=!1},d(Z){Z&&y(e),$e&&$e.d(),q(X),q(ne),q(H),q(we),Ee=!1,pt(lt)}}}function Ss(r,e,t){let n,i;ut(r,hr,b=>t(5,n=b)),ut(r,ke,b=>t(6,i=b));let a,s,l;const c=b=>{!s||s instanceof ArrayBuffer||ke.editActiveResource(me(s,m=>{m.filename=b.target.value}))},h=b=>m=>{l&&ke.editActiveResourceMeta(me(l,v=>{v[b]=parseInt(m.target.value,10)}))},f=()=>ke.saveActiveResource(),g=()=>ke.resetActiveResource(),d=()=>ke.copyActiveResource(),w=()=>ke.deleteActiveResource();return r.$$.update=()=>{r.$$.dirty&96&&(t(0,a=ve(i).isDirty()),t(1,s=(n==null?void 0:n.contentChanges)??(n==null?void 0:n.content)),t(2,l=(n==null?void 0:n.metaChanges)??(n==null?void 0:n.meta)))},[a,s,l,c,h,n,i,f,g,d,w]}class xs extends le{constructor(e){super(),oe(this,e,Ss,Rs,ue,{})}}function Zn(r,e,t){const n=r.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function er(r){let e,t=[],n=new Map,i,a=Object.entries(r[0]);const s=l=>l[9];for(let l=0;l<a.length;l+=1){let c=Zn(r,a,l),h=s(c);n.set(h,t[l]=nr(h,c))}return{c(){e=A("section");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=T(l,"SECTION",{role:!0,tabindex:!0,class:!0});var c=U(e);for(let h=0;h<t.length;h+=1)t[h].l(c);c.forEach(y),this.h()},h(){k(e,"role","tablist"),k(e,"tabindex","0"),k(e,"class","svelte-3w0nkk")},m(l,c){L(l,e,c);for(let h=0;h<t.length;h+=1)t[h].m(e,null);i=!0},p(l,c){c&15&&(a=Object.entries(l[0]),Le(),t=$t(t,c,s,1,l,a,n,e,Zt,nr,null,Zn),Me())},i(l){if(!i){for(let c=0;c<a.length;c+=1)P(t[c]);i=!0}},o(l){for(let c=0;c<t.length;c+=1)M(t[c]);i=!1},d(l){l&&y(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function tr(r){let e,t;function n(){return r[8](r[9])}return e=new dr({props:{onClick:n,"aria-label":"close tab",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}}}),{c(){W(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,a){Y(e,i,a),t=!0},p(i,a){r=i;const s={};a&9&&(s.onClick=n),e.$set(s)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function nr(r,e){let t,n,i,a=e[10].title+"",s,l,c,h,f,g,d,w;function b(){return e[7](e[9])}let m=!e[10].hideClose&&tr(e);return{key:r,first:null,c(){t=A("div"),n=A("button"),i=A("span"),s=K(a),c=N(),m&&m.c(),h=N(),this.h()},l(v){t=T(v,"DIV",{role:!0,"aria-selected":!0,class:!0});var E=U(t);n=T(E,"BUTTON",{class:!0});var C=U(n);i=T(C,"SPAN",{class:!0});var D=U(i);s=Q(D,a),D.forEach(y),C.forEach(y),c=V(E),m&&m.l(E),h=V(E),E.forEach(y),this.h()},h(){k(i,"class","tab-text svelte-3w0nkk"),k(n,"class","tab svelte-3w0nkk"),n.disabled=l=e[1]===e[9],Se(n,"closable",!e[10].hideClose),k(t,"role","tab"),k(t,"aria-selected",f=e[1]===e[9]),k(t,"class","svelte-3w0nkk"),this.first=t},m(v,E){L(v,t,E),$(t,n),$(n,i),$(i,s),$(t,c),m&&m.m(t,null),$(t,h),g=!0,d||(w=pe(n,"click",b),d=!0)},p(v,E){e=v,(!g||E&1)&&a!==(a=e[10].title+"")&&Ze(s,a),(!g||E&3&&l!==(l=e[1]===e[9]))&&(n.disabled=l),(!g||E&1)&&Se(n,"closable",!e[10].hideClose),e[10].hideClose?m&&(Le(),M(m,1,1,()=>{m=null}),Me()):m?(m.p(e,E),E&1&&P(m,1)):(m=tr(e),m.c(),P(m,1),m.m(t,h)),(!g||E&3&&f!==(f=e[1]===e[9]))&&k(t,"aria-selected",f)},i(v){g||(P(m),g=!0)},o(v){M(m),g=!1},d(v){v&&y(t),m&&m.d(),d=!1,w()}}}function Ps(r){var s;let e,t,n;var i=(s=r[0][r[1]])==null?void 0:s.content;function a(l){return{}}return i&&(e=Bt(i,a())),{c(){e&&W(e.$$.fragment),t=Re()},l(l){e&&J(e.$$.fragment,l),t=Re()},m(l,c){e&&Y(e,l,c),L(l,t,c),n=!0},p(l,c){var h;if(i!==(i=(h=l[0][l[1]])==null?void 0:h.content)){if(e){Le();const f=e;M(f.$$.fragment,1,0,()=>{q(f,1)}),Me()}i?(e=Bt(i,a()),W(e.$$.fragment),P(e.$$.fragment,1),Y(e,t.parentNode,t)):e=null}},i(l){n||(e&&P(e.$$.fragment,l),n=!0)},o(l){e&&M(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&q(e,l)}}}function Os(r){let e=!r[4]||Object.keys(r[0]).length>1,t,n,i,a=e&&er(r);return n=new We({props:{secondary:!0,style:{flex:"1",...r[6]},$$slots:{default:[Ps]},$$scope:{ctx:r}}}),{c(){a&&a.c(),t=N(),W(n.$$.fragment)},l(s){a&&a.l(s),t=V(s),J(n.$$.fragment,s)},m(s,l){a&&a.m(s,l),L(s,t,l),Y(n,s,l),i=!0},p(s,l){l&17&&(e=!s[4]||Object.keys(s[0]).length>1),e?a?(a.p(s,l),l&17&&P(a,1)):(a=er(s),a.c(),P(a,1),a.m(t.parentNode,t)):a&&(Le(),M(a,1,1,()=>{a=null}),Me());const c={};l&64&&(c.style={flex:"1",...s[6]}),l&8195&&(c.$$scope={dirty:l,ctx:s}),n.$set(c)},i(s){i||(P(a),P(n.$$.fragment,s),i=!0)},o(s){M(a),M(n.$$.fragment,s),i=!1},d(s){a&&a.d(s),s&&y(t),q(n,s)}}}function Ls(r){let e,t;return e=new We({props:{style:{display:"flex","flex-direction":"column",...r[5]},$$slots:{default:[Os]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,i){Y(e,n,i),t=!0},p(n,[i]){const a={};i&32&&(a.style={display:"flex","flex-direction":"column",...n[5]}),i&8287&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Ms(r,e,t){let{tabs:n}=e,{activeTab:i}=e,{onChange:a}=e,{onClose:s}=e,{hideSingleTab:l=!1}=e,{style:c={}}=e,{contentStyle:h={}}=e;const f=d=>a(d),g=d=>s(d);return r.$$set=d=>{"tabs"in d&&t(0,n=d.tabs),"activeTab"in d&&t(1,i=d.activeTab),"onChange"in d&&t(2,a=d.onChange),"onClose"in d&&t(3,s=d.onClose),"hideSingleTab"in d&&t(4,l=d.hideSingleTab),"style"in d&&t(5,c=d.style),"contentStyle"in d&&t(6,h=d.contentStyle)},[n,i,a,s,l,c,h,f,g]}class pr extends le{constructor(e){super(),oe(this,e,Ms,Ls,ue,{tabs:0,activeTab:1,onChange:2,onClose:3,hideSingleTab:4,style:5,contentStyle:6})}}function rr(r){let e,t,n,i,a;return t=new pr({props:{tabs:r[1],activeTab:r[0].activeResourceId,onChange:r[5],onClose:r[6],style:{"flex-shrink":"0"},contentStyle:{"padding-bottom":"30px",position:"relative"}}}),i=new We({props:{style:{"flex-shrink":"1","min-height":"0","margin-top":"30px",overflow:"hidden"},$$slots:{default:[Ns]},$$scope:{ctx:r}}}),{c(){e=A("div"),W(t.$$.fragment),n=N(),W(i.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var l=U(e);J(t.$$.fragment,l),n=V(l),J(i.$$.fragment,l),l.forEach(y),this.h()},h(){k(e,"class","file-viewer svelte-9p8pe0")},m(s,l){L(s,e,l),Y(t,e,null),$(e,n),Y(i,e,null),a=!0},p(s,l){const c={};l&2&&(c.tabs=s[1]),l&1&&(c.activeTab=s[0].activeResourceId),t.$set(c);const h={};l&132&&(h.$$scope={dirty:l,ctx:s}),i.$set(h)},i(s){a||(P(t.$$.fragment,s),P(i.$$.fragment,s),a=!0)},o(s){M(t.$$.fragment,s),M(i.$$.fragment,s),a=!1},d(s){s&&y(e),q(t),q(i)}}}function Ns(r){let e,t,n;var i=Yn(r[2]);function a(s){return{props:{content:s[2].contentChanges??s[2].content,onChange:s[3]}}}return i&&(e=Bt(i,a(r))),{c(){e&&W(e.$$.fragment),t=Re()},l(s){e&&J(e.$$.fragment,s),t=Re()},m(s,l){e&&Y(e,s,l),L(s,t,l),n=!0},p(s,l){const c={};if(l&4&&(c.content=s[2].contentChanges??s[2].content),i!==(i=Yn(s[2]))){if(e){Le();const h=e;M(h.$$.fragment,1,0,()=>{q(h,1)}),Me()}i?(e=Bt(i,a(s)),W(e.$$.fragment),P(e.$$.fragment,1),Y(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(s){n||(e&&P(e.$$.fragment,s),n=!0)},o(s){e&&M(e.$$.fragment,s),n=!1},d(s){s&&y(t),e&&q(e,s)}}}function Vs(r){let e,t,n=r[0]&&r[2]&&rr(r);return{c(){n&&n.c(),e=Re()},l(i){n&&n.l(i),e=Re()},m(i,a){n&&n.m(i,a),L(i,e,a),t=!0},p(i,[a]){i[0]&&i[2]?n?(n.p(i,a),a&5&&P(n,1)):(n=rr(i),n.c(),P(n,1),n.m(e.parentNode,e)):n&&(Le(),M(n,1,1,()=>{n=null}),Me())},i(i){t||(P(n),t=!0)},o(i){M(n),t=!1},d(i){n&&n.d(i),i&&y(e)}}}function js(r,e,t){let n,i,a;ut(r,ke,f=>t(4,n=f)),ut(r,fr,f=>t(0,i=f)),ut(r,hr,f=>t(2,a=f));let s;const l=f=>{f&&ke.editActiveResource(f)},c=f=>ke.setActiveResource(f),h=f=>ke.closeResource(f);return r.$$.update=()=>{r.$$.dirty&17&&t(1,s={...Object.entries((i==null?void 0:i.resources)??{}).reduce((f,[g,d])=>{var w;return d.isOpen&&(f[g]={title:`${((w=d.content)==null?void 0:w.filename)||et(d.meta.typeId)}${ve(n).isDirty(g)?"*":""}`,content:xs}),f},{})})},[i,s,a,l,n,c,h]}class zs extends le{constructor(e){super(),oe(this,e,js,Vs,ue,{})}}function Hs(r){let e,t,n,i,a,s,l,c,h,f,g,d,w,b,m,v,E,C,D,S,R,x,O,z,ee,j,X;return{c(){e=A("div"),t=A("div"),n=A("div"),i=A("div"),a=N(),s=A("div"),l=N(),c=A("div"),h=N(),f=A("div"),g=N(),d=A("div"),w=N(),b=A("div"),m=N(),v=A("div"),E=N(),C=A("div"),D=N(),S=A("div"),R=N(),x=A("div"),O=N(),z=A("div"),ee=N(),j=A("div"),this.h()},l(G){e=T(G,"DIV",{class:!0,style:!0});var ne=U(e);t=T(ne,"DIV",{style:!0});var _e=U(t);n=T(_e,"DIV",{class:!0});var H=U(n);i=T(H,"DIV",{class:!0}),U(i).forEach(y),a=V(H),s=T(H,"DIV",{class:!0}),U(s).forEach(y),l=V(H),c=T(H,"DIV",{class:!0}),U(c).forEach(y),h=V(H),f=T(H,"DIV",{class:!0}),U(f).forEach(y),g=V(H),d=T(H,"DIV",{class:!0}),U(d).forEach(y),w=V(H),b=T(H,"DIV",{class:!0}),U(b).forEach(y),m=V(H),v=T(H,"DIV",{class:!0}),U(v).forEach(y),E=V(H),C=T(H,"DIV",{class:!0}),U(C).forEach(y),D=V(H),S=T(H,"DIV",{class:!0}),U(S).forEach(y),R=V(H),x=T(H,"DIV",{class:!0}),U(x).forEach(y),O=V(H),z=T(H,"DIV",{class:!0}),U(z).forEach(y),ee=V(H),j=T(H,"DIV",{class:!0}),U(j).forEach(y),H.forEach(y),_e.forEach(y),ne.forEach(y),this.h()},h(){k(i,"class","triangle bottom face-1 svelte-10dc8xq"),k(s,"class","triangle bottom face-2 svelte-10dc8xq"),k(c,"class","triangle bottom face-3 svelte-10dc8xq"),k(f,"class","triangle bottom face-4 svelte-10dc8xq"),k(d,"class","triangle bottom face-5 svelte-10dc8xq"),k(b,"class","triangle bottom face-6 svelte-10dc8xq"),k(v,"class","triangle top face-1 svelte-10dc8xq"),k(C,"class","triangle top face-2 svelte-10dc8xq"),k(S,"class","triangle top face-3 svelte-10dc8xq"),k(x,"class","triangle top face-4 svelte-10dc8xq"),k(z,"class","triangle top face-5 svelte-10dc8xq"),k(j,"class","triangle top face-6 svelte-10dc8xq"),k(n,"class","rotator svelte-10dc8xq"),k(t,"style",r[1]),k(e,"class","plumbob-wrapper svelte-10dc8xq"),k(e,"style",X=`height:${r[0]}px;width:${r[0]/2}px`)},m(G,ne){L(G,e,ne),$(e,t),$(t,n),$(n,i),$(n,a),$(n,s),$(n,l),$(n,c),$(n,h),$(n,f),$(n,g),$(n,d),$(n,w),$(n,b),$(n,m),$(n,v),$(n,E),$(n,C),$(n,D),$(n,S),$(n,R),$(n,x),$(n,O),$(n,z),$(n,ee),$(n,j)},p(G,[ne]){ne&2&&k(t,"style",G[1]),ne&1&&X!==(X=`height:${G[0]}px;width:${G[0]/2}px`)&&k(e,"style",X)},i:ce,o:ce,d(G){G&&y(e)}}}function Gs(r,e,t){let{size:n}=e,i;return r.$$set=a=>{"size"in a&&t(0,n=a.size)},r.$$.update=()=>{r.$$.dirty&1&&t(1,i=n?`transform:scale(${n/100})`:void 0)},[n,i]}class Ws extends le{constructor(e){super(),oe(this,e,Gs,Hs,ue,{size:0})}}function Ys(r){let e;return{c(){e=K("browse files")},l(t){e=Q(t,"browse files")},m(t,n){L(t,e,n)},d(t){t&&y(e)}}}function qs(r){let e,t,n,i,a,s,l,c,h,f,g,d,w;return a=new Ws({props:{size:50}}),f=new ze({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[4],$$slots:{default:[Ys]},$$scope:{ctx:r}}}),{c(){e=A("div"),t=A("div"),n=A("input"),i=N(),W(a.$$.fragment),s=N(),l=A("span"),c=K("Drag .package file here or"),h=N(),W(f.$$.fragment),this.h()},l(b){e=T(b,"DIV",{class:!0});var m=U(e);t=T(m,"DIV",{class:!0});var v=U(t);n=T(v,"INPUT",{type:!0,accept:!0,class:!0}),i=V(v),J(a.$$.fragment,v),s=V(v),l=T(v,"SPAN",{class:!0});var E=U(l);c=Q(E,"Drag .package file here or"),E.forEach(y),h=V(v),J(f.$$.fragment,v),v.forEach(y),m.forEach(y),this.h()},h(){k(n,"type","file"),k(n,"accept",".package"),k(n,"class","svelte-n3cac0"),k(l,"class","text svelte-n3cac0"),k(t,"class","drop-zone svelte-n3cac0"),k(e,"class","wrapper svelte-n3cac0")},m(b,m){L(b,e,m),$(e,t),$(t,n),r[2](n),$(t,i),Y(a,t,null),$(t,s),$(t,l),$(l,c),$(t,h),Y(f,t,null),g=!0,d||(w=[pe(n,"change",r[3]),pe(t,"dragover",gn(r[1])),pe(t,"drop",gn(r[5]))],d=!0)},p(b,[m]){const v={};m&1&&(v.onClick=b[4]),m&64&&(v.$$scope={dirty:m,ctx:b}),f.$set(v)},i(b){g||(P(a.$$.fragment,b),P(f.$$.fragment,b),g=!0)},o(b){M(a.$$.fragment,b),M(f.$$.fragment,b),g=!1},d(b){b&&y(e),r[2](null),q(a),q(f),d=!1,pt(w)}}}function Xs(r,e,t){let n;function i(h){Dr.call(this,r,h)}function a(h){st[h?"unshift":"push"](()=>{n=h,t(0,n)})}return[n,i,a,async()=>{var f;const h=(f=n.files)==null?void 0:f[0];h&&await ke.addPackage(h)},()=>n.click(),async h=>{var g,d,w;const f=(w=(d=(g=h==null?void 0:h.dataTransfer)==null?void 0:g.items)==null?void 0:d[0])==null?void 0:w.getAsFile();f&&await ke.addPackage(f)}]}class Js extends le{constructor(e){super(),oe(this,e,Xs,qs,ue,{})}}function Ks(r){let e;return{c(){e=K("Try the custom career template!")},l(t){e=Q(t,"Try the custom career template!")},m(t,n){L(t,e,n)},d(t){t&&y(e)}}}function Qs(r){let e,t,n,i,a,s,l,c,h,f,g,d,w,b;return l=new Js({}),w=new ze({props:{onClick:r[0],style:"font-size: 1.2rem",$$slots:{default:[Ks]},$$scope:{ctx:r}}}),{c(){e=A("div"),t=A("div"),n=A("h1"),i=K("SIMPAI"),a=K(`
		Sims 2 Package Alteration Interface`),s=N(),W(l.$$.fragment),c=N(),h=A("div"),f=K("Not sure where to start?"),g=A("br"),d=N(),W(w.$$.fragment),this.h()},l(m){e=T(m,"DIV",{class:!0});var v=U(e);t=T(v,"DIV",{class:!0});var E=U(t);n=T(E,"H1",{class:!0});var C=U(n);i=Q(C,"SIMPAI"),C.forEach(y),a=Q(E,`
		Sims 2 Package Alteration Interface`),E.forEach(y),s=V(v),J(l.$$.fragment,v),c=V(v),h=T(v,"DIV",{class:!0});var D=U(h);f=Q(D,"Not sure where to start?"),g=T(D,"BR",{}),d=V(D),J(w.$$.fragment,D),D.forEach(y),v.forEach(y),this.h()},h(){k(n,"class","svelte-iietxr"),k(t,"class","intro svelte-iietxr"),k(h,"class","help svelte-iietxr"),k(e,"class","welcome svelte-iietxr")},m(m,v){L(m,e,v),$(e,t),$(t,n),$(n,i),$(t,a),$(e,s),Y(l,e,null),$(e,c),$(e,h),$(h,f),$(h,g),$(h,d),Y(w,h,null),b=!0},p(m,[v]){const E={};v&2&&(E.$$scope={dirty:v,ctx:m}),w.$set(E)},i(m){b||(P(l.$$.fragment,m),P(w.$$.fragment,m),b=!0)},o(m){M(l.$$.fragment,m),M(w.$$.fragment,m),b=!1},d(m){m&&y(e),q(l),q(w)}}}const ir="career.package";function Zs(r){return[async()=>{const t=await fetch(`/simpai/templates/${ir}`);await ke.addPackage(new File([await t.arrayBuffer()],ir))}]}class el extends le{constructor(e){super(),oe(this,e,Zs,Qs,ue,{})}}function tl(r){let e,t,n,i,a,s,l;return n=new pr({props:{tabs:r[1],activeTab:r[0].activePackageId,onChange:r[2],onClose:r[3],style:{flex:"1","min-height":"0"},contentStyle:{"min-height":"0",padding:"15px 0"},hideSingleTab:!0}}),s=new zs({}),{c(){e=A("div"),t=A("div"),W(n.$$.fragment),i=N(),a=A("div"),W(s.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var h=U(e);t=T(h,"DIV",{class:!0});var f=U(t);J(n.$$.fragment,f),f.forEach(y),i=V(h),a=T(h,"DIV",{class:!0});var g=U(a);J(s.$$.fragment,g),g.forEach(y),h.forEach(y),this.h()},h(){k(t,"class","left svelte-x0u2sm"),k(a,"class","right svelte-x0u2sm"),k(e,"class","layout svelte-x0u2sm")},m(c,h){L(c,e,h),$(e,t),Y(n,t,null),$(e,i),$(e,a),Y(s,a,null),l=!0},p(c,[h]){const f={};h&2&&(f.tabs=c[1]),h&1&&(f.activeTab=c[0].activePackageId),n.$set(f)},i(c){l||(P(n.$$.fragment,c),P(s.$$.fragment,c),l=!0)},o(c){M(n.$$.fragment,c),M(s.$$.fragment,c),l=!1},d(c){c&&y(e),q(n),q(s)}}}function nl(r,e,t){let n;ut(r,ke,l=>t(0,n=l));let i;const a=l=>ke.setActivePackage(l),s=l=>ke.removePackage(l);return r.$$.update=()=>{r.$$.dirty&1&&t(1,i={...Object.entries(n.packages).reduce((l,[c,h])=>(l[c]={title:h.filename,content:fs},l),{}),"":{title:"+",content:el,hideClose:!0}})},[n,i,a,s]}class sl extends le{constructor(e){super(),oe(this,e,nl,tl,ue,{})}}export{sl as default};
