var Sl=Object.defineProperty;var Bl=(l,e,t)=>e in l?Sl(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Pt=(l,e,t)=>(Bl(l,typeof e!="symbol"?e+"":e,t),t);import{S as ue,i as fe,s as ae,e as ke,b as R,g as me,t as B,d as ve,f as U,h as m,G as ut,M as ge,k as T,l as A,m as I,N as Ve,O as Ae,H as ft,I as ht,J as dt,P as Le,Q as pe,F as jt,C as ie,R as xt,T as je,x as H,y as q,z as W,A as Y,a as O,c as M,n as C,U as Qt,V as yn,K as b,w as Ut,W as kn,q as X,r as K,u as Fe,X as Dt,Y as Fl,Z as Fn,v as bt,_ as He,$ as We,a0 as Ye,a1 as Rl,a2 as Pl,B as Ll,a3 as hn,a4 as Ht,E as gt,a5 as Pe,a6 as st,L as et,a7 as it,a8 as Ol,a9 as Rn,aa as Pn,ab as Ml,ac as Nl,ad as Vl,ae as jl}from"../../chunks/index-205a6d65.js";import{w as zl,d as kl}from"../../chunks/index-3d13d6bc.js";const dn=["English (US)","English (UK)","French","German","Italian","Spanish","Dutch","Danish","Swedish","Norwegian","Finnish","Hebrew","Russian","Portuguese","Japanese","Polish","Traditional Chinese","Simplified Chinese","Thai","Korean","Czech"],Gl={TGA:"[image file]",NREF:"[name reference]",BCON:"[behavior constant]",BHAV:"[behavior function]",CTSS:"[catalogue description]",GLOB:"[global data]",OBJD:"[object data]",OBJF:"[object functions]",STR:"[text lists]"},en={filename:"",formatCode:3,stringSets:[{languageId:1,value:"",description:""}]},wt={BCON:{filename:"",flag:!1,items:[0]},GLOB:{filename:"",semiglobal:""},NREF:{filename:""},OBJF:{filename:"",header:[0,0,0],functions:Array.from(Array(55)).map(()=>({action:0,guard:0}))},TPRP:{filename:"",header:[0,0,0],params:[{label:"",pdata:0}],locals:[""]},TRCN:{filename:"",version:0,items:[{used:0,constId:0,constName:"",desc:"",value:0,minValue:0,maxValue:0}]},TTAB:{filename:"",format:0,items:[{action:0,guard:0,flags:0,flags2:0,strIndex:0,attenuationCode:0,attenuationValue:0,autonomy:0,joinIndex:0,uiDisplayType:0,facialAnimation:0,memoryIterMult:0,objectType:0,modelTableId:0,humanGroups:{groups:[{items:[]}]},animalGroups:null}]},STR:en,CTSS:en,TTAS:en,TGA:new ArrayBuffer(0),JFIF:new ArrayBuffer(0)};function Hl(l){const e=typeof l=="number"?l:parseInt(l,16);return dn[e-1]||"Unknown"}function Me(l,e){if(l===void 0)return"";let t=l.toString(16).toUpperCase();for(;e&&t.length<e;)t="0"+t;return`0x${t}`}function gn(l){return Object.entries(l).map(([e,t])=>`${e}: ${t}`).join(";")}function Bt(l,e){return[...l.slice(0,e),...l.slice(e+1)]}function Wl(l,e){let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{l(...n),t=void 0},e)}}function Ln(l,e){const t=[];for(let n=0;n<l;n++)t.push(e(n));return t}function Yl(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("li"),r&&r.c(),this.h()},l(s){e=A(s,"LI",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ve(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ve(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function xl(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("ol"),r&&r.c(),this.h()},l(s){e=A(s,"OL",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ve(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ve(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function ql(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("ul"),r&&r.c(),this.h()},l(s){e=A(s,"UL",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ve(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ve(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function Jl(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("div"),r&&r.c(),this.h()},l(s){e=A(s,"DIV",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ve(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ve(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function Xl(l){let e,t,n,r;const i=[Jl,ql,xl,Yl],a=[];function s(o,c){return o[0]==="div"?0:o[0]==="ul"?1:o[0]==="ol"?2:o[0]==="li"?3:-1}return~(e=s(l))&&(t=a[e]=i[e](l)),{c(){t&&t.c(),n=ke()},l(o){t&&t.l(o),n=ke()},m(o,c){~e&&a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?~e&&a[e].p(o,c):(t&&(me(),B(a[u],1,1,()=>{a[u]=null}),ve()),~e?(t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n)):t=null)},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){~e&&a[e].d(o),o&&m(n)}}}function Kl(l,e,t){let{$$slots:n={},$$scope:r}=e,{style:i={}}=e,{secondary:a=!1}=e,{as:s="div"}=e,o;return l.$$set=c=>{"style"in c&&t(2,i=c.style),"secondary"in c&&t(3,a=c.secondary),"as"in c&&t(0,s=c.as),"$$scope"in c&&t(4,r=c.$$scope)},l.$$.update=()=>{l.$$.dirty&12&&t(1,o={style:gn(i),class:a?"secondary":"primary"})},[s,o,i,a,r,n]}class ze extends ue{constructor(e){super(),fe(this,e,Kl,Xl,ae,{style:2,secondary:3,as:0})}}function Ql(l){let e,t,n,r,i=[{style:t=l[1]&&gn(l[1])},l[2]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("button"),this.h()},l(s){e=A(s,"BUTTON",{style:!0}),I(e).forEach(m),this.h()},h(){Ve(e,a),Ae(e,"svelte-gwh5g1",!0)},m(s,o){R(s,e,o),e.autofocus&&e.focus(),n||(r=pe(e,"click",function(){jt(l[0])&&l[0].apply(this,arguments)}),n=!0)},p(s,[o]){l=s,Ve(e,a=Le(i,[o&2&&t!==(t=l[1]&&gn(l[1]))&&{style:t},o&4&&l[2]])),Ae(e,"svelte-gwh5g1",!0)},i:ie,o:ie,d(s){s&&m(e),n=!1,r()}}}function Zl(l,e,t){const n=["onClick","style"];let r=xt(e,n),{onClick:i}=e,{style:a=void 0}=e;return l.$$set=s=>{e=ge(ge({},e),je(s)),t(2,r=xt(e,n)),"onClick"in s&&t(0,i=s.onClick),"style"in s&&t(1,a=s.style)},[i,a,r]}class It extends ue{constructor(e){super(),fe(this,e,Zl,Ql,ae,{onClick:0,style:1})}}function On(l,e,t){const n=l.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function Mn(l){let e,t=[],n=new Map,r,i=Object.entries(l[0]);const a=s=>s[10];for(let s=0;s<i.length;s+=1){let o=On(l,i,s),c=a(o);n.set(c,t[s]=Vn(c,o))}return{c(){e=T("section");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=A(s,"SECTION",{role:!0,tabindex:!0,class:!0});var o=I(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(m),this.h()},h(){C(e,"role","tablist"),C(e,"tabindex","0"),C(e,"class","svelte-zviqfe")},m(s,o){R(s,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);r=!0},p(s,o){o&31&&(i=Object.entries(s[0]),me(),t=Qt(t,o,a,1,s,i,n,e,yn,Vn,null,On),ve())},i(s){if(!r){for(let o=0;o<i.length;o+=1)U(t[o]);r=!0}},o(s){for(let o=0;o<t.length;o+=1)B(t[o]);r=!1},d(s){s&&m(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ei(l){let e,t=l[11].title+"",n;return{c(){e=T("div"),n=X(t),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);n=K(i,t),i.forEach(m),this.h()},h(){C(e,"class","tab-text svelte-zviqfe")},m(r,i){R(r,e,i),b(e,n)},p(r,i){i&1&&t!==(t=r[11].title+"")&&Fe(n,t)},d(r){r&&m(e)}}}function ti(l){let e=l[4],t,n=l[4]&&tn(l);return{c(){n&&n.c(),t=ke()},l(r){n&&n.l(r),t=ke()},m(r,i){n&&n.m(r,i),R(r,t,i)},p(r,i){r[4]?e?ae(e,r[4])?(n.d(1),n=tn(r),n.c(),n.m(t.parentNode,t)):n.p(r,i):(n=tn(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[4]},d(r){r&&m(t),n&&n.d(r)}}}function tn(l){let e,t=l[11].title+"",n,r=[{class:"tab-text svelte-zviqfe"}],i={};for(let a=0;a<r.length;a+=1)i=ge(i,r[a]);return{c(){e=T(l[4]),n=X(t),this.h()},l(a){e=A(a,(l[4]||"null").toUpperCase(),{class:!0});var s=I(e);n=K(s,t),s.forEach(m),this.h()},h(){/-/.test(l[4])?Dt(e,i):Ve(e,i)},m(a,s){R(a,e,s),b(e,n)},p(a,s){s&1&&t!==(t=a[11].title+"")&&Fe(n,t),i=Le(r,[{class:"tab-text svelte-zviqfe"}]),/-/.test(a[4])?Dt(e,i):Ve(e,i)},d(a){a&&m(e)}}}function Nn(l){let e,t;function n(){return l[9](l[10])}return e=new It({props:{onClick:n,"aria-label":"close tab",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}}}),{c(){H(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){W(e,r,i),t=!0},p(r,i){l=r;const a={};i&9&&(a.onClick=n),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){Y(e,r)}}}function Vn(l,e){let t,n,r,i,a,s,o,c,u;function f(w,E){return w[1]===w[10]&&w[4]?ti:ei}let h=f(e),d=h(e);function p(){return e[8](e[10])}let v=!e[11].hideClose&&Nn(e);return{key:l,first:null,c(){t=T("div"),n=T("button"),d.c(),i=O(),v&&v.c(),a=O(),this.h()},l(w){t=A(w,"DIV",{role:!0,"aria-selected":!0,class:!0});var E=I(t);n=A(E,"BUTTON",{class:!0});var y=I(n);d.l(y),y.forEach(m),i=M(E),v&&v.l(E),a=M(E),E.forEach(m),this.h()},h(){C(n,"class","tab svelte-zviqfe"),n.disabled=r=e[1]===e[10],Ae(n,"closable",!e[11].hideClose),C(t,"role","tab"),C(t,"aria-selected",s=e[1]===e[10]),C(t,"class","svelte-zviqfe"),this.first=t},m(w,E){R(w,t,E),b(t,n),d.m(n,null),b(t,i),v&&v.m(t,null),b(t,a),o=!0,c||(u=pe(n,"click",p),c=!0)},p(w,E){e=w,h===(h=f(e))&&d?d.p(e,E):(d.d(1),d=h(e),d&&(d.c(),d.m(n,null))),(!o||E&3&&r!==(r=e[1]===e[10]))&&(n.disabled=r),(!o||E&1)&&Ae(n,"closable",!e[11].hideClose),e[11].hideClose?v&&(me(),B(v,1,1,()=>{v=null}),ve()):v?(v.p(e,E),E&1&&U(v,1)):(v=Nn(e),v.c(),U(v,1),v.m(t,a)),(!o||E&3&&s!==(s=e[1]===e[10]))&&C(t,"aria-selected",s)},i(w){o||(U(v),o=!0)},o(w){B(v),o=!1},d(w){w&&m(t),d.d(),v&&v.d(),c=!1,u()}}}function ni(l){var s,o;let e,t,n;const r=[((s=l[0][l[1]])==null?void 0:s.props)??{}];var i=(o=l[0][l[1]])==null?void 0:o.content;function a(c){let u={};for(let f=0;f<r.length;f+=1)u=ge(u,r[f]);return{props:u}}return i&&(e=Ut(i,a())),{c(){e&&H(e.$$.fragment),t=ke()},l(c){e&&q(e.$$.fragment,c),t=ke()},m(c,u){e&&W(e,c,u),R(c,t,u),n=!0},p(c,u){var h,d;const f=u&3?Le(r,[kn(((h=c[0][c[1]])==null?void 0:h.props)??{})]):{};if(i!==(i=(d=c[0][c[1]])==null?void 0:d.content)){if(e){me();const p=e;B(p.$$.fragment,1,0,()=>{Y(p,1)}),ve()}i?(e=Ut(i,a()),H(e.$$.fragment),U(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else i&&e.$set(f)},i(c){n||(e&&U(e.$$.fragment,c),n=!0)},o(c){e&&B(e.$$.fragment,c),n=!1},d(c){c&&m(t),e&&Y(e,c)}}}function ri(l){let e=!l[5]||Object.keys(l[0]).length>1,t,n,r,i=e&&Mn(l);return n=new ze({props:{secondary:!0,style:{flex:"1",...l[7]},$$slots:{default:[ni]},$$scope:{ctx:l}}}),{c(){i&&i.c(),t=O(),H(n.$$.fragment)},l(a){i&&i.l(a),t=M(a),q(n.$$.fragment,a)},m(a,s){i&&i.m(a,s),R(a,t,s),W(n,a,s),r=!0},p(a,s){s&33&&(e=!a[5]||Object.keys(a[0]).length>1),e?i?(i.p(a,s),s&33&&U(i,1)):(i=Mn(a),i.c(),U(i,1),i.m(t.parentNode,t)):i&&(me(),B(i,1,1,()=>{i=null}),ve());const o={};s&128&&(o.style={flex:"1",...a[7]}),s&16387&&(o.$$scope={dirty:s,ctx:a}),n.$set(o)},i(a){r||(U(i),U(n.$$.fragment,a),r=!0)},o(a){B(i),B(n.$$.fragment,a),r=!1},d(a){i&&i.d(a),a&&m(t),Y(n,a)}}}function li(l){let e,t;return e=new ze({props:{style:{display:"flex","flex-direction":"column",...l[6]},$$slots:{default:[ri]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,[r]){const i={};r&64&&(i.style={display:"flex","flex-direction":"column",...n[6]}),r&16575&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ii(l,e,t){let{tabs:n}=e,{activeTab:r}=e,{onChange:i}=e,{onClose:a}=e,{headingLevel:s=void 0}=e,{hideSingleTab:o=!1}=e,{style:c={}}=e,{contentStyle:u={}}=e;const f=d=>i(d),h=d=>a(d);return l.$$set=d=>{"tabs"in d&&t(0,n=d.tabs),"activeTab"in d&&t(1,r=d.activeTab),"onChange"in d&&t(2,i=d.onChange),"onClose"in d&&t(3,a=d.onClose),"headingLevel"in d&&t(4,s=d.headingLevel),"hideSingleTab"in d&&t(5,o=d.hideSingleTab),"style"in d&&t(6,c=d.style),"contentStyle"in d&&t(7,u=d.contentStyle)},[n,r,i,a,s,o,c,u,f,h]}class zt extends ue{constructor(e){super(),fe(this,e,ii,li,ae,{tabs:0,activeTab:1,onChange:2,onClose:3,headingLevel:4,hideSingleTab:5,style:6,contentStyle:7})}}function ai(l){let[e,t]=l;if(!((e===16||e===17)&&t===251))throw new Error("Input is not a valid QFS compressed buffer! Did you forget to truncate the size bytes?");const n=oi(l),r=65536*l[2]+256*l[3]+l[4],i=n(r);let a=l[0]&1?8:5,s=0;for(;a<l.length&&l[a]<252;){let o=l[a],c=l[a+1],u=l[a+2];if(o&128)if(o&64)if(o&32){let f=(o&31)*4+4;vt(i,s,l,a+1,f),a+=f+1,s+=f}else{let f=l[a+3],h=o&3;vt(i,s,l,a+4,h),a+=h+4,s+=h,h=(o>>2&3)*256+f+5;let d=((o&16)<<12)+256*c+u+1;vt(i,s,i,s-d,h),s+=h}else{let f=c>>6&3;vt(i,s,l,a+3,f),a+=f+3,s+=f,f=(o&63)+4;let h=(c&63)*256+u+1;vt(i,s,i,s-h,f),s+=f}else{let f=o&3;vt(i,s,l,a+2,f),a+=f+2,s+=f,f=((o&28)>>2)+3;let h=(o>>5<<8)+c+1;vt(i,s,i,s-h,f),s+=f}}if(a<l.length&&s<i.length){let o=l[a]&3;vt(i,s,l,a+1,o),s+=o}if(s!==i.length)throw new Error("Error when decompressing!");return i}var si=ai;function oi(l){const e=l.constructor;if(e.allocUnsafe)return t=>e.allocUnsafe(t);{const t=e[Symbol.species]||e;return n=>new t(n)}}function vt(l,e,t,n,r){let i=r;for(;i--;)l[e++]=t[n++]}class _t{constructor(e){Pt(this,"view");Pt(this,"cursor");this.view=new DataView(e),this.cursor=0}seekForward(e){return this.cursor+=e,this}seekTo(e){return this.cursor=e,this}readUint8(){const e=this.view.getUint8(this.cursor);return this.cursor+=1,e}readUint8Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint8());return t}readUint16(){const e=this.view.getUint16(this.cursor,!0);return this.cursor+=2,e}readUint16Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint16());return t}readUint32(){const e=this.view.getUint32(this.cursor,!0);return this.cursor+=4,e}readUint32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint32());return t}readBuffer(e){const t=this.view.buffer.slice(this.cursor,this.cursor+e);return this.cursor+=e,t}readCountedString(){const e=this.readUint32();return new TextDecoder().decode(this.readBuffer(e))}readFileName(){return new TextDecoder().decode(this.readBuffer(64)).replace(/\u0000/g,"")}readUntilNull(){for(let e=this.cursor;e<this.view.byteLength;e++)if(this.view.getUint8(e)===0){const t=this.view.buffer.slice(this.cursor,e);return this.cursor=e+1,t}return this.view.buffer.slice(this.cursor)}}class pt{constructor(){Pt(this,"buffer");Pt(this,"encoder");this.buffer=new ArrayBuffer(0)}appendBytes(e){const t=new Uint8Array(this.buffer.byteLength+e);t.set(new Uint8Array(this.buffer),0),this.buffer=t.buffer}writeUint8(e){const t=this.buffer.byteLength;this.appendBytes(1);const n=new DataView(this.buffer);n.setUint8(t,e),this.buffer=n.buffer}writeUint8Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length);const n=new DataView(this.buffer);e.forEach((r,i)=>{n.setUint8(t+i,r)}),this.buffer=n.buffer}writeUint16(e){const t=this.buffer.byteLength;this.appendBytes(2);const n=new DataView(this.buffer);n.setUint16(t,e,!0),this.buffer=n.buffer}writeUint16Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*2);const n=new DataView(this.buffer);e.forEach((r,i)=>{n.setUint16(t+i*2,r,!0)}),this.buffer=n.buffer}writeUint32(e){const t=this.buffer.byteLength;this.appendBytes(4);const n=new DataView(this.buffer);n.setUint32(t,e,!0),this.buffer=n.buffer}writeUint32Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*4);const n=new DataView(this.buffer);e.forEach((r,i)=>{n.setUint32(t+i*4,r,!0)}),this.buffer=n.buffer}writeBuffer(e){const t=new Uint8Array(this.buffer.byteLength+e.byteLength);t.set(new Uint8Array(this.buffer),0),t.set(new Uint8Array(e),this.buffer.byteLength),this.buffer=t.buffer}writeString(e,t){this.encoder||(this.encoder=new TextEncoder),t!=null&&t.counted&&this.writeUint32(e.length),this.writeBuffer(this.encoder.encode(e).buffer)}writeNulls(e){this.appendBytes(e)}}const ye={BCON:"42434f4e",BHAV:"42484156",CTSS:"43545353",DIR:"e86b1eef",GLOB:"474c4f42",NREF:"4e524546",OBJD:"4f424a44",OBJF:"4f424a66",STR:"53545223",TPRP:"54505250",TRCN:"5452434e",TTAB:"54544142",TTAS:"54544173",VERS:"ebfee342","2ARY":"6b943b43","3ARY":"2a51171b","5DS":"ac06a676","5EL":"6a97042f","5LF":"ac06a66f","5SC":"25232b11",ANIM:"fb00791e",BMP:"424d505f",CATS:"43415453",CIGE:"43494745",CINE:"4d51f042",CREG:"cdb467b8",CRES:"e519c933",DGRP:"44475250",FACE:"46414345",FAMI:"46414d49",FAMh:"46414d68",FAMt:"8c870743",FCNS:"46434e53",FPL:"ab4ba572",FWAV:"46574156",FX:"ea5118b0",GMDC:"ac4f8687",GMND:"7ba3838c",HOUS:"484f5553",INI:"2026960b",JFIF:"8c3ce95a",LGHT1:"c9c81b9b",LGHT2:"c9c81ba3",LGHT3:"c9c81ba9",LGHT4:"c9c81bad",LIFO:"ed534136",LTXT:"0bf999e7",LXNR:"cccef852",MATSHAD:"cd7fe87a",MP3:"2026960b",MOBJT:"6f626a74",NGBH:"4e474248",NHTG:"abcb5da4",NHTR:"abd0dc63",NID:"ac8a7a2e",NMAP:"4e6d6150",OBJT:"fa1c39f7",OBJM:"4f626a4d",PALT:"50414c54",PDAT:"aace2efb",PERS:"50455253",PMAP:"8cc0a14b",PNG:"856ddbac",POOL:"0c900fdb",POSI:"504f5349",PTBP:"50544250",SFX:"8db5e4c2",SHPE:"fc6eb1f7",SIMI:"53494d49",SKIN:"ac506764",SLOT:"534c4f54",SMAP:"cac4fc40",SPR2:"53505232",SPX1:"2026960b",SREL:"cc364c2a",STXR:"ace46235",SWAF:"cd95548e",TATT:"54415454",TGA:"856ddbac",TMAP:"4b58975b",TREE:"54524545",TRKS:"0b9eb87e",TSSG:"ba353ce1",TXMT:"49596978",TXTR:"1c4a276c",UI:"00000000",VERT:"cb4387a1",WFR:"cd95548e",WGRA:"0a284d0b",WLL:"8a84d7b0",WRLD:"49ff7d76",XA:"2026960b",XMTO:"584d544f",XOBJ:"584f424a"},ci=Object.entries(ye).reduce((l,[e,t])=>(l[t]=e,l),{});function mt(l){const e=typeof l=="number"?l.toString(16):l.toLowerCase();return ci[e]??"UNK"}function ui(l){return l.meta.typeId===ye.BCON}function fi(l){return l.meta.typeId===ye.BHAV}function hi(l){return l.meta.typeId===ye.GLOB}function di(l){return l.meta.typeId===ye.NREF}function gi(l){return l.meta.typeId===ye.OBJD}function _i(l){return l.meta.typeId===ye.OBJF}function pi(l){return l.meta.typeId===ye.STR||l.meta.typeId===ye.CTSS||l.meta.typeId===ye.TTAS}function mi(l){return l.meta.typeId===ye.TTAB}function vi(l){return l.meta.typeId===ye.TPRP}function bi(l){return l.meta.typeId===ye.TRCN}function wi(l){const e=new _t(l),t={filename:e.readFileName(),flag:!1,items:[]},n=e.readUint16();t.flag=(n&32768)!==0;const r=n&32767;for(let i=0;i<r;i++)t.items.push(e.readUint16());return t}function $i(l){const e=new pt,n=new TextEncoder().encode(l.filename);e.writeBuffer(n),e.writeNulls(64-n.byteLength);let r=l.items.length;return l.flag&&(r|=32768),e.writeUint16(r),e.writeUint16Array(l.items),e.buffer}function yi(l){const e=new _t(l),t={filename:e.readFileName(),format:e.readUint16(),count:e.readUint16(),type:e.readUint8(),argc:e.readUint8(),locals:e.readUint8(),headerFlag:e.readUint8(),treeVersion:e.readUint32(),instructions:[]};for(;t.instructions.length<t.count;){const n={opcode:e.readUint16(),gotoOnTrue:0,gotoOnFalse:0,nodeVersion:void 0,cacheFlags:void 0,operands:[]};t.format<32771?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(8)):t.format<32773?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(16)):t.format<32775?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16)):(n.gotoOnTrue=e.readUint16(),n.gotoOnFalse=e.readUint16(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16),t.format===32777&&(n.cacheFlags=e.readUint8())),t.instructions.push(n)}return t}function ki(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(l.format),e.writeUint16(l.instructions.length),e.writeUint8(l.type),e.writeUint8(l.argc),e.writeUint8(l.locals),e.writeUint8(l.headerFlag),e.writeUint32(l.treeVersion),l.instructions.forEach(r=>{e.writeUint16(r.opcode),l.format<32773?(e.writeUint8(r.gotoOnTrue),e.writeUint8(r.gotoOnFalse),e.writeUint8Array(r.operands)):l.format<32775?(e.writeUint8(r.gotoOnTrue),e.writeUint8(r.gotoOnFalse),e.writeUint8(r.nodeVersion??0),e.writeUint8Array(r.operands)):(e.writeUint16(r.gotoOnTrue),e.writeUint16(r.gotoOnFalse),e.writeUint8(r.nodeVersion??0),e.writeUint8Array(r.operands),l.format===32777&&e.writeUint8(r.cacheFlags??0))}),e.buffer}function Ei(l){const e=new _t(l),t={filename:e.readFileName(),semiglobal:""},n=e.readUint8();return t.semiglobal=new TextDecoder().decode(e.readBuffer(n)),t}function Ci(l){const e=new pt,t=new TextEncoder,n=t.encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8(l.semiglobal.length),e.writeBuffer(t.encode(l.semiglobal).buffer),e.buffer}function Ii(l){return{filename:new TextDecoder().decode(l)}}function Ti(l){return new TextEncoder().encode(l.filename)}const El={version:2,initialStackSize:1,defaultWallAdjacentFlags:1,defaultPlacementFlags:1,defaultWallPlacementFlags:1,defaultAllowedHeightFlags:1,ttabId:1,interactionGroup:1,objectType:1,multiTileMasterId:1,multiTileSubIndex:1,useDefaultPlacementFlags:1,lookAtScore:1,guid:2,isUnlockable:1,catalogUseFlags:1,price:1,strId:1,slotId:1,diagonalSelectorGuid:2,gridSelectorGuid:2,objectOwnership:1,ignoreGlobalSimInCAS:1,cannotMoveOutWith:1,hauntable:1,proxyGuid:2,slotGroup:1,aspirationFlags:1,memoryNiceOrBad:1,isSalePriceDifferent:1,initialSaleDepreciation:1,dailySaleDepreciation:1,isSelfDepreciating:1,depreciationLimit:1,roomSortFlags:1,functionSortFlags:1,ctssId:1,isGlobalSimObject:1,tooltipNameType:1,templateVersion:1,nicenessMultiplier:1,noDuplicateOnPlacement:1,wantCategory:1,noNewNameFromTemplate:1,objectVersion:1,defaultThumbnailId:1,motiveEffectsId:1,jobObjectGuid:2,catalogPopupId:1,ignoreCurrentModelIndexInIcons:1,levelOffset:1,hasShadow:1,attributeCount:1,objectArrayCount:1,_hole0:1,frontDirection:1,_hole1:1,multiTileLeadObject:1,expansionFlag:1,_numDynamicSpritesTS1:1,chairEntryFlags:1,tileWidth:1,inhibitSuitCopying:1,buildModeType:1,originalGuid:2,objectModelGuid:2,buildModeSubSort:1,_thumbnailGraphicTS1:1,_shadowFlagsTS1:1,footprintMask:1,_hole2:1,_shadowBrightnessTS1:1,_hole3:1,_wallStyleSpriteIdTS1:1,hungerRating:1,comfortRating:1,hygieneRating:1,bladderRating:1,energyRating:1,funRating:1,roomRating:1,skillFlags:1,numTypeAttributes:1,miscFlags:1,_typeAttrGuidTS1:2,functionSubSort:1,downtownSort:1,keepBuying:1,vacationSort:1,resetLotAction:1,"3dObjectType":1,communitySort:1,dreamFlags:1};function Ai(l){const e=new _t(l),t={filename:e.readFileName(),data:{}};Object.entries(El).forEach(([r,i])=>{i===1?t.data[r]=e.readUint16():i===2&&(t.data[r]=e.readUint32())}),e.readBuffer(12);const n=e.readCountedString();return t.filename!==n&&console.error(`OBJD malformed: start filename (${t.filename}) does not match end filename (${n})`),t}function Ui(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),Object.entries(El).forEach(([r,i])=>{i===1?e.writeUint16(l.data[r]):i===2&&e.writeUint32(l.data[r])}),e.writeNulls(12),e.writeString(l.filename,{counted:!0}),e.buffer}function Di(l){const e=new _t(l),t={filename:e.readFileName(),header:e.readUint32Array(3),functions:[]},n=e.readUint32();for(let r=0;r<n;r++)t.functions.push({guard:e.readUint16(),action:e.readUint16()});return t}function Si(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(l.header),e.writeUint32(l.functions.length),l.functions.forEach(r=>{e.writeUint16(r.guard),e.writeUint16(r.action)}),e.buffer}function Bi(l){const e=new _t(l),t=new TextDecoder,n={filename:e.readFileName(),formatCode:e.readUint16(),stringSets:[]},r=e.readUint16();for(let i=0;i<r;i++)n.stringSets.push({languageId:e.readUint8(),value:t.decode(e.readUntilNull()),description:t.decode(e.readUntilNull())});return n}function Fi(l){const e=new pt,t=new TextEncoder,n=t.encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(l.formatCode),e.writeUint16(l.stringSets.length),l.stringSets.forEach(r=>{e.writeUint8(r.languageId),e.writeBuffer(t.encode(r.value)),e.writeNulls(1),e.writeBuffer(t.encode(r.description)),e.writeNulls(1)}),e.buffer}function jn(l){return Float32Array.of(l.readUint32())[0]??0}function zn(l,e,t,n){const r=e===null?n.readUint32():e.length,i={groups:[]};for(let a=0;a<r;a++){const s=l<84?(e==null?void 0:e[a])??0:n.readUint32(),o={items:[]};for(let c=0;c<s;c++)if(t==="human")o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()});else{const u=n.readUint32();for(let f=0;f<u;f++)o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()})}i.groups.push(o)}return i}function Ri(l){const e=new _t(l),t={filename:e.readFileName(),format:0,items:[]};e.readUint32(),t.format=e.readUint32(),e.readUint32();const n=e.readUint16();for(let r=0;r<n;r++){const i=e.readUint16(),a=e.readUint16();let s=null;t.format<68?s=[e.readUint32()]:t.format<84&&(s=[0,0,0,0,0,0,0].map(()=>e.readUint32())),t.items.push({action:i,guard:a,flags:e.readUint16(),flags2:e.readUint16(),strIndex:e.readUint32(),attenuationCode:e.readUint32(),attenuationValue:jn(e),autonomy:e.readUint32(),joinIndex:e.readUint32(),uiDisplayType:t.format>69?e.readUint16():0,facialAnimation:t.format>74?e.readUint32():0,memoryIterMult:t.format>76?jn(e):0,objectType:t.format>76?e.readUint32():0,modelTableId:t.format>70?e.readUint32():0,humanGroups:zn(t.format,s,"human",e),animalGroups:t.format>84?zn(t.format,s,"animal",e):null})}return t}function Gn(l,e,t,n){l>=84&&n.writeUint32(e.groups.length),e.groups.forEach(r=>{l>=85&&n.writeUint32(r.items.length),r.items.forEach(i=>{t==="human"&&(n.writeUint16(i.min),n.writeUint16(i.delta),n.writeUint16(i.type))})})}function Pi(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32(-1),e.writeUint32(l.format),e.writeUint32(0),e.writeUint16(l.items.length),l.items.forEach(r=>{e.writeUint16(r.action),e.writeUint16(r.guard),l.format<84&&r.humanGroups.groups.forEach(i=>{e.writeUint32(i.items.length)}),e.writeUint16(r.flags),e.writeUint16(r.flags2),e.writeUint32(r.strIndex),e.writeUint32(r.attenuationCode),e.writeUint32(r.attenuationValue),e.writeUint32(r.autonomy),e.writeUint32(r.joinIndex),l.format>69&&e.writeUint16(r.uiDisplayType),l.format>74&&e.writeUint32(r.facialAnimation),l.format>76&&(e.writeUint32(r.memoryIterMult),e.writeUint32(r.objectType)),l.format>70&&e.writeUint32(r.modelTableId),Gn(l.format,r.humanGroups,"human",e),l.format>84&&r.animalGroups&&Gn(l.format,r.animalGroups,"animal",e)}),e.buffer}function Hn(l){const e=new TextDecoder,t=l.readUint8();return e.decode(l.readBuffer(t))}function Wn(l,e){const t=new TextEncoder;l.writeUint8(e.length),l.writeBuffer(t.encode(e))}function Li(l){const e=new _t(l),t={filename:e.readFileName(),header:[e.readUint32(),e.readUint32(),e.readUint32()],params:[],locals:[]},n=e.readUint32(),r=e.readUint32();for(let i=0;i<n;i++)t.params.push({label:Hn(e),pdata:0});for(let i=0;i<r;i++)t.locals.push(Hn(e));return e.seekForward(4),t.params.forEach(i=>{i.pdata=e.readUint8()}),t}function Oi(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(l.header),e.writeUint32(l.params.length),e.writeUint32(l.locals.length),l.params.forEach(r=>{Wn(e,r.label)}),l.locals.forEach(r=>{Wn(e,r)}),e.writeUint32(0),l.params.forEach(r=>{e.writeUint8(r.pdata)}),e.writeUint32(5),e.writeUint32(0),e.buffer}function Mi(l){const e=new _t(l),t=new TextDecoder,n={filename:e.readFileName(),version:0,items:[]};e.readUint32(),n.version=e.readUint32(),e.readUint32();const r=e.readUint32();for(;n.items.length<r;)n.items.push({used:e.readUint32(),constId:e.readUint32(),constName:t.decode(e.readBuffer(e.readUint8())),desc:n.version>83?t.decode(e.readBuffer(e.readUint8())):"",value:n.version>83?e.readUint8():e.readUint16(),minValue:e.readUint16(),maxValue:e.readUint16()});return n}function Ni(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeString("NCRT"),e.writeUint32(l.version),e.writeUint32(0),e.writeUint32(l.items.length),l.items.forEach(r=>{e.writeUint32(r.used),e.writeUint32(r.constId),e.writeUint8(r.constName.length),e.writeString(r.constName),l.version>83?(e.writeUint8(r.desc.length),e.writeString(r.desc),e.writeUint8(r.value)):e.writeUint16(r.value),e.writeUint16(r.minValue),e.writeUint16(r.maxValue)}),e.buffer}function Vi(l,e){switch(l){case ye.BCON:return wi(e);case ye.BHAV:return yi(e);case ye.GLOB:return Ei(e);case ye.NREF:return Ii(e);case ye.OBJD:return Ai(e);case ye.OBJF:return Di(e);case ye.TTAB:return Ri(e);case ye.TPRP:return Li(e);case ye.TRCN:return Mi(e);case ye.STR:case ye.CTSS:case ye.TTAS:return Bi(e);default:return console.log(`No handler for file with typeId ${l} (${mt(l)})`),e}}function ji(l){const e=new _t(l);if(new TextDecoder().decode(e.readBuffer(4))!=="DBPF")throw new Error("Not a DBPF file!");const n=e.readUint32(),r=e.readUint32();if(n!==1||r>1)throw new Error(`Expected version 1.0 or 1.1 but got ${n}.${r}`);e.seekTo(32);const i=e.readUint32(),a=e.readUint32(),s=e.readUint32();e.seekTo(60);const o=r===1?e.readUint32():0;if(i!==7||o>2)throw new Error(`Expected index version 7.1 or 7.2 but got ${i}.${o}`);e.seekTo(s);const c=[];for(let f=0;f<a;f++)c.push({typeId:e.readUint32().toString(16),groupId:e.readUint32(),instanceId:e.readUint32(),instanceId2:o===2?e.readUint32():void 0,location:e.readUint32(),size:e.readUint32(),compressed:!1});c.forEach(f=>{if(f.typeId===ye.DIR){const h=f.size/(o===2?20:16);let d=0;console.log(`DIR found with ${h} entries`);for(let p=0;p<h;p++){e.seekTo(f.location);const v=e.readUint32().toString(16),w=e.readUint32(),E=e.readUint32(),y=o===2?e.readUint32():void 0,S=c.find(D=>D.typeId===v&&D.groupId===w&&D.instanceId===E&&D.instanceId2===y);S&&(S.compressed=!0,d++)}console.log(`found ${d} matching resources out of ${h} DIR entries`)}});const u=[];return c.forEach(f=>{if(f.typeId===ye.DIR)return;e.seekTo(f.location);const h=e.readBuffer(f.size);f.compressed?console.log(`decompressing and deserializing ${mt(f.typeId)}`):console.log(`deserializing ${mt(f.typeId)}`);const d=Vi(f.typeId,f.compressed?si(new Uint8Array(h).slice(4)).buffer:h);u.push({meta:f,content:d})}),u}function zi(l){const e=new pt;e.writeString("DBPF"),e.writeUint32(1),e.writeUint32(1),e.writeNulls(20),e.writeUint32(7),e.writeUint32(l.length),e.writeUint32(0),e.writeUint32(l.length*24),e.writeNulls(12),e.writeUint32(2),e.writeNulls(32);const t=[];l.forEach(i=>{let a=new ArrayBuffer(0);ui(i)?a=$i(i.content):fi(i)?a=ki(i.content):hi(i)?a=Ci(i.content):di(i)?a=Ti(i.content):gi(i)?a=Ui(i.content):_i(i)?a=Si(i.content):pi(i)?a=Fi(i.content):mi(i)?a=Pi(i.content):vi(i)?a=Oi(i.content):bi(i)?a=Ni(i.content):a=i.content,t.push({...i.meta,location:e.buffer.byteLength,size:a.byteLength}),e.writeBuffer(a)});const n=e.buffer.byteLength;t.forEach(i=>{e.writeUint32(parseInt(i.typeId,16)),e.writeUint32(i.groupId),e.writeUint32(i.instanceId),i.instanceId2!==void 0&&e.writeUint32(i.instanceId2),e.writeUint32(i.location),e.writeUint32(i.size)});const r=new DataView(e.buffer);return r.setUint32(40,n,!0),r.buffer}var At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wt=0;Wt<At.length;Wt++)Lt[At.charCodeAt(Wt)]=Wt;var Gi=function(l){var e=new Uint8Array(l),t,n=e.length,r="";for(t=0;t<n;t+=3)r+=At[e[t]>>2],r+=At[(e[t]&3)<<4|e[t+1]>>4],r+=At[(e[t+1]&15)<<2|e[t+2]>>6],r+=At[e[t+2]&63];return n%3===2?r=r.substring(0,r.length-1)+"=":n%3===1&&(r=r.substring(0,r.length-2)+"=="),r},Hi=function(l){var e=l.length*.75,t=l.length,n,r=0,i,a,s,o;l[l.length-1]==="="&&(e--,l[l.length-2]==="="&&e--);var c=new ArrayBuffer(e),u=new Uint8Array(c);for(n=0;n<t;n+=4)i=Lt[l.charCodeAt(n)],a=Lt[l.charCodeAt(n+1)],s=Lt[l.charCodeAt(n+2)],o=Lt[l.charCodeAt(n+3)],u[r++]=i<<2|a>>4,u[r++]=(a&15)<<4|s>>2,u[r++]=(s&3)<<6|o&63;return c};function at(l){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+l+(t.length?" "+t.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function St(l){return!!l&&!!l[tt]}function Ct(l){return!!l&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Qi}(l)||Array.isArray(l)||!!l[Zn]||!!l.constructor[Zn]||En(l)||Cn(l))}function Mt(l,e,t){t===void 0&&(t=!1),Ft(l)===0?(t?Object.keys:Dn)(l).forEach(function(n){t&&typeof n=="symbol"||e(n,l[n],l)}):l.forEach(function(n,r){return e(r,n,l)})}function Ft(l){var e=l[tt];return e?e.i>3?e.i-4:e.i:Array.isArray(l)?1:En(l)?2:Cn(l)?3:0}function _n(l,e){return Ft(l)===2?l.has(e):Object.prototype.hasOwnProperty.call(l,e)}function Wi(l,e){return Ft(l)===2?l.get(e):l[e]}function Cl(l,e,t){var n=Ft(l);n===2?l.set(e,t):n===3?(l.delete(e),l.add(t)):l[e]=t}function Yi(l,e){return l===e?l!==0||1/l==1/e:l!=l&&e!=e}function En(l){return Xi&&l instanceof Map}function Cn(l){return Ki&&l instanceof Set}function kt(l){return l.o||l.t}function In(l){if(Array.isArray(l))return Array.prototype.slice.call(l);var e=Zi(l);delete e[tt];for(var t=Dn(e),n=0;n<t.length;n++){var r=t[n],i=e[r];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:l[r]})}return Object.create(Object.getPrototypeOf(l),e)}function Tn(l,e){return e===void 0&&(e=!1),An(l)||St(l)||!Ct(l)||(Ft(l)>1&&(l.set=l.add=l.clear=l.delete=xi),Object.freeze(l),e&&Mt(l,function(t,n){return Tn(n,!0)},!0)),l}function xi(){at(2)}function An(l){return l==null||typeof l!="object"||Object.isFrozen(l)}function ct(l){var e=ea[l];return e||at(18,l),e}function Yn(){return Nt}function nn(l,e){e&&(ct("Patches"),l.u=[],l.s=[],l.v=e)}function qt(l){pn(l),l.p.forEach(qi),l.p=null}function pn(l){l===Nt&&(Nt=l.l)}function xn(l){return Nt={p:[],l:Nt,h:l,m:!0,_:0}}function qi(l){var e=l[tt];e.i===0||e.i===1?e.j():e.O=!0}function rn(l,e){e._=e.p.length;var t=e.p[0],n=l!==void 0&&l!==t;return e.h.g||ct("ES5").S(e,l,n),n?(t[tt].P&&(qt(e),at(4)),Ct(l)&&(l=Jt(e,l),e.l||Xt(e,l)),e.u&&ct("Patches").M(t[tt].t,l,e.u,e.s)):l=Jt(e,t,[]),qt(e),e.u&&e.v(e.u,e.s),l!==Il?l:void 0}function Jt(l,e,t){if(An(e))return e;var n=e[tt];if(!n)return Mt(e,function(i,a){return qn(l,n,e,i,a,t)},!0),e;if(n.A!==l)return e;if(!n.P)return Xt(l,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var r=n.i===4||n.i===5?n.o=In(n.k):n.o;Mt(n.i===3?new Set(r):r,function(i,a){return qn(l,n,r,i,a,t)}),Xt(l,r,!1),t&&l.u&&ct("Patches").R(n,t,l.u,l.s)}return n.o}function qn(l,e,t,n,r,i){if(St(r)){var a=Jt(l,r,i&&e&&e.i!==3&&!_n(e.D,n)?i.concat(n):void 0);if(Cl(t,n,a),!St(a))return;l.m=!1}if(Ct(r)&&!An(r)){if(!l.h.F&&l._<1)return;Jt(l,r),e&&e.A.l||Xt(l,r)}}function Xt(l,e,t){t===void 0&&(t=!1),l.h.F&&l.m&&Tn(e,t)}function ln(l,e){var t=l[tt];return(t?kt(t):l)[e]}function Jn(l,e){if(e in l)for(var t=Object.getPrototypeOf(l);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function mn(l){l.P||(l.P=!0,l.l&&mn(l.l))}function an(l){l.o||(l.o=In(l.t))}function vn(l,e,t){var n=En(e)?ct("MapSet").N(e,t):Cn(e)?ct("MapSet").T(e,t):l.g?function(r,i){var a=Array.isArray(r),s={i:a?1:0,A:i?i.A:Yn(),P:!1,I:!1,D:{},l:i,t:r,k:null,o:null,j:null,C:!1},o=s,c=bn;a&&(o=[s],c=Ot);var u=Proxy.revocable(o,c),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,t):ct("ES5").J(e,t);return(t?t.A:Yn()).p.push(n),n}function Ji(l){return St(l)||at(22,l),function e(t){if(!Ct(t))return t;var n,r=t[tt],i=Ft(t);if(r){if(!r.P&&(r.i<4||!ct("ES5").K(r)))return r.t;r.I=!0,n=Xn(t,i),r.I=!1}else n=Xn(t,i);return Mt(n,function(a,s){r&&Wi(r.t,a)===s||Cl(n,a,e(s))}),i===3?new Set(n):n}(l)}function Xn(l,e){switch(e){case 2:return new Map(l);case 3:return Array.from(l)}return In(l)}var Kn,Nt,Un=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Xi=typeof Map<"u",Ki=typeof Set<"u",Qn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Il=Un?Symbol.for("immer-nothing"):((Kn={})["immer-nothing"]=!0,Kn),Zn=Un?Symbol.for("immer-draftable"):"__$immer_draftable",tt=Un?Symbol.for("immer-state"):"__$immer_state",Qi=""+Object.prototype.constructor,Dn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Object.getOwnPropertyNames,Zi=Object.getOwnPropertyDescriptors||function(l){var e={};return Dn(l).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(l,t)}),e},ea={},bn={get:function(l,e){if(e===tt)return l;var t=kt(l);if(!_n(t,e))return function(r,i,a){var s,o=Jn(i,a);return o?"value"in o?o.value:(s=o.get)===null||s===void 0?void 0:s.call(r.k):void 0}(l,t,e);var n=t[e];return l.I||!Ct(n)?n:n===ln(l.t,e)?(an(l),l.o[e]=vn(l.A.h,n,l)):n},has:function(l,e){return e in kt(l)},ownKeys:function(l){return Reflect.ownKeys(kt(l))},set:function(l,e,t){var n=Jn(kt(l),e);if(n!=null&&n.set)return n.set.call(l.k,t),!0;if(!l.P){var r=ln(kt(l),e),i=r==null?void 0:r[tt];if(i&&i.t===t)return l.o[e]=t,l.D[e]=!1,!0;if(Yi(t,r)&&(t!==void 0||_n(l.t,e)))return!0;an(l),mn(l)}return l.o[e]===t&&typeof t!="number"&&(t!==void 0||e in l.o)||(l.o[e]=t,l.D[e]=!0,!0)},deleteProperty:function(l,e){return ln(l.t,e)!==void 0||e in l.t?(l.D[e]=!1,an(l),mn(l)):delete l.D[e],l.o&&delete l.o[e],!0},getOwnPropertyDescriptor:function(l,e){var t=kt(l),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:l.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){at(11)},getPrototypeOf:function(l){return Object.getPrototypeOf(l.t)},setPrototypeOf:function(){at(12)}},Ot={};Mt(bn,function(l,e){Ot[l]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ot.deleteProperty=function(l,e){return Ot.set.call(this,l,e,void 0)},Ot.set=function(l,e,t){return bn.set.call(this,l[0],e,t,l[0])};var ta=function(){function l(t){var n=this;this.g=Qn,this.F=!0,this.produce=function(r,i,a){if(typeof r=="function"&&typeof i!="function"){var s=i;i=r;var o=n;return function(v){var w=this;v===void 0&&(v=s);for(var E=arguments.length,y=Array(E>1?E-1:0),S=1;S<E;S++)y[S-1]=arguments[S];return o.produce(v,function(D){var L;return(L=i).call.apply(L,[w,D].concat(y))})}}var c;if(typeof i!="function"&&at(6),a!==void 0&&typeof a!="function"&&at(7),Ct(r)){var u=xn(n),f=vn(n,r,void 0),h=!0;try{c=i(f),h=!1}finally{h?qt(u):pn(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(v){return nn(u,a),rn(v,u)},function(v){throw qt(u),v}):(nn(u,a),rn(c,u))}if(!r||typeof r!="object"){if((c=i(r))===void 0&&(c=r),c===Il&&(c=void 0),n.F&&Tn(c,!0),a){var d=[],p=[];ct("Patches").M(r,c,d,p),a(d,p)}return c}at(21,r)},this.produceWithPatches=function(r,i){if(typeof r=="function")return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(c,function(d){return r.apply(void 0,[d].concat(f))})};var a,s,o=n.produce(r,i,function(c,u){a=c,s=u});return typeof Promise<"u"&&o instanceof Promise?o.then(function(c){return[c,a,s]}):[o,a,s]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=l.prototype;return e.createDraft=function(t){Ct(t)||at(8),St(t)&&(t=Ji(t));var n=xn(this),r=vn(this,t,void 0);return r[tt].C=!0,pn(n),r},e.finishDraft=function(t,n){var r=t&&t[tt],i=r.A;return nn(i,n),rn(void 0,i)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Qn&&at(20),this.g=t},e.applyPatches=function(t,n){var r;for(r=n.length-1;r>=0;r--){var i=n[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(n=n.slice(r+1));var a=ct("Patches").$;return St(t)?a(t,n):this.produce(t,function(s){return a(s,n)})},l}(),nt=new ta,na=nt.produce;nt.produceWithPatches.bind(nt);nt.setAutoFreeze.bind(nt);nt.setUseProxies.bind(nt);nt.applyPatches.bind(nt);nt.createDraft.bind(nt);nt.finishDraft.bind(nt);const oe=na;var Yt,ra=new Uint8Array(16);function la(){if(!Yt&&(Yt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Yt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yt(ra)}const ia=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function aa(l){return typeof l=="string"&&ia.test(l)}var Je=[];for(var sn=0;sn<256;++sn)Je.push((sn+256).toString(16).substr(1));function sa(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Je[l[e+0]]+Je[l[e+1]]+Je[l[e+2]]+Je[l[e+3]]+"-"+Je[l[e+4]]+Je[l[e+5]]+"-"+Je[l[e+6]]+Je[l[e+7]]+"-"+Je[l[e+8]]+Je[l[e+9]]+"-"+Je[l[e+10]]+Je[l[e+11]]+Je[l[e+12]]+Je[l[e+13]]+Je[l[e+14]]+Je[l[e+15]]).toLowerCase();if(!aa(t))throw TypeError("Stringified UUID is invalid");return t}function Tt(l,e,t){l=l||{};var n=l.random||(l.rng||la)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=n[r];return e}return sa(n)}function er(l){return(l==null?void 0:l.contentChanges)!==void 0||(l==null?void 0:l.metaChanges)!==void 0}function _e(l){return{activePackage(){return l.packages[l.activePackageId]},activeResourceId(){var e;return(e=this.activePackage())==null?void 0:e.activeResourceId},activeResource(){var t;const e=this.activeResourceId();return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},openResourceIds(){var t;const e=(t=this.activePackage())==null?void 0:t.resources;return e?Object.keys(e).filter(n=>{var r;return(r=e[n])==null?void 0:r.isOpen}):[]},resourceById(e){var t;return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},resourcesByType(e){var t;return Object.values(((t=this.activePackage())==null?void 0:t.resources)??{}).filter(n=>n.meta.typeId===ye[e])},resourceIdByTypeAndInstanceId(e,t){var r;const n=Object.entries(((r=this.activePackage())==null?void 0:r.resources)??{}).find(([,i])=>i.meta.typeId===ye[e]&&i.meta.instanceId===t);return n==null?void 0:n[0]},isDirty(e){const t=e??this.activeResourceId();return t?er(this.resourceById(t)):!1},isPackageDirty(e){const t=l.packages[e??l.activePackageId];return Object.values((t==null?void 0:t.resources)??{}).some(er)},linkedResourceId(e){var r;const t=_e(l).activePackage(),n=_e(l).activeResource();return(r=Object.entries((t==null?void 0:t.resources)??{}).find(([,i])=>i.meta.typeId===ye[e]&&i.meta.instanceId===(n==null?void 0:n.meta.instanceId)&&i.meta.instanceId2===(n==null?void 0:n.meta.instanceId2)))==null?void 0:r[0]}}}const Tl="editorState",wn="base64:",oa=Wl(l=>{const e=JSON.stringify(l,(t,n)=>n instanceof ArrayBuffer?`${wn}${Gi(n)}`:n);localStorage.setItem(Tl,e)},1e3);function ca(){const l={activePackageId:"",packages:{}},e=localStorage.getItem(Tl);return e?JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(wn)?Hi(n.slice(wn.length)):n):l}function on(l,e){const t=e.filter(n=>n!==l);return t[Math.min(e.indexOf(l),t.length-1)]??""}const Ne=zl(ca());Ne.subscribe(oa);const be={subscribe:Ne.subscribe,addEmptyPackage(l){const e=Tt();Ne.update(t=>oe(t,n=>{n.packages[e]={filename:l,resources:{},activeResourceId:""},n.activePackageId=e}))},async addPackage(l){const e=ji(await l.arrayBuffer()).reduce((n,r)=>(n[Tt()]=r,n),{}),t=Tt();Ne.update(n=>oe(n,r=>{r.packages[t]={filename:l.name,resources:e,activeResourceId:""},r.activePackageId=t}))},removePackage(l){window.confirm("Close this package? You'll lose all changes.")&&Ne.update(e=>oe(e,t=>{l===e.activePackageId&&(t.activePackageId=on(l,Object.keys(e.packages))),delete t.packages[l]}))},setActivePackage(l){Ne.update(e=>oe(e,t=>{t.activePackageId=l}))},downloadActivePackage(){const l=Fl(Ne);if(_e(l).isPackageDirty()&&!window.confirm("This package contains resources with unsaved changes. Download anyway?"))return;const e=_e(l).activePackage();if(!e)return console.error("Failed to find active package, unable to download");const t=zi(Object.values(e.resources)),n=new Blob([new Uint8Array(t)],{type:"octet/stream"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e.filename,i.click(),window.URL.revokeObjectURL(r)},openResource(l){Ne.update(e=>oe(e,t=>{const n=_e(t).resourceById(l);if(n){n.isOpen=!0;const r=_e(t).activePackage();r&&(r.activeResourceId=l)}}))},closeResource(l){Ne.update(e=>oe(e,t=>{var a;const n=(a=_e(e).activePackage())==null?void 0:a.activeResourceId;if(_e(e).isDirty(l)&&!window.confirm("Close this resource? You'll lose all unsaved changes."))return;const r=_e(e).openResourceIds();if(l===n){const s=_e(t).activePackage();s&&(s.activeResourceId=on(l,r))}const i=_e(t).resourceById(l);i&&(i.isOpen=!1,delete i.contentChanges,delete i.metaChanges)}))},editActiveResource(l){Ne.update(e=>oe(e,t=>{const n=_e(t).activeResource();n&&(n.contentChanges=l)}))},editActiveResourceMeta(l){Ne.update(e=>oe(e,t=>{const n=_e(t).activeResource();n&&(n.metaChanges=l)}))},resetActiveResource(){window.confirm("Undo all unsaved changes to this resource? This cannot be undone.")&&Ne.update(l=>oe(l,e=>{const t=_e(e).activeResource();t&&(delete t.contentChanges,delete t.metaChanges)}))},saveActiveResource(){Ne.update(l=>oe(l,e=>{const t=_e(e).activeResource();(t==null?void 0:t.contentChanges)!==void 0&&(t.content=t.contentChanges,delete t.contentChanges),(t==null?void 0:t.metaChanges)!==void 0&&(t.meta=t.metaChanges,delete t.metaChanges)}))},copyActiveResource(){Ne.update(l=>oe(l,e=>{const t=_e(e).activePackage(),n=_e(l).activeResource();if(t&&n){const r=Tt();t.resources[r]={...n},t.activeResourceId=r}}))},deleteActiveResource(){window.confirm("Remove this resource from the package file? This cannot be undone.")&&Ne.update(l=>oe(l,e=>{const t=_e(e).activePackage(),n=_e(e).activeResourceId();if(t&&n){const r=_e(e).openResourceIds();t.activeResourceId=on(n,r),delete t.resources[n]}}))},createNewResource(l){Ne.update(e=>oe(e,t=>{const n=_e(t).activePackage(),r=Tt();n&&(n.resources[r]={meta:{typeId:ye[l],groupId:0,instanceId:0,instanceId2:0,location:0,size:0},content:wt[l],isOpen:!0},n.activeResourceId=r)}))},createLinkedResource(l,e){Ne.update(t=>oe(t,n=>{const r=_e(n).activePackage(),i=_e(n).activeResource(),a=Tt();r&&i&&(r.resources[a]={meta:{...i.meta,typeId:ye[l]},content:e??wt[l]})}))},setActiveResource(l){Ne.update(e=>oe(e,t=>{const n=_e(t).activePackage();n&&(n.activeResourceId=l)}))}},Al=kl(Ne,l=>_e(l).activePackage()),Ul=kl(Ne,l=>_e(l).activeResource());function ua(l){let e,t,n;const r=l[2].default,i=ut(r,l,l[1],null);return{c(){e=T("div"),i&&i.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);i&&i.l(s),s.forEach(m),this.h()},h(){C(e,"class",t=Fn(`popover ${l[0]}`)+" svelte-1og6ho9")},m(a,s){R(a,e,s),i&&i.m(e,null),n=!0},p(a,[s]){i&&i.p&&(!n||s&2)&&ft(i,r,a,a[1],n?dt(r,a[1],s,null):ht(a[1]),null),(!n||s&1&&t!==(t=Fn(`popover ${a[0]}`)+" svelte-1og6ho9"))&&C(e,"class",t)},i(a){n||(U(i,a),n=!0)},o(a){B(i,a),n=!1},d(a){a&&m(e),i&&i.d(a)}}}function fa(l,e,t){let{$$slots:n={},$$scope:r}=e,{position:i="top"}=e;return l.$$set=a=>{"position"in a&&t(0,i=a.position),"$$scope"in a&&t(1,r=a.$$scope)},[i,r,n]}class ha extends ue{constructor(e){super(),fe(this,e,fa,ua,ae,{position:0})}}function da(l){let e,t,n,r;const i=l[8].default,a=ut(i,l,l[11],null);let s=[{class:l[1]},{style:l[2]},l[6]],o={};for(let c=0;c<s.length;c+=1)o=ge(o,s[c]);return{c(){e=T("button"),a&&a.c(),this.h()},l(c){e=A(c,"BUTTON",{class:!0,style:!0});var u=I(e);a&&a.l(u),u.forEach(m),this.h()},h(){Ve(e,o),Ae(e,"svelte-1dioxib",!0)},m(c,u){R(c,e,u),a&&a.m(e,null),e.autofocus&&e.focus(),l[10](e),t=!0,n||(r=pe(e,"click",function(){jt(l[0])&&l[0].apply(this,arguments)}),n=!0)},p(c,u){l=c,a&&a.p&&(!t||u&2048)&&ft(a,i,l,l[11],t?dt(i,l[11],u,null):ht(l[11]),null),Ve(e,o=Le(s,[(!t||u&2)&&{class:l[1]},(!t||u&4)&&{style:l[2]},u&64&&l[6]])),Ae(e,"svelte-1dioxib",!0)},i(c){t||(U(a,c),t=!0)},o(c){B(a,c),t=!1},d(c){c&&m(e),a&&a.d(c),l[10](null),n=!1,r()}}}function ga(l){let e,t,n,r,i,a,s;const o=l[8].default,c=ut(o,l,l[11],null);let u=[{class:l[1]},{style:n=`height: ${l[3]}px; width: ${l[3]}px;`},l[6]],f={};for(let d=0;d<u.length;d+=1)f=ge(f,u[d]);let h=l[4]&&tr(l);return{c(){e=T("div"),t=T("button"),c&&c.c(),r=O(),h&&h.c(),this.h()},l(d){e=A(d,"DIV",{class:!0,style:!0});var p=I(e);t=A(p,"BUTTON",{class:!0,style:!0});var v=I(t);c&&c.l(v),v.forEach(m),r=M(p),h&&h.l(p),p.forEach(m),this.h()},h(){Ve(t,f),Ae(t,"svelte-1dioxib",!0),C(e,"class","bevel svelte-1dioxib"),C(e,"style",l[2])},m(d,p){R(d,e,p),b(e,t),c&&c.m(t,null),t.autofocus&&t.focus(),l[9](t),b(e,r),h&&h.m(e,null),i=!0,a||(s=pe(t,"click",function(){jt(l[0])&&l[0].apply(this,arguments)}),a=!0)},p(d,p){l=d,c&&c.p&&(!i||p&2048)&&ft(c,o,l,l[11],i?dt(o,l[11],p,null):ht(l[11]),null),Ve(t,f=Le(u,[(!i||p&2)&&{class:l[1]},(!i||p&8&&n!==(n=`height: ${l[3]}px; width: ${l[3]}px;`))&&{style:n},p&64&&l[6]])),Ae(t,"svelte-1dioxib",!0),l[4]?h?(h.p(l,p),p&16&&U(h,1)):(h=tr(l),h.c(),U(h,1),h.m(e,null)):h&&(me(),B(h,1,1,()=>{h=null}),ve()),(!i||p&4)&&C(e,"style",l[2])},i(d){i||(U(c,d),U(h),i=!0)},o(d){B(c,d),B(h),i=!1},d(d){d&&m(e),c&&c.d(d),l[9](null),h&&h.d(),a=!1,s()}}}function tr(l){let e,t;return e=new ha({props:{position:"top",$$slots:{default:[_a]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&2064&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function _a(l){let e;return{c(){e=X(l[4])},l(t){e=K(t,l[4])},m(t,n){R(t,e,n)},p(t,n){n&16&&Fe(e,t[4])},d(t){t&&m(e)}}}function pa(l){let e,t,n,r;const i=[ga,da],a=[];function s(o,c){return o[1]==="skeuomorphic"?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function ma(l,e,t){const n=["focus","onClick","variant","style","size","tooltip"];let r=xt(e,n),{$$slots:i={},$$scope:a}=e,s;function o(){s.focus()}let{onClick:c}=e,{variant:u="link"}=e,{style:f=void 0}=e,{size:h=35}=e,{tooltip:d=""}=e;function p(w){bt[w?"unshift":"push"](()=>{s=w,t(5,s)})}function v(w){bt[w?"unshift":"push"](()=>{s=w,t(5,s)})}return l.$$set=w=>{e=ge(ge({},e),je(w)),t(6,r=xt(e,n)),"onClick"in w&&t(0,c=w.onClick),"variant"in w&&t(1,u=w.variant),"style"in w&&t(2,f=w.style),"size"in w&&t(3,h=w.size),"tooltip"in w&&t(4,d=w.tooltip),"$$scope"in w&&t(11,a=w.$$scope)},[c,u,f,h,d,s,r,o,i,p,v,a]}class Ue extends ue{constructor(e){super(),fe(this,e,ma,pa,ae,{focus:7,onClick:0,variant:1,style:2,size:3,tooltip:4})}get focus(){return this.$$.ctx[7]}}function va(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99h144v-144C192 62.32 206.33 48 224 48s32 14.32 32 32.01v144h144c17.7-.01 32 14.29 32 31.99z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function ba(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class wa extends ue{constructor(e){super(),fe(this,e,ba,va,ae,{})}}function $a(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M384 128H256V0l128 128zm-128 32h128v304c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.5-48-48V48C0 21.49 21.49 0 48 0h176l.004 128C224 145.7 238.3 160 256 160zm-1 135-39 39.1V232c0-13.25-10.75-24-24-24s-24 10.8-24 24v102.1L128.1 295c-3.8-4.7-9.9-7-16.1-7s-12.28 2.3-16.97 7c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94s-24.57-9.3-33.97 0z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function ya(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class ka extends ue{constructor(e){super(),fe(this,e,ya,$a,ae,{})}}function Ea(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M438.6 105.4c12.5 12.5 12.5 32.7 0 45.2l-256 256c-12.5 12.5-32.7 12.5-45.2 0L9.372 278.6c-12.496-12.5-12.496-32.7 0-45.2 12.498-12.5 32.758-12.5 45.258 0L159.1 338.7l234.3-233.3c12.5-12.52 32.7-12.52 45.2 0z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function Ca(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class Ia extends ue{constructor(e){super(),fe(this,e,Ca,Ea,ae,{})}}function Ta(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 0 1-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 0 1-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function Aa(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class Ua extends ue{constructor(e){super(),fe(this,e,Aa,Ta,ae,{})}}function Da(l){const e=l-1;return e*e*e+1}function nr(l,{delay:e=0,duration:t=400,easing:n=Rl}={}){const r=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function rr(l,{delay:e=0,duration:t=400,easing:n=Da,x:r=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(l),o=+s.opacity,c=s.transform==="none"?"":s.transform,u=o*(1-a);return{delay:e,duration:t,easing:n,css:(f,h)=>`
			transform: ${c} translate(${(1-f)*r}px, ${(1-f)*i}px);
			opacity: ${o-u*h}`}}function Sa(l){let e,t,n,r,i;const a=l[2].default,s=ut(a,l,l[1],null);return{c(){e=T("div"),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{});var c=I(e);s&&s.l(c),c.forEach(m),this.h()},h(){e.hidden=!0},m(o,c){R(o,e,c),s&&s.m(e,null),n=!0,r||(i=Pl(t=Ba.call(null,e,l[0])),r=!0)},p(o,[c]){s&&s.p&&(!n||c&2)&&ft(s,a,o,o[1],n?dt(a,o[1],c,null):ht(o[1]),null),t&&jt(t.update)&&c&1&&t.update.call(null,o[0])},i(o){n||(U(s,o),n=!0)},o(o){B(s,o),n=!1},d(o){o&&m(e),s&&s.d(o),r=!1,i()}}}function Ba(l,e="body"){let t;async function n(i){if(e=i,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Ll(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(l),l.hidden=!1}function r(){l.parentNode&&l.parentNode.removeChild(l)}return n(e),{update:n,destroy:r}}function Fa(l,e,t){let{$$slots:n={},$$scope:r}=e,{target:i="body"}=e;return l.$$set=a=>{"target"in a&&t(0,i=a.target),"$$scope"in a&&t(1,r=a.$$scope)},[i,r,n]}class Ra extends ue{constructor(e){super(),fe(this,e,Fa,Sa,ae,{target:0})}}function lr(l){let e,t;return e=new Ra({props:{$$slots:{default:[La]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&269&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ir(l){let e,t;return{c(){e=T("h2"),t=X(l[0]),this.h()},l(n){e=A(n,"H2",{class:!0});var r=I(e);t=K(r,l[0]),r.forEach(m),this.h()},h(){C(e,"class","svelte-tzis89")},m(n,r){R(n,e,r),b(e,t)},p(n,r){r&1&&Fe(t,n[0])},d(n){n&&m(e)}}}function Pa(l){let e,t,n=l[0]&&ir(l);const r=l[4].default,i=ut(r,l,l[8],null);return{c(){n&&n.c(),e=O(),i&&i.c()},l(a){n&&n.l(a),e=M(a),i&&i.l(a)},m(a,s){n&&n.m(a,s),R(a,e,s),i&&i.m(a,s),t=!0},p(a,s){a[0]?n?n.p(a,s):(n=ir(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),i&&i.p&&(!t||s&256)&&ft(i,r,a,a[8],t?dt(r,a[8],s,null):ht(a[8]),null)},i(a){t||(U(i,a),t=!0)},o(a){B(i,a),t=!1},d(a){n&&n.d(a),a&&m(e),i&&i.d(a)}}}function La(l){let e,t,n,r,i,a,s,o;return n=new ze({props:{secondary:!0,style:{position:"relative"},$$slots:{default:[Pa]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),H(n.$$.fragment),this.h()},l(c){e=A(c,"DIV",{class:!0});var u=I(e);t=A(u,"DIV",{});var f=I(t);q(n.$$.fragment,f),f.forEach(m),u.forEach(m),this.h()},h(){C(e,"class","background svelte-tzis89")},m(c,u){R(c,e,u),b(e,t),W(n,t,null),l[7](e),a=!0,s||(o=[pe(e,"click",l[5]),pe(e,"keydown",l[6])],s=!0)},p(c,u){const f={};u&257&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i(c){a||(U(n.$$.fragment,c),hn(()=>{r||(r=Ht(t,rr,{y:-200,duration:100},!0)),r.run(1)}),hn(()=>{i||(i=Ht(e,nr,{duration:100},!0)),i.run(1)}),a=!0)},o(c){B(n.$$.fragment,c),r||(r=Ht(t,rr,{y:-200,duration:100},!1)),r.run(0),i||(i=Ht(e,nr,{duration:100},!1)),i.run(0),a=!1},d(c){c&&m(e),Y(n),c&&r&&r.end(),l[7](null),c&&i&&i.end(),s=!1,gt(o)}}}function Oa(l){let e,t,n=l[1]&&lr(l);return{c(){n&&n.c(),e=ke()},l(r){n&&n.l(r),e=ke()},m(r,i){n&&n.m(r,i),R(r,e,i),t=!0},p(r,[i]){r[1]?n?(n.p(r,i),i&2&&U(n,1)):(n=lr(r),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),B(n,1,1,()=>{n=null}),ve())},i(r){t||(U(n),t=!0)},o(r){B(n),t=!1},d(r){n&&n.d(r),r&&m(e)}}}function Ma(l,e,t){let{$$slots:n={},$$scope:r}=e,{title:i=void 0}=e,{isOpen:a}=e,{onClose:s}=e,o;const c=h=>{h.target===o&&s()},u=h=>{h.key==="Escape"&&s()};function f(h){bt[h?"unshift":"push"](()=>{o=h,t(3,o)})}return l.$$set=h=>{"title"in h&&t(0,i=h.title),"isOpen"in h&&t(1,a=h.isOpen),"onClose"in h&&t(2,s=h.onClose),"$$scope"in h&&t(8,r=h.$$scope)},[i,a,s,o,n,c,u,f,r]}class Na extends ue{constructor(e){super(),fe(this,e,Ma,Oa,ae,{title:0,isOpen:1,onClose:2})}}function ar(l,e,t){const n=l.slice();return n[6]=e[t],n}function sr(l,e,t){const n=l.slice();n[9]=e[t];const r=n[6][n[9]];return n[10]=r,n}function or(l,e,t){const n=l.slice();return n[9]=e[t],n}function cr(l){let e,t=l[9]+"",n,r;return{c(){e=T("th"),n=X(t),r=O(),this.h()},l(i){e=A(i,"TH",{class:!0});var a=I(e);n=K(a,t),r=M(a),a.forEach(m),this.h()},h(){var i,a,s,o;C(e,"class","svelte-1r7sqdr"),Ae(e,"stretch",(a=(i=l[1])==null?void 0:i[l[9]])==null?void 0:a.stretch),Ae(e,"shrink",(o=(s=l[1])==null?void 0:s[l[9]])==null?void 0:o.shrink)},m(i,a){R(i,e,a),b(e,n),b(e,r)},p(i,a){var s,o,c,u;a&1&&t!==(t=i[9]+"")&&Fe(n,t),a&3&&Ae(e,"stretch",(o=(s=i[1])==null?void 0:s[i[9]])==null?void 0:o.stretch),a&3&&Ae(e,"shrink",(u=(c=i[1])==null?void 0:c[i[9]])==null?void 0:u.shrink)},d(i){i&&m(e)}}}function Va(l){let e=(l[10]??"-")+"",t;return{c(){t=X(e)},l(n){t=K(n,e)},m(n,r){R(n,t,r)},p(n,r){r&5&&e!==(e=(n[10]??"-")+"")&&Fe(t,e)},i:ie,o:ie,d(n){n&&m(t)}}}function ja(l){let e=l[10].element,t,n=l[10].element&&cn(l);return{c(){n&&n.c(),t=ke()},l(r){n&&n.l(r),t=ke()},m(r,i){n&&n.m(r,i),R(r,t,i)},p(r,i){r[10].element?e?ae(e,r[10].element)?(n.d(1),n=cn(r),n.c(),n.m(t.parentNode,t)):n.p(r,i):(n=cn(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[10].element},i:ie,o:ie,d(r){r&&m(t),n&&n.d(r)}}}function za(l){let e,t,n;const r=[l[10].props??{}];var i=l[10].component;function a(s){let o={};for(let c=0;c<r.length;c+=1)o=ge(o,r[c]);return{props:o}}return i&&(e=Ut(i,a())),{c(){e&&H(e.$$.fragment),t=ke()},l(s){e&&q(e.$$.fragment,s),t=ke()},m(s,o){e&&W(e,s,o),R(s,t,o),n=!0},p(s,o){const c=o&5?Le(r,[kn(s[10].props??{})]):{};if(i!==(i=s[10].component)){if(e){me();const u=e;B(u.$$.fragment,1,0,()=>{Y(u,1)}),ve()}i?(e=Ut(i,a()),H(e.$$.fragment),U(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(s){n||(e&&U(e.$$.fragment,s),n=!0)},o(s){e&&B(e.$$.fragment,s),n=!1},d(s){s&&m(t),e&&Y(e,s)}}}function cn(l){let e,t=[l[10].props??{}],n={};for(let r=0;r<t.length;r+=1)n=ge(n,t[r]);return{c(){e=T(l[10].element),this.h()},l(r){e=A(r,(l[10].element||"null").toUpperCase(),{}),I(e).forEach(m),this.h()},h(){/-/.test(l[10].element)?Dt(e,n):Ve(e,n),Ae(e,"svelte-1r7sqdr",!0)},m(r,i){R(r,e,i)},p(r,i){n=Le(t,[i&5&&(r[10].props??{})]),/-/.test(r[10].element)?Dt(e,n):Ve(e,n),Ae(e,"svelte-1r7sqdr",!0)},d(r){r&&m(e)}}}function ur(l){let e,t,n,r,i,a;const s=[za,ja,Va],o=[];function c(u,f){return f&5&&(t=null),f&5&&(n=null),t==null&&(t=!!u[4](u[10])),t?0:(n==null&&(n=!!u[5](u[10])),n?1:2)}return r=c(l,-1),i=o[r]=s[r](l),{c(){e=T("td"),i.c(),this.h()},l(u){e=A(u,"TD",{class:!0});var f=I(e);i.l(f),f.forEach(m),this.h()},h(){C(e,"class","svelte-1r7sqdr")},m(u,f){R(u,e,f),o[r].m(e,null),a=!0},p(u,f){let h=r;r=c(u,f),r===h?o[r].p(u,f):(me(),B(o[h],1,1,()=>{o[h]=null}),ve(),i=o[r],i?i.p(u,f):(i=o[r]=s[r](u),i.c()),U(i,1),i.m(e,null))},i(u){a||(U(i),a=!0)},o(u){B(i),a=!1},d(u){u&&m(e),o[r].d()}}}function fr(l){let e,t,n,r=l[0],i=[];for(let s=0;s<r.length;s+=1)i[s]=ur(sr(l,r,s));const a=s=>B(i[s],1,1,()=>{i[s]=null});return{c(){e=T("tr");for(let s=0;s<i.length;s+=1)i[s].c();t=O(),this.h()},l(s){e=A(s,"TR",{class:!0});var o=I(e);for(let c=0;c<i.length;c+=1)i[c].l(o);t=M(o),o.forEach(m),this.h()},h(){C(e,"class","svelte-1r7sqdr")},m(s,o){R(s,e,o);for(let c=0;c<i.length;c+=1)i[c].m(e,null);b(e,t),n=!0},p(s,o){if(o&53){r=s[0];let c;for(c=0;c<r.length;c+=1){const u=sr(s,r,c);i[c]?(i[c].p(u,o),U(i[c],1)):(i[c]=ur(u),i[c].c(),U(i[c],1),i[c].m(e,t))}for(me(),c=r.length;c<i.length;c+=1)a(c);ve()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)B(i[o]);n=!1},d(s){s&&m(e),Pe(i,s)}}}function Ga(l){let e,t,n,r,i,a=l[0],s=[];for(let f=0;f<a.length;f+=1)s[f]=cr(or(l,a,f));let o=l[2],c=[];for(let f=0;f<o.length;f+=1)c[f]=fr(ar(l,o,f));const u=f=>B(c[f],1,1,()=>{c[f]=null});return{c(){e=T("table"),t=T("thead");for(let f=0;f<s.length;f+=1)s[f].c();n=O(),r=T("tbody");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=A(f,"TABLE",{style:!0,class:!0});var h=I(e);t=A(h,"THEAD",{});var d=I(t);for(let v=0;v<s.length;v+=1)s[v].l(d);d.forEach(m),n=M(h),r=A(h,"TBODY",{});var p=I(r);for(let v=0;v<c.length;v+=1)c[v].l(p);p.forEach(m),h.forEach(m),this.h()},h(){C(e,"style",l[3]),C(e,"class","svelte-1r7sqdr")},m(f,h){R(f,e,h),b(e,t);for(let d=0;d<s.length;d+=1)s[d].m(t,null);b(e,n),b(e,r);for(let d=0;d<c.length;d+=1)c[d].m(r,null);i=!0},p(f,[h]){if(h&3){a=f[0];let d;for(d=0;d<a.length;d+=1){const p=or(f,a,d);s[d]?s[d].p(p,h):(s[d]=cr(p),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}if(h&53){o=f[2];let d;for(d=0;d<o.length;d+=1){const p=ar(f,o,d);c[d]?(c[d].p(p,h),U(c[d],1)):(c[d]=fr(p),c[d].c(),U(c[d],1),c[d].m(r,null))}for(me(),d=o.length;d<c.length;d+=1)u(d);ve()}(!i||h&8)&&C(e,"style",f[3])},i(f){if(!i){for(let h=0;h<o.length;h+=1)U(c[h]);i=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)B(c[h]);i=!1},d(f){f&&m(e),Pe(s,f),Pe(c,f)}}}function Ha(l,e,t){let{columns:n}=e,{columnConfig:r=void 0}=e,{rows:i}=e,{style:a=""}=e;const s=c=>c&&typeof c!="string"&&typeof c!="number"&&c.component,o=c=>c&&typeof c!="string"&&typeof c!="number"&&c.element;return l.$$set=c=>{"columns"in c&&t(0,n=c.columns),"columnConfig"in c&&t(1,r=c.columnConfig),"rows"in c&&t(2,i=c.rows),"style"in c&&t(3,a=c.style)},[n,r,i,a,s,o]}class Zt extends ue{constructor(e){super(),fe(this,e,Ha,Ga,ae,{columns:0,columnConfig:1,rows:2,style:3})}}function Wa(l){let e,t,n;return{c(){e=T("input"),this.h()},l(r){e=A(r,"INPUT",{type:!0,style:!0}),this.h()},h(){C(e,"type","text"),e.value=l[3],e.disabled=l[1],C(e,"style",l[2])},m(r,i){R(r,e,i),t||(n=[pe(e,"input",st(l[4])),pe(e,"blur",l[5])],t=!0)},p(r,i){i&8&&e.value!==r[3]&&(e.value=r[3]),i&2&&(e.disabled=r[1]),i&4&&C(e,"style",r[2])},d(r){r&&m(e),t=!1,gt(n)}}}function Ya(l){let e,t,n,r,i,a;return{c(){e=T("label"),t=X(l[0]),n=O(),r=T("input"),this.h()},l(s){e=A(s,"LABEL",{});var o=I(e);t=K(o,l[0]),n=M(o),r=A(o,"INPUT",{type:!0,class:!0,style:!0}),o.forEach(m),this.h()},h(){C(r,"type","text"),r.value=l[3],r.disabled=l[1],C(r,"class","labeled svelte-1c67e8g"),C(r,"style",l[2])},m(s,o){R(s,e,o),b(e,t),b(e,n),b(e,r),i||(a=[pe(r,"input",st(l[4])),pe(r,"blur",l[5])],i=!0)},p(s,o){o&1&&Fe(t,s[0]),o&8&&r.value!==s[3]&&(r.value=s[3]),o&2&&(r.disabled=s[1]),o&4&&C(r,"style",s[2])},d(s){s&&m(e),i=!1,gt(a)}}}function xa(l){let e;function t(i,a){return i[0]?Ya:Wa}let n=t(l),r=n(l);return{c(){r.c(),e=ke()},l(i){r.l(i),e=ke()},m(i,a){r.m(i,a),R(i,e,a)},p(i,[a]){n===(n=t(i))&&r?r.p(i,a):(r.d(1),r=n(i),r&&(r.c(),r.m(e.parentNode,e)))},i:ie,o:ie,d(i){r.d(i),i&&m(e)}}}function qa(l,e,t){let n,r,{variant:i="text"}=e,{value:a}=e,{onChange:s}=e,{label:o=""}=e,{maxLength:c=void 0}=e,{disabled:u=!1}=e,{style:f=void 0}=e;const h=v=>{switch(i){case"hex":return RegExp(`^(0x|0X)?[a-fA-F0-9]{0,${c??""}}$`).test(v);case"float":return RegExp("^-?(\\d*)?\\.?(\\d*)?$").test(v);default:return!0}},d=v=>{const w=v.target;h(w.value)?t(3,r=w.value):w.value=r},p=()=>{if(i==="text")r!==a&&s(r);else{let v=0;switch(i){case"hex":v=parseInt(r,16);break;case"float":v=parseFloat(r);break}Number.isNaN(v)&&(v=0),v!==a?s(v):t(3,r=n())}};return l.$$set=v=>{"variant"in v&&t(6,i=v.variant),"value"in v&&t(7,a=v.value),"onChange"in v&&t(8,s=v.onChange),"label"in v&&t(0,o=v.label),"maxLength"in v&&t(9,c=v.maxLength),"disabled"in v&&t(1,u=v.disabled),"style"in v&&t(2,f=v.style)},l.$$.update=()=>{l.$$.dirty&704&&t(10,n=()=>{switch(i){case"hex":return Me(a,c);case"float":const v=a.toString();return v!=="NaN"?v:"0";default:return a}}),l.$$.dirty&1024&&t(3,r=n())},[o,u,f,r,d,p,i,a,s,c,n]}class Qe extends ue{constructor(e){super(),fe(this,e,qa,xa,ae,{variant:6,value:7,onChange:8,label:0,maxLength:9,disabled:1,style:2})}}function Ja(l){let e,t;return e=new Ue({props:{onClick:l[4],$$slots:{default:[Ka]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Xa(l){let e,t;return e=new Ue({props:{onClick:l[8],$$slots:{default:[Qa]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.onClick=n[8]),r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ka(l){let e;return{c(){e=X("Create TRCN")},l(t){e=K(t,"Create TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Qa(l){let e;return{c(){e=X("Edit TRCN")},l(t){e=K(t,"Edit TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Za(l){let e;return{c(){e=X("Append new value")},l(t){e=K(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function es(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p;const v=[Xa,Ja],w=[];function E(y,S){return y[2]?0:1}return t=E(l),n=w[t]=v[t](l),i=new Ue({props:{onClick:l[5],$$slots:{default:[Za]},$$scope:{ctx:l}}}),{c(){e=T("div"),n.c(),r=O(),H(i.$$.fragment),a=O(),s=T("div"),o=T("label"),c=X(`Flag
				`),u=T("input"),this.h()},l(y){e=A(y,"DIV",{class:!0});var S=I(e);n.l(S),r=M(S),q(i.$$.fragment,S),S.forEach(m),a=M(y),s=A(y,"DIV",{class:!0});var D=I(s);o=A(D,"LABEL",{});var L=I(o);c=K(L,`Flag
				`),u=A(L,"INPUT",{type:!0}),L.forEach(m),D.forEach(m),this.h()},h(){C(e,"class","control-group svelte-oueji5"),C(u,"type","checkbox"),u.checked=f=l[0].flag,C(s,"class","control-group svelte-oueji5")},m(y,S){R(y,e,S),w[t].m(e,null),b(e,r),W(i,e,null),R(y,a,S),R(y,s,S),b(s,o),b(o,c),b(o,u),h=!0,d||(p=pe(u,"input",l[6]),d=!0)},p(y,S){let D=t;t=E(y),t===D?w[t].p(y,S):(me(),B(w[D],1,1,()=>{w[D]=null}),ve(),n=w[t],n?n.p(y,S):(n=w[t]=v[t](y),n.c()),U(n,1),n.m(e,r));const L={};S&1024&&(L.$$scope={dirty:S,ctx:y}),i.$set(L),(!h||S&1&&f!==(f=y[0].flag))&&(u.checked=f)},i(y){h||(U(n),U(i.$$.fragment,y),h=!0)},o(y){B(n),B(i.$$.fragment,y),h=!1},d(y){y&&m(e),w[t].d(),Y(i),y&&m(a),y&&m(s),d=!1,p()}}}function ts(l){let e,t;return e=new Zt({props:{columns:["","Value",...l[3]?["Label","Default","Min","Max","Used"]:[]],columnConfig:{"":{shrink:!0}},rows:l[0].items.map(l[9])}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.columns=["","Value",...n[3]?["Label","Default","Min","Max","Used"]:[]]),r&11&&(i.rows=n[0].items.map(n[9])),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ns(l){let e,t,n,r,i;return t=new ze({props:{secondary:!0,style:{display:"flex",gap:"15px","justify-content":"space-between","margin-bottom":"5px"},$$slots:{default:[es]},$$scope:{ctx:l}}}),r=new ze({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[ts]},$$scope:{ctx:l}}}),{c(){e=T("div"),H(t.$$.fragment),n=O(),H(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=M(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","bcon-view svelte-oueji5")},m(a,s){R(a,e,s),W(t,e,null),b(e,n),W(r,e,null),i=!0},p(a,[s]){const o={};s&1029&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(r)}}}function rs(l,e,t){let n;et(l,be,d=>t(7,n=d));let{content:r}=e,{onChange:i}=e,a,s;const o=()=>{be.createLinkedResource("TRCN",{...wt.TRCN,filename:r.filename,items:r.items.map((d,p)=>({...wt.TRCN.items[0],constId:p+1}))})},c=()=>i(oe(r,d=>{d.items.push(0)})),u=d=>i(oe(r,p=>{p.flag=d.target.checked})),f=()=>a?be.openResource(a):null,h=(d,p)=>{var v,w,E,y,S;return{"":{component:It,props:{onClick:()=>{i(oe(r,D=>{D.items=Bt(D.items,p)}))},"aria-label":`delete line ${p}`}},Value:{component:Qe,props:{onChange:D=>i(oe(r,L=>{L.items[p]=D})),value:d,variant:"hex",maxLength:4,style:"width: 100%; min-width: 75px;"}},Label:(v=s==null?void 0:s[p])==null?void 0:v.constName,Default:Me((w=s==null?void 0:s[p])==null?void 0:w.value,4)||"-",Min:Me((E=s==null?void 0:s[p])==null?void 0:E.minValue,4)||"-",Max:Me((y=s==null?void 0:s[p])==null?void 0:y.maxValue,4)||"-",Used:s!=null&&s[p]?{element:"input",props:{type:"checkbox",checked:(S=s==null?void 0:s[p])==null?void 0:S.used,disabled:!0}}:void 0}};return l.$$set=d=>{"content"in d&&t(0,r=d.content),"onChange"in d&&t(1,i=d.onChange)},l.$$.update=()=>{var d,p;if(l.$$.dirty&132){t(2,a=_e(n).linkedResourceId("TRCN"));const v=_e(n).resourceById(a);t(3,s=((d=v==null?void 0:v.contentChanges)==null?void 0:d.items)??((p=v==null?void 0:v.content)==null?void 0:p.items))}},[r,i,a,s,o,c,u,n,f,h]}class ls extends ue{constructor(e){super(),fe(this,e,rs,ns,ae,{content:0,onChange:1})}}function is(l){let e,t,n,r,i,a,s;return{c(){e=T("label"),t=X("Semi global"),n=O(),r=T("input"),this.h()},l(o){e=A(o,"LABEL",{for:!0});var c=I(e);t=K(c,"Semi global"),c.forEach(m),n=M(o),r=A(o,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){C(e,"for","semiglobal-input"),C(r,"id","semiglobal-input"),C(r,"type","text"),r.value=i=l[0].semiglobal,C(r,"class","svelte-1vnf0ng")},m(o,c){R(o,e,c),b(e,t),R(o,n,c),R(o,r,c),a||(s=pe(r,"input",l[1]),a=!0)},p(o,c){c&1&&i!==(i=o[0].semiglobal)&&r.value!==i&&(r.value=i)},d(o){o&&m(e),o&&m(n),o&&m(r),a=!1,s()}}}function as(l){let e,t,n;return t=new ze({props:{secondary:!0,$$slots:{default:[is]},$$scope:{ctx:l}}}),{c(){e=T("div"),H(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","svelte-1vnf0ng")},m(r,i){R(r,e,i),W(t,e,null),n=!0},p(r,[i]){const a={};i&9&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),Y(t)}}}function ss(l,e,t){let{content:n}=e,{onChange:r}=e;const i=a=>r(oe(n,s=>{s.semiglobal=a.target.value}));return l.$$set=a=>{"content"in a&&t(0,n=a.content),"onChange"in a&&t(2,r=a.onChange)},[n,i,r]}class os extends ue{constructor(e){super(),fe(this,e,ss,as,ae,{content:0,onChange:2})}}function cs(l){let e;return{c(){e=X("This file can be edited by changing the file name!")},l(t){e=K(t,"This file can be edited by changing the file name!")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function us(l){let e,t,n;return t=new ze({props:{secondary:!0,$$slots:{default:[cs]},$$scope:{ctx:l}}}),{c(){e=T("div"),H(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","svelte-ez7vw6")},m(r,i){R(r,e,i),W(t,e,null),n=!0},p(r,[i]){const a={};i&1&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),Y(t)}}}class fs extends ue{constructor(e){super(),fe(this,e,null,us,ae,{})}}function un(l){let e,t,n=[{class:"svelte-5wy7c6"}],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=T(l[1]),t=X(l[0]),this.h()},l(i){e=A(i,(l[1]||"null").toUpperCase(),{class:!0});var a=I(e);t=K(a,l[0]),a.forEach(m),this.h()},h(){/-/.test(l[1])?Dt(e,r):Ve(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,a){a&1&&Fe(t,i[0]),r=Le(n,[{class:"svelte-5wy7c6"}]),/-/.test(i[1])?Dt(e,r):Ve(e,r)},d(i){i&&m(e)}}}function hs(l){let e,t=l[1],n,r,i=l[1]&&un(l);const a=l[4].default,s=ut(a,l,l[3],null);return{c(){e=T("div"),i&&i.c(),n=O(),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{class:!0,style:!0});var c=I(e);i&&i.l(c),n=M(c),s&&s.l(c),c.forEach(m),this.h()},h(){C(e,"class","subsection svelte-5wy7c6"),C(e,"style",l[2])},m(o,c){R(o,e,c),i&&i.m(e,null),b(e,n),s&&s.m(e,null),r=!0},p(o,[c]){o[1]?t?ae(t,o[1])?(i.d(1),i=un(o),i.c(),i.m(e,n)):i.p(o,c):(i=un(o),i.c(),i.m(e,n)):t&&(i.d(1),i=null),t=o[1],s&&s.p&&(!r||c&8)&&ft(s,a,o,o[3],r?dt(a,o[3],c,null):ht(o[3]),null),(!r||c&4)&&C(e,"style",o[2])},i(o){r||(U(s,o),r=!0)},o(o){B(s,o),r=!1},d(o){o&&m(e),i&&i.d(o),s&&s.d(o)}}}function ds(l,e,t){let{$$slots:n={},$$scope:r}=e,{title:i}=e,{headingLevel:a}=e,{style:s=""}=e;return l.$$set=o=>{"title"in o&&t(0,i=o.title),"headingLevel"in o&&t(1,a=o.headingLevel),"style"in o&&t(2,s=o.style),"$$scope"in o&&t(3,r=o.$$scope)},[i,a,s,r,n]}class Et extends ue{constructor(e){super(),fe(this,e,ds,hs,ae,{title:0,headingLevel:1,style:2})}}const hr=["Kitchen","Bedroom","Bathroom","Living room","Outside","Dining room","Misc.","Study","Kids"],$n=["Seating","Surfaces","Appliances","Electronics","Plumbing","Decorative","General","Lights","Hobbies","Aspiration","Career"],gs={Seating:["Dining room","Living room","Sofas","Beds","Recreation",null,null,"Misc."],Surfaces:["Counter","Table","End table","Desk","Coffee table","Shelf",null,"Misc."],Appliances:["Cooking","Refrigerator","Small","Large",null,null,null,"Misc."],Electronics:["Entertainment","TV & computer","Audio","Small",null,null,null,"Misc."],Plumbing:["Toilet","Shower","Sink","Hot tub",null,null,null,"Misc."],Decorative:["Wall","Sculpture","Rug","Plant","Mirror","Curtain",null,"Misc."],General:[null,"Dresser",null,"Party","Child","Car","Pets","Misc."],Lights:["Table lamp","Floor lamp","Wall lamp","Ceiling lamp","Outdoor",null,null,"Misc."],Hobbies:["Creativity","Knowledge","Excercise","Recreation",null,null,null,"Misc."],Aspiration:[],Career:[]},dr=["Cleaning","Cooking","Mechanical","Logic","Body","Creativity","Charisma","School study"],gr=["Unknown",null,"Person",null,"Normal","Architectural support",null,"Sim type","Door","Window","Stairs","Modular stairs","Modular stairs portal","Vehicle","Outfit","Memory","Template",null,null,"Tiles"],_r={"OBJD File":["version"],"Catalog price":["price","isSalePriceDifferent","initialSaleDepreciation","dailySaleDepreciation","isSelfDepreciating","depreciationLimit"],"Catalog sort":["catalogUseFlags","roomSortFlags","functionSortFlags","expansionFlag","buildModeType","buildModeSubSort","functionSubSort","downtownSort","vacationSort","communitySort"],"Catalog ratings":["hungerRating","comfortRating","hygieneRating","bladderRating","energyRating","funRating","roomRating","skillFlags"],"User placement":["defaultWallAdjacentFlags","defaultPlacementFlags","defaultWallPlacementFlags","defaultAllowedHeightFlags","useDefaultPlacementFlags","noDuplicateOnPlacement","keepBuying"],"Mesh and graphics":["multiTileMasterId","multiTileSubIndex","levelOffset","hasShadow","frontDirection","multiTileLeadObject","chairEntryFlags","tileWidth","footprintMask","3dObjectType"],"Resource cross-refs":["ttabId","interactionGroup","strId","slotId","slotGroup","ctssId","defaultThumbnailId","motiveEffectsId","catalogPopupId"],GUIDs:["guid","diagonalSelectorGuid","gridSelectorGuid","proxyGuid","jobObjectGuid","originalGuid"],"Data space":["initialStackSize","attributeCount","objectArrayCount","numTypeAttributes"],"Memories & wants":["aspirationFlags","memoryNiceOrBad","wantCategory"],Miscellaneous:["objectType","lookAtScore","isUnlockable","objectOwnership","ignoreGlobalSimInCAS","cannotMoveOutWith","hauntable","isGlobalSimObject","tooltipNameType","templateVersion","nicenessMultiplier","noNewNameFromTemplate","objectVersion","ignoreCurrentModelIndexInIcons","inhibitSuitCopying","miscFlags","resetLotAction","dreamFlags"]};function pr(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function mr(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function vr(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function br(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function wr(l,e,t){const n=l.slice();return n[29]=e[t],n}function $r(l,e,t){const n=l.slice();return n[32]=e[t],n[25]=t,n}function _s(l){let e,t=l[32]+"",n,r;return{c(){e=T("option"),n=X(t),r=O(),this.h()},l(i){e=A(i,"OPTION",{});var a=I(e);n=K(a,t),r=M(a),a.forEach(m),this.h()},h(){e.__value=l[25],e.value=e.__value},m(i,a){R(i,e,a),b(e,n),b(e,r)},p:ie,d(i){i&&m(e)}}}function yr(l){let e,t=l[32]!==null&&_s(l);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,r){t&&t.m(n,r),R(n,e,r)},p(n,r){n[32]!==null&&t.p(n,r)},d(n){t&&t.d(n),n&&m(e)}}}function kr(l){let e,t;function n(...r){return l[13](l[29],...r)}return e=new Qe({props:{variant:"hex",maxLength:8,label:l[29],value:l[0].data[l[29]],onChange:n,style:"display: block; width: 100%;"}}),{c(){H(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){W(e,r,i),t=!0},p(r,i){l=r;const a={};i[0]&1&&(a.value=l[0].data[l[29]]),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){Y(e,r)}}}function Er(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[16](l[25])}return{c(){e=T("label"),t=T("input"),n=O(),i=X(r),a=O(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=M(f),i=K(f,r),a=M(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][0].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===l[4],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",l[14]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&16&&(t.checked=t.__value===l[4])},d(u){u&&m(e),l[15][0].splice(l[15][0].indexOf(t),1),s=!1,gt(o)}}}function ps(l){let e,t=hr,n=[];for(let r=0;r<t.length;r+=1)n[r]=Er(br(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1040){t=hr;let a;for(a=0;a<t.length;a+=1){const s=br(r,t,a);n[a]?n[a].p(s,i):(n[a]=Er(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function Cr(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[18](l[25])}return{c(){e=T("label"),t=T("input"),n=O(),i=X(r),a=O(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=M(f),i=K(f,r),a=M(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][1].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===l[2],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",l[17]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&4&&(t.checked=t.__value===l[2])},d(u){u&&m(e),l[15][1].splice(l[15][1].indexOf(t),1),s=!1,gt(o)}}}function ms(l){let e,t=$n,n=[];for(let r=0;r<t.length;r+=1)n[r]=Cr(vr(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1028){t=$n;let a;for(a=0;a<t.length;a+=1){const s=vr(r,t,a);n[a]?n[a].p(s,i):(n[a]=Cr(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function Ir(l){let e,t;return e=new Et({props:{title:"Function subsort",headingLevel:"h4",$$slots:{default:[vs]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r[0]&160|r[1]&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Tr(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[20](l[25])}return{c(){e=T("label"),t=T("input"),n=O(),i=X(r),a=O(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=M(f),i=K(f,r),a=M(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][2].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===l[5],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",l[19]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&32&&(t.checked=t.__value===l[5]),f[0]&128&&r!==(r=l[23]+"")&&Fe(i,r)},d(u){u&&m(e),l[15][2].splice(l[15][2].indexOf(t),1),s=!1,gt(o)}}}function Ar(l){let e,t=l[23]!==null&&Tr(l);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,r){t&&t.m(n,r),R(n,e,r)},p(n,r){n[23]!==null?t?t.p(n,r):(t=Tr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&m(e)}}}function vs(l){let e,t=l[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=Ar(mr(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1184){t=r[7];let a;for(a=0;a<t.length;a+=1){const s=mr(r,t,a);n[a]?n[a].p(s,i):(n[a]=Ar(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function Ur(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[22](l[25])}return{c(){e=T("label"),t=T("input"),n=O(),i=X(r),a=O(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=M(f),i=K(f,r),a=M(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][3].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===l[6],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",l[21]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&64&&(t.checked=t.__value===l[6])},d(u){u&&m(e),l[15][3].splice(l[15][3].indexOf(t),1),s=!1,gt(o)}}}function bs(l){let e,t=dr,n=[];for(let r=0;r<t.length;r+=1)n[r]=Ur(pr(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1088){t=dr;let a;for(a=0;a<t.length;a+=1){const s=pr(r,t,a);n[a]?n[a].p(s,i):(n[a]=Ur(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function ws(l){var J;let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,w,E=gr,y=[];for(let z=0;z<E.length;z+=1)y[z]=yr($r(l,E,z));let S=l[8],D=[];for(let z=0;z<S.length;z+=1)D[z]=kr(wr(l,S,z));const L=z=>B(D[z],1,1,()=>{D[z]=null});o=new Et({props:{title:"Room sort",headingLevel:"h4",$$slots:{default:[ps]},$$scope:{ctx:l}}}),u=new Et({props:{title:"Function sort",headingLevel:"h4",$$slots:{default:[ms]},$$scope:{ctx:l}}});let P=((J=l[7])==null?void 0:J.length)&&Ir(l);return d=new Et({props:{title:"Skill flags",headingLevel:"h4",$$slots:{default:[bs]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),n=T("label"),r=X(`Object type
			`),i=T("select");for(let z=0;z<y.length;z+=1)y[z].c();a=O();for(let z=0;z<D.length;z+=1)D[z].c();s=O(),H(o.$$.fragment),c=O(),H(u.$$.fragment),f=O(),P&&P.c(),h=O(),H(d.$$.fragment),this.h()},l(z){e=A(z,"DIV",{class:!0});var N=I(e);t=A(N,"DIV",{class:!0});var G=I(t);n=A(G,"LABEL",{});var j=I(n);r=K(j,`Object type
			`),i=A(j,"SELECT",{class:!0});var Q=I(i);for(let le=0;le<y.length;le+=1)y[le].l(Q);Q.forEach(m),j.forEach(m),a=M(G);for(let le=0;le<D.length;le+=1)D[le].l(G);G.forEach(m),s=M(N),q(o.$$.fragment,N),c=M(N),q(u.$$.fragment,N),f=M(N),P&&P.l(N),h=M(N),q(d.$$.fragment,N),N.forEach(m),this.h()},h(){C(i,"class","type-select svelte-1tgu5yy"),l[3]===void 0&&hn(()=>l[11].call(i)),C(t,"class","input-group svelte-1tgu5yy"),C(e,"class","catalog-sort svelte-1tgu5yy")},m(z,N){R(z,e,N),b(e,t),b(t,n),b(n,r),b(n,i);for(let G=0;G<y.length;G+=1)y[G].m(i,null);it(i,l[3]),b(t,a);for(let G=0;G<D.length;G+=1)D[G].m(t,null);b(e,s),W(o,e,null),b(e,c),W(u,e,null),b(e,f),P&&P.m(e,null),b(e,h),W(d,e,null),p=!0,v||(w=[pe(i,"change",l[11]),pe(i,"input",st(l[12]))],v=!0)},p(z,N){var le;if(N&0){E=gr;let Z;for(Z=0;Z<E.length;Z+=1){const ee=$r(z,E,Z);y[Z]?y[Z].p(ee,N):(y[Z]=yr(ee),y[Z].c(),y[Z].m(i,null))}for(;Z<y.length;Z+=1)y[Z].d(1);y.length=E.length}if(N[0]&8&&it(i,z[3]),N[0]&769){S=z[8];let Z;for(Z=0;Z<S.length;Z+=1){const ee=wr(z,S,Z);D[Z]?(D[Z].p(ee,N),U(D[Z],1)):(D[Z]=kr(ee),D[Z].c(),U(D[Z],1),D[Z].m(t,null))}for(me(),Z=S.length;Z<D.length;Z+=1)L(Z);ve()}const G={};N[0]&16|N[1]&8&&(G.$$scope={dirty:N,ctx:z}),o.$set(G);const j={};N[0]&4|N[1]&8&&(j.$$scope={dirty:N,ctx:z}),u.$set(j),(le=z[7])!=null&&le.length?P?(P.p(z,N),N[0]&128&&U(P,1)):(P=Ir(z),P.c(),U(P,1),P.m(e,h)):P&&(me(),B(P,1,1,()=>{P=null}),ve());const Q={};N[0]&64|N[1]&8&&(Q.$$scope={dirty:N,ctx:z}),d.$set(Q)},i(z){if(!p){for(let N=0;N<S.length;N+=1)U(D[N]);U(o.$$.fragment,z),U(u.$$.fragment,z),U(P),U(d.$$.fragment,z),p=!0}},o(z){D=D.filter(Boolean);for(let N=0;N<D.length;N+=1)B(D[N]);B(o.$$.fragment,z),B(u.$$.fragment,z),B(P),B(d.$$.fragment,z),p=!1},d(z){z&&m(e),Pe(y,z),Pe(D,z),Y(o),Y(u),P&&P.d(),Y(d),v=!1,gt(w)}}}function $s(l,e,t){let{content:n}=e,{onChange:r}=e,i=0,a=0,s=0,o=0,c=0,u;const f=["guid","originalGuid","proxyGuid","diagonalSelectorGuid","gridSelectorGuid"],h=(G,j)=>r(oe(n,Q=>{Q.data[G]=j})),d=(G,j)=>{r(oe(n,Q=>{Q.data[G]=1<<j}))},p=[[],[],[],[]];function v(){i=Ol(this),t(3,i),t(0,n),t(2,s)}const w=G=>r(oe(n,j=>{j.data.objectType=parseInt(G.currentTarget.value)})),E=(G,j)=>h(G,j);function y(){a=this.__value,t(4,a),t(0,n),t(2,s)}const S=G=>d("roomSortFlags",G);function D(){s=this.__value,t(2,s),t(0,n)}const L=G=>d("functionSortFlags",G);function P(){o=this.__value,t(5,o),t(0,n),t(2,s)}const J=G=>d("functionSubSort",G);function z(){c=this.__value,t(6,c),t(0,n),t(2,s)}const N=G=>d("skillFlags",G);return l.$$set=G=>{"content"in G&&t(0,n=G.content),"onChange"in G&&t(1,r=G.onChange)},l.$$.update=()=>{if(l.$$.dirty[0]&5){t(3,i=n.data.objectType),t(4,a=n.data.roomSortFlags),t(2,s=n.data.functionSortFlags),t(5,o=n.data.functionSubSort),t(6,c=n.data.skillFlags);const G=$n.find((j,Q)=>s===1<<Q);t(7,u=G?gs[G]:void 0)}},[n,r,s,i,a,o,c,u,f,h,d,v,w,E,y,p,S,D,L,P,J,z,N]}class Dr extends ue{constructor(e){super(),fe(this,e,$s,ws,ae,{content:0,onChange:1},null,[-1,-1])}}function Sr(l,e,t){const n=l.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function Br(l,e,t){const n=l.slice();return n[9]=e[t],n}function Fr(l){let e,t,n=l[9]+"",r,i,a,s,o,c;function u(...f){return l[4](l[9],...f)}return s=new Qe({props:{variant:"hex",maxLength:l[1][l[9]]?8:4,value:l[0].data[l[9]],onChange:u}}),{c(){e=T("tr"),t=T("td"),r=X(n),i=O(),a=T("td"),H(s.$$.fragment),o=O(),this.h()},l(f){e=A(f,"TR",{});var h=I(e);t=A(h,"TD",{class:!0});var d=I(t);r=K(d,n),d.forEach(m),i=M(h),a=A(h,"TD",{class:!0});var p=I(a);q(s.$$.fragment,p),p.forEach(m),o=M(h),h.forEach(m),this.h()},h(){C(t,"class","svelte-m2j855"),C(a,"class","svelte-m2j855")},m(f,h){R(f,e,h),b(e,t),b(t,r),b(e,i),b(e,a),W(s,a,null),b(e,o),c=!0},p(f,h){l=f;const d={};h&1&&(d.value=l[0].data[l[9]]),s.$set(d)},i(f){c||(U(s.$$.fragment,f),c=!0)},o(f){B(s.$$.fragment,f),c=!1},d(f){f&&m(e),Y(s)}}}function Rr(l){let e,t,n=l[5]+"",r,i,a,s,o=l[6],c=[];for(let f=0;f<o.length;f+=1)c[f]=Fr(Br(l,o,f));const u=f=>B(c[f],1,1,()=>{c[f]=null});return{c(){e=T("tr"),t=T("th"),r=X(n),i=O();for(let f=0;f<c.length;f+=1)c[f].c();a=ke(),this.h()},l(f){e=A(f,"TR",{});var h=I(e);t=A(h,"TH",{colspan:!0,class:!0});var d=I(t);r=K(d,n),d.forEach(m),h.forEach(m),i=M(f);for(let p=0;p<c.length;p+=1)c[p].l(f);a=ke(),this.h()},h(){C(t,"colspan",2),C(t,"class","svelte-m2j855")},m(f,h){R(f,e,h),b(e,t),b(t,r),R(f,i,h);for(let d=0;d<c.length;d+=1)c[d].m(f,h);R(f,a,h),s=!0},p(f,h){if(h&7){o=f[6];let d;for(d=0;d<o.length;d+=1){const p=Br(f,o,d);c[d]?(c[d].p(p,h),U(c[d],1)):(c[d]=Fr(p),c[d].c(),U(c[d],1),c[d].m(a.parentNode,a))}for(me(),d=o.length;d<c.length;d+=1)u(d);ve()}},i(f){if(!s){for(let h=0;h<o.length;h+=1)U(c[h]);s=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)B(c[h]);s=!1},d(f){f&&m(e),f&&m(i),Pe(c,f),f&&m(a)}}}function ys(l){let e,t,n,r,i=Object.entries(_r),a=[];for(let o=0;o<i.length;o+=1)a[o]=Rr(Sr(l,i,o));const s=o=>B(a[o],1,1,()=>{a[o]=null});return{c(){e=T("div"),t=T("table"),n=T("tbody");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=A(o,"DIV",{class:!0});var c=I(e);t=A(c,"TABLE",{class:!0});var u=I(t);n=A(u,"TBODY",{});var f=I(n);for(let h=0;h<a.length;h+=1)a[h].l(f);f.forEach(m),u.forEach(m),c.forEach(m),this.h()},h(){C(t,"class","svelte-m2j855"),C(e,"class","raw-data-wrapper svelte-m2j855")},m(o,c){R(o,e,c),b(e,t),b(t,n);for(let u=0;u<a.length;u+=1)a[u].m(n,null);r=!0},p(o,[c]){if(c&7){i=Object.entries(_r);let u;for(u=0;u<i.length;u+=1){const f=Sr(o,i,u);a[u]?(a[u].p(f,c),U(a[u],1)):(a[u]=Rr(f),a[u].c(),U(a[u],1),a[u].m(n,null))}for(me(),u=i.length;u<a.length;u+=1)s(u);ve()}},i(o){if(!r){for(let c=0;c<i.length;c+=1)U(a[c]);r=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)B(a[c]);r=!1},d(o){o&&m(e),Pe(a,o)}}}function ks(l,e,t){let{content:n}=e,{onChange:r}=e;const i={version:!0,guid:!0,diagonalSelectorGuid:!0,gridSelectorGuid:!0,proxyGuid:!0,jobObjectGuid:!0,originalGuid:!0,objectModelGuid:!0},a=(o,c)=>r(oe(n,u=>{u.data[o]=c})),s=(o,c)=>a(o,c);return l.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,r=o.onChange)},[n,i,a,r,s]}class Pr extends ue{constructor(e){super(),fe(this,e,ks,ys,ae,{content:0,onChange:3})}}function Es(l){let e,t,n;return t=new zt({props:{tabs:{catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:l[0],onChange:l[1]}},rawData:{title:"Raw data",content:Pr,hideClose:!0,props:{content:l[0],onChange:l[1]}}},activeTab:l[2],onChange:l[3],onClose:Cs,headingLevel:"h3",style:{height:"100%",background:"transparent",border:"0"},contentStyle:{overflow:"auto"}}}),{c(){e=T("div"),H(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","objd-container svelte-1kd2bg9")},m(r,i){R(r,e,i),W(t,e,null),n=!0},p(r,[i]){const a={};i&3&&(a.tabs={catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:r[0],onChange:r[1]}},rawData:{title:"Raw data",content:Pr,hideClose:!0,props:{content:r[0],onChange:r[1]}}}),i&4&&(a.activeTab=r[2]),i&4&&(a.onChange=r[3]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),Y(t)}}}const Cs=()=>null;function Is(l,e,t){let{content:n}=e,{onChange:r}=e,i="catalogSort";const a=s=>t(2,i=s);return l.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(1,r=s.onChange)},[n,r,i,a]}class Ts extends ue{constructor(e){super(),fe(this,e,Is,Es,ae,{content:0,onChange:1})}}function Lr(l,e,t){const n=l.slice();return n[10]=e[t],n}function Or(l){let e,t,n,r,i,a=l[4]&&Mr(l);return{c(){e=T("div"),t=T("label"),n=X(l[2]),r=O(),a&&a.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var o=I(e);t=A(o,"LABEL",{for:!0});var c=I(t);n=K(c,l[2]),c.forEach(m),r=M(o),a&&a.l(o),o.forEach(m),this.h()},h(){C(t,"for","bhav-select"),C(e,"class","label-with-edit svelte-1wewriw")},m(s,o){R(s,e,o),b(e,t),b(t,n),b(e,r),a&&a.m(e,null),i=!0},p(s,o){(!i||o&4)&&Fe(n,s[2]),s[4]?a?(a.p(s,o),o&16&&U(a,1)):(a=Mr(s),a.c(),U(a,1),a.m(e,null)):a&&(me(),B(a,1,1,()=>{a=null}),ve())},i(s){i||(U(a),i=!0)},o(s){B(a),i=!1},d(s){s&&m(e),a&&a.d()}}}function Mr(l){let e,t;return e=new Ue({props:{onClick:l[7],$$slots:{default:[As]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.onClick=n[7]),r&8192&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function As(l){let e;return{c(){e=X("Edit BHAV")},l(t){e=K(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Nr(l){let e,t,n=Me(l[10].meta.instanceId,4)+"",r,i,a=l[10].content.filename+"",s,o,c;return{c(){e=T("option"),t=X("("),r=X(n),i=X(") "),s=X(a),o=O(),this.h()},l(u){e=A(u,"OPTION",{});var f=I(e);t=K(f,"("),r=K(f,n),i=K(f,") "),s=K(f,a),o=M(f),f.forEach(m),this.h()},h(){e.__value=c=l[10].meta.instanceId,e.value=e.__value},m(u,f){R(u,e,f),b(e,t),b(e,r),b(e,i),b(e,s),b(e,o)},p(u,f){f&32&&n!==(n=Me(u[10].meta.instanceId,4)+"")&&Fe(r,n),f&32&&a!==(a=u[10].content.filename+"")&&Fe(s,a),f&32&&c!==(c=u[10].meta.instanceId)&&(e.__value=c,e.value=e.__value)},d(u){u&&m(e)}}}function Vr(l){let e,t;return e=new Ue({props:{onClick:l[9],style:"margin-left: 5px; white-space: nowrap;",$$slots:{default:[Us]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.onClick=n[9]),r&8192&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Us(l){let e;return{c(){e=X("Edit BHAV")},l(t){e=K(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Ds(l){let e,t,n,r,i,a,s,o=l[2]&&Or(l),c=l[5],u=[];for(let h=0;h<c.length;h+=1)u[h]=Nr(Lr(l,c,h));let f=!l[2]&&l[4]&&Vr(l);return{c(){e=T("div"),o&&o.c(),t=O(),n=T("select");for(let h=0;h<u.length;h+=1)u[h].c();r=O(),f&&f.c(),this.h()},l(h){e=A(h,"DIV",{class:!0,style:!0});var d=I(e);o&&o.l(d),t=M(d),n=A(d,"SELECT",{id:!0,class:!0});var p=I(n);for(let v=0;v<u.length;v+=1)u[v].l(p);p.forEach(m),r=M(d),f&&f.l(d),d.forEach(m),this.h()},h(){C(n,"id","bhav-select"),C(n,"class","svelte-1wewriw"),C(e,"class","bhav-select svelte-1wewriw"),C(e,"style",l[3]),Ae(e,"stacked",!!l[2])},m(h,d){R(h,e,d),o&&o.m(e,null),b(e,t),b(e,n);for(let p=0;p<u.length;p+=1)u[p].m(n,null);it(n,l[1]),b(e,r),f&&f.m(e,null),i=!0,a||(s=pe(n,"change",l[8]),a=!0)},p(h,[d]){if(h[2]?o?(o.p(h,d),d&4&&U(o,1)):(o=Or(h),o.c(),U(o,1),o.m(e,t)):o&&(me(),B(o,1,1,()=>{o=null}),ve()),d&32){c=h[5];let p;for(p=0;p<c.length;p+=1){const v=Lr(h,c,p);u[p]?u[p].p(v,d):(u[p]=Nr(v),u[p].c(),u[p].m(n,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}(!i||d&34)&&it(n,h[1]),!h[2]&&h[4]?f?(f.p(h,d),d&20&&U(f,1)):(f=Vr(h),f.c(),U(f,1),f.m(e,null)):f&&(me(),B(f,1,1,()=>{f=null}),ve()),(!i||d&8)&&C(e,"style",h[3]),(!i||d&4)&&Ae(e,"stacked",!!h[2])},i(h){i||(U(o),U(f),i=!0)},o(h){B(o),B(f),i=!1},d(h){h&&m(e),o&&o.d(),Pe(u,h),f&&f.d(),a=!1,s()}}}function Ss(l,e,t){let n,r,i;et(l,be,d=>t(6,i=d));let{onChange:a}=e,{value:s}=e,{label:o=""}=e,{style:c=""}=e;const u=()=>r?be.openResource(r):null,f=d=>a(parseInt(d.currentTarget.value)),h=()=>r?be.openResource(r):null;return l.$$set=d=>{"onChange"in d&&t(0,a=d.onChange),"value"in d&&t(1,s=d.value),"label"in d&&t(2,o=d.label),"style"in d&&t(3,c=d.style)},l.$$.update=()=>{l.$$.dirty&64&&t(5,n=_e(i).resourcesByType("BHAV")),l.$$.dirty&66&&t(4,r=_e(i).resourceIdByTypeAndInstanceId("BHAV",s))},[a,s,o,c,r,n,i,u,f,h]}class Kt extends ue{constructor(e){super(),fe(this,e,Ss,Ds,ae,{onChange:0,value:1,label:2,style:3})}}function jr(l,e,t){const n=l.slice();return n[4]=e[t],n[6]=t,n}function zr(l){let e,t,n=l[1][l[6]]+"",r,i,a,s,o,c,u,f,h;return s=new Kt({props:{value:l[4].action,onChange:l[2]("action",l[6]),style:"width: 100%"}}),u=new Kt({props:{value:l[4].guard,onChange:l[2]("guard",l[6]),style:"width: 100%"}}),{c(){e=T("tr"),t=T("td"),r=X(n),i=O(),a=T("td"),H(s.$$.fragment),o=O(),c=T("td"),H(u.$$.fragment),f=O(),this.h()},l(d){e=A(d,"TR",{});var p=I(e);t=A(p,"TD",{class:!0});var v=I(t);r=K(v,n),v.forEach(m),i=M(p),a=A(p,"TD",{class:!0});var w=I(a);q(s.$$.fragment,w),w.forEach(m),o=M(p),c=A(p,"TD",{class:!0});var E=I(c);q(u.$$.fragment,E),E.forEach(m),f=M(p),p.forEach(m),this.h()},h(){C(t,"class","svelte-5fcvf8"),C(a,"class","svelte-5fcvf8"),C(c,"class","svelte-5fcvf8")},m(d,p){R(d,e,p),b(e,t),b(t,r),b(e,i),b(e,a),W(s,a,null),b(e,o),b(e,c),W(u,c,null),b(e,f),h=!0},p(d,p){const v={};p&1&&(v.value=d[4].action),s.$set(v);const w={};p&1&&(w.value=d[4].guard),u.$set(w)},i(d){h||(U(s.$$.fragment,d),U(u.$$.fragment,d),h=!0)},o(d){B(s.$$.fragment,d),B(u.$$.fragment,d),h=!1},d(d){d&&m(e),Y(s),Y(u)}}}function Bs(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p=l[0].functions,v=[];for(let E=0;E<p.length;E+=1)v[E]=zr(jr(l,p,E));const w=E=>B(v[E],1,1,()=>{v[E]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),r=X("Function"),i=O(),a=T("th"),s=X("Action BHAV"),o=O(),c=T("th"),u=X("Guardian BHAV"),f=O(),h=T("tbody");for(let E=0;E<v.length;E+=1)v[E].c();this.h()},l(E){e=A(E,"TABLE",{class:!0});var y=I(e);t=A(y,"THEAD",{class:!0});var S=I(t);n=A(S,"TH",{class:!0});var D=I(n);r=K(D,"Function"),D.forEach(m),i=M(S),a=A(S,"TH",{class:!0});var L=I(a);s=K(L,"Action BHAV"),L.forEach(m),o=M(S),c=A(S,"TH",{class:!0});var P=I(c);u=K(P,"Guardian BHAV"),P.forEach(m),S.forEach(m),f=M(y),h=A(y,"TBODY",{});var J=I(h);for(let z=0;z<v.length;z+=1)v[z].l(J);J.forEach(m),y.forEach(m),this.h()},h(){C(n,"class","svelte-5fcvf8"),C(a,"class","svelte-5fcvf8"),C(c,"class","svelte-5fcvf8"),C(t,"class","svelte-5fcvf8"),C(e,"class","svelte-5fcvf8")},m(E,y){R(E,e,y),b(e,t),b(t,n),b(n,r),b(t,i),b(t,a),b(a,s),b(t,o),b(t,c),b(c,u),b(e,f),b(e,h);for(let S=0;S<v.length;S+=1)v[S].m(h,null);d=!0},p(E,y){if(y&7){p=E[0].functions;let S;for(S=0;S<p.length;S+=1){const D=jr(E,p,S);v[S]?(v[S].p(D,y),U(v[S],1)):(v[S]=zr(D),v[S].c(),U(v[S],1),v[S].m(h,null))}for(me(),S=p.length;S<v.length;S+=1)w(S);ve()}},i(E){if(!d){for(let y=0;y<p.length;y+=1)U(v[y]);d=!0}},o(E){v=v.filter(Boolean);for(let y=0;y<v.length;y+=1)B(v[y]);d=!1},d(E){E&&m(e),Pe(v,E)}}}function Fs(l){let e,t,n;return t=new ze({props:{secondary:!0,style:{width:"100%",height:"100%",overflow:"auto","padding-top":"0"},$$slots:{default:[Bs]},$$scope:{ctx:l}}}),{c(){e=T("div"),H(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","objf-view svelte-5fcvf8")},m(r,i){R(r,e,i),W(t,e,null),n=!0},p(r,[i]){const a={};i&129&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),Y(t)}}}function Rs(l,e,t){let{content:n}=e,{onChange:r}=e;const i=["init","main","load","cleanup","queue skipped","allow intersection","wall adjacency changed","room changed","dynamic multi-tile update","placement","pickup","user placement","user pickup","level info request","serving surface","portal","gardening","wash hands","prep","cook","surface","dispose","food","pickup from slot","wash dish","eating surface","sit","stand","clean","repair","ui event","Restock","Wash Clothes","start live mode","stop live mode","link objects","message handler","pre route","post route","goal check","reaction handler","along route callback","awareness","reset","look at target","walk over","utility state change","set model by type","get model type","delete","user delete","just moved in","prevent place in slot","global awareness","object updated by design mode"],a=(s,o)=>c=>r(oe(n,u=>{const f=u.functions[o];f&&(f[s]=c)}));return l.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(3,r=s.onChange)},[n,i,a,r]}class Ps extends ue{constructor(e){super(),fe(this,e,Rs,Fs,ae,{content:0,onChange:3})}}function Gr(l,e,t){const n=l.slice();return n[10]=e[t],n[12]=t,n}function Hr(l,e,t){const n=l.slice();return n[13]=e[t],n[12]=t,n}function Ls(l){let e;return{c(){e=X("Append new string set")},l(t){e=K(t,"Append new string set")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Os(l){let e,t;return e=new Ue({props:{onClick:l[2],$$slots:{default:[Ls]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&32768&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Wr(l){let e,t=Hl(l[12]+1)+"",n;return{c(){e=T("option"),n=X(t),this.h()},l(r){e=A(r,"OPTION",{});var i=I(e);n=K(i,t),i.forEach(m),this.h()},h(){e.__value=l[12]+1,e.value=e.__value},m(r,i){R(r,e,i),b(e,n)},p:ie,d(r){r&&m(e)}}}function Yr(l,e){let t,n,r,i,a,s=Me(e[12],4)+"",o,c,u,f,h,d,p,v,w,E,y,S,D,L,P,J;function z(){return e[6](e[12])}i=new It({props:{onClick:z,"aria-label":`remove string set ${e[12]}`}});let N=dn,G=[];for(let Z=0;Z<N.length;Z+=1)G[Z]=Wr(Hr(e,N,Z));function j(...Z){return e[7](e[12],...Z)}function Q(...Z){return e[8](e[12],...Z)}function le(...Z){return e[9](e[12],...Z)}return{key:l,first:null,c(){t=T("tr"),n=T("td"),r=T("div"),H(i.$$.fragment),a=X(`
								(`),o=X(s),c=X(`)
								`),u=T("select");for(let Z=0;Z<G.length;Z+=1)G[Z].c();h=O(),d=T("td"),p=T("textarea"),w=O(),E=T("td"),y=T("textarea"),D=O(),this.h()},l(Z){t=A(Z,"TR",{class:!0});var ee=I(t);n=A(ee,"TD",{class:!0});var ne=I(n);r=A(ne,"DIV",{class:!0});var re=I(r);q(i.$$.fragment,re),a=K(re,`
								(`),o=K(re,s),c=K(re,`)
								`),u=A(re,"SELECT",{class:!0});var ce=I(u);for(let de=0;de<G.length;de+=1)G[de].l(ce);ce.forEach(m),re.forEach(m),ne.forEach(m),h=M(ee),d=A(ee,"TD",{class:!0});var se=I(d);p=A(se,"TEXTAREA",{placeholder:!0,class:!0}),I(p).forEach(m),se.forEach(m),w=M(ee),E=A(ee,"TD",{class:!0});var Ee=I(E);y=A(Ee,"TEXTAREA",{placeholder:!0,class:!0}),I(y).forEach(m),Ee.forEach(m),D=M(ee),ee.forEach(m),this.h()},h(){C(u,"class","language svelte-ed1fg7"),C(r,"class","grid svelte-ed1fg7"),C(n,"class","svelte-ed1fg7"),C(p,"placeholder","No value"),p.value=v=e[10].value,C(p,"class","svelte-ed1fg7"),C(d,"class","svelte-ed1fg7"),C(y,"placeholder","No description"),y.value=S=e[10].description,C(y,"class","svelte-ed1fg7"),C(E,"class","svelte-ed1fg7"),C(t,"class","svelte-ed1fg7"),this.first=t},m(Z,ee){R(Z,t,ee),b(t,n),b(n,r),W(i,r,null),b(r,a),b(r,o),b(r,c),b(r,u);for(let ne=0;ne<G.length;ne+=1)G[ne].m(u,null);it(u,e[10].languageId),b(t,h),b(t,d),b(d,p),b(t,w),b(t,E),b(E,y),b(t,D),L=!0,P||(J=[pe(u,"input",j),pe(p,"input",Q),pe(y,"input",le)],P=!0)},p(Z,ee){e=Z;const ne={};if(ee&3&&(ne.onClick=z),ee&1&&(ne["aria-label"]=`remove string set ${e[12]}`),i.$set(ne),(!L||ee&1)&&s!==(s=Me(e[12],4)+"")&&Fe(o,s),ee&0){N=dn;let re;for(re=0;re<N.length;re+=1){const ce=Hr(e,N,re);G[re]?G[re].p(ce,ee):(G[re]=Wr(ce),G[re].c(),G[re].m(u,null))}for(;re<G.length;re+=1)G[re].d(1);G.length=N.length}(!L||ee&1&&f!==(f=e[10].languageId))&&it(u,e[10].languageId),(!L||ee&1&&v!==(v=e[10].value))&&(p.value=v),(!L||ee&1&&S!==(S=e[10].description))&&(y.value=S)},i(Z){L||(U(i.$$.fragment,Z),L=!0)},o(Z){B(i.$$.fragment,Z),L=!1},d(Z){Z&&m(t),Y(i),Pe(G,Z),P=!1,gt(J)}}}function Ms(l){let e,t,n,r,i,a,s,o,c,u,f,h=[],d=new Map,p,v=l[0].stringSets;const w=E=>E[12];for(let E=0;E<v.length;E+=1){let y=Gr(l,v,E),S=w(y);d.set(S,h[E]=Yr(S,y))}return{c(){e=T("table"),t=T("thead"),n=T("th"),r=O(),i=T("th"),a=X("Value"),s=O(),o=T("th"),c=X("Description"),u=O(),f=T("tbody");for(let E=0;E<h.length;E+=1)h[E].c();this.h()},l(E){e=A(E,"TABLE",{class:!0});var y=I(e);t=A(y,"THEAD",{});var S=I(t);n=A(S,"TH",{class:!0}),I(n).forEach(m),r=M(S),i=A(S,"TH",{class:!0});var D=I(i);a=K(D,"Value"),D.forEach(m),s=M(S),o=A(S,"TH",{class:!0});var L=I(o);c=K(L,"Description"),L.forEach(m),S.forEach(m),u=M(y),f=A(y,"TBODY",{});var P=I(f);for(let J=0;J<h.length;J+=1)h[J].l(P);P.forEach(m),y.forEach(m),this.h()},h(){C(n,"class","shrink svelte-ed1fg7"),C(i,"class","svelte-ed1fg7"),C(o,"class","svelte-ed1fg7"),C(e,"class","svelte-ed1fg7")},m(E,y){R(E,e,y),b(e,t),b(t,n),b(t,r),b(t,i),b(i,a),b(t,s),b(t,o),b(o,c),b(e,u),b(e,f);for(let S=0;S<h.length;S+=1)h[S].m(f,null);p=!0},p(E,y){y&59&&(v=E[0].stringSets,me(),h=Qt(h,y,w,1,E,v,d,f,yn,Yr,null,Gr),ve())},i(E){if(!p){for(let y=0;y<v.length;y+=1)U(h[y]);p=!0}},o(E){for(let y=0;y<h.length;y+=1)B(h[y]);p=!1},d(E){E&&m(e);for(let y=0;y<h.length;y+=1)h[y].d()}}}function Ns(l){let e,t,n,r,i;return t=new ze({props:{secondary:!0,$$slots:{default:[Os]},$$scope:{ctx:l}}}),r=new ze({props:{secondary:!0,style:{flex:"1",overflow:"auto","padding-top":"0"},$$slots:{default:[Ms]},$$scope:{ctx:l}}}),{c(){e=T("div"),H(t.$$.fragment),n=O(),H(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=M(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","str-view svelte-ed1fg7")},m(a,s){R(a,e,s),W(t,e,null),b(e,n),W(r,e,null),i=!0},p(a,[s]){const o={};s&32768&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&32771&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(r)}}}function Vs(l,e,t){let{content:n}=e,{onChange:r}=e;const i=()=>r(oe(n,d=>{d.stringSets.push({...wt.STR.stringSets[0]})})),a=(d,p)=>r(oe(n,v=>{const w=v.stringSets[p];w&&(w.languageId=parseInt(d.target.value,10))})),s=(d,p)=>r(oe(n,v=>{const w=v.stringSets[p];w&&(w.value=d.target.value)})),o=(d,p)=>r(oe(n,v=>{const w=v.stringSets[p];w&&(w.description=d.target.value)})),c=d=>r(oe(n,p=>{p.stringSets=Bt(p.stringSets,d)})),u=(d,p)=>a(p,d),f=(d,p)=>s(p,d),h=(d,p)=>o(p,d);return l.$$set=d=>{"content"in d&&t(0,n=d.content),"onChange"in d&&t(1,r=d.onChange)},[n,r,i,a,s,o,c,u,f,h]}class fn extends ue{constructor(e){super(),fe(this,e,Vs,Ns,ae,{content:0,onChange:1})}}var js=function(l){var e={};function t(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return l[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=l,t.c=e,t.d=function(n,r,i){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(l,e,t){(function(n){var r=function(){function u(f,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,h,d){return h&&u(f.prototype,h),d&&u(f,d),f}}();function i(u){if(Array.isArray(u)){for(var f=0,h=Array(u.length);f<u.length;f++)h[f]=u[f];return h}else return Array.from(u)}function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s={noImage:0,colorMapped:1,RGB:2,blackAndWhite:3,runlengthColorMapped:9,runlengthRGB:10,compressedBlackAndWhite:11,compressedColorMapped:32,compressed4PassQTColorMapped:33},o=18,c=function(){function u(f){var h=this;a(this,u),f instanceof n?this._buffer=f:typeof f=="string"?this._buffer=n.from(f,"binary"):f?this._buffer=n.from(f):this._buffer=null,this._idLength=0,this._colorMapType=0,this._imageType=0,this._colorMapOrigin=0,this._colorMapLength=0,this._colorMapDepth=0,this._imageXOrigin=0,this._imageYOrigin=0,this._imageWidth=0,this._imageHeight=0,this._imageDepth=0,this._alphaDepth=0,this._leftToRight=!0,this._topToBottom=!1,this._interleave=!1,this._hasAlpha=!1,this._imageID=null,this._canvas=null,this._context=null,this._imageData=null,this._image=null,this._src=null,this.onload=null,this.onerror=null,this._resolveFunc=null,this._rejectFunc=null,this._didLoad=new Promise(function(d,p){h._resolveFunc=d,h._rejectFunc=p}),f&&this._parseData()}return r(u,[{key:"_loadURL",value:function(h){var d=this;this._src=h,this._requestBinaryFile(h).then(function(p){d._buffer=n.from(p),d._parseData()}).catch(function(p){d._reject(p)})}},{key:"_requestBinaryFile",value:function(h){return new Promise(function(d,p){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="arraybuffer",v.onload=function(w){v.response?d(v.response):p(v)},v.onerror=function(w){p(w)},v.send(null)})}},{key:"_parseData",value:function(){this._readHeader(),this._readImageID(),this._initImage();var h=this._getImageData();switch(this._imageType){case s.noImage:break;case s.colorMapped:{this._parseColorMapData(h);break}case s.RGB:{this._parseRGBData(h);break}case s.blackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.runlengthColorMapped:{this._parseColorMapData(h);break}case s.runlengthRGB:{this._parseRGBData(h);break}case s.compressedBlackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.compressedColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}case s.compressed4PassQTColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}default:throw new Error("unknown imageType: "+this._imageType)}this._setImage(),this._deleteBuffer()}},{key:"_readHeader",value:function(){this._idLength=this._buffer.readUIntLE(0,1),this._colorMapType=this._buffer.readUIntLE(1,1),this._imageType=this._buffer.readUIntLE(2,1),this._colorMapOrigin=this._buffer.readUIntLE(3,2),this._colorMapLength=this._buffer.readUIntLE(5,2),this._colorMapDepth=this._buffer.readUIntLE(7,1),this._imageXOrigin=this._buffer.readUIntLE(8,2),this._imageYOrigin=this._buffer.readUIntLE(10,2),this._imageWidth=this._buffer.readUIntLE(12,2),this._imageHeight=this._buffer.readUIntLE(14,2),this._imageDepth=this._buffer.readUIntLE(16,1);var h=this._buffer.readUIntLE(17,1);this._alphaDepth=h&15,this._leftToRight=(h&16)===0,this._topToBottom=(h&32)>0,this._interleave=h&192}},{key:"_readImageID",value:function(){this._idLength>0&&(this._imageID=this._buffer.subarray(o,this._idLength))}},{key:"_initImage",value:function(){this._imageType!==s.noImage&&(this._imageWidth<=0||this._imageHeight<=0||(this._canvas=document.createElement("canvas"),this._canvas.width=this._imageWidth,this._canvas.height=this._imageHeight,this._context=this._canvas.getContext("2d"),this._imageData=this._context.createImageData(this._imageWidth,this._imageHeight)))}},{key:"_setImage",value:function(){var h=this;this._context.putImageData(this._imageData,0,0),this._image=new Image,this._image.width=this._imageWidth,this._image.height=this._imageHeight,this._image.onload=function(){h._resolve()},this._image.src=this._canvas.toDataURL()}},{key:"_deleteBuffer",value:function(){this._buffer&&(delete this._buffer,this._buffer=null),this._imageData&&(delete this._imageData,this._imageData=null)}},{key:"_parseColorMapData",value:function(h){if(this._colorMapDepth===24||this._colorMapDepth===16||this._colorMapDepth===15)this._hasAlpha=!1;else if(this._colorMapDepth===32)this._hasAlpha=!0;else throw new Error("unknown colorMapDepth: "+this._colorMapDepth);var d=o+this._idLength,p=Math.ceil(this._colorMapDepth/8);p*this._colorMapLength;for(var v=1,w=[],E=d,y=0;y<this._colorMapLength;y++){var S=this._getRGBA(this._buffer,E,this._colorMapDepth);w.push(S),E+=p}var D=this._imageData.data,L=0,P=0,J=1,z=1;this._leftToRight||(L=this._imageWidth-1,J=-1),this._topToBottom||(P=this._imageHeight-1,z=-1),E=0;for(var N=P,G=[255,255,255,255],j=0;j<this._imageHeight;j++){for(var Q=L,le=0;le<this._imageWidth;le++){var Z=(N*this._imageWidth+Q)*4,ee=G,ne=h[E]-this._colorMapOrigin;ne>=0&&(ee=w[ne]),D[Z]=ee[0],D[Z+1]=ee[1],D[Z+2]=ee[2],D[Z+3]=ee[3],Q+=J,E+=v}N+=z}}},{key:"_parseRGBData",value:function(h){if(this._imageDepth===24||this._imageDepth===16||this._imageDepth===15)this._hasAlpha=!1;else if(this._imageDepth===32)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var d=Math.ceil(this._imageDepth/8),p=this._imageData.data,v=0,w=0,E=1,y=1;this._leftToRight||(v=this._imageWidth-1,E=-1),this._topToBottom||(w=this._imageHeight-1,y=-1);for(var S=0,D=w,L=0;L<this._imageHeight;L++){for(var P=v,J=0;J<this._imageWidth;J++){var z=(D*this._imageWidth+P)*4,N=this._getRGBA(h,S,this._imageDepth);p[z]=N[0],p[z+1]=N[1],p[z+2]=N[2],p[z+3]=N[3],P+=E,S+=d}D+=y}}},{key:"_getRGBA",value:function(h,d,p){if(p===15){var v=(h[d+1]&124)<<1,w=(h[d+1]&3)<<6|(h[d]&224)>>2,E=(h[d]&31)<<3,y=255;return[v,w,E,y]}else if(p===16){var S=(h[d+1]&124)<<1,D=(h[d+1]&3)<<6|(h[d]&224)>>2,L=(h[d]&31)<<3,P=255;return[S,D,L,P]}else{if(p===24)return[h[d+2],h[d+1],h[d],255];if(p===32)return[h[d+2],h[d+1],h[d],h[d+3]]}throw new Error("unsupported imageDepth: "+p)}},{key:"_parseBlackAndWhiteData",value:function(h){if(this._imageDepth==8)this._hasAlpha=!1;else if(this._imageDepth==16)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var d=this._imageDepth/8,p=this._imageData.data,v=0,w=0,E=1,y=1;this._leftToRight||(v=this._imageWidth-1,E=-1),this._topToBottom||(w=this._imageHeight-1,y=-1);var S=0;if(this._hasAlpha)for(var D=w,L=0;L<this._imageHeight;L++){for(var P=v,J=0;J<this._imageWidth;J++){var z=(D*this._imageWidth+P)*4,N=h[S],G=h[S+1];p[z]=N,p[z+1]=N,p[z+2]=N,p[z+3]=G,P+=E,S+=d}D+=y}else for(var j=w,Q=0;Q<this._imageHeight;Q++){for(var le=v,Z=0;Z<this._imageWidth;Z++){var ee=(j*this._imageWidth+le)*4,ne=h[S],re=255;p[ee]=ne,p[ee+1]=ne,p[ee+2]=ne,p[ee+3]=re,le+=E,S+=d}j+=y}}},{key:"_getImageData",value:function(){var h=null;if(this._imageType!==s.none){var d=Math.ceil(this._colorMapDepth/8)*this._colorMapLength,p=o+this._idLength+d;h=this._buffer.subarray(p)}return this._imageType===s.runlengthColorMapped||this._imageType===s.runlengthRGB?h=this._decompressRunlengthData(h):this._imageType===s.compressedBlackAndWhite?h=this._decompressRunlengthData(h):(this._imageType===s.compressedColorMapped||this._imageType===s.compressed4PassQTColorMapped)&&console.error("Compressed Color Mapped TGA Image data is not supported"),h}},{key:"_decompressRunlengthData",value:function(h){for(var d=[],p=Math.ceil(this._imageDepth/8),v=p*this._imageWidth*this._imageHeight,w=0;d.length<v;){var E=h[w];if(w+=1,E&128){var y=h.slice(w,w+p);w+=p;for(var S=(E&127)+1,D=0;D<S;D++)d.push.apply(d,i(y))}else{var L=(E+1)*p;d.push.apply(d,i(h.slice(w,w+L))),w+=L}}return d}},{key:"_resolve",value:function(h){this.onload&&this.onload(h),this._resolveFunc(h)}},{key:"_reject",value:function(h){this.onerror&&this.onerror(h),this._rejectFunc(h)}},{key:"image",get:function(){return this._image}},{key:"canvas",get:function(){return this._canvas}},{key:"didLoad",get:function(){return this._didLoad}},{key:"src",get:function(){return this._src},set:function(h){this._loadURL(h)}}],[{key:"imageWithData",value:function(h){return new u(h)}},{key:"imageWithURL",value:function(h){var d=new u;return d._loadURL(h),d}}]),u}();l.exports=c}).call(e,t(1).Buffer)},function(l,e,t){(function(n){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var r=t(3),i=t(4),a=t(5);e.Buffer=u,e.SlowBuffer=D,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=o();function s(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c($,g){if(o()<g)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?($=new Uint8Array(g),$.__proto__=u.prototype):($===null&&($=new u(g)),$.length=g),$}function u($,g,_){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u($,g,_);if(typeof $=="number"){if(typeof g=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,$)}return f(this,$,g,_)}u.poolSize=8192,u._augment=function($){return $.__proto__=u.prototype,$};function f($,g,_,k){if(typeof g=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer?E($,g,_,k):typeof g=="string"?v($,g,_):y($,g)}u.from=function($,g,_){return f(null,$,g,_)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}));function h($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function d($,g,_,k){return h(g),g<=0?c($,g):_!==void 0?typeof k=="string"?c($,g).fill(_,k):c($,g).fill(_):c($,g)}u.alloc=function($,g,_){return d(null,$,g,_)};function p($,g){if(h(g),$=c($,g<0?0:S(g)|0),!u.TYPED_ARRAY_SUPPORT)for(var _=0;_<g;++_)$[_]=0;return $}u.allocUnsafe=function($){return p(null,$)},u.allocUnsafeSlow=function($){return p(null,$)};function v($,g,_){if((typeof _!="string"||_==="")&&(_="utf8"),!u.isEncoding(_))throw new TypeError('"encoding" must be a valid string encoding');var k=L(g,_)|0;$=c($,k);var F=$.write(g,_);return F!==k&&($=$.slice(0,F)),$}function w($,g){var _=g.length<0?0:S(g.length)|0;$=c($,_);for(var k=0;k<_;k+=1)$[k]=g[k]&255;return $}function E($,g,_,k){if(g.byteLength,_<0||g.byteLength<_)throw new RangeError("'offset' is out of bounds");if(g.byteLength<_+(k||0))throw new RangeError("'length' is out of bounds");return _===void 0&&k===void 0?g=new Uint8Array(g):k===void 0?g=new Uint8Array(g,_):g=new Uint8Array(g,_,k),u.TYPED_ARRAY_SUPPORT?($=g,$.__proto__=u.prototype):$=w($,g),$}function y($,g){if(u.isBuffer(g)){var _=S(g.length)|0;return $=c($,_),$.length===0||g.copy($,0,0,_),$}if(g){if(typeof ArrayBuffer<"u"&&g.buffer instanceof ArrayBuffer||"length"in g)return typeof g.length!="number"||yt(g.length)?c($,0):w($,g);if(g.type==="Buffer"&&a(g.data))return w($,g.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function S($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function D($){return+$!=$&&($=0),u.alloc(+$)}u.isBuffer=function(g){return!!(g!=null&&g._isBuffer)},u.compare=function(g,_){if(!u.isBuffer(g)||!u.isBuffer(_))throw new TypeError("Arguments must be Buffers");if(g===_)return 0;for(var k=g.length,F=_.length,V=0,x=Math.min(k,F);V<x;++V)if(g[V]!==_[V]){k=g[V],F=_[V];break}return k<F?-1:F<k?1:0},u.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(g,_){if(!a(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return u.alloc(0);var k;if(_===void 0)for(_=0,k=0;k<g.length;++k)_+=g[k].length;var F=u.allocUnsafe(_),V=0;for(k=0;k<g.length;++k){var x=g[k];if(!u.isBuffer(x))throw new TypeError('"list" argument must be an Array of Buffers');x.copy(F,V),V+=x.length}return F};function L($,g){if(u.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var _=$.length;if(_===0)return 0;for(var k=!1;;)switch(g){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":case void 0:return Ge($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return Rt($).length;default:if(k)return Ge($).length;g=(""+g).toLowerCase(),k=!0}}u.byteLength=L;function P($,g,_){var k=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,g>>>=0,_<=g))return"";for($||($="utf8");;)switch($){case"hex":return Oe(this,g,_);case"utf8":case"utf-8":return re(this,g,_);case"ascii":return Ee(this,g,_);case"latin1":case"binary":return de(this,g,_);case"base64":return ne(this,g,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,g,_);default:if(k)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),k=!0}}u.prototype._isBuffer=!0;function J($,g,_){var k=$[g];$[g]=$[_],$[_]=k}u.prototype.swap16=function(){var g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<g;_+=2)J(this,_,_+1);return this},u.prototype.swap32=function(){var g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<g;_+=4)J(this,_,_+3),J(this,_+1,_+2);return this},u.prototype.swap64=function(){var g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<g;_+=8)J(this,_,_+7),J(this,_+1,_+6),J(this,_+2,_+5),J(this,_+3,_+4);return this},u.prototype.toString=function(){var g=this.length|0;return g===0?"":arguments.length===0?re(this,0,g):P.apply(this,arguments)},u.prototype.equals=function(g){if(!u.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:u.compare(this,g)===0},u.prototype.inspect=function(){var g="",_=e.INSPECT_MAX_BYTES;return this.length>0&&(g=this.toString("hex",0,_).match(/.{2}/g).join(" "),this.length>_&&(g+=" ... ")),"<Buffer "+g+">"},u.prototype.compare=function(g,_,k,F,V){if(!u.isBuffer(g))throw new TypeError("Argument must be a Buffer");if(_===void 0&&(_=0),k===void 0&&(k=g?g.length:0),F===void 0&&(F=0),V===void 0&&(V=this.length),_<0||k>g.length||F<0||V>this.length)throw new RangeError("out of range index");if(F>=V&&_>=k)return 0;if(F>=V)return-1;if(_>=k)return 1;if(_>>>=0,k>>>=0,F>>>=0,V>>>=0,this===g)return 0;for(var x=V-F,$e=k-_,Te=Math.min(x,$e),Se=this.slice(F,V),Ke=g.slice(_,k),Re=0;Re<Te;++Re)if(Se[Re]!==Ke[Re]){x=Se[Re],$e=Ke[Re];break}return x<$e?-1:$e<x?1:0};function z($,g,_,k,F){if($.length===0)return-1;if(typeof _=="string"?(k=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,isNaN(_)&&(_=F?0:$.length-1),_<0&&(_=$.length+_),_>=$.length){if(F)return-1;_=$.length-1}else if(_<0)if(F)_=0;else return-1;if(typeof g=="string"&&(g=u.from(g,k)),u.isBuffer(g))return g.length===0?-1:N($,g,_,k,F);if(typeof g=="number")return g=g&255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call($,g,_):Uint8Array.prototype.lastIndexOf.call($,g,_):N($,[g],_,k,F);throw new TypeError("val must be string, number or Buffer")}function N($,g,_,k,F){var V=1,x=$.length,$e=g.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if($.length<2||g.length<2)return-1;V=2,x/=2,$e/=2,_/=2}function Te(Sn,Bn){return V===1?Sn[Bn]:Sn.readUInt16BE(Bn*V)}var Se;if(F){var Ke=-1;for(Se=_;Se<x;Se++)if(Te($,Se)===Te(g,Ke===-1?0:Se-Ke)){if(Ke===-1&&(Ke=Se),Se-Ke+1===$e)return Ke*V}else Ke!==-1&&(Se-=Se-Ke),Ke=-1}else for(_+$e>x&&(_=x-$e),Se=_;Se>=0;Se--){for(var Re=!0,Gt=0;Gt<$e;Gt++)if(Te($,Se+Gt)!==Te(g,Gt)){Re=!1;break}if(Re)return Se}return-1}u.prototype.includes=function(g,_,k){return this.indexOf(g,_,k)!==-1},u.prototype.indexOf=function(g,_,k){return z(this,g,_,k,!0)},u.prototype.lastIndexOf=function(g,_,k){return z(this,g,_,k,!1)};function G($,g,_,k){_=Number(_)||0;var F=$.length-_;k?(k=Number(k),k>F&&(k=F)):k=F;var V=g.length;if(V%2!==0)throw new TypeError("Invalid hex string");k>V/2&&(k=V/2);for(var x=0;x<k;++x){var $e=parseInt(g.substr(x*2,2),16);if(isNaN($e))return x;$[_+x]=$e}return x}function j($,g,_,k){return we(Ge(g,$.length-_),$,_,k)}function Q($,g,_,k){return we(qe(g),$,_,k)}function le($,g,_,k){return Q($,g,_,k)}function Z($,g,_,k){return we(Rt(g),$,_,k)}function ee($,g,_,k){return we($t(g,$.length-_),$,_,k)}u.prototype.write=function(g,_,k,F){if(_===void 0)F="utf8",k=this.length,_=0;else if(k===void 0&&typeof _=="string")F=_,k=this.length,_=0;else if(isFinite(_))_=_|0,isFinite(k)?(k=k|0,F===void 0&&(F="utf8")):(F=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-_;if((k===void 0||k>V)&&(k=V),g.length>0&&(k<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var x=!1;;)switch(F){case"hex":return G(this,g,_,k);case"utf8":case"utf-8":return j(this,g,_,k);case"ascii":return Q(this,g,_,k);case"latin1":case"binary":return le(this,g,_,k);case"base64":return Z(this,g,_,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,g,_,k);default:if(x)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),x=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne($,g,_){return g===0&&_===$.length?r.fromByteArray($):r.fromByteArray($.slice(g,_))}function re($,g,_){_=Math.min($.length,_);for(var k=[],F=g;F<_;){var V=$[F],x=null,$e=V>239?4:V>223?3:V>191?2:1;if(F+$e<=_){var Te,Se,Ke,Re;switch($e){case 1:V<128&&(x=V);break;case 2:Te=$[F+1],(Te&192)===128&&(Re=(V&31)<<6|Te&63,Re>127&&(x=Re));break;case 3:Te=$[F+1],Se=$[F+2],(Te&192)===128&&(Se&192)===128&&(Re=(V&15)<<12|(Te&63)<<6|Se&63,Re>2047&&(Re<55296||Re>57343)&&(x=Re));break;case 4:Te=$[F+1],Se=$[F+2],Ke=$[F+3],(Te&192)===128&&(Se&192)===128&&(Ke&192)===128&&(Re=(V&15)<<18|(Te&63)<<12|(Se&63)<<6|Ke&63,Re>65535&&Re<1114112&&(x=Re))}}x===null?(x=65533,$e=1):x>65535&&(x-=65536,k.push(x>>>10&1023|55296),x=56320|x&1023),k.push(x),F+=$e}return se(k)}var ce=4096;function se($){var g=$.length;if(g<=ce)return String.fromCharCode.apply(String,$);for(var _="",k=0;k<g;)_+=String.fromCharCode.apply(String,$.slice(k,k+=ce));return _}function Ee($,g,_){var k="";_=Math.min($.length,_);for(var F=g;F<_;++F)k+=String.fromCharCode($[F]&127);return k}function de($,g,_){var k="";_=Math.min($.length,_);for(var F=g;F<_;++F)k+=String.fromCharCode($[F]);return k}function Oe($,g,_){var k=$.length;(!g||g<0)&&(g=0),(!_||_<0||_>k)&&(_=k);for(var F="",V=g;V<_;++V)F+=lt($[V]);return F}function xe($,g,_){for(var k=$.slice(g,_),F="",V=0;V<k.length;V+=2)F+=String.fromCharCode(k[V]+k[V+1]*256);return F}u.prototype.slice=function(g,_){var k=this.length;g=~~g,_=_===void 0?k:~~_,g<0?(g+=k,g<0&&(g=0)):g>k&&(g=k),_<0?(_+=k,_<0&&(_=0)):_>k&&(_=k),_<g&&(_=g);var F;if(u.TYPED_ARRAY_SUPPORT)F=this.subarray(g,_),F.__proto__=u.prototype;else{var V=_-g;F=new u(V,void 0);for(var x=0;x<V;++x)F[x]=this[x+g]}return F};function Ce($,g,_){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+g>_)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(g,_,k){g=g|0,_=_|0,k||Ce(g,_,this.length);for(var F=this[g],V=1,x=0;++x<_&&(V*=256);)F+=this[g+x]*V;return F},u.prototype.readUIntBE=function(g,_,k){g=g|0,_=_|0,k||Ce(g,_,this.length);for(var F=this[g+--_],V=1;_>0&&(V*=256);)F+=this[g+--_]*V;return F},u.prototype.readUInt8=function(g,_){return _||Ce(g,1,this.length),this[g]},u.prototype.readUInt16LE=function(g,_){return _||Ce(g,2,this.length),this[g]|this[g+1]<<8},u.prototype.readUInt16BE=function(g,_){return _||Ce(g,2,this.length),this[g]<<8|this[g+1]},u.prototype.readUInt32LE=function(g,_){return _||Ce(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},u.prototype.readUInt32BE=function(g,_){return _||Ce(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},u.prototype.readIntLE=function(g,_,k){g=g|0,_=_|0,k||Ce(g,_,this.length);for(var F=this[g],V=1,x=0;++x<_&&(V*=256);)F+=this[g+x]*V;return V*=128,F>=V&&(F-=Math.pow(2,8*_)),F},u.prototype.readIntBE=function(g,_,k){g=g|0,_=_|0,k||Ce(g,_,this.length);for(var F=_,V=1,x=this[g+--F];F>0&&(V*=256);)x+=this[g+--F]*V;return V*=128,x>=V&&(x-=Math.pow(2,8*_)),x},u.prototype.readInt8=function(g,_){return _||Ce(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},u.prototype.readInt16LE=function(g,_){_||Ce(g,2,this.length);var k=this[g]|this[g+1]<<8;return k&32768?k|4294901760:k},u.prototype.readInt16BE=function(g,_){_||Ce(g,2,this.length);var k=this[g+1]|this[g]<<8;return k&32768?k|4294901760:k},u.prototype.readInt32LE=function(g,_){return _||Ce(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},u.prototype.readInt32BE=function(g,_){return _||Ce(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},u.prototype.readFloatLE=function(g,_){return _||Ce(g,4,this.length),i.read(this,g,!0,23,4)},u.prototype.readFloatBE=function(g,_){return _||Ce(g,4,this.length),i.read(this,g,!1,23,4)},u.prototype.readDoubleLE=function(g,_){return _||Ce(g,8,this.length),i.read(this,g,!0,52,8)},u.prototype.readDoubleBE=function(g,_){return _||Ce(g,8,this.length),i.read(this,g,!1,52,8)};function Be($,g,_,k,F,V){if(!u.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>F||g<V)throw new RangeError('"value" argument is out of bounds');if(_+k>$.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(g,_,k,F){if(g=+g,_=_|0,k=k|0,!F){var V=Math.pow(2,8*k)-1;Be(this,g,_,k,V,0)}var x=1,$e=0;for(this[_]=g&255;++$e<k&&(x*=256);)this[_+$e]=g/x&255;return _+k},u.prototype.writeUIntBE=function(g,_,k,F){if(g=+g,_=_|0,k=k|0,!F){var V=Math.pow(2,8*k)-1;Be(this,g,_,k,V,0)}var x=k-1,$e=1;for(this[_+x]=g&255;--x>=0&&($e*=256);)this[_+x]=g/$e&255;return _+k},u.prototype.writeUInt8=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,1,255,0),u.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),this[_]=g&255,_+1};function te($,g,_,k){g<0&&(g=65535+g+1);for(var F=0,V=Math.min($.length-_,2);F<V;++F)$[_+F]=(g&255<<8*(k?F:1-F))>>>(k?F:1-F)*8}u.prototype.writeUInt16LE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8):te(this,g,_,!0),_+2},u.prototype.writeUInt16BE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=g&255):te(this,g,_,!1),_+2};function he($,g,_,k){g<0&&(g=4294967295+g+1);for(var F=0,V=Math.min($.length-_,4);F<V;++F)$[_+F]=g>>>(k?F:3-F)*8&255}u.prototype.writeUInt32LE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[_+3]=g>>>24,this[_+2]=g>>>16,this[_+1]=g>>>8,this[_]=g&255):he(this,g,_,!0),_+4},u.prototype.writeUInt32BE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255):he(this,g,_,!1),_+4},u.prototype.writeIntLE=function(g,_,k,F){if(g=+g,_=_|0,!F){var V=Math.pow(2,8*k-1);Be(this,g,_,k,V-1,-V)}var x=0,$e=1,Te=0;for(this[_]=g&255;++x<k&&($e*=256);)g<0&&Te===0&&this[_+x-1]!==0&&(Te=1),this[_+x]=(g/$e>>0)-Te&255;return _+k},u.prototype.writeIntBE=function(g,_,k,F){if(g=+g,_=_|0,!F){var V=Math.pow(2,8*k-1);Be(this,g,_,k,V-1,-V)}var x=k-1,$e=1,Te=0;for(this[_+x]=g&255;--x>=0&&($e*=256);)g<0&&Te===0&&this[_+x+1]!==0&&(Te=1),this[_+x]=(g/$e>>0)-Te&255;return _+k},u.prototype.writeInt8=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,1,127,-128),u.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),g<0&&(g=255+g+1),this[_]=g&255,_+1},u.prototype.writeInt16LE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8):te(this,g,_,!0),_+2},u.prototype.writeInt16BE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=g&255):te(this,g,_,!1),_+2},u.prototype.writeInt32LE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8,this[_+2]=g>>>16,this[_+3]=g>>>24):he(this,g,_,!0),_+4},u.prototype.writeInt32BE=function(g,_,k){return g=+g,_=_|0,k||Be(this,g,_,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255):he(this,g,_,!1),_+4};function De($,g,_,k,F,V){if(_+k>$.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Ie($,g,_,k,F){return F||De($,g,_,4),i.write($,g,_,k,23,4),_+4}u.prototype.writeFloatLE=function(g,_,k){return Ie(this,g,_,!0,k)},u.prototype.writeFloatBE=function(g,_,k){return Ie(this,g,_,!1,k)};function Xe($,g,_,k,F){return F||De($,g,_,8),i.write($,g,_,k,52,8),_+8}u.prototype.writeDoubleLE=function(g,_,k){return Xe(this,g,_,!0,k)},u.prototype.writeDoubleBE=function(g,_,k){return Xe(this,g,_,!1,k)},u.prototype.copy=function(g,_,k,F){if(k||(k=0),!F&&F!==0&&(F=this.length),_>=g.length&&(_=g.length),_||(_=0),F>0&&F<k&&(F=k),F===k||g.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),g.length-_<F-k&&(F=g.length-_+k);var V=F-k,x;if(this===g&&k<_&&_<F)for(x=V-1;x>=0;--x)g[x+_]=this[x+k];else if(V<1e3||!u.TYPED_ARRAY_SUPPORT)for(x=0;x<V;++x)g[x+_]=this[x+k];else Uint8Array.prototype.set.call(g,this.subarray(k,k+V),_);return V},u.prototype.fill=function(g,_,k,F){if(typeof g=="string"){if(typeof _=="string"?(F=_,_=0,k=this.length):typeof k=="string"&&(F=k,k=this.length),g.length===1){var V=g.charCodeAt(0);V<256&&(g=V)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!u.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof g=="number"&&(g=g&255);if(_<0||this.length<_||this.length<k)throw new RangeError("Out of range index");if(k<=_)return this;_=_>>>0,k=k===void 0?this.length:k>>>0,g||(g=0);var x;if(typeof g=="number")for(x=_;x<k;++x)this[x]=g;else{var $e=u.isBuffer(g)?g:Ge(new u(g,F).toString()),Te=$e.length;for(x=0;x<k-_;++x)this[x+_]=$e[x%Te]}return this};var Ze=/[^+\/0-9A-Za-z-_]/g;function ot($){if($=rt($).replace(Ze,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function rt($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function lt($){return $<16?"0"+$.toString(16):$.toString(16)}function Ge($,g){g=g||1/0;for(var _,k=$.length,F=null,V=[],x=0;x<k;++x){if(_=$.charCodeAt(x),_>55295&&_<57344){if(!F){if(_>56319){(g-=3)>-1&&V.push(239,191,189);continue}else if(x+1===k){(g-=3)>-1&&V.push(239,191,189);continue}F=_;continue}if(_<56320){(g-=3)>-1&&V.push(239,191,189),F=_;continue}_=(F-55296<<10|_-56320)+65536}else F&&(g-=3)>-1&&V.push(239,191,189);if(F=null,_<128){if((g-=1)<0)break;V.push(_)}else if(_<2048){if((g-=2)<0)break;V.push(_>>6|192,_&63|128)}else if(_<65536){if((g-=3)<0)break;V.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((g-=4)<0)break;V.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return V}function qe($){for(var g=[],_=0;_<$.length;++_)g.push($.charCodeAt(_)&255);return g}function $t($,g){for(var _,k,F,V=[],x=0;x<$.length&&!((g-=2)<0);++x)_=$.charCodeAt(x),k=_>>8,F=_%256,V.push(F),V.push(k);return V}function Rt($){return r.toByteArray(ot($))}function we($,g,_,k){for(var F=0;F<k&&!(F+_>=g.length||F>=$.length);++F)g[F+_]=$[F];return F}function yt($){return $!==$}}).call(e,t(2))},function(l,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}l.exports=t},function(l,e,t){e.byteLength=u,e.toByteArray=f,e.fromByteArray=p;for(var n=[],r=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function c(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return v[w-2]==="="?2:v[w-1]==="="?1:0}function u(v){return v.length*3/4-c(v)}function f(v){var w,E,y,S,D,L=v.length;S=c(v),D=new i(L*3/4-S),E=S>0?L-4:L;var P=0;for(w=0;w<E;w+=4)y=r[v.charCodeAt(w)]<<18|r[v.charCodeAt(w+1)]<<12|r[v.charCodeAt(w+2)]<<6|r[v.charCodeAt(w+3)],D[P++]=y>>16&255,D[P++]=y>>8&255,D[P++]=y&255;return S===2?(y=r[v.charCodeAt(w)]<<2|r[v.charCodeAt(w+1)]>>4,D[P++]=y&255):S===1&&(y=r[v.charCodeAt(w)]<<10|r[v.charCodeAt(w+1)]<<4|r[v.charCodeAt(w+2)]>>2,D[P++]=y>>8&255,D[P++]=y&255),D}function h(v){return n[v>>18&63]+n[v>>12&63]+n[v>>6&63]+n[v&63]}function d(v,w,E){for(var y,S=[],D=w;D<E;D+=3)y=(v[D]<<16)+(v[D+1]<<8)+v[D+2],S.push(h(y));return S.join("")}function p(v){for(var w,E=v.length,y=E%3,S="",D=[],L=16383,P=0,J=E-y;P<J;P+=L)D.push(d(v,P,P+L>J?J:P+L));return y===1?(w=v[E-1],S+=n[w>>2],S+=n[w<<4&63],S+="=="):y===2&&(w=(v[E-2]<<8)+v[E-1],S+=n[w>>10],S+=n[w>>4&63],S+=n[w<<2&63],S+="="),D.push(S),D.join("")}},function(l,e){e.read=function(t,n,r,i,a){var s,o,c=a*8-i-1,u=(1<<c)-1,f=u>>1,h=-7,d=r?a-1:0,p=r?-1:1,v=t[n+d];for(d+=p,s=v&(1<<-h)-1,v>>=-h,h+=c;h>0;s=s*256+t[n+d],d+=p,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=o*256+t[n+d],d+=p,h-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-f}return(v?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,n,r,i,a,s){var o,c,u,f=s*8-a-1,h=(1<<f)-1,d=h>>1,p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:s-1,w=i?1:-1,E=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,o=h):(o=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?n+=p/u:n+=p*Math.pow(2,1-d),n*u>=2&&(o++,u/=2),o+d>=h?(c=0,o=h):o+d>=1?(c=(n*u-1)*Math.pow(2,a),o=o+d):(c=n*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;t[r+v]=c&255,v+=w,c/=256,a-=8);for(o=o<<a|c,f+=a;f>0;t[r+v]=o&255,v+=w,o/=256,f-=8);t[r+v-w]|=E*128}},function(l,e){var t={}.toString;l.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}}]);function zs(l){let e;return{c(){e=X("Upload image file")},l(t){e=K(t,"Upload image file")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Gs(l){let e,t;return e=new Ue({props:{variant:"link",style:"font-size: 1.2rem;",onClick:l[6],$$slots:{default:[zs]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.onClick=n[6]),r&512&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function xr(l){let e,t;return e=new ze({props:{secondary:!0,style:{"margin-top":"5px",overflow:"hidden"},$$slots:{default:[Hs]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&514&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Hs(l){let e,t;return{c(){e=T("img"),this.h()},l(n){e=A(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Rn(e.src,t=l[1])||C(e,"src",t),C(e,"alt",""),C(e,"class","svelte-23h5j9")},m(n,r){R(n,e,r)},p(n,r){r&2&&!Rn(e.src,t=n[1])&&C(e,"src",t)},d(n){n&&m(e)}}}function Ws(l){let e,t,n,r,i,a,s,o;r=new ze({props:{secondary:!0,$$slots:{default:[Gs]},$$scope:{ctx:l}}});let c=l[1]&&xr(l);return{c(){e=T("div"),t=T("input"),n=O(),H(r.$$.fragment),i=O(),c&&c.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=I(e);t=A(f,"INPUT",{type:!0,accept:!0,class:!0}),n=M(f),q(r.$$.fragment,f),i=M(f),c&&c.l(f),f.forEach(m),this.h()},h(){C(t,"type","file"),C(t,"accept","image/jpeg, image/png, .tga"),C(t,"class","svelte-23h5j9"),C(e,"class","tga-view svelte-23h5j9")},m(u,f){R(u,e,f),b(e,t),l[4](t),b(e,n),W(r,e,null),b(e,i),c&&c.m(e,null),a=!0,s||(o=pe(t,"change",l[5]),s=!0)},p(u,[f]){const h={};f&516&&(h.$$scope={dirty:f,ctx:u}),r.$set(h),u[1]?c?(c.p(u,f),f&2&&U(c,1)):(c=xr(u),c.c(),U(c,1),c.m(e,null)):c&&(me(),B(c,1,1,()=>{c=null}),ve())},i(u){a||(U(r.$$.fragment,u),U(c),a=!0)},o(u){B(r.$$.fragment,u),B(c),a=!1},d(u){u&&m(e),l[4](null),Y(r),c&&c.d(),s=!1,o()}}}function Ys(l,e,t){let{content:n}=e,{onChange:r}=e,i,a;const s={jpg:[255,216],png:[137,80,78,71,13,10,26,10]},o=(h,d)=>d.every((p,v)=>p===h[v]);function c(h){bt[h?"unshift":"push"](()=>{a=h,t(2,a)})}const u=async()=>{var h,d;r(await((d=(h=a.files)==null?void 0:h[0])==null?void 0:d.arrayBuffer()))},f=()=>a.click();return l.$$set=h=>{"content"in h&&t(3,n=h.content),"onChange"in h&&t(0,r=h.onChange)},l.$$.update=()=>{if(l.$$.dirty&8){const h=new Uint8Array(n);let d;if(!n||!h.length)t(1,i="");else if(o(h,s.jpg))d=new Blob([h],{type:"image/jpeg"}),t(1,i=window.URL.createObjectURL(d));else if(o(h,s.png))d=new Blob([h],{type:"image/png"}),t(1,i=window.URL.createObjectURL(d));else{const p=js.imageWithData(n);p.didLoad.then(()=>{t(1,i=p.image.src)})}}},[r,i,a,n,c,u,f]}class qr extends ue{constructor(e){super(),fe(this,e,Ys,Ws,ae,{content:3,onChange:0})}}function xs(l){let e,t,n;return{c(){e=T("input"),this.h()},l(r){e=A(r,"INPUT",{type:!0}),this.h()},h(){C(e,"type","checkbox"),e.checked=l[0]},m(r,i){R(r,e,i),t||(n=pe(e,"click",function(){jt(l[1])&&l[1].apply(this,arguments)}),t=!0)},p(r,[i]){l=r,i&1&&(e.checked=l[0])},i:ie,o:ie,d(r){r&&m(e),t=!1,n()}}}function qs(l,e,t){let{checked:n}=e,{onClick:r}=e;return l.$$set=i=>{"checked"in i&&t(0,n=i.checked),"onClick"in i&&t(1,r=i.onClick)},[n,r]}class Dl extends ue{constructor(e){super(),fe(this,e,qs,xs,ae,{checked:0,onClick:1})}}function Js(l){let e,t;return{c(){e=T("div"),t=X("Params empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var r=I(e);t=K(r,"Params empty! Nothing to see here."),r.forEach(m),this.h()},h(){C(e,"class","empty svelte-oadag3")},m(n,r){R(n,e,r),b(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function Xs(l){let e,t,n;return t=new Zt({props:{columns:["","Index","Label","pData"],columnConfig:{Label:{stretch:!0}},rows:l[0].params.map(l[5])}}),{c(){e=T("div"),H(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","table-wrap svelte-oadag3")},m(r,i){R(r,e,i),W(t,e,null),n=!0},p(r,i){const a={};i&1&&(a.rows=r[0].params.map(r[5])),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),Y(t)}}}function Ks(l){let e,t,n,r;const i=[Xs,Js],a=[];function s(o,c){return o[0].params.length>0?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function Qs(l,e,t){let{content:n}=e,{onChange:r}=e;const i=c=>r(oe(n,u=>{u.params=Bt(u.params,c)})),a=(c,u)=>r(oe(n,f=>{const h=f.params[u];h&&(h.label=c)})),s=c=>r(oe(n,u=>{const f=u.params[c];f&&(f.pdata=f.pdata?0:1)})),o=(c,u)=>({"":{component:It,props:{onClick:()=>i(u),"aria-label":`remove param ${u}`}},Index:Me(u,4),Label:{component:Qe,props:{value:c.label,onChange:f=>a(f,u),style:"width: 100%"}},pData:{component:Dl,props:{checked:c.pdata>0,onClick:()=>s(u)}}});return l.$$set=c=>{"content"in c&&t(0,n=c.content),"onChange"in c&&t(4,r=c.onChange)},[n,i,a,s,r,o]}class Jr extends ue{constructor(e){super(),fe(this,e,Qs,Ks,ae,{content:0,onChange:4})}}function Zs(l){let e,t;return{c(){e=T("div"),t=X("Locals empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var r=I(e);t=K(r,"Locals empty! Nothing to see here."),r.forEach(m),this.h()},h(){C(e,"class","empty svelte-oadag3")},m(n,r){R(n,e,r),b(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function eo(l){let e,t,n;return t=new Zt({props:{columns:["","Index","Label"],columnConfig:{Label:{stretch:!0}},rows:l[0].locals.map(l[4])}}),{c(){e=T("div"),H(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","table-wrap svelte-oadag3")},m(r,i){R(r,e,i),W(t,e,null),n=!0},p(r,i){const a={};i&1&&(a.rows=r[0].locals.map(r[4])),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),Y(t)}}}function to(l){let e,t,n,r;const i=[eo,Zs],a=[];function s(o,c){return o[0].locals.length>0?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function no(l,e,t){let{content:n}=e,{onChange:r}=e;const i=o=>r(oe(n,c=>{c.locals=Bt(c.locals,o)})),a=(o,c)=>r(oe(n,u=>{u.locals[c]=o})),s=(o,c)=>({"":{component:It,props:{onClick:()=>i(c),"aria-label":`remove local ${c}`}},Index:Me(c,4),Label:{component:Qe,props:{value:o,onChange:u=>a(u,c),style:"width: 100%"}}});return l.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,r=o.onChange)},[n,i,a,r,s]}class Xr extends ue{constructor(e){super(),fe(this,e,no,to,ae,{content:0,onChange:3})}}function Kr(l){let e,t;return e=new Ue({props:{onClick:l[6],$$slots:{default:[ro]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.onClick=n[6]),r&256&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ro(l){let e;return{c(){e=X("Edit BHAV")},l(t){e=K(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function lo(l){let e,t;return{c(){e=X("Append new "),t=X(l[2])},l(n){e=K(n,"Append new "),t=K(n,l[2])},m(n,r){R(n,e,r),R(n,t,r)},p(n,r){r&4&&Fe(t,n[2])},d(n){n&&m(e),n&&m(t)}}}function io(l){let e,t,n,r=l[3]&&Kr(l);return t=new Ue({props:{onClick:l[4],$$slots:{default:[lo]},$$scope:{ctx:l}}}),{c(){r&&r.c(),e=O(),H(t.$$.fragment)},l(i){r&&r.l(i),e=M(i),q(t.$$.fragment,i)},m(i,a){r&&r.m(i,a),R(i,e,a),W(t,i,a),n=!0},p(i,a){i[3]?r?(r.p(i,a),a&8&&U(r,1)):(r=Kr(i),r.c(),U(r,1),r.m(e.parentNode,e)):r&&(me(),B(r,1,1,()=>{r=null}),ve());const s={};a&260&&(s.$$scope={dirty:a,ctx:i}),t.$set(s)},i(i){n||(U(r),U(t.$$.fragment,i),n=!0)},o(i){B(r),B(t.$$.fragment,i),n=!1},d(i){r&&r.d(i),i&&m(e),Y(t,i)}}}function ao(l){let e,t,n,r,i;return t=new ze({props:{secondary:!0,style:{display:"flex","align-items":"center",gap:"var(--spacing-md)"},$$slots:{default:[io]},$$scope:{ctx:l}}}),r=new zt({props:{tabs:{param:{title:"Params",hideClose:!0,content:Jr,props:{content:l[0],onChange:l[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:l[0],onChange:l[1]}}},activeTab:l[2],onChange:l[7],onClose:so,headingLevel:"h3",style:{border:"0",padding:"0",flex:"1",overflow:"hidden"},contentStyle:{overflow:"auto",padding:"0"}}}),{c(){e=T("div"),H(t.$$.fragment),n=O(),H(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=M(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","tprp-view svelte-kkgp8e")},m(a,s){R(a,e,s),W(t,e,null),b(e,n),W(r,e,null),i=!0},p(a,[s]){const o={};s&268&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&3&&(c.tabs={param:{title:"Params",hideClose:!0,content:Jr,props:{content:a[0],onChange:a[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:a[0],onChange:a[1]}}}),s&4&&(c.activeTab=a[2]),s&4&&(c.onChange=a[7]),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(r)}}}const so=()=>null;function oo(l,e,t){let n,r;et(l,be,f=>t(5,r=f));let{content:i}=e,{onChange:a}=e,s="param";const o=()=>a(oe(i,f=>{s==="param"?f.params.push({...wt.TPRP.params[0]}):f.locals.push("")})),c=()=>be.openResource(n),u=f=>{t(2,s=f)};return l.$$set=f=>{"content"in f&&t(0,i=f.content),"onChange"in f&&t(1,a=f.onChange)},l.$$.update=()=>{l.$$.dirty&32&&t(3,n=_e(r).linkedResourceId("BHAV"))},[i,a,s,n,o,r,c,u]}class co extends ue{constructor(e){super(),fe(this,e,oo,ao,ae,{content:0,onChange:1})}}function uo(l){let e,t;return{c(){e=T("span"),t=X("Warning: failed to find BCON file with matching instance id"),this.h()},l(n){e=A(n,"SPAN",{class:!0});var r=I(e);t=K(r,"Warning: failed to find BCON file with matching instance id"),r.forEach(m),this.h()},h(){C(e,"class","warn svelte-daywxd")},m(n,r){R(n,e,r),b(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function fo(l){let e,t;return e=new Ue({props:{onClick:l[8],$$slots:{default:[ho]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.onClick=n[8]),r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ho(l){let e;return{c(){e=X("Edit BCON")},l(t){e=K(t,"Edit BCON")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function go(l){let e;return{c(){e=X("Append new value")},l(t){e=K(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function _o(l){let e,t,n,r,i;const a=[fo,uo],s=[];function o(c,u){return c[2]?0:1}return e=o(l),t=s[e]=a[e](l),r=new Ue({props:{onClick:l[6],style:"margin-left: 5px",$$slots:{default:[go]},$$scope:{ctx:l}}}),{c(){t.c(),n=O(),H(r.$$.fragment)},l(c){t.l(c),n=M(c),q(r.$$.fragment,c)},m(c,u){s[e].m(c,u),R(c,n,u),W(r,c,u),i=!0},p(c,u){let f=e;e=o(c),e===f?s[e].p(c,u):(me(),B(s[f],1,1,()=>{s[f]=null}),ve(),t=s[e],t?t.p(c,u):(t=s[e]=a[e](c),t.c()),U(t,1),t.m(n.parentNode,n));const h={};u&1024&&(h.$$scope={dirty:u,ctx:c}),r.$set(h)},i(c){i||(U(t),U(r.$$.fragment,c),i=!0)},o(c){B(t),B(r.$$.fragment,c),i=!1},d(c){s[e].d(c),c&&m(n),Y(r,c)}}}function po(l){var n;let e,t;return e=new Zt({props:{columns:["","Value","Label","Default","Min","Max","Used"],columnConfig:{"":{shrink:!0}},rows:Ln(Math.max(l[0].items.length,((n=l[3])==null?void 0:n.length)??0),l[9])}}),{c(){H(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){W(e,r,i),t=!0},p(r,i){var s;const a={};i&11&&(a.rows=Ln(Math.max(r[0].items.length,((s=r[3])==null?void 0:s.length)??0),r[9])),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){Y(e,r)}}}function mo(l){let e,t,n,r,i;return t=new ze({props:{secondary:!0,style:{"margin-bottom":"5px"},$$slots:{default:[_o]},$$scope:{ctx:l}}}),r=new ze({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[po]},$$scope:{ctx:l}}}),{c(){e=T("div"),H(t.$$.fragment),n=O(),H(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=M(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","trcn-view svelte-daywxd")},m(a,s){R(a,e,s),W(t,e,null),b(e,n),W(r,e,null),i=!0},p(a,[s]){const o={};s&1028&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(r)}}}function vo(l,e,t){let n;et(l,be,d=>t(7,n=d));let{content:r}=e,{onChange:i}=e,a,s;const o=(d,p,v)=>{const w=r.items[v];return w?{component:Qe,props:{variant:p,maxLength:p==="hex"?4:void 0,onChange:E=>i(oe(r,y=>{const S=y.items[v];S&&(S[d]=E)})),value:w[d],style:"width: 100%; min-width: 75px;"}}:void 0},c=d=>{d.forEach((p,v)=>{p.constId=v+1})},u=()=>{i(oe(r,d=>{d.items.push({...wt.TRCN.items[0]}),c(d.items)}))},f=()=>a?be.openResource(a):null,h=d=>{const p=r.items[d];return{"":p?{component:It,props:{onClick:()=>{i(oe(r,v=>{v.items=Bt(v.items,d),c(v.items)}))},"aria-label":`delete line ${d}`}}:"",Value:(s==null?void 0:s[d])!==void 0?Me(s[d],4):void 0,Label:o("constName","text",d),Default:o("value","hex",d),Min:o("minValue","hex",d),Max:o("maxValue","hex",d),Used:p?{component:Dl,props:{checked:!!(p!=null&&p.used),onClick:()=>i(oe(r,v=>{const w=v.items[d];w&&(w.used=w.used?0:1)}))}}:""}};return l.$$set=d=>{"content"in d&&t(0,r=d.content),"onChange"in d&&t(1,i=d.onChange)},l.$$.update=()=>{var d;if(l.$$.dirty&132){t(2,a=_e(n).linkedResourceId("BCON"));const p=_e(n).resourceById(a);t(3,s=((d=p==null?void 0:p.contentChanges)==null?void 0:d.items)??(p==null?void 0:p.content.items))}},[r,i,a,s,o,c,u,n,f,h]}class bo extends ue{constructor(e){super(),fe(this,e,vo,mo,ae,{content:0,onChange:1})}}function Qr(l,e,t){const n=l.slice();return n[11]=e[t],n[13]=t,n}function Zr(l,e,t){const n=l.slice();return n[14]=e[t],n[16]=t,n}function el(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function tl(l){let e,t=l[17]+"",n,r;return{c(){e=T("option"),n=X(t),r=O(),this.h()},l(i){e=A(i,"OPTION",{});var a=I(e);n=K(a,t),r=M(a),a.forEach(m),this.h()},h(){e.__value=l[19],e.value=e.__value},m(i,a){R(i,e,a),b(e,n),b(e,r)},p:ie,d(i){i&&m(e)}}}function nl(l){var z,N,G,j,Q,le,Z,ee;let e,t,n=l[14]+"",r,i,a,s,o,c,u,f,h,d,p,v,w,E,y;function S(...ne){return l[8](l[13],l[16],...ne)}s=new Qe({props:{variant:"hex",maxLength:4,value:((j=(G=(N=(z=l[0])==null?void 0:z[l[13]])==null?void 0:N.items)==null?void 0:G[l[16]])==null?void 0:j.min)??0,onChange:S,style:"width: 100%; min-width: 75px;"}});function D(...ne){return l[9](l[13],l[16],...ne)}u=new Qe({props:{variant:"hex",maxLength:4,value:((ee=(Z=(le=(Q=l[0])==null?void 0:Q[l[13]])==null?void 0:le.items)==null?void 0:Z[l[16]])==null?void 0:ee.delta)??0,onChange:D,style:"width: 100%; min-width: 75px;"}});let L=l[2],P=[];for(let ne=0;ne<L.length;ne+=1)P[ne]=tl(el(l,L,ne));function J(...ne){return l[10](l[13],l[16],...ne)}return{c(){e=T("tr"),t=T("td"),r=X(n),i=O(),a=T("td"),H(s.$$.fragment),o=O(),c=T("td"),H(u.$$.fragment),f=O(),h=T("td"),d=T("select");for(let ne=0;ne<P.length;ne+=1)P[ne].c();v=O(),this.h()},l(ne){e=A(ne,"TR",{});var re=I(e);t=A(re,"TD",{class:!0});var ce=I(t);r=K(ce,n),ce.forEach(m),i=M(re),a=A(re,"TD",{class:!0});var se=I(a);q(s.$$.fragment,se),se.forEach(m),o=M(re),c=A(re,"TD",{class:!0});var Ee=I(c);q(u.$$.fragment,Ee),Ee.forEach(m),f=M(re),h=A(re,"TD",{class:!0});var de=I(h);d=A(de,"SELECT",{class:!0});var Oe=I(d);for(let xe=0;xe<P.length;xe+=1)P[xe].l(Oe);Oe.forEach(m),de.forEach(m),v=M(re),re.forEach(m),this.h()},h(){C(t,"class","svelte-10xwf4"),C(a,"class","svelte-10xwf4"),C(c,"class","svelte-10xwf4"),C(d,"class","svelte-10xwf4"),C(h,"class","svelte-10xwf4")},m(ne,re){var ce,se,Ee,de;R(ne,e,re),b(e,t),b(t,r),b(e,i),b(e,a),W(s,a,null),b(e,o),b(e,c),W(u,c,null),b(e,f),b(e,h),b(h,d);for(let Oe=0;Oe<P.length;Oe+=1)P[Oe].m(d,null);it(d,((de=(Ee=(se=(ce=l[0])==null?void 0:ce[l[13]])==null?void 0:se.items)==null?void 0:Ee[l[16]])==null?void 0:de.type)??0),b(e,v),w=!0,E||(y=pe(d,"change",J),E=!0)},p(ne,re){var Ee,de,Oe,xe,Ce,Be,te,he,De,Ie,Xe,Ze,ot,rt,lt,Ge;l=ne;const ce={};re&1&&(ce.value=((xe=(Oe=(de=(Ee=l[0])==null?void 0:Ee[l[13]])==null?void 0:de.items)==null?void 0:Oe[l[16]])==null?void 0:xe.min)??0),s.$set(ce);const se={};if(re&1&&(se.value=((he=(te=(Be=(Ce=l[0])==null?void 0:Ce[l[13]])==null?void 0:Be.items)==null?void 0:te[l[16]])==null?void 0:he.delta)??0),u.$set(se),re&4){L=l[2];let qe;for(qe=0;qe<L.length;qe+=1){const $t=el(l,L,qe);P[qe]?P[qe].p($t,re):(P[qe]=tl($t),P[qe].c(),P[qe].m(d,null))}for(;qe<P.length;qe+=1)P[qe].d(1);P.length=L.length}(!w||re&1&&p!==(p=((Ze=(Xe=(Ie=(De=l[0])==null?void 0:De[l[13]])==null?void 0:Ie.items)==null?void 0:Xe[l[16]])==null?void 0:Ze.type)??0))&&it(d,((Ge=(lt=(rt=(ot=l[0])==null?void 0:ot[l[13]])==null?void 0:rt.items)==null?void 0:lt[l[16]])==null?void 0:Ge.type)??0)},i(ne){w||(U(s.$$.fragment,ne),U(u.$$.fragment,ne),w=!0)},o(ne){B(s.$$.fragment,ne),B(u.$$.fragment,ne),w=!1},d(ne){ne&&m(e),Y(s),Y(u),Pe(P,ne),E=!1,y()}}}function wo(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,w,E=l[3],y=[];for(let D=0;D<E.length;D+=1)y[D]=nl(Zr(l,E,D));const S=D=>B(y[D],1,1,()=>{y[D]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),r=O(),i=T("th"),a=X("Min."),s=O(),o=T("th"),c=X("Delta"),u=O(),f=T("th"),h=X("Type"),d=O(),p=T("tbody");for(let D=0;D<y.length;D+=1)y[D].c();v=O(),this.h()},l(D){e=A(D,"TABLE",{class:!0});var L=I(e);t=A(L,"THEAD",{});var P=I(t);n=A(P,"TH",{class:!0}),I(n).forEach(m),r=M(P),i=A(P,"TH",{class:!0});var J=I(i);a=K(J,"Min."),J.forEach(m),s=M(P),o=A(P,"TH",{class:!0});var z=I(o);c=K(z,"Delta"),z.forEach(m),u=M(P),f=A(P,"TH",{class:!0});var N=I(f);h=K(N,"Type"),N.forEach(m),P.forEach(m),d=M(L),p=A(L,"TBODY",{});var G=I(p);for(let j=0;j<y.length;j+=1)y[j].l(G);G.forEach(m),L.forEach(m),v=M(D),this.h()},h(){C(n,"class","svelte-10xwf4"),C(i,"class","svelte-10xwf4"),C(o,"class","svelte-10xwf4"),C(f,"class","svelte-10xwf4"),C(e,"class","svelte-10xwf4")},m(D,L){R(D,e,L),b(e,t),b(t,n),b(t,r),b(t,i),b(i,a),b(t,s),b(t,o),b(o,c),b(t,u),b(t,f),b(f,h),b(e,d),b(e,p);for(let P=0;P<y.length;P+=1)y[P].m(p,null);R(D,v,L),w=!0},p(D,L){if(L&29){E=D[3];let P;for(P=0;P<E.length;P+=1){const J=Zr(D,E,P);y[P]?(y[P].p(J,L),U(y[P],1)):(y[P]=nl(J),y[P].c(),U(y[P],1),y[P].m(p,null))}for(me(),P=E.length;P<y.length;P+=1)S(P);ve()}},i(D){if(!w){for(let L=0;L<E.length;L+=1)U(y[L]);w=!0}},o(D){y=y.filter(Boolean);for(let L=0;L<y.length;L+=1)B(y[L]);w=!1},d(D){D&&m(e),Pe(y,D),D&&m(v)}}}function rl(l){let e,t;return e=new Et({props:{title:l[11],headingLevel:"h4",$$slots:{default:[wo]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&1048577&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function $o(l){let e,t,n=l[1],r=[];for(let a=0;a<n.length;a+=1)r[a]=rl(Qr(l,n,a));const i=a=>B(r[a],1,1,()=>{r[a]=null});return{c(){e=T("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);for(let o=0;o<r.length;o+=1)r[o].l(s);s.forEach(m),this.h()},h(){C(e,"class","motive-tables svelte-10xwf4")},m(a,s){R(a,e,s);for(let o=0;o<r.length;o+=1)r[o].m(e,null);t=!0},p(a,[s]){if(s&31){n=a[1];let o;for(o=0;o<n.length;o+=1){const c=Qr(a,n,o);r[o]?(r[o].p(c,s),U(r[o],1)):(r[o]=rl(c),r[o].c(),U(r[o],1),r[o].m(e,null))}for(me(),o=n.length;o<r.length;o+=1)i(o);ve()}},i(a){if(!t){for(let s=0;s<n.length;s+=1)U(r[s]);t=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)B(r[s]);t=!1},d(a){a&&m(e),Pe(r,a)}}}function yo(l,e,t){let n,{content:r}=e,{onChange:i}=e,{index:a}=e;const s=["Adult","Child","Toddler","Teen","Elder","Cat","Dog"],o=["None","Nice","Grouchy","Active","Lazy","Generous","Selfish","Playful","Serious","Outgoing","Shy","Neat","Sloppy","Cleaning skill","Cooking skill","Charisma skill","Mechanical skill","Gardening skill","Music skill","Creative skill","Literacy skill","Physical skill","Logic skill"],c=["Shopping","Scratch/chew","Unused","Mood","Mood + mem","Energy","Comfort","Hunger","Water/hygiene","Bladder","Unused","Sleep state","Amorous","Environment","Social","Fun"],u=(p,v,w,E)=>i(oe(r,y=>{var L;const S=((L=y.items[a])==null?void 0:L.humanGroups.groups)??[];for(;w>=S.length;)S.push({items:[]});const D=S[w];if(D){for(;E>=D.items.length;)D.items.push({min:0,delta:0,type:0});const P=D.items[E];P&&(P[p]=v)}})),f=(p,v,w)=>u("min",w,p,v),h=(p,v,w)=>u("delta",w,p,v),d=(p,v,w)=>{u("type",parseInt(w.currentTarget.value),p,v)};return l.$$set=p=>{"content"in p&&t(5,r=p.content),"onChange"in p&&t(6,i=p.onChange),"index"in p&&t(7,a=p.index)},l.$$.update=()=>{var p;l.$$.dirty&160&&t(0,n=((p=r.items[a])==null?void 0:p.humanGroups.groups)??[])},[n,s,o,c,u,r,i,a,f,h,d]}class ll extends ue{constructor(e){super(),fe(this,e,yo,$o,ae,{content:5,onChange:6,index:7})}}const ko=["Visitor","Joinable","Immediately","Consecutive","Children","Demo child","Adults","Debug menu","Auto first","Toddlers","Elders","Teens","Dogs","Cats","Allow nested","Nest"],Eo=["Babies",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],Co=["Visitor","Joinable?","Immediately","Consecutive?","Children","2-way?","Adults","Debug menu?","Auto first?","Toddlers","Elders","Teens","Adult big dogs","Adult cats","Allow nested","Nest"],Io=["Babies",null,null,null,null,null,null,null,"Puppies","Kittens","Elder cats","Adult small dogs","Elder small dogs",null,null];function il(l,e,t){const n=l.slice();return n[22]=e[t],n}function al(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function sl(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function ol(l,e,t){const n=l.slice();return n[29]=e[t],n[27]=t,n}function To(l){let e,t;return e=new Ue({props:{onClick:l[14],$$slots:{default:[Uo]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r[1]&1&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ao(l){let e,t;return e=new Ue({props:{onClick:l[13],$$slots:{default:[Do]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r[0]&1&&(i.onClick=n[13]),r[1]&1&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Uo(l){let e;return{c(){e=X("Create TTAS")},l(t){e=K(t,"Create TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Do(l){let e;return{c(){e=X("Edit TTAS")},l(t){e=K(t,"Edit TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function cl(l){let e,t,n=Me(l[27],8)+"",r,i,a=l[29]+"",s,o;return{c(){e=T("option"),t=X("("),r=X(n),i=X(") "),s=X(a),o=O(),this.h()},l(c){e=A(c,"OPTION",{});var u=I(e);t=K(u,"("),r=K(u,n),i=K(u,") "),s=K(u,a),o=M(u),u.forEach(m),this.h()},h(){e.__value=l[27],e.value=e.__value},m(c,u){R(c,e,u),b(e,t),b(e,r),b(e,i),b(e,s),b(e,o)},p(c,u){u[0]&8&&a!==(a=c[29]+"")&&Fe(s,a)},d(c){c&&m(e)}}}function ul(l){let e,t,n,r,i=l[25]+"",a,s,o,c;function u(){return l[18](l[27])}return{c(){e=T("label"),t=T("input"),r=O(),a=X(i),s=O(),this.h()},l(f){e=A(f,"LABEL",{});var h=I(e);t=A(h,"INPUT",{type:!0}),r=M(h),a=K(h,i),s=M(h),h.forEach(m),this.h()},h(){C(t,"type","checkbox"),t.checked=n=l[6](l[27])},m(f,h){R(f,e,h),b(e,t),b(e,r),b(e,a),b(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){l=f,h[0]&64&&n!==(n=l[6](l[27]))&&(t.checked=n),h[0]&32&&i!==(i=l[25]+"")&&Fe(a,i)},d(f){f&&m(e),o=!1,c()}}}function So(l){let e,t=l[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=ul(sl(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","checkbox-grid svelte-1tpy5t5")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&352){t=r[5];let a;for(a=0;a<t.length;a+=1){const s=sl(r,t,a);n[a]?n[a].p(s,i):(n[a]=ul(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function fl(l){let e,t,n,r,i=(l[25]??"?")+"",a,s,o,c;function u(){return l[19](l[27])}return{c(){e=T("label"),t=T("input"),r=O(),a=X(i),s=O(),this.h()},l(f){e=A(f,"LABEL",{});var h=I(e);t=A(h,"INPUT",{type:!0}),r=M(h),a=K(h,i),s=M(h),h.forEach(m),this.h()},h(){var f;C(t,"type","checkbox"),t.checked=n=((((f=l[1])==null?void 0:f.flags2)??0)&1<<l[27])>0},m(f,h){R(f,e,h),b(e,t),b(e,r),b(e,a),b(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){var d;l=f,h[0]&2&&n!==(n=((((d=l[1])==null?void 0:d.flags2)??0)&1<<l[27])>0)&&(t.checked=n),h[0]&16&&i!==(i=(l[25]??"?")+"")&&Fe(a,i)},d(f){f&&m(e),o=!1,c()}}}function Bo(l){let e,t=l[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=fl(al(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","checkbox-grid svelte-1tpy5t5")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&274){t=r[4];let a;for(a=0;a<t.length;a+=1){const s=al(r,t,a);n[a]?n[a].p(s,i):(n[a]=fl(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function hl(l){var a;let e,t;function n(...s){return l[21](l[22],...s)}const r=[l[22],{value:((a=l[1])==null?void 0:a[l[22].key])??0},{onChange:n},{style:"width: 100%"}];let i={};for(let s=0;s<r.length;s+=1)i=ge(i,r[s]);return e=new Qe({props:i}),{c(){H(e.$$.fragment)},l(s){q(e.$$.fragment,s)},m(s,o){W(e,s,o),t=!0},p(s,o){var u;l=s;const c=o[0]&134?Le(r,[o[0]&4&&kn(l[22]),o[0]&6&&{value:((u=l[1])==null?void 0:u[l[22].key])??0},o[0]&132&&{onChange:n},r[3]]):{};e.$set(c)},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){Y(e,s)}}}function Fo(l){var xe,Ce,Be;let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,w,E,y,S,D,L,P,J,z,N,G,j,Q,le,Z;const ee=[Ao,To],ne=[];function re(te,he){return te[0]?0:1}o=re(l),c=ne[o]=ee[o](l);let ce=l[3],se=[];for(let te=0;te<ce.length;te+=1)se[te]=cl(ol(l,ce,te));w=new Kt({props:{value:((xe=l[1])==null?void 0:xe.action)??0,onChange:l[16],label:"Action BHAV"}}),y=new Kt({props:{value:((Ce=l[1])==null?void 0:Ce.guard)??0,onChange:l[17],label:"Guardian BHAV"}}),L=new Et({props:{headingLevel:"h4",title:"Flags",style:"flex: 1",$$slots:{default:[So]},$$scope:{ctx:l}}}),J=new Et({props:{headingLevel:"h4",title:"Flags2",style:"flex: 1",$$slots:{default:[Bo]},$$scope:{ctx:l}}}),G=new Qe({props:{variant:"hex",value:((Be=l[1])==null?void 0:Be.attenuationCode)??0,onChange:l[20],label:"Attenuation code",style:"width: 100%"}});let Ee=l[2],de=[];for(let te=0;te<Ee.length;te+=1)de[te]=hl(il(l,Ee,te));const Oe=te=>B(de[te],1,1,()=>{de[te]=null});return{c(){e=T("div"),t=T("div"),n=T("div"),r=T("div"),i=T("label"),a=X("Pie string ID"),s=O(),c.c(),u=O(),f=T("select");for(let te=0;te<se.length;te+=1)se[te].c();d=O(),p=T("div"),v=O(),H(w.$$.fragment),E=O(),H(y.$$.fragment),S=O(),D=T("div"),H(L.$$.fragment),P=O(),H(J.$$.fragment),z=O(),N=T("div"),H(G.$$.fragment),j=O();for(let te=0;te<de.length;te+=1)de[te].c();this.h()},l(te){e=A(te,"DIV",{class:!0});var he=I(e);t=A(he,"DIV",{class:!0});var De=I(t);n=A(De,"DIV",{});var Ie=I(n);r=A(Ie,"DIV",{class:!0});var Xe=I(r);i=A(Xe,"LABEL",{for:!0});var Ze=I(i);a=K(Ze,"Pie string ID"),Ze.forEach(m),s=M(Xe),c.l(Xe),Xe.forEach(m),u=M(Ie),f=A(Ie,"SELECT",{id:!0,class:!0});var ot=I(f);for(let Ge=0;Ge<se.length;Ge+=1)se[Ge].l(ot);ot.forEach(m),Ie.forEach(m),d=M(De),p=A(De,"DIV",{}),I(p).forEach(m),v=M(De),q(w.$$.fragment,De),E=M(De),q(y.$$.fragment,De),De.forEach(m),S=M(he),D=A(he,"DIV",{class:!0});var rt=I(D);q(L.$$.fragment,rt),P=M(rt),q(J.$$.fragment,rt),rt.forEach(m),z=M(he),N=A(he,"DIV",{class:!0});var lt=I(N);q(G.$$.fragment,lt),j=M(lt);for(let Ge=0;Ge<de.length;Ge+=1)de[Ge].l(lt);lt.forEach(m),he.forEach(m),this.h()},h(){C(i,"for","pie-string-select"),C(r,"class","label-with-edit svelte-1tpy5t5"),C(f,"id","pie-string-select"),C(f,"class","svelte-1tpy5t5"),C(t,"class","input-grid svelte-1tpy5t5"),C(D,"class","flags-wrapper svelte-1tpy5t5"),C(N,"class","input-grid svelte-1tpy5t5"),C(e,"class","settings svelte-1tpy5t5")},m(te,he){var De;R(te,e,he),b(e,t),b(t,n),b(n,r),b(r,i),b(i,a),b(r,s),ne[o].m(r,null),b(n,u),b(n,f);for(let Ie=0;Ie<se.length;Ie+=1)se[Ie].m(f,null);it(f,((De=l[1])==null?void 0:De.strIndex)??0),b(t,d),b(t,p),b(t,v),W(w,t,null),b(t,E),W(y,t,null),b(e,S),b(e,D),W(L,D,null),b(D,P),W(J,D,null),b(e,z),b(e,N),W(G,N,null),b(N,j);for(let Ie=0;Ie<de.length;Ie+=1)de[Ie].m(N,null);Q=!0,le||(Z=pe(f,"change",l[15]),le=!0)},p(te,he){var lt,Ge,qe,$t,Rt;let De=o;if(o=re(te),o===De?ne[o].p(te,he):(me(),B(ne[De],1,1,()=>{ne[De]=null}),ve(),c=ne[o],c?c.p(te,he):(c=ne[o]=ee[o](te),c.c()),U(c,1),c.m(r,null)),he[0]&8){ce=te[3];let we;for(we=0;we<ce.length;we+=1){const yt=ol(te,ce,we);se[we]?se[we].p(yt,he):(se[we]=cl(yt),se[we].c(),se[we].m(f,null))}for(;we<se.length;we+=1)se[we].d(1);se.length=ce.length}(!Q||he[0]&2&&h!==(h=((lt=te[1])==null?void 0:lt.strIndex)??0))&&it(f,((Ge=te[1])==null?void 0:Ge.strIndex)??0);const Ie={};he[0]&2&&(Ie.value=((qe=te[1])==null?void 0:qe.action)??0),w.$set(Ie);const Xe={};he[0]&2&&(Xe.value=(($t=te[1])==null?void 0:$t.guard)??0),y.$set(Xe);const Ze={};he[0]&96|he[1]&1&&(Ze.$$scope={dirty:he,ctx:te}),L.$set(Ze);const ot={};he[0]&18|he[1]&1&&(ot.$$scope={dirty:he,ctx:te}),J.$set(ot);const rt={};if(he[0]&2&&(rt.value=((Rt=te[1])==null?void 0:Rt.attenuationCode)??0),G.$set(rt),he[0]&134){Ee=te[2];let we;for(we=0;we<Ee.length;we+=1){const yt=il(te,Ee,we);de[we]?(de[we].p(yt,he),U(de[we],1)):(de[we]=hl(yt),de[we].c(),U(de[we],1),de[we].m(N,null))}for(me(),we=Ee.length;we<de.length;we+=1)Oe(we);ve()}},i(te){if(!Q){U(c),U(w.$$.fragment,te),U(y.$$.fragment,te),U(L.$$.fragment,te),U(J.$$.fragment,te),U(G.$$.fragment,te);for(let he=0;he<Ee.length;he+=1)U(de[he]);Q=!0}},o(te){B(c),B(w.$$.fragment,te),B(y.$$.fragment,te),B(L.$$.fragment,te),B(J.$$.fragment,te),B(G.$$.fragment,te),de=de.filter(Boolean);for(let he=0;he<de.length;he+=1)B(de[he]);Q=!1},d(te){te&&m(e),ne[o].d(),Pe(se,te),Y(w),Y(y),Y(L),Y(J),Y(G),Pe(de,te),le=!1,Z()}}}function Ro(l,e,t){let n,r,i,a,s;et(l,be,N=>t(12,s=N));let{content:o}=e,{onChange:c}=e,{index:u}=e,f=[],h,d=[];const p=(N,G)=>c(oe(o,j=>{const Q=j.items[u];Q&&(Q[N]=G)})),v=(N,G)=>c(oe(o,j=>{const Q=j.items[u];Q&&(Q[N]^=1<<G)})),w=()=>h?be.openResource(h):null,E=()=>be.createNewResource("TTAS"),y=N=>{p("strIndex",parseInt(N.currentTarget.value))},S=N=>p("action",N),D=N=>p("guard",N),L=N=>v("flags",N),P=N=>v("flags2",N),J=N=>p("attenuationCode",N),z=(N,G)=>p(N.key,G);return l.$$set=N=>{"content"in N&&t(9,o=N.content),"onChange"in N&&t(10,c=N.onChange),"index"in N&&t(11,u=N.index)},l.$$.update=()=>{var N,G;if(l.$$.dirty[0]&512&&t(2,f=[{key:"attenuationValue",variant:"float",label:"Attenuation value"},{key:"autonomy",variant:"hex",maxLength:8,label:"Autonomy"},{key:"joinIndex",variant:"hex",maxLength:8,label:"Join index"},{key:"uiDisplayType",variant:"hex",maxLength:4,label:"UI display type",disabled:o.format<=69},{key:"objectType",variant:"hex",maxLength:8,label:"Object type",disabled:o.format<=76},{key:"facialAnimation",variant:"hex",maxLength:8,label:"Facial animation ID",disabled:o.format<=74},{key:"modelTableId",variant:"hex",maxLength:8,label:"Model table ID",disabled:o.format<=70},{key:"memoryIterMult",variant:"float",label:"Memory iterative multiplier",disabled:o.format<=76}]),l.$$.dirty[0]&2560&&t(1,n=o.items[u]),l.$$.dirty[0]&4097){t(0,h=_e(s).linkedResourceId("TTAS"));const j=_e(s).resourceById(h);t(3,d=(((N=j==null?void 0:j.contentChanges)==null?void 0:N.stringSets)??((G=j==null?void 0:j.content)==null?void 0:G.stringSets)??[]).map(Q=>Q.value))}l.$$.dirty[0]&2&&t(6,r=j=>{const Q=(((n==null?void 0:n.flags)??0)&1<<j)>0;return j===4||j===5||j===6?!Q:Q}),l.$$.dirty[0]&512&&t(5,i=o.format>84?Co:ko),l.$$.dirty[0]&512&&t(4,a=o.format>84?Io:Eo)},[h,n,f,d,a,i,r,p,v,o,c,u,s,w,E,y,S,D,L,P,J,z]}class dl extends ue{constructor(e){super(),fe(this,e,Ro,Fo,ae,{content:9,onChange:10,index:11},null,[-1,-1])}}function gl(l,e,t){const n=l.slice();return n[12]=e[t],n[14]=t,n}function _l(l){var E;let e,t,n,r,i,a,s,o=(((E=l[4])==null?void 0:E[l[12].strIndex])??"")+"",c,u,f,h,d,p;function v(){return l[9](l[14])}t=new It({props:{onClick:v,"aria-label":`remove interaction ${l[14]}`}});function w(){return l[10](l[14])}return{c(){e=T("li"),H(t.$$.fragment),n=O(),r=T("button"),i=X("("),a=X(l[14]),s=X(") "),c=X(o),f=O(),this.h()},l(y){e=A(y,"LI",{class:!0});var S=I(e);q(t.$$.fragment,S),n=M(S),r=A(S,"BUTTON",{class:!0,role:!0,"aria-selected":!0});var D=I(r);i=K(D,"("),a=K(D,l[14]),s=K(D,") "),c=K(D,o),D.forEach(m),f=M(S),S.forEach(m),this.h()},h(){C(r,"class","interaction-option svelte-ba2np1"),C(r,"role","option"),C(r,"aria-selected",u=l[3]===l[14]),C(e,"class","svelte-ba2np1"),Ae(e,"active-interaction",l[3]===l[14])},m(y,S){R(y,e,S),W(t,e,null),b(e,n),b(e,r),b(r,i),b(r,a),b(r,s),b(r,c),b(e,f),h=!0,d||(p=pe(r,"click",w),d=!0)},p(y,S){var D;l=y,(!h||S&17)&&o!==(o=(((D=l[4])==null?void 0:D[l[12].strIndex])??"")+"")&&Fe(c,o),(!h||S&8&&u!==(u=l[3]===l[14]))&&C(r,"aria-selected",u),(!h||S&8)&&Ae(e,"active-interaction",l[3]===l[14])},i(y){h||(U(t.$$.fragment,y),h=!0)},o(y){B(t.$$.fragment,y),h=!1},d(y){y&&m(e),Y(t),d=!1,p()}}}function Po(l){let e;return{c(){e=X("Append new interaction")},l(t){e=K(t,"Append new interaction")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Lo(l){let e,t,n,r,i,a,s,o,c=l[0].items,u=[];for(let h=0;h<c.length;h+=1)u[h]=_l(gl(l,c,h));const f=h=>B(u[h],1,1,()=>{u[h]=null});return i=new Qe({props:{label:"Format",variant:"hex",maxLength:8,onChange:l[7],value:l[0].format,style:"width: 100%"}}),s=new Ue({props:{onClick:l[6],style:"margin-bottom: 5px",$$slots:{default:[Po]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("ol");for(let h=0;h<u.length;h+=1)u[h].c();n=O(),r=T("div"),H(i.$$.fragment),a=O(),H(s.$$.fragment),this.h()},l(h){e=A(h,"DIV",{class:!0});var d=I(e);t=A(d,"OL",{class:!0,role:!0});var p=I(t);for(let w=0;w<u.length;w+=1)u[w].l(p);p.forEach(m),n=M(d),r=A(d,"DIV",{class:!0});var v=I(r);q(i.$$.fragment,v),a=M(v),q(s.$$.fragment,v),v.forEach(m),d.forEach(m),this.h()},h(){C(t,"class","interaction-select svelte-ba2np1"),C(t,"role","listbox"),C(r,"class","controls-y svelte-ba2np1"),C(e,"class","controls-x svelte-ba2np1")},m(h,d){R(h,e,d),b(e,t);for(let p=0;p<u.length;p+=1)u[p].m(t,null);b(e,n),b(e,r),W(i,r,null),b(r,a),W(s,r,null),o=!0},p(h,d){if(d&57){c=h[0].items;let w;for(w=0;w<c.length;w+=1){const E=gl(h,c,w);u[w]?(u[w].p(E,d),U(u[w],1)):(u[w]=_l(E),u[w].c(),U(u[w],1),u[w].m(t,null))}for(me(),w=c.length;w<u.length;w+=1)f(w);ve()}const p={};d&1&&(p.value=h[0].format),i.$set(p);const v={};d&32768&&(v.$$scope={dirty:d,ctx:h}),s.$set(v)},i(h){if(!o){for(let d=0;d<c.length;d+=1)U(u[d]);U(i.$$.fragment,h),U(s.$$.fragment,h),o=!0}},o(h){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)B(u[d]);B(i.$$.fragment,h),B(s.$$.fragment,h),o=!1},d(h){h&&m(e),Pe(u,h),Y(i),Y(s)}}}function Oo(l){let e,t;return e=new ze({props:{secondary:!0,style:{"margin-top":"var(--spacing-sm)"},$$slots:{default:[No]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&32768&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Mo(l){let e,t;return e=new zt({props:{tabs:{settings:{title:"Settings",content:dl,hideClose:!0,props:{content:l[0],onChange:l[1],index:l[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:l[0],onChange:l[1],index:l[3]}}},activeTab:l[2],onChange:l[11],onClose:jo,headingLevel:"h3",style:{flex:"1",background:"transparent",border:"0",overflow:"hidden",padding:"0","margin-top":"5px"},contentStyle:{overflow:"auto"}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,r){const i={};r&11&&(i.tabs={settings:{title:"Settings",content:dl,hideClose:!0,props:{content:n[0],onChange:n[1],index:n[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:n[0],onChange:n[1],index:n[3]}}}),r&4&&(i.activeTab=n[2]),r&4&&(i.onChange=n[11]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function No(l){let e;return{c(){e=X("No interaction selected")},l(t){e=K(t,"No interaction selected")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Vo(l){let e,t,n,r,i,a;t=new ze({props:{secondary:!0,$$slots:{default:[Lo]},$$scope:{ctx:l}}});const s=[Mo,Oo],o=[];function c(u,f){return u[0].items[u[3]]?0:1}return r=c(l),i=o[r]=s[r](l),{c(){e=T("div"),H(t.$$.fragment),n=O(),i.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=I(e);q(t.$$.fragment,f),n=M(f),i.l(f),f.forEach(m),this.h()},h(){C(e,"class","ttab-view svelte-ba2np1")},m(u,f){R(u,e,f),W(t,e,null),b(e,n),o[r].m(e,null),a=!0},p(u,[f]){const h={};f&32793&&(h.$$scope={dirty:f,ctx:u}),t.$set(h);let d=r;r=c(u),r===d?o[r].p(u,f):(me(),B(o[d],1,1,()=>{o[d]=null}),ve(),i=o[r],i?i.p(u,f):(i=o[r]=s[r](u),i.c()),U(i,1),i.m(e,null))},i(u){a||(U(t.$$.fragment,u),U(i),a=!0)},o(u){B(t.$$.fragment,u),B(i),a=!1},d(u){u&&m(e),Y(t),o[r].d()}}}const jo=()=>null;function zo(l,e,t){let n;et(l,be,v=>t(8,n=v));let{content:r}=e,{onChange:i}=e,a="settings",s=0,o=[];const c=v=>i(oe(r,w=>{w.items=Bt(w.items,v)})),u=()=>i(oe(r,v=>{v.items.push({...wt.TTAB.items[0]})})),f=v=>i(oe(r,w=>{w.format=v})),h=v=>c(v),d=v=>{t(3,s=v)},p=v=>t(2,a=v);return l.$$set=v=>{"content"in v&&t(0,r=v.content),"onChange"in v&&t(1,i=v.onChange)},l.$$.update=()=>{var v,w;if(l.$$.dirty&256){const E=_e(n).linkedResourceId("TTAS"),y=_e(n).resourceById(E);t(4,o=(((v=y==null?void 0:y.contentChanges)==null?void 0:v.stringSets)??((w=y==null?void 0:y.content)==null?void 0:w.stringSets)??[]).map(S=>S.value))}},[r,i,a,s,o,c,u,f,n,h,d,p]}class Go extends ue{constructor(e){super(),fe(this,e,zo,Vo,ae,{content:0,onChange:1})}}function Ho(l){let e;return{c(){e=X("No view for this resource type")},l(t){e=K(t,"No view for this resource type")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Wo(l){let e,t;return e=new ze({props:{secondary:!0,$$slots:{default:[Ho]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p(n,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}class Yo extends ue{constructor(e){super(),fe(this,e,null,Wo,ae,{})}}const Vt={BCON:ls,CTSS:fn,GLOB:os,JFIF:qr,NREF:fs,OBJD:Ts,OBJF:Ps,STR:fn,TGA:qr,TPRP:co,TRCN:bo,TTAB:Go,TTAS:fn};function pl(l){if(l)return Vt[mt(l.meta.typeId)]??Yo}function ml(l,e,t){const n=l.slice();return n[13]=e[t],n}function xo(l){let e,t;return e=new ka({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function qo(l){let e,t;return e=new wa({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function vl(l,e){let t,n=e[13]+"",r;return{key:l,first:null,c(){t=T("option"),r=X(n),this.h()},l(i){t=A(i,"OPTION",{});var a=I(t);r=K(a,n),a.forEach(m),this.h()},h(){t.__value=e[13],t.value=t.__value,this.first=t},m(i,a){R(i,t,a),b(t,r)},p(i,a){e=i},d(i){i&&m(t)}}}function Jo(l){let e,t;return e=new Ua({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Xo(l){let e,t;return e=new Ia({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ko(l){let e,t,n,r=[],i=new Map,a,s,o,c,u,f,h,d,p=Object.keys(Vt);const v=w=>w[13];for(let w=0;w<p.length;w+=1){let E=ml(l,p,w),y=v(E);i.set(y,r[w]=vl(y,E))}return o=new Ue({props:{variant:"skeuomorphic",size:25,onClick:l[5],"aria-label":"cancel",style:"margin-right: 5px;",$$slots:{default:[Jo]},$$scope:{ctx:l}}}),u=new Ue({props:{variant:"skeuomorphic",size:25,onClick:l[12],"aria-label":"submit",$$slots:{default:[Xo]},$$scope:{ctx:l}}}),{c(){e=T("label"),t=X(`Type:
			`),n=T("select");for(let w=0;w<r.length;w+=1)r[w].c();a=O(),s=T("div"),H(o.$$.fragment),c=O(),H(u.$$.fragment),this.h()},l(w){e=A(w,"LABEL",{class:!0});var E=I(e);t=K(E,`Type:
			`),n=A(E,"SELECT",{class:!0});var y=I(n);for(let D=0;D<r.length;D+=1)r[D].l(y);y.forEach(m),E.forEach(m),a=M(w),s=A(w,"DIV",{class:!0});var S=I(s);q(o.$$.fragment,S),c=M(S),q(u.$$.fragment,S),S.forEach(m),this.h()},h(){C(n,"class","svelte-1sk2j0c"),C(e,"class","modal-content svelte-1sk2j0c"),C(s,"class","modal-controls svelte-1sk2j0c")},m(w,E){R(w,e,E),b(e,t),b(e,n);for(let y=0;y<r.length;y+=1)r[y].m(n,null);it(n,l[3]),l[11](n),R(w,a,E),R(w,s,E),W(o,s,null),b(s,c),W(u,s,null),f=!0,h||(d=pe(n,"input",l[6]),h=!0)},p(w,E){E&0&&(p=Object.keys(Vt),r=Qt(r,E,v,1,w,p,i,n,Ml,vl,null,ml)),(!f||E&8)&&it(n,w[3]);const y={};E&65536&&(y.$$scope={dirty:E,ctx:w}),o.$set(y);const S={};E&8&&(S.onClick=w[12]),E&65536&&(S.$$scope={dirty:E,ctx:w}),u.$set(S)},i(w){f||(U(o.$$.fragment,w),U(u.$$.fragment,w),f=!0)},o(w){B(o.$$.fragment,w),B(u.$$.fragment,w),f=!1},d(w){w&&m(e);for(let E=0;E<r.length;E+=1)r[E].d();l[11](null),w&&m(a),w&&m(s),Y(o),Y(u),h=!1,d()}}}function Qo(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v;o=new Ue({props:{variant:"skeuomorphic",size:25,style:"margin: 0 5px; padding: 1px;",onClick:l[8],tooltip:"Download package","aria-label":"download package",$$slots:{default:[xo]},$$scope:{ctx:l}}});let w={variant:"skeuomorphic",size:25,style:"padding: 1px;",onClick:l[9],tooltip:"Add resource","aria-label":"add resource",$$slots:{default:[qo]},$$scope:{ctx:l}};return u=new Ue({props:w}),l[10](u),h=new Na({props:{title:"Add new resource",isOpen:l[2],onClose:l[5],$$slots:{default:[Ko]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("label"),n=X("Search"),r=O(),i=T("div"),a=T("input"),s=O(),H(o.$$.fragment),c=O(),H(u.$$.fragment),f=O(),H(h.$$.fragment),this.h()},l(E){e=A(E,"DIV",{});var y=I(e);t=A(y,"LABEL",{for:!0,class:!0});var S=I(t);n=K(S,"Search"),S.forEach(m),r=M(y),i=A(y,"DIV",{class:!0});var D=I(i);a=A(D,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),s=M(D),q(o.$$.fragment,D),c=M(D),q(u.$$.fragment,D),D.forEach(m),f=M(y),q(h.$$.fragment,y),y.forEach(m),this.h()},h(){C(t,"for","file-search"),C(t,"class","search-label svelte-1sk2j0c"),C(a,"id","file-search"),C(a,"type","text"),C(a,"placeholder","File name, file type, group ID, or instance ID"),C(a,"class","svelte-1sk2j0c"),C(i,"class","actions svelte-1sk2j0c")},m(E,y){R(E,e,y),b(e,t),b(t,n),b(e,r),b(e,i),b(i,a),Pn(a,l[0]),b(i,s),W(o,i,null),b(i,c),W(u,i,null),b(e,f),W(h,e,null),d=!0,p||(v=pe(a,"input",l[7]),p=!0)},p(E,[y]){y&1&&a.value!==E[0]&&Pn(a,E[0]);const S={};y&65536&&(S.$$scope={dirty:y,ctx:E}),o.$set(S);const D={};y&4&&(D.onClick=E[9]),y&65536&&(D.$$scope={dirty:y,ctx:E}),u.$set(D);const L={};y&4&&(L.isOpen=E[2]),y&65546&&(L.$$scope={dirty:y,ctx:E}),h.$set(L)},i(E){d||(U(o.$$.fragment,E),U(u.$$.fragment,E),U(h.$$.fragment,E),d=!0)},o(E){B(o.$$.fragment,E),B(u.$$.fragment,E),B(h.$$.fragment,E),d=!1},d(E){E&&m(e),Y(o),l[10](null),Y(u),Y(h),p=!1,v()}}}function Zo(l,e,t){let{search:n=""}=e,r=!1,i=Object.keys(Vt)[0],a,s;const o=()=>{t(2,r=!1),t(3,i=Object.keys(Vt)[0]),s.focus()},c=w=>{t(3,i=w.target.value)};function u(){n=this.value,t(0,n)}const f=()=>be.downloadActivePackage(),h=()=>{t(2,r=!0)};function d(w){bt[w?"unshift":"push"](()=>{s=w,t(4,s)})}function p(w){bt[w?"unshift":"push"](()=>{a=w,t(1,a)})}const v=()=>{be.createNewResource(i),o()};return l.$$set=w=>{"search"in w&&t(0,n=w.search)},l.$$.update=()=>{l.$$.dirty&2&&(a==null||a.focus())},[n,a,r,i,s,o,c,u,f,h,d,p,v]}class ec extends ue{constructor(e){super(),fe(this,e,Zo,Qo,ae,{search:0})}}function bl(l,e,t){const n=l.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function tc(l){let e,t,n=l[2](l[7])+"",r,i,a,s=mt(l[7].meta.typeId)+"",o,c,u,f,h,d,p,v,w=Me(l[7].meta.groupId)+"",E,y,S,D,L,P,J,z=Me(l[7].meta.instanceId2,8)+"",N,G,j,Q,le,Z,ee,ne=Me(l[7].meta.instanceId,8)+"",re;return{c(){e=T("div"),t=T("div"),r=X(n),i=O(),a=T("div"),o=X(s),c=O(),u=T("dl"),f=T("div"),h=T("dt"),d=X("Group"),p=O(),v=T("dd"),E=X(w),y=O(),S=T("div"),D=T("dt"),L=X("Instance (High)"),P=O(),J=T("dd"),N=X(z),G=O(),j=T("div"),Q=T("dt"),le=X("Instance"),Z=O(),ee=T("dd"),re=X(ne),this.h()},l(ce){e=A(ce,"DIV",{class:!0});var se=I(e);t=A(se,"DIV",{class:!0});var Ee=I(t);r=K(Ee,n),Ee.forEach(m),i=M(se),a=A(se,"DIV",{class:!0});var de=I(a);o=K(de,s),de.forEach(m),se.forEach(m),c=M(ce),u=A(ce,"DL",{class:!0});var Oe=I(u);f=A(Oe,"DIV",{class:!0});var xe=I(f);h=A(xe,"DT",{class:!0});var Ce=I(h);d=K(Ce,"Group"),Ce.forEach(m),p=M(xe),v=A(xe,"DD",{class:!0});var Be=I(v);E=K(Be,w),Be.forEach(m),y=M(xe),xe.forEach(m),S=A(Oe,"DIV",{class:!0});var te=I(S);D=A(te,"DT",{class:!0});var he=I(D);L=K(he,"Instance (High)"),he.forEach(m),P=M(te),J=A(te,"DD",{class:!0});var De=I(J);N=K(De,z),De.forEach(m),G=M(te),te.forEach(m),j=A(Oe,"DIV",{class:!0});var Ie=I(j);Q=A(Ie,"DT",{class:!0});var Xe=I(Q);le=K(Xe,"Instance"),Xe.forEach(m),Z=M(Ie),ee=A(Ie,"DD",{class:!0});var Ze=I(ee);re=K(Ze,ne),Ze.forEach(m),Ie.forEach(m),Oe.forEach(m),this.h()},h(){C(t,"class","filename svelte-1odav1k"),C(a,"class","type svelte-1odav1k"),C(e,"class","file-info svelte-1odav1k"),C(h,"class","svelte-1odav1k"),C(v,"class","svelte-1odav1k"),C(f,"class","file-meta svelte-1odav1k"),C(D,"class","svelte-1odav1k"),C(J,"class","svelte-1odav1k"),C(S,"class","file-meta svelte-1odav1k"),C(Q,"class","svelte-1odav1k"),C(ee,"class","svelte-1odav1k"),C(j,"class","file-meta svelte-1odav1k"),C(u,"class","svelte-1odav1k")},m(ce,se){R(ce,e,se),b(e,t),b(t,r),b(e,i),b(e,a),b(a,o),R(ce,c,se),R(ce,u,se),b(u,f),b(f,h),b(h,d),b(f,p),b(f,v),b(v,E),b(f,y),b(u,S),b(S,D),b(D,L),b(S,P),b(S,J),b(J,N),b(S,G),b(u,j),b(j,Q),b(Q,le),b(j,Z),b(j,ee),b(ee,re)},p(ce,se){se&2&&n!==(n=ce[2](ce[7])+"")&&Fe(r,n),se&2&&s!==(s=mt(ce[7].meta.typeId)+"")&&Fe(o,s),se&2&&w!==(w=Me(ce[7].meta.groupId)+"")&&Fe(E,w),se&2&&z!==(z=Me(ce[7].meta.instanceId2,8)+"")&&Fe(N,z),se&2&&ne!==(ne=Me(ce[7].meta.instanceId,8)+"")&&Fe(re,ne)},d(ce){ce&&m(e),ce&&m(c),ce&&m(u)}}}function wl(l,e){let t,n,r,i;function a(){return e[5](e[6])}return n=new Ue({props:{variant:"block",onClick:a,style:"padding: 5px 15px;",$$slots:{default:[tc]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=T("li"),H(n.$$.fragment),r=O(),this.h()},l(s){t=A(s,"LI",{class:!0});var o=I(t);q(n.$$.fragment,o),r=M(o),o.forEach(m),this.h()},h(){C(t,"class","svelte-1odav1k"),this.first=t},m(s,o){R(s,t,o),W(n,t,null),b(t,r),i=!0},p(s,o){e=s;const c={};o&2&&(c.onClick=a),o&1026&&(c.$$scope={dirty:o,ctx:e}),n.$set(c)},i(s){i||(U(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&m(t),Y(n)}}}function nc(l){let e,t,n,r,i,a=[],s=new Map,o;function c(d){l[4](d)}let u={};l[0]!==void 0&&(u.search=l[0]),t=new ec({props:u}),bt.push(()=>Nl(t,"search",c,l[0]));let f=l[1];const h=d=>d[6];for(let d=0;d<f.length;d+=1){let p=bl(l,f,d),v=h(p);s.set(v,a[d]=wl(v,p))}return{c(){e=T("div"),H(t.$$.fragment),r=O(),i=T("ul");for(let d=0;d<a.length;d+=1)a[d].c();this.h()},l(d){e=A(d,"DIV",{class:!0});var p=I(e);q(t.$$.fragment,p),r=M(p),i=A(p,"UL",{class:!0});var v=I(i);for(let w=0;w<a.length;w+=1)a[w].l(v);v.forEach(m),p.forEach(m),this.h()},h(){C(i,"class","svelte-1odav1k"),C(e,"class","file-list svelte-1odav1k")},m(d,p){R(d,e,p),W(t,e,null),b(e,r),b(e,i);for(let v=0;v<a.length;v+=1)a[v].m(i,null);o=!0},p(d,[p]){const v={};!n&&p&1&&(n=!0,v.search=d[0],Vl(()=>n=!1)),t.$set(v),p&6&&(f=d[1],me(),a=Qt(a,p,h,1,d,f,s,i,yn,wl,null,bl),ve())},i(d){if(!o){U(t.$$.fragment,d);for(let p=0;p<f.length;p+=1)U(a[p]);o=!0}},o(d){B(t.$$.fragment,d);for(let p=0;p<a.length;p+=1)B(a[p]);o=!1},d(d){d&&m(e),Y(t);for(let p=0;p<a.length;p+=1)a[p].d()}}}function rc(l,e,t){let n;et(l,Al,c=>t(3,n=c));let r="",i;const a=c=>{var u;return((u=c.content)==null?void 0:u.filename)||Gl[mt(c.meta.typeId)]||""};function s(c){r=c,t(0,r)}const o=c=>be.openResource(c);return l.$$.update=()=>{if(l.$$.dirty&9){const c=new RegExp(r,"i");t(1,i=r?Object.entries((n==null?void 0:n.resources)??{}).filter(([,u])=>Me(u.meta.groupId,8).match(c)||Me(u.meta.instanceId,8).match(c)||Me(u.meta.instanceId2,8).match(c)||a(u).toUpperCase().match(c)||mt(u.meta.typeId).match(c)):Object.entries((n==null?void 0:n.resources)??{}))}},[r,i,a,n,s,o]}class lc extends ue{constructor(e){super(),fe(this,e,rc,nc,ae,{})}}function ic(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function ac(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class sc extends ue{constructor(e){super(),fe(this,e,ac,ic,ae,{})}}function oc(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function cc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class uc extends ue{constructor(e){super(),fe(this,e,cc,oc,ae,{})}}function fc(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function hc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class dc extends ue{constructor(e){super(),fe(this,e,hc,fc,ae,{})}}function gc(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function _c(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class pc extends ue{constructor(e){super(),fe(this,e,_c,gc,ae,{})}}function mc(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"),Ye(e,r)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function vc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),je(n)))},e=je(e),[e]}class bc extends ue{constructor(e){super(),fe(this,e,vc,mc,ae,{})}}function $l(l){var n;let e,t;return e=new Qe({props:{label:"File name",value:(n=l[1])==null?void 0:n.filename,onChange:l[3],style:"margin-bottom: 15px; width: 100%;"}}),{c(){H(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){W(e,r,i),t=!0},p(r,i){var s;const a={};i&2&&(a.value=(s=r[1])==null?void 0:s.filename),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){Y(e,r)}}}function wc(l){let e,t;return e=new dc({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function $c(l){let e,t;return e=new uc({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function yc(l){let e,t,n,r;const i=[$c,wc],a=[];function s(o,c){return o[0]?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,c){let u=e;e=s(o),e!==u&&(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t||(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function kc(l){let e,t;return e=new bc({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ec(l){let e,t;return e=new sc({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Cc(l){let e,t;return e=new pc({props:{height:20}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){W(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ic(l){var z,N,G;let e,t=l[1]&&!(l[1]instanceof ArrayBuffer)&&Object.hasOwn(l[1],"filename"),n,r,i,a,s,o,c,u,f,h,d,p,v,w,E,y,S,D,L,P,J=t&&$l(l);return a=new Qe({props:{variant:"hex",maxLength:8,label:"Group ID",value:((z=l[2])==null?void 0:z.groupId)??0,onChange:l[4]("groupId"),style:"width: 100%"}}),c=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID (High)",value:((N=l[2])==null?void 0:N.instanceId2)??0,onChange:l[4]("instanceId2"),style:"width: 100%"}}),h=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID",value:((G=l[2])==null?void 0:G.instanceId)??0,onChange:l[4]("instanceId"),style:"width: 100%"}}),v=new Ue({props:{disabled:!l[0],onClick:l[7],variant:"skeuomorphic",tooltip:"Save changes","aria-label":"Save changes",$$slots:{default:[yc]},$$scope:{ctx:l}}}),E=new Ue({props:{disabled:!l[0],onClick:l[8],variant:"skeuomorphic",tooltip:"Abandon changes","aria-label":"Abandon changes",$$slots:{default:[kc]},$$scope:{ctx:l}}}),S=new Ue({props:{onClick:l[9],variant:"skeuomorphic",tooltip:"Clone resource","aria-label":"Clone resource",$$slots:{default:[Ec]},$$scope:{ctx:l}}}),L=new Ue({props:{onClick:l[10],variant:"skeuomorphic",tooltip:"Delete resource","aria-label":"Delete resource",$$slots:{default:[Cc]},$$scope:{ctx:l}}}),{c(){e=T("div"),J&&J.c(),n=O(),r=T("div"),i=T("div"),H(a.$$.fragment),s=O(),o=T("div"),H(c.$$.fragment),u=O(),f=T("div"),H(h.$$.fragment),d=O(),p=T("div"),H(v.$$.fragment),w=O(),H(E.$$.fragment),y=O(),H(S.$$.fragment),D=O(),H(L.$$.fragment),this.h()},l(j){e=A(j,"DIV",{});var Q=I(e);J&&J.l(Q),n=M(Q),r=A(Q,"DIV",{class:!0});var le=I(r);i=A(le,"DIV",{class:!0});var Z=I(i);q(a.$$.fragment,Z),Z.forEach(m),s=M(le),o=A(le,"DIV",{class:!0});var ee=I(o);q(c.$$.fragment,ee),ee.forEach(m),u=M(le),f=A(le,"DIV",{class:!0});var ne=I(f);q(h.$$.fragment,ne),ne.forEach(m),le.forEach(m),d=M(Q),p=A(Q,"DIV",{class:!0});var re=I(p);q(v.$$.fragment,re),w=M(re),q(E.$$.fragment,re),y=M(re),q(S.$$.fragment,re),D=M(re),q(L.$$.fragment,re),re.forEach(m),Q.forEach(m),this.h()},h(){C(i,"class","input-wrapper svelte-xzft46"),C(o,"class","input-wrapper svelte-xzft46"),C(f,"class","input-wrapper svelte-xzft46"),C(r,"class","meta svelte-xzft46"),C(p,"class","actions svelte-xzft46")},m(j,Q){R(j,e,Q),J&&J.m(e,null),b(e,n),b(e,r),b(r,i),W(a,i,null),b(r,s),b(r,o),W(c,o,null),b(r,u),b(r,f),W(h,f,null),b(e,d),b(e,p),W(v,p,null),b(p,w),W(E,p,null),b(p,y),W(S,p,null),b(p,D),W(L,p,null),P=!0},p(j,[Q]){var Ee,de,Oe;Q&2&&(t=j[1]&&!(j[1]instanceof ArrayBuffer)&&Object.hasOwn(j[1],"filename")),t?J?(J.p(j,Q),Q&2&&U(J,1)):(J=$l(j),J.c(),U(J,1),J.m(e,n)):J&&(me(),B(J,1,1,()=>{J=null}),ve());const le={};Q&4&&(le.value=((Ee=j[2])==null?void 0:Ee.groupId)??0),a.$set(le);const Z={};Q&4&&(Z.value=((de=j[2])==null?void 0:de.instanceId2)??0),c.$set(Z);const ee={};Q&4&&(ee.value=((Oe=j[2])==null?void 0:Oe.instanceId)??0),h.$set(ee);const ne={};Q&1&&(ne.disabled=!j[0]),Q&2049&&(ne.$$scope={dirty:Q,ctx:j}),v.$set(ne);const re={};Q&1&&(re.disabled=!j[0]),Q&2048&&(re.$$scope={dirty:Q,ctx:j}),E.$set(re);const ce={};Q&2048&&(ce.$$scope={dirty:Q,ctx:j}),S.$set(ce);const se={};Q&2048&&(se.$$scope={dirty:Q,ctx:j}),L.$set(se)},i(j){P||(U(J),U(a.$$.fragment,j),U(c.$$.fragment,j),U(h.$$.fragment,j),U(v.$$.fragment,j),U(E.$$.fragment,j),U(S.$$.fragment,j),U(L.$$.fragment,j),P=!0)},o(j){B(J),B(a.$$.fragment,j),B(c.$$.fragment,j),B(h.$$.fragment,j),B(v.$$.fragment,j),B(E.$$.fragment,j),B(S.$$.fragment,j),B(L.$$.fragment,j),P=!1},d(j){j&&m(e),J&&J.d(),Y(a),Y(c),Y(h),Y(v),Y(E),Y(S),Y(L)}}}function Tc(l,e,t){let n,r;et(l,Ul,p=>t(5,n=p)),et(l,be,p=>t(6,r=p));let i,a,s;const o=p=>{!a||a instanceof ArrayBuffer||be.editActiveResource(oe(a,v=>{v.filename=p}))},c=p=>v=>{s&&be.editActiveResourceMeta(oe(s,w=>{w[p]=v}))},u=()=>be.saveActiveResource(),f=()=>be.resetActiveResource(),h=()=>be.copyActiveResource(),d=()=>be.deleteActiveResource();return l.$$.update=()=>{l.$$.dirty&96&&(t(0,i=_e(r).isDirty()),t(1,a=(n==null?void 0:n.contentChanges)??(n==null?void 0:n.content)),t(2,s=(n==null?void 0:n.metaChanges)??(n==null?void 0:n.meta)))},[i,a,s,o,c,n,r,u,f,h,d]}class Ac extends ue{constructor(e){super(),fe(this,e,Tc,Ic,ae,{})}}function yl(l){let e,t,n,r,i;return t=new zt({props:{tabs:l[1],activeTab:l[0].activeResourceId,onChange:l[5],onClose:l[6],headingLevel:"h2",style:{"flex-shrink":"0"},contentStyle:{"padding-bottom":"30px",position:"relative"}}}),r=new ze({props:{style:{"flex-shrink":"1","min-height":"0","margin-top":"30px",overflow:"hidden"},$$slots:{default:[Uc]},$$scope:{ctx:l}}}),{c(){e=T("div"),H(t.$$.fragment),n=O(),H(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=M(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","file-viewer svelte-9p8pe0")},m(a,s){R(a,e,s),W(t,e,null),b(e,n),W(r,e,null),i=!0},p(a,s){const o={};s&2&&(o.tabs=a[1]),s&1&&(o.activeTab=a[0].activeResourceId),t.$set(o);const c={};s&132&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(r)}}}function Uc(l){let e,t,n;var r=pl(l[2]);function i(a){return{props:{content:a[2].contentChanges??a[2].content,onChange:a[3]}}}return r&&(e=Ut(r,i(l))),{c(){e&&H(e.$$.fragment),t=ke()},l(a){e&&q(e.$$.fragment,a),t=ke()},m(a,s){e&&W(e,a,s),R(a,t,s),n=!0},p(a,s){const o={};if(s&4&&(o.content=a[2].contentChanges??a[2].content),r!==(r=pl(a[2]))){if(e){me();const c=e;B(c.$$.fragment,1,0,()=>{Y(c,1)}),ve()}r?(e=Ut(r,i(a)),H(e.$$.fragment),U(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else r&&e.$set(o)},i(a){n||(e&&U(e.$$.fragment,a),n=!0)},o(a){e&&B(e.$$.fragment,a),n=!1},d(a){a&&m(t),e&&Y(e,a)}}}function Dc(l){let e,t,n=l[0]&&l[2]&&yl(l);return{c(){n&&n.c(),e=ke()},l(r){n&&n.l(r),e=ke()},m(r,i){n&&n.m(r,i),R(r,e,i),t=!0},p(r,[i]){r[0]&&r[2]?n?(n.p(r,i),i&5&&U(n,1)):(n=yl(r),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),B(n,1,1,()=>{n=null}),ve())},i(r){t||(U(n),t=!0)},o(r){B(n),t=!1},d(r){n&&n.d(r),r&&m(e)}}}function Sc(l,e,t){let n,r,i;et(l,be,u=>t(4,n=u)),et(l,Al,u=>t(0,r=u)),et(l,Ul,u=>t(2,i=u));let a;const s=u=>{u&&be.editActiveResource(u)},o=u=>be.setActiveResource(u),c=u=>be.closeResource(u);return l.$$.update=()=>{l.$$.dirty&17&&t(1,a={...Object.entries((r==null?void 0:r.resources)??{}).reduce((u,[f,h])=>{var d;return h.isOpen&&(u[f]={title:`${((d=h.content)==null?void 0:d.filename)||mt(h.meta.typeId)}${_e(n).isDirty(f)?"*":""}`,content:Ac}),u},{})})},[r,a,i,s,n,o,c]}class Bc extends ue{constructor(e){super(),fe(this,e,Sc,Dc,ae,{})}}function Fc(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,w,E,y,S,D,L,P,J,z,N,G,j;return{c(){e=T("div"),t=T("div"),n=T("div"),r=T("div"),i=O(),a=T("div"),s=O(),o=T("div"),c=O(),u=T("div"),f=O(),h=T("div"),d=O(),p=T("div"),v=O(),w=T("div"),E=O(),y=T("div"),S=O(),D=T("div"),L=O(),P=T("div"),J=O(),z=T("div"),N=O(),G=T("div"),this.h()},l(Q){e=A(Q,"DIV",{class:!0,style:!0});var le=I(e);t=A(le,"DIV",{style:!0});var Z=I(t);n=A(Z,"DIV",{class:!0});var ee=I(n);r=A(ee,"DIV",{class:!0}),I(r).forEach(m),i=M(ee),a=A(ee,"DIV",{class:!0}),I(a).forEach(m),s=M(ee),o=A(ee,"DIV",{class:!0}),I(o).forEach(m),c=M(ee),u=A(ee,"DIV",{class:!0}),I(u).forEach(m),f=M(ee),h=A(ee,"DIV",{class:!0}),I(h).forEach(m),d=M(ee),p=A(ee,"DIV",{class:!0}),I(p).forEach(m),v=M(ee),w=A(ee,"DIV",{class:!0}),I(w).forEach(m),E=M(ee),y=A(ee,"DIV",{class:!0}),I(y).forEach(m),S=M(ee),D=A(ee,"DIV",{class:!0}),I(D).forEach(m),L=M(ee),P=A(ee,"DIV",{class:!0}),I(P).forEach(m),J=M(ee),z=A(ee,"DIV",{class:!0}),I(z).forEach(m),N=M(ee),G=A(ee,"DIV",{class:!0}),I(G).forEach(m),ee.forEach(m),Z.forEach(m),le.forEach(m),this.h()},h(){C(r,"class","triangle bottom face-1 svelte-10dc8xq"),C(a,"class","triangle bottom face-2 svelte-10dc8xq"),C(o,"class","triangle bottom face-3 svelte-10dc8xq"),C(u,"class","triangle bottom face-4 svelte-10dc8xq"),C(h,"class","triangle bottom face-5 svelte-10dc8xq"),C(p,"class","triangle bottom face-6 svelte-10dc8xq"),C(w,"class","triangle top face-1 svelte-10dc8xq"),C(y,"class","triangle top face-2 svelte-10dc8xq"),C(D,"class","triangle top face-3 svelte-10dc8xq"),C(P,"class","triangle top face-4 svelte-10dc8xq"),C(z,"class","triangle top face-5 svelte-10dc8xq"),C(G,"class","triangle top face-6 svelte-10dc8xq"),C(n,"class","rotator svelte-10dc8xq"),C(t,"style",l[1]),C(e,"class","plumbob-wrapper svelte-10dc8xq"),C(e,"style",j=`height:${l[0]}px;width:${l[0]/2}px`)},m(Q,le){R(Q,e,le),b(e,t),b(t,n),b(n,r),b(n,i),b(n,a),b(n,s),b(n,o),b(n,c),b(n,u),b(n,f),b(n,h),b(n,d),b(n,p),b(n,v),b(n,w),b(n,E),b(n,y),b(n,S),b(n,D),b(n,L),b(n,P),b(n,J),b(n,z),b(n,N),b(n,G)},p(Q,[le]){le&2&&C(t,"style",Q[1]),le&1&&j!==(j=`height:${Q[0]}px;width:${Q[0]/2}px`)&&C(e,"style",j)},i:ie,o:ie,d(Q){Q&&m(e)}}}function Rc(l,e,t){let{size:n}=e,r;return l.$$set=i=>{"size"in i&&t(0,n=i.size)},l.$$.update=()=>{l.$$.dirty&1&&t(1,r=n?`transform:scale(${n/100})`:void 0)},[n,r]}class Pc extends ue{constructor(e){super(),fe(this,e,Rc,Fc,ae,{size:0})}}function Lc(l){let e;return{c(){e=X("browse files")},l(t){e=K(t,"browse files")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Oc(l){let e,t,n,r,i,a,s,o,c,u,f,h,d;return i=new Pc({props:{size:50}}),u=new Ue({props:{variant:"link",style:"font-size: 1.2rem;",onClick:l[4],$$slots:{default:[Lc]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),n=T("input"),r=O(),H(i.$$.fragment),a=O(),s=T("span"),o=X("Drag .package file here or"),c=O(),H(u.$$.fragment),this.h()},l(p){e=A(p,"DIV",{class:!0});var v=I(e);t=A(v,"DIV",{class:!0});var w=I(t);n=A(w,"INPUT",{type:!0,accept:!0,class:!0}),r=M(w),q(i.$$.fragment,w),a=M(w),s=A(w,"SPAN",{class:!0});var E=I(s);o=K(E,"Drag .package file here or"),E.forEach(m),c=M(w),q(u.$$.fragment,w),w.forEach(m),v.forEach(m),this.h()},h(){C(n,"type","file"),C(n,"accept",".package"),C(n,"class","svelte-n3cac0"),C(s,"class","text svelte-n3cac0"),C(t,"class","drop-zone svelte-n3cac0"),C(e,"class","wrapper svelte-n3cac0")},m(p,v){R(p,e,v),b(e,t),b(t,n),l[2](n),b(t,r),W(i,t,null),b(t,a),b(t,s),b(s,o),b(t,c),W(u,t,null),f=!0,h||(d=[pe(n,"change",l[3]),pe(t,"dragover",st(l[1])),pe(t,"drop",st(l[5]))],h=!0)},p(p,[v]){const w={};v&1&&(w.onClick=p[4]),v&64&&(w.$$scope={dirty:v,ctx:p}),u.$set(w)},i(p){f||(U(i.$$.fragment,p),U(u.$$.fragment,p),f=!0)},o(p){B(i.$$.fragment,p),B(u.$$.fragment,p),f=!1},d(p){p&&m(e),l[2](null),Y(i),Y(u),h=!1,gt(d)}}}function Mc(l,e,t){let n;function r(c){jl.call(this,l,c)}function i(c){bt[c?"unshift":"push"](()=>{n=c,t(0,n)})}return[n,r,i,async()=>{var u;const c=(u=n.files)==null?void 0:u[0];c&&await be.addPackage(c)},()=>n.click(),async c=>{var f,h,d;const u=(d=(h=(f=c==null?void 0:c.dataTransfer)==null?void 0:f.items)==null?void 0:h[0])==null?void 0:d.getAsFile();u&&await be.addPackage(u)}]}class Nc extends ue{constructor(e){super(),fe(this,e,Mc,Oc,ae,{})}}function Vc(l){let e;return{c(){e=X("Empty package")},l(t){e=K(t,"Empty package")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function jc(l){let e;return{c(){e=X("Custom career")},l(t){e=K(t,"Custom career")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function zc(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,w,E,y,S;return s=new Nc({}),v=new Ue({props:{onClick:l[1],style:"font-size: 1.2rem",$$slots:{default:[Vc]},$$scope:{ctx:l}}}),y=new Ue({props:{onClick:l[2],style:"font-size: 1.2rem",$$slots:{default:[jc]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),n=T("h1"),r=X("SIMPAI"),i=X(`
		Sims 2 Package Alteration Interface`),a=O(),H(s.$$.fragment),o=O(),c=T("div"),u=X("Or start from one of these templates:"),f=T("br"),h=O(),d=T("ul"),p=T("li"),H(v.$$.fragment),w=O(),E=T("li"),H(y.$$.fragment),this.h()},l(D){e=A(D,"DIV",{class:!0});var L=I(e);t=A(L,"DIV",{class:!0});var P=I(t);n=A(P,"H1",{class:!0});var J=I(n);r=K(J,"SIMPAI"),J.forEach(m),i=K(P,`
		Sims 2 Package Alteration Interface`),P.forEach(m),a=M(L),q(s.$$.fragment,L),o=M(L),c=A(L,"DIV",{class:!0});var z=I(c);u=K(z,"Or start from one of these templates:"),f=A(z,"BR",{}),h=M(z),d=A(z,"UL",{class:!0});var N=I(d);p=A(N,"LI",{});var G=I(p);q(v.$$.fragment,G),G.forEach(m),w=M(N),E=A(N,"LI",{});var j=I(E);q(y.$$.fragment,j),j.forEach(m),N.forEach(m),z.forEach(m),L.forEach(m),this.h()},h(){C(n,"class","svelte-11uio4q"),C(t,"class","intro svelte-11uio4q"),C(d,"class","template-list svelte-11uio4q"),C(c,"class","help svelte-11uio4q"),C(e,"class","welcome svelte-11uio4q")},m(D,L){R(D,e,L),b(e,t),b(t,n),b(n,r),b(t,i),b(e,a),W(s,e,null),b(e,o),b(e,c),b(c,u),b(c,f),b(c,h),b(c,d),b(d,p),W(v,p,null),b(d,w),b(d,E),W(y,E,null),S=!0},p(D,[L]){const P={};L&8&&(P.$$scope={dirty:L,ctx:D}),v.$set(P);const J={};L&8&&(J.$$scope={dirty:L,ctx:D}),y.$set(J)},i(D){S||(U(s.$$.fragment,D),U(v.$$.fragment,D),U(y.$$.fragment,D),S=!0)},o(D){B(s.$$.fragment,D),B(v.$$.fragment,D),B(y.$$.fragment,D),S=!1},d(D){D&&m(e),Y(s),Y(v),Y(y)}}}function Gc(l){const e=async r=>{const i=await fetch(`/simpai/templates/${r}`);await be.addPackage(new File([await i.arrayBuffer()],r))};return[e,()=>be.addEmptyPackage("empty.package"),()=>e("career.package")]}class Hc extends ue{constructor(e){super(),fe(this,e,Gc,zc,ae,{})}}function Wc(l){let e,t,n,r,i,a,s;return n=new zt({props:{tabs:l[1],activeTab:l[0].activePackageId,onChange:l[2],onClose:l[3],headingLevel:"h1",style:{width:"100%",flex:"1","min-height":"0"},contentStyle:{"min-height":"0",padding:"15px 0"},hideSingleTab:!0}}),a=new Bc({}),{c(){e=T("div"),t=T("div"),H(n.$$.fragment),r=O(),i=T("div"),H(a.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var c=I(e);t=A(c,"DIV",{class:!0});var u=I(t);q(n.$$.fragment,u),u.forEach(m),r=M(c),i=A(c,"DIV",{class:!0});var f=I(i);q(a.$$.fragment,f),f.forEach(m),c.forEach(m),this.h()},h(){C(t,"class","left svelte-x0u2sm"),C(i,"class","right svelte-x0u2sm"),C(e,"class","layout svelte-x0u2sm")},m(o,c){R(o,e,c),b(e,t),W(n,t,null),b(e,r),b(e,i),W(a,i,null),s=!0},p(o,[c]){const u={};c&2&&(u.tabs=o[1]),c&1&&(u.activeTab=o[0].activePackageId),n.$set(u)},i(o){s||(U(n.$$.fragment,o),U(a.$$.fragment,o),s=!0)},o(o){B(n.$$.fragment,o),B(a.$$.fragment,o),s=!1},d(o){o&&m(e),Y(n),Y(a)}}}function Yc(l,e,t){let n;et(l,be,s=>t(0,n=s));let r;const i=s=>be.setActivePackage(s),a=s=>be.removePackage(s);return l.$$.update=()=>{l.$$.dirty&1&&t(1,r={...Object.entries(n.packages).reduce((s,[o,c])=>(s[o]={title:c.filename,content:lc},s),{}),"":{title:"+",content:Hc,hideClose:!0}})},[n,r,i,a]}class Xc extends ue{constructor(e){super(),fe(this,e,Yc,Wc,ae,{})}}export{Xc as default};
