var Bl=Object.defineProperty;var Fl=(l,e,t)=>e in l?Bl(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Rt=(l,e,t)=>(Fl(l,typeof e!="symbol"?e+"":e,t),t);import{S as ue,i as fe,s as ae,e as ke,b as R,g as me,t as B,d as ve,f as U,h as m,G as ut,M as ge,k as T,l as A,m as I,N as Ne,O as Ae,H as ft,I as ht,J as dt,P as Le,Q as pe,F as jt,C as ie,R as xt,T as Ve,x as z,y as q,z as H,A as W,a as L,c as O,n as C,U as Qt,V as yn,K as w,w as At,W as kn,q as J,r as X,u as Fe,X as Ut,Y as Rl,Z as Fn,v as bt,_ as He,$ as We,a0 as Ye,a1 as Pl,a2 as Ll,B as Ol,a3 as hn,a4 as Ht,E as gt,a5 as Pe,a6 as st,L as et,a7 as it,a8 as Ml,a9 as Rn,aa as Pn,ab as Nl,ac as Vl,ad as jl,ae as Gl}from"../../chunks/index-205a6d65.js";import{w as zl,d as El}from"../../chunks/index-3d13d6bc.js";const dn=["English (US)","English (UK)","French","German","Italian","Spanish","Dutch","Danish","Swedish","Norwegian","Finnish","Hebrew","Russian","Portuguese","Japanese","Polish","Traditional Chinese","Simplified Chinese","Thai","Korean","Czech"],Hl={TGA:"[image file]",NREF:"[name reference]",BCON:"[behavior constant]",BHAV:"[behavior function]",CTSS:"[catalogue description]",GLOB:"[global data]",OBJD:"[object data]",OBJF:"[object functions]",STR:"[text lists]"},en={filename:"",formatCode:3,stringSets:[{languageId:1,value:"",description:""}]},wt={BCON:{filename:"",flag:!1,items:[0]},GLOB:{filename:"",semiglobal:""},NREF:{filename:""},OBJF:{filename:"",header:[0,0,0],functions:Array.from(Array(55)).map(()=>({action:0,guard:0}))},TPRP:{filename:"",header:[0,0,0],params:[{label:"",pdata:0}],locals:[""]},TRCN:{filename:"",version:0,items:[{used:0,constId:0,constName:"",desc:"",value:0,minValue:0,maxValue:0}]},TTAB:{filename:"",format:0,items:[{action:0,guard:0,flags:0,flags2:0,strIndex:0,attenuationCode:0,attenuationValue:0,autonomy:0,joinIndex:0,uiDisplayType:0,facialAnimation:0,memoryIterMult:0,objectType:0,modelTableId:0,humanGroups:{groups:[{items:[]}]},animalGroups:null}]},STR:en,CTSS:en,TTAS:en,TGA:new ArrayBuffer(0),JFIF:new ArrayBuffer(0)};function Wl(l){const e=typeof l=="number"?l:parseInt(l,16);return dn[e-1]||"Unknown"}function Me(l,e){if(l===void 0)return"";let t=l.toString(16).toUpperCase();for(;e&&t.length<e;)t="0"+t;return`0x${t}`}function gn(l){return Object.entries(l).map(([e,t])=>`${e}: ${t}`).join(";")}function St(l,e){return[...l.slice(0,e),...l.slice(e+1)]}function Yl(l,e){let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{l(...n),t=void 0},e)}}function Ln(l,e){const t=[];for(let n=0;n<l;n++)t.push(e(n));return t}function xl(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("li"),r&&r.c(),this.h()},l(s){e=A(s,"LI",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ne(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function ql(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("ol"),r&&r.c(),this.h()},l(s){e=A(s,"OL",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ne(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function Jl(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("ul"),r&&r.c(),this.h()},l(s){e=A(s,"UL",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ne(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function Xl(l){let e,t;const n=l[5].default,r=ut(n,l,l[4],null);let i=[l[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("div"),r&&r.c(),this.h()},l(s){e=A(s,"DIV",{});var o=I(e);r&&r.l(o),o.forEach(m),this.h()},h(){Ne(e,a),Ae(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&16)&&ft(r,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),Ae(e,"svelte-lyag80",!0)},i(s){t||(U(r,s),t=!0)},o(s){B(r,s),t=!1},d(s){s&&m(e),r&&r.d(s)}}}function Kl(l){let e,t,n,r;const i=[Xl,Jl,ql,xl],a=[];function s(o,c){return o[0]==="div"?0:o[0]==="ul"?1:o[0]==="ol"?2:o[0]==="li"?3:-1}return~(e=s(l))&&(t=a[e]=i[e](l)),{c(){t&&t.c(),n=ke()},l(o){t&&t.l(o),n=ke()},m(o,c){~e&&a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?~e&&a[e].p(o,c):(t&&(me(),B(a[u],1,1,()=>{a[u]=null}),ve()),~e?(t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n)):t=null)},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){~e&&a[e].d(o),o&&m(n)}}}function Ql(l,e,t){let{$$slots:n={},$$scope:r}=e,{style:i={}}=e,{secondary:a=!1}=e,{as:s="div"}=e,o;return l.$$set=c=>{"style"in c&&t(2,i=c.style),"secondary"in c&&t(3,a=c.secondary),"as"in c&&t(0,s=c.as),"$$scope"in c&&t(4,r=c.$$scope)},l.$$.update=()=>{l.$$.dirty&12&&t(1,o={style:gn(i),class:a?"secondary":"primary"})},[s,o,i,a,r,n]}class Ge extends ue{constructor(e){super(),fe(this,e,Ql,Kl,ae,{style:2,secondary:3,as:0})}}function Zl(l){let e,t,n,r,i=[{style:t=l[1]&&gn(l[1])},l[2]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("button"),this.h()},l(s){e=A(s,"BUTTON",{style:!0}),I(e).forEach(m),this.h()},h(){Ne(e,a),Ae(e,"svelte-gwh5g1",!0)},m(s,o){R(s,e,o),e.autofocus&&e.focus(),n||(r=pe(e,"click",function(){jt(l[0])&&l[0].apply(this,arguments)}),n=!0)},p(s,[o]){l=s,Ne(e,a=Le(i,[o&2&&t!==(t=l[1]&&gn(l[1]))&&{style:t},o&4&&l[2]])),Ae(e,"svelte-gwh5g1",!0)},i:ie,o:ie,d(s){s&&m(e),n=!1,r()}}}function ei(l,e,t){const n=["onClick","style"];let r=xt(e,n),{onClick:i}=e,{style:a=void 0}=e;return l.$$set=s=>{e=ge(ge({},e),Ve(s)),t(2,r=xt(e,n)),"onClick"in s&&t(0,i=s.onClick),"style"in s&&t(1,a=s.style)},[i,a,r]}class It extends ue{constructor(e){super(),fe(this,e,ei,Zl,ae,{onClick:0,style:1})}}function On(l,e,t){const n=l.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function Mn(l){let e,t=[],n=new Map,r,i=Object.entries(l[0]);const a=s=>s[10];for(let s=0;s<i.length;s+=1){let o=On(l,i,s),c=a(o);n.set(c,t[s]=Vn(c,o))}return{c(){e=T("section");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=A(s,"SECTION",{role:!0,tabindex:!0,class:!0});var o=I(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(m),this.h()},h(){C(e,"role","tablist"),C(e,"tabindex","0"),C(e,"class","svelte-zviqfe")},m(s,o){R(s,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);r=!0},p(s,o){o&31&&(i=Object.entries(s[0]),me(),t=Qt(t,o,a,1,s,i,n,e,yn,Vn,null,On),ve())},i(s){if(!r){for(let o=0;o<i.length;o+=1)U(t[o]);r=!0}},o(s){for(let o=0;o<t.length;o+=1)B(t[o]);r=!1},d(s){s&&m(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ti(l){let e,t=l[11].title+"",n;return{c(){e=T("div"),n=J(t),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);n=X(i,t),i.forEach(m),this.h()},h(){C(e,"class","tab-text svelte-zviqfe")},m(r,i){R(r,e,i),w(e,n)},p(r,i){i&1&&t!==(t=r[11].title+"")&&Fe(n,t)},d(r){r&&m(e)}}}function ni(l){let e=l[4],t,n=l[4]&&tn(l);return{c(){n&&n.c(),t=ke()},l(r){n&&n.l(r),t=ke()},m(r,i){n&&n.m(r,i),R(r,t,i)},p(r,i){r[4]?e?ae(e,r[4])?(n.d(1),n=tn(r),n.c(),n.m(t.parentNode,t)):n.p(r,i):(n=tn(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[4]},d(r){r&&m(t),n&&n.d(r)}}}function tn(l){let e,t=l[11].title+"",n,r=[{class:"tab-text svelte-zviqfe"}],i={};for(let a=0;a<r.length;a+=1)i=ge(i,r[a]);return{c(){e=T(l[4]),n=J(t),this.h()},l(a){e=A(a,(l[4]||"null").toUpperCase(),{class:!0});var s=I(e);n=X(s,t),s.forEach(m),this.h()},h(){/-/.test(l[4])?Ut(e,i):Ne(e,i)},m(a,s){R(a,e,s),w(e,n)},p(a,s){s&1&&t!==(t=a[11].title+"")&&Fe(n,t),i=Le(r,[{class:"tab-text svelte-zviqfe"}]),/-/.test(a[4])?Ut(e,i):Ne(e,i)},d(a){a&&m(e)}}}function Nn(l){let e,t;function n(){return l[9](l[10])}return e=new It({props:{onClick:n,"aria-label":"close tab",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}}}),{c(){z(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){H(e,r,i),t=!0},p(r,i){l=r;const a={};i&9&&(a.onClick=n),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Vn(l,e){let t,n,r,i,a,s,o,c,u;function f(b,E){return b[1]===b[10]&&b[4]?ni:ti}let h=f(e),d=h(e);function p(){return e[8](e[10])}let v=!e[11].hideClose&&Nn(e);return{key:l,first:null,c(){t=T("div"),n=T("button"),d.c(),i=L(),v&&v.c(),a=L(),this.h()},l(b){t=A(b,"DIV",{role:!0,"aria-selected":!0,class:!0});var E=I(t);n=A(E,"BUTTON",{class:!0});var k=I(n);d.l(k),k.forEach(m),i=O(E),v&&v.l(E),a=O(E),E.forEach(m),this.h()},h(){C(n,"class","tab svelte-zviqfe"),n.disabled=r=e[1]===e[10],Ae(n,"closable",!e[11].hideClose),C(t,"role","tab"),C(t,"aria-selected",s=e[1]===e[10]),C(t,"class","svelte-zviqfe"),this.first=t},m(b,E){R(b,t,E),w(t,n),d.m(n,null),w(t,i),v&&v.m(t,null),w(t,a),o=!0,c||(u=pe(n,"click",p),c=!0)},p(b,E){e=b,h===(h=f(e))&&d?d.p(e,E):(d.d(1),d=h(e),d&&(d.c(),d.m(n,null))),(!o||E&3&&r!==(r=e[1]===e[10]))&&(n.disabled=r),(!o||E&1)&&Ae(n,"closable",!e[11].hideClose),e[11].hideClose?v&&(me(),B(v,1,1,()=>{v=null}),ve()):v?(v.p(e,E),E&1&&U(v,1)):(v=Nn(e),v.c(),U(v,1),v.m(t,a)),(!o||E&3&&s!==(s=e[1]===e[10]))&&C(t,"aria-selected",s)},i(b){o||(U(v),o=!0)},o(b){B(v),o=!1},d(b){b&&m(t),d.d(),v&&v.d(),c=!1,u()}}}function ri(l){var s,o;let e,t,n;const r=[((s=l[0][l[1]])==null?void 0:s.props)??{}];var i=(o=l[0][l[1]])==null?void 0:o.content;function a(c){let u={};for(let f=0;f<r.length;f+=1)u=ge(u,r[f]);return{props:u}}return i&&(e=At(i,a())),{c(){e&&z(e.$$.fragment),t=ke()},l(c){e&&q(e.$$.fragment,c),t=ke()},m(c,u){e&&H(e,c,u),R(c,t,u),n=!0},p(c,u){var h,d;const f=u&3?Le(r,[kn(((h=c[0][c[1]])==null?void 0:h.props)??{})]):{};if(i!==(i=(d=c[0][c[1]])==null?void 0:d.content)){if(e){me();const p=e;B(p.$$.fragment,1,0,()=>{W(p,1)}),ve()}i?(e=At(i,a()),z(e.$$.fragment),U(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(f)},i(c){n||(e&&U(e.$$.fragment,c),n=!0)},o(c){e&&B(e.$$.fragment,c),n=!1},d(c){c&&m(t),e&&W(e,c)}}}function li(l){let e=!l[5]||Object.keys(l[0]).length>1,t,n,r,i=e&&Mn(l);return n=new Ge({props:{secondary:!0,style:{flex:"1",...l[7]},$$slots:{default:[ri]},$$scope:{ctx:l}}}),{c(){i&&i.c(),t=L(),z(n.$$.fragment)},l(a){i&&i.l(a),t=O(a),q(n.$$.fragment,a)},m(a,s){i&&i.m(a,s),R(a,t,s),H(n,a,s),r=!0},p(a,s){s&33&&(e=!a[5]||Object.keys(a[0]).length>1),e?i?(i.p(a,s),s&33&&U(i,1)):(i=Mn(a),i.c(),U(i,1),i.m(t.parentNode,t)):i&&(me(),B(i,1,1,()=>{i=null}),ve());const o={};s&128&&(o.style={flex:"1",...a[7]}),s&16387&&(o.$$scope={dirty:s,ctx:a}),n.$set(o)},i(a){r||(U(i),U(n.$$.fragment,a),r=!0)},o(a){B(i),B(n.$$.fragment,a),r=!1},d(a){i&&i.d(a),a&&m(t),W(n,a)}}}function ii(l){let e,t;return e=new Ge({props:{style:{display:"flex","flex-direction":"column",...l[6]},$$slots:{default:[li]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,[r]){const i={};r&64&&(i.style={display:"flex","flex-direction":"column",...n[6]}),r&16575&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function ai(l,e,t){let{tabs:n}=e,{activeTab:r}=e,{onChange:i}=e,{onClose:a}=e,{headingLevel:s=void 0}=e,{hideSingleTab:o=!1}=e,{style:c={}}=e,{contentStyle:u={}}=e;const f=d=>i(d),h=d=>a(d);return l.$$set=d=>{"tabs"in d&&t(0,n=d.tabs),"activeTab"in d&&t(1,r=d.activeTab),"onChange"in d&&t(2,i=d.onChange),"onClose"in d&&t(3,a=d.onClose),"headingLevel"in d&&t(4,s=d.headingLevel),"hideSingleTab"in d&&t(5,o=d.hideSingleTab),"style"in d&&t(6,c=d.style),"contentStyle"in d&&t(7,u=d.contentStyle)},[n,r,i,a,s,o,c,u,f,h]}class Gt extends ue{constructor(e){super(),fe(this,e,ai,ii,ae,{tabs:0,activeTab:1,onChange:2,onClose:3,headingLevel:4,hideSingleTab:5,style:6,contentStyle:7})}}function si(l){let[e,t]=l;if(!((e===16||e===17)&&t===251))throw new Error("Input is not a valid QFS compressed buffer! Did you forget to truncate the size bytes?");const n=ci(l),r=65536*l[2]+256*l[3]+l[4],i=n(r);let a=l[0]&1?8:5,s=0;for(;a<l.length&&l[a]<252;){let o=l[a],c=l[a+1],u=l[a+2];if(o&128)if(o&64)if(o&32){let f=(o&31)*4+4;vt(i,s,l,a+1,f),a+=f+1,s+=f}else{let f=l[a+3],h=o&3;vt(i,s,l,a+4,h),a+=h+4,s+=h,h=(o>>2&3)*256+f+5;let d=((o&16)<<12)+256*c+u+1;vt(i,s,i,s-d,h),s+=h}else{let f=c>>6&3;vt(i,s,l,a+3,f),a+=f+3,s+=f,f=(o&63)+4;let h=(c&63)*256+u+1;vt(i,s,i,s-h,f),s+=f}else{let f=o&3;vt(i,s,l,a+2,f),a+=f+2,s+=f,f=((o&28)>>2)+3;let h=(o>>5<<8)+c+1;vt(i,s,i,s-h,f),s+=f}}if(a<l.length&&s<i.length){let o=l[a]&3;vt(i,s,l,a+1,o),s+=o}if(s!==i.length)throw new Error("Error when decompressing!");return i}var oi=si;function ci(l){const e=l.constructor;if(e.allocUnsafe)return t=>e.allocUnsafe(t);{const t=e[Symbol.species]||e;return n=>new t(n)}}function vt(l,e,t,n,r){let i=r;for(;i--;)l[e++]=t[n++]}class _t{constructor(e){Rt(this,"view");Rt(this,"cursor");this.view=new DataView(e),this.cursor=0}seekForward(e){return this.cursor+=e,this}seekTo(e){return this.cursor=e,this}readUint8(){const e=this.view.getUint8(this.cursor);return this.cursor+=1,e}readUint8Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint8());return t}readUint16(){const e=this.view.getUint16(this.cursor,!0);return this.cursor+=2,e}readUint16Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint16());return t}readUint32(){const e=this.view.getUint32(this.cursor,!0);return this.cursor+=4,e}readUint32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint32());return t}readBuffer(e){const t=this.view.buffer.slice(this.cursor,this.cursor+e);return this.cursor+=e,t}readCountedString(){const e=this.readUint32();return new TextDecoder().decode(this.readBuffer(e))}readFileName(){return new TextDecoder().decode(this.readBuffer(64)).replace(/\u0000/g,"")}readUntilNull(){for(let e=this.cursor;e<this.view.byteLength;e++)if(this.view.getUint8(e)===0){const t=this.view.buffer.slice(this.cursor,e);return this.cursor=e+1,t}return this.view.buffer.slice(this.cursor)}}class pt{constructor(){Rt(this,"buffer");Rt(this,"encoder");this.buffer=new ArrayBuffer(0)}appendBytes(e){const t=new Uint8Array(this.buffer.byteLength+e);t.set(new Uint8Array(this.buffer),0),this.buffer=t.buffer}writeUint8(e){const t=this.buffer.byteLength;this.appendBytes(1);const n=new DataView(this.buffer);n.setUint8(t,e),this.buffer=n.buffer}writeUint8Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length);const n=new DataView(this.buffer);e.forEach((r,i)=>{n.setUint8(t+i,r)}),this.buffer=n.buffer}writeUint16(e){const t=this.buffer.byteLength;this.appendBytes(2);const n=new DataView(this.buffer);n.setUint16(t,e,!0),this.buffer=n.buffer}writeUint16Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*2);const n=new DataView(this.buffer);e.forEach((r,i)=>{n.setUint16(t+i*2,r,!0)}),this.buffer=n.buffer}writeUint32(e){const t=this.buffer.byteLength;this.appendBytes(4);const n=new DataView(this.buffer);n.setUint32(t,e,!0),this.buffer=n.buffer}writeUint32Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*4);const n=new DataView(this.buffer);e.forEach((r,i)=>{n.setUint32(t+i*4,r,!0)}),this.buffer=n.buffer}writeBuffer(e){const t=new Uint8Array(this.buffer.byteLength+e.byteLength);t.set(new Uint8Array(this.buffer),0),t.set(new Uint8Array(e),this.buffer.byteLength),this.buffer=t.buffer}writeString(e,t){this.encoder||(this.encoder=new TextEncoder),t!=null&&t.counted&&this.writeUint32(e.length),this.writeBuffer(this.encoder.encode(e).buffer)}writeNulls(e){this.appendBytes(e)}}const ye={BCON:"42434f4e",BHAV:"42484156",CTSS:"43545353",DIR:"e86b1eef",GLOB:"474c4f42",NREF:"4e524546",OBJD:"4f424a44",OBJF:"4f424a66",STR:"53545223",TPRP:"54505250",TRCN:"5452434e",TTAB:"54544142",TTAS:"54544173",VERS:"ebfee342","2ARY":"6b943b43","3ARY":"2a51171b","5DS":"ac06a676","5EL":"6a97042f","5LF":"ac06a66f","5SC":"25232b11",ANIM:"fb00791e",BMP:"424d505f",CATS:"43415453",CIGE:"43494745",CINE:"4d51f042",CREG:"cdb467b8",CRES:"e519c933",DGRP:"44475250",FACE:"46414345",FAMI:"46414d49",FAMh:"46414d68",FAMt:"8c870743",FCNS:"46434e53",FPL:"ab4ba572",FWAV:"46574156",FX:"ea5118b0",GMDC:"ac4f8687",GMND:"7ba3838c",HOUS:"484f5553",INI:"2026960b",JFIF:"8c3ce95a",LGHT1:"c9c81b9b",LGHT2:"c9c81ba3",LGHT3:"c9c81ba9",LGHT4:"c9c81bad",LIFO:"ed534136",LTXT:"0bf999e7",LXNR:"cccef852",MATSHAD:"cd7fe87a",MP3:"2026960b",MOBJT:"6f626a74",NGBH:"4e474248",NHTG:"abcb5da4",NHTR:"abd0dc63",NID:"ac8a7a2e",NMAP:"4e6d6150",OBJT:"fa1c39f7",OBJM:"4f626a4d",PALT:"50414c54",PDAT:"aace2efb",PERS:"50455253",PMAP:"8cc0a14b",PNG:"856ddbac",POOL:"0c900fdb",POSI:"504f5349",PTBP:"50544250",SFX:"8db5e4c2",SHPE:"fc6eb1f7",SIMI:"53494d49",SKIN:"ac506764",SLOT:"534c4f54",SMAP:"cac4fc40",SPR2:"53505232",SPX1:"2026960b",SREL:"cc364c2a",STXR:"ace46235",SWAF:"cd95548e",TATT:"54415454",TGA:"856ddbac",TMAP:"4b58975b",TREE:"54524545",TRKS:"0b9eb87e",TSSG:"ba353ce1",TXMT:"49596978",TXTR:"1c4a276c",UI:"00000000",VERT:"cb4387a1",WFR:"cd95548e",WGRA:"0a284d0b",WLL:"8a84d7b0",WRLD:"49ff7d76",XA:"2026960b",XMTO:"584d544f",XOBJ:"584f424a"},ui=Object.entries(ye).reduce((l,[e,t])=>(l[t]=e,l),{});function mt(l){const e=typeof l=="number"?l.toString(16):l.toLowerCase();return ui[e]??"UNK"}function fi(l){return l.meta.typeId===ye.BCON}function hi(l){return l.meta.typeId===ye.BHAV}function di(l){return l.meta.typeId===ye.GLOB}function gi(l){return l.meta.typeId===ye.NREF}function _i(l){return l.meta.typeId===ye.OBJD}function pi(l){return l.meta.typeId===ye.OBJF}function mi(l){return l.meta.typeId===ye.STR||l.meta.typeId===ye.CTSS||l.meta.typeId===ye.TTAS}function vi(l){return l.meta.typeId===ye.TTAB}function bi(l){return l.meta.typeId===ye.TPRP}function wi(l){return l.meta.typeId===ye.TRCN}function $i(l){const e=new _t(l),t={filename:e.readFileName(),flag:!1,items:[]},n=e.readUint16();t.flag=(n&32768)!==0;const r=n&32767;for(let i=0;i<r;i++)t.items.push(e.readUint16());return t}function yi(l){const e=new pt,n=new TextEncoder().encode(l.filename);e.writeBuffer(n),e.writeNulls(64-n.byteLength);let r=l.items.length;return l.flag&&(r|=32768),e.writeUint16(r),e.writeUint16Array(l.items),e.buffer}function ki(l){const e=new _t(l),t={filename:e.readFileName(),format:e.readUint16(),count:e.readUint16(),type:e.readUint8(),argc:e.readUint8(),locals:e.readUint8(),headerFlag:e.readUint8(),treeVersion:e.readUint32(),instructions:[]};for(;t.instructions.length<t.count;){const n={opcode:e.readUint16(),gotoOnTrue:0,gotoOnFalse:0,nodeVersion:void 0,cacheFlags:void 0,operands:[]};t.format<32771?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(8)):t.format<32773?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(16)):t.format<32775?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16)):(n.gotoOnTrue=e.readUint16(),n.gotoOnFalse=e.readUint16(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16),t.format===32777&&(n.cacheFlags=e.readUint8())),t.instructions.push(n)}return t}function Ei(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(l.format),e.writeUint16(l.instructions.length),e.writeUint8(l.type),e.writeUint8(l.argc),e.writeUint8(l.locals),e.writeUint8(l.headerFlag),e.writeUint32(l.treeVersion),l.instructions.forEach(r=>{e.writeUint16(r.opcode),l.format<32773?(e.writeUint8(r.gotoOnTrue),e.writeUint8(r.gotoOnFalse),e.writeUint8Array(r.operands)):l.format<32775?(e.writeUint8(r.gotoOnTrue),e.writeUint8(r.gotoOnFalse),e.writeUint8(r.nodeVersion??0),e.writeUint8Array(r.operands)):(e.writeUint16(r.gotoOnTrue),e.writeUint16(r.gotoOnFalse),e.writeUint8(r.nodeVersion??0),e.writeUint8Array(r.operands),l.format===32777&&e.writeUint8(r.cacheFlags??0))}),e.buffer}function Ci(l){const e=new _t(l),t={filename:e.readFileName(),semiglobal:""},n=e.readUint8();return t.semiglobal=new TextDecoder().decode(e.readBuffer(n)),t}function Ii(l){const e=new pt,t=new TextEncoder,n=t.encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8(l.semiglobal.length),e.writeBuffer(t.encode(l.semiglobal).buffer),e.buffer}function Ti(l){return{filename:new TextDecoder().decode(l)}}function Ai(l){return new TextEncoder().encode(l.filename)}const Cl={version:2,initialStackSize:1,defaultWallAdjacentFlags:1,defaultPlacementFlags:1,defaultWallPlacementFlags:1,defaultAllowedHeightFlags:1,ttabId:1,interactionGroup:1,objectType:1,multiTileMasterId:1,multiTileSubIndex:1,useDefaultPlacementFlags:1,lookAtScore:1,guid:2,isUnlockable:1,catalogUseFlags:1,price:1,strId:1,slotId:1,diagonalSelectorGuid:2,gridSelectorGuid:2,objectOwnership:1,ignoreGlobalSimInCAS:1,cannotMoveOutWith:1,hauntable:1,proxyGuid:2,slotGroup:1,aspirationFlags:1,memoryNiceOrBad:1,isSalePriceDifferent:1,initialSaleDepreciation:1,dailySaleDepreciation:1,isSelfDepreciating:1,depreciationLimit:1,roomSortFlags:1,functionSortFlags:1,ctssId:1,isGlobalSimObject:1,tooltipNameType:1,templateVersion:1,nicenessMultiplier:1,noDuplicateOnPlacement:1,wantCategory:1,noNewNameFromTemplate:1,objectVersion:1,defaultThumbnailId:1,motiveEffectsId:1,jobObjectGuid:2,catalogPopupId:1,ignoreCurrentModelIndexInIcons:1,levelOffset:1,hasShadow:1,attributeCount:1,objectArrayCount:1,_hole0:1,frontDirection:1,_hole1:1,multiTileLeadObject:1,expansionFlag:1,_numDynamicSpritesTS1:1,chairEntryFlags:1,tileWidth:1,inhibitSuitCopying:1,buildModeType:1,originalGuid:2,objectModelGuid:2,buildModeSubSort:1,_thumbnailGraphicTS1:1,_shadowFlagsTS1:1,footprintMask:1,_hole2:1,_shadowBrightnessTS1:1,_hole3:1,_wallStyleSpriteIdTS1:1,hungerRating:1,comfortRating:1,hygieneRating:1,bladderRating:1,energyRating:1,funRating:1,roomRating:1,skillFlags:1,numTypeAttributes:1,miscFlags:1,_typeAttrGuidTS1:2,functionSubSort:1,downtownSort:1,keepBuying:1,vacationSort:1,resetLotAction:1,"3dObjectType":1,communitySort:1,dreamFlags:1};function Ui(l){const e=new _t(l),t={filename:e.readFileName(),data:{}};Object.entries(Cl).forEach(([r,i])=>{i===1?t.data[r]=e.readUint16():i===2&&(t.data[r]=e.readUint32())}),e.readBuffer(12);const n=e.readCountedString();return t.filename!==n&&console.error(`OBJD malformed: start filename (${t.filename}) does not match end filename (${n})`),t}function Di(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),Object.entries(Cl).forEach(([r,i])=>{i===1?e.writeUint16(l.data[r]):i===2&&e.writeUint32(l.data[r])}),e.writeNulls(12),e.writeString(l.filename,{counted:!0}),e.buffer}function Si(l){const e=new _t(l),t={filename:e.readFileName(),header:e.readUint32Array(3),functions:[]},n=e.readUint32();for(let r=0;r<n;r++)t.functions.push({guard:e.readUint16(),action:e.readUint16()});return t}function Bi(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(l.header),e.writeUint32(l.functions.length),l.functions.forEach(r=>{e.writeUint16(r.guard),e.writeUint16(r.action)}),e.buffer}function Fi(l){const e=new _t(l),t=new TextDecoder,n={filename:e.readFileName(),formatCode:e.readUint16(),stringSets:[]},r=e.readUint16();for(let i=0;i<r;i++)n.stringSets.push({languageId:e.readUint8(),value:t.decode(e.readUntilNull()),description:t.decode(e.readUntilNull())});return n}function Ri(l){const e=new pt,t=new TextEncoder,n=t.encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(l.formatCode),e.writeUint16(l.stringSets.length),l.stringSets.forEach(r=>{e.writeUint8(r.languageId),e.writeBuffer(t.encode(r.value)),e.writeNulls(1),e.writeBuffer(t.encode(r.description)),e.writeNulls(1)}),e.buffer}function jn(l){return Float32Array.of(l.readUint32())[0]??0}function Gn(l,e,t,n){const r=e===null?n.readUint32():e.length,i={groups:[]};for(let a=0;a<r;a++){const s=l<84?(e==null?void 0:e[a])??0:n.readUint32(),o={items:[]};for(let c=0;c<s;c++)if(t==="human")o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()});else{const u=n.readUint32();for(let f=0;f<u;f++)o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()})}i.groups.push(o)}return i}function Pi(l){const e=new _t(l),t={filename:e.readFileName(),format:0,items:[]};e.readUint32(),t.format=e.readUint32(),e.readUint32();const n=e.readUint16();for(let r=0;r<n;r++){const i=e.readUint16(),a=e.readUint16();let s=null;t.format<68?s=[e.readUint32()]:t.format<84&&(s=[0,0,0,0,0,0,0].map(()=>e.readUint32())),t.items.push({action:i,guard:a,flags:e.readUint16(),flags2:e.readUint16(),strIndex:e.readUint32(),attenuationCode:e.readUint32(),attenuationValue:jn(e),autonomy:e.readUint32(),joinIndex:e.readUint32(),uiDisplayType:t.format>69?e.readUint16():0,facialAnimation:t.format>74?e.readUint32():0,memoryIterMult:t.format>76?jn(e):0,objectType:t.format>76?e.readUint32():0,modelTableId:t.format>70?e.readUint32():0,humanGroups:Gn(t.format,s,"human",e),animalGroups:t.format>84?Gn(t.format,s,"animal",e):null})}return t}function zn(l,e,t,n){l>=84&&n.writeUint32(e.groups.length),e.groups.forEach(r=>{l>=85&&n.writeUint32(r.items.length),r.items.forEach(i=>{t==="human"&&(n.writeUint16(i.min),n.writeUint16(i.delta),n.writeUint16(i.type))})})}function Li(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32(-1),e.writeUint32(l.format),e.writeUint32(0),e.writeUint16(l.items.length),l.items.forEach(r=>{e.writeUint16(r.action),e.writeUint16(r.guard),l.format<84&&r.humanGroups.groups.forEach(i=>{e.writeUint32(i.items.length)}),e.writeUint16(r.flags),e.writeUint16(r.flags2),e.writeUint32(r.strIndex),e.writeUint32(r.attenuationCode),e.writeUint32(r.attenuationValue),e.writeUint32(r.autonomy),e.writeUint32(r.joinIndex),l.format>69&&e.writeUint16(r.uiDisplayType),l.format>74&&e.writeUint32(r.facialAnimation),l.format>76&&(e.writeUint32(r.memoryIterMult),e.writeUint32(r.objectType)),l.format>70&&e.writeUint32(r.modelTableId),zn(l.format,r.humanGroups,"human",e),l.format>84&&r.animalGroups&&zn(l.format,r.animalGroups,"animal",e)}),e.buffer}function Hn(l){const e=new TextDecoder,t=l.readUint8();return e.decode(l.readBuffer(t))}function Wn(l,e){const t=new TextEncoder;l.writeUint8(e.length),l.writeBuffer(t.encode(e))}function Oi(l){const e=new _t(l),t={filename:e.readFileName(),header:[e.readUint32(),e.readUint32(),e.readUint32()],params:[],locals:[]},n=e.readUint32(),r=e.readUint32();for(let i=0;i<n;i++)t.params.push({label:Hn(e),pdata:0});for(let i=0;i<r;i++)t.locals.push(Hn(e));return e.seekForward(4),t.params.forEach(i=>{i.pdata=e.readUint8()}),t}function Mi(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(l.header),e.writeUint32(l.params.length),e.writeUint32(l.locals.length),l.params.forEach(r=>{Wn(e,r.label)}),l.locals.forEach(r=>{Wn(e,r)}),e.writeUint32(0),l.params.forEach(r=>{e.writeUint8(r.pdata)}),e.writeUint32(5),e.writeUint32(0),e.buffer}function Ni(l){const e=new _t(l),t=new TextDecoder,n={filename:e.readFileName(),version:0,items:[]};e.readUint32(),n.version=e.readUint32(),e.readUint32();const r=e.readUint32();for(;n.items.length<r;)n.items.push({used:e.readUint32(),constId:e.readUint32(),constName:t.decode(e.readBuffer(e.readUint8())),desc:n.version>83?t.decode(e.readBuffer(e.readUint8())):"",value:n.version>83?e.readUint8():e.readUint16(),minValue:e.readUint16(),maxValue:e.readUint16()});return n}function Vi(l){const e=new pt,n=new TextEncoder().encode(l.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeString("NCRT"),e.writeUint32(l.version),e.writeUint32(0),e.writeUint32(l.items.length),l.items.forEach(r=>{e.writeUint32(r.used),e.writeUint32(r.constId),e.writeUint8(r.constName.length),e.writeString(r.constName),l.version>83?(e.writeUint8(r.desc.length),e.writeString(r.desc),e.writeUint8(r.value)):e.writeUint16(r.value),e.writeUint16(r.minValue),e.writeUint16(r.maxValue)}),e.buffer}function ji(l,e){switch(l){case ye.BCON:return $i(e);case ye.BHAV:return ki(e);case ye.GLOB:return Ci(e);case ye.NREF:return Ti(e);case ye.OBJD:return Ui(e);case ye.OBJF:return Si(e);case ye.TTAB:return Pi(e);case ye.TPRP:return Oi(e);case ye.TRCN:return Ni(e);case ye.STR:case ye.CTSS:case ye.TTAS:return Fi(e);default:return console.log(`No handler for file with typeId ${l} (${mt(l)})`),e}}function Gi(l){const e=new _t(l);if(new TextDecoder().decode(e.readBuffer(4))!=="DBPF")throw new Error("Not a DBPF file!");const n=e.readUint32(),r=e.readUint32();if(n!==1||r>1)throw new Error(`Expected version 1.0 or 1.1 but got ${n}.${r}`);e.seekTo(32);const i=e.readUint32(),a=e.readUint32(),s=e.readUint32();e.seekTo(60);const o=r===1?e.readUint32():0;if(i!==7||o>2)throw new Error(`Expected index version 7.1 or 7.2 but got ${i}.${o}`);e.seekTo(s);const c=[];for(let f=0;f<a;f++)c.push({typeId:e.readUint32().toString(16),groupId:e.readUint32(),instanceId:e.readUint32(),instanceId2:o===2?e.readUint32():void 0,location:e.readUint32(),size:e.readUint32(),compressed:!1});c.forEach(f=>{if(f.typeId===ye.DIR){const h=f.size/(o===2?20:16);let d=0;console.log(`DIR found with ${h} entries`);for(let p=0;p<h;p++){e.seekTo(f.location);const v=e.readUint32().toString(16),b=e.readUint32(),E=e.readUint32(),k=o===2?e.readUint32():void 0,D=c.find(S=>S.typeId===v&&S.groupId===b&&S.instanceId===E&&S.instanceId2===k);D&&(D.compressed=!0,d++)}console.log(`found ${d} matching resources out of ${h} DIR entries`)}});const u=[];return c.forEach(f=>{if(f.typeId===ye.DIR)return;e.seekTo(f.location);const h=e.readBuffer(f.size);f.compressed?console.log(`decompressing and deserializing ${mt(f.typeId)}`):console.log(`deserializing ${mt(f.typeId)}`);const d=ji(f.typeId,f.compressed?oi(new Uint8Array(h).slice(4)).buffer:h);u.push({meta:f,content:d})}),u}function zi(l){const e=new pt;e.writeString("DBPF"),e.writeUint32(1),e.writeUint32(1),e.writeNulls(20),e.writeUint32(7),e.writeUint32(l.length),e.writeUint32(0),e.writeUint32(l.length*24),e.writeNulls(12),e.writeUint32(2),e.writeNulls(32);const t=[];l.forEach(i=>{let a=new ArrayBuffer(0);fi(i)?a=yi(i.content):hi(i)?a=Ei(i.content):di(i)?a=Ii(i.content):gi(i)?a=Ai(i.content):_i(i)?a=Di(i.content):pi(i)?a=Bi(i.content):mi(i)?a=Ri(i.content):vi(i)?a=Li(i.content):bi(i)?a=Mi(i.content):wi(i)?a=Vi(i.content):a=i.content,t.push({...i.meta,location:e.buffer.byteLength,size:a.byteLength}),e.writeBuffer(a)});const n=e.buffer.byteLength;t.forEach(i=>{e.writeUint32(parseInt(i.typeId,16)),e.writeUint32(i.groupId),e.writeUint32(i.instanceId),i.instanceId2!==void 0&&e.writeUint32(i.instanceId2),e.writeUint32(i.location),e.writeUint32(i.size)});const r=new DataView(e.buffer);return r.setUint32(40,n,!0),r.buffer}var Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wt=0;Wt<Tt.length;Wt++)Lt[Tt.charCodeAt(Wt)]=Wt;var Hi=function(l){var e=new Uint8Array(l),t,n=e.length,r="";for(t=0;t<n;t+=3)r+=Tt[e[t]>>2],r+=Tt[(e[t]&3)<<4|e[t+1]>>4],r+=Tt[(e[t+1]&15)<<2|e[t+2]>>6],r+=Tt[e[t+2]&63];return n%3===2?r=r.substring(0,r.length-1)+"=":n%3===1&&(r=r.substring(0,r.length-2)+"=="),r},Wi=function(l){var e=l.length*.75,t=l.length,n,r=0,i,a,s,o;l[l.length-1]==="="&&(e--,l[l.length-2]==="="&&e--);var c=new ArrayBuffer(e),u=new Uint8Array(c);for(n=0;n<t;n+=4)i=Lt[l.charCodeAt(n)],a=Lt[l.charCodeAt(n+1)],s=Lt[l.charCodeAt(n+2)],o=Lt[l.charCodeAt(n+3)],u[r++]=i<<2|a>>4,u[r++]=(a&15)<<4|s>>2,u[r++]=(s&3)<<6|o&63;return c};function at(l){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+l+(t.length?" "+t.map(function(r){return"'"+r+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Dt(l){return!!l&&!!l[tt]}function Ct(l){return!!l&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Zi}(l)||Array.isArray(l)||!!l[Zn]||!!l.constructor[Zn]||En(l)||Cn(l))}function Mt(l,e,t){t===void 0&&(t=!1),Bt(l)===0?(t?Object.keys:Dn)(l).forEach(function(n){t&&typeof n=="symbol"||e(n,l[n],l)}):l.forEach(function(n,r){return e(r,n,l)})}function Bt(l){var e=l[tt];return e?e.i>3?e.i-4:e.i:Array.isArray(l)?1:En(l)?2:Cn(l)?3:0}function _n(l,e){return Bt(l)===2?l.has(e):Object.prototype.hasOwnProperty.call(l,e)}function Yi(l,e){return Bt(l)===2?l.get(e):l[e]}function Il(l,e,t){var n=Bt(l);n===2?l.set(e,t):n===3?(l.delete(e),l.add(t)):l[e]=t}function xi(l,e){return l===e?l!==0||1/l==1/e:l!=l&&e!=e}function En(l){return Ki&&l instanceof Map}function Cn(l){return Qi&&l instanceof Set}function kt(l){return l.o||l.t}function In(l){if(Array.isArray(l))return Array.prototype.slice.call(l);var e=ea(l);delete e[tt];for(var t=Dn(e),n=0;n<t.length;n++){var r=t[n],i=e[r];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[r]={configurable:!0,writable:!0,enumerable:i.enumerable,value:l[r]})}return Object.create(Object.getPrototypeOf(l),e)}function Tn(l,e){return e===void 0&&(e=!1),An(l)||Dt(l)||!Ct(l)||(Bt(l)>1&&(l.set=l.add=l.clear=l.delete=qi),Object.freeze(l),e&&Mt(l,function(t,n){return Tn(n,!0)},!0)),l}function qi(){at(2)}function An(l){return l==null||typeof l!="object"||Object.isFrozen(l)}function ct(l){var e=ta[l];return e||at(18,l),e}function Yn(){return Nt}function nn(l,e){e&&(ct("Patches"),l.u=[],l.s=[],l.v=e)}function qt(l){pn(l),l.p.forEach(Ji),l.p=null}function pn(l){l===Nt&&(Nt=l.l)}function xn(l){return Nt={p:[],l:Nt,h:l,m:!0,_:0}}function Ji(l){var e=l[tt];e.i===0||e.i===1?e.j():e.O=!0}function rn(l,e){e._=e.p.length;var t=e.p[0],n=l!==void 0&&l!==t;return e.h.g||ct("ES5").S(e,l,n),n?(t[tt].P&&(qt(e),at(4)),Ct(l)&&(l=Jt(e,l),e.l||Xt(e,l)),e.u&&ct("Patches").M(t[tt].t,l,e.u,e.s)):l=Jt(e,t,[]),qt(e),e.u&&e.v(e.u,e.s),l!==Tl?l:void 0}function Jt(l,e,t){if(An(e))return e;var n=e[tt];if(!n)return Mt(e,function(i,a){return qn(l,n,e,i,a,t)},!0),e;if(n.A!==l)return e;if(!n.P)return Xt(l,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var r=n.i===4||n.i===5?n.o=In(n.k):n.o;Mt(n.i===3?new Set(r):r,function(i,a){return qn(l,n,r,i,a,t)}),Xt(l,r,!1),t&&l.u&&ct("Patches").R(n,t,l.u,l.s)}return n.o}function qn(l,e,t,n,r,i){if(Dt(r)){var a=Jt(l,r,i&&e&&e.i!==3&&!_n(e.D,n)?i.concat(n):void 0);if(Il(t,n,a),!Dt(a))return;l.m=!1}if(Ct(r)&&!An(r)){if(!l.h.F&&l._<1)return;Jt(l,r),e&&e.A.l||Xt(l,r)}}function Xt(l,e,t){t===void 0&&(t=!1),l.h.F&&l.m&&Tn(e,t)}function ln(l,e){var t=l[tt];return(t?kt(t):l)[e]}function Jn(l,e){if(e in l)for(var t=Object.getPrototypeOf(l);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function mn(l){l.P||(l.P=!0,l.l&&mn(l.l))}function an(l){l.o||(l.o=In(l.t))}function vn(l,e,t){var n=En(e)?ct("MapSet").N(e,t):Cn(e)?ct("MapSet").T(e,t):l.g?function(r,i){var a=Array.isArray(r),s={i:a?1:0,A:i?i.A:Yn(),P:!1,I:!1,D:{},l:i,t:r,k:null,o:null,j:null,C:!1},o=s,c=bn;a&&(o=[s],c=Ot);var u=Proxy.revocable(o,c),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,t):ct("ES5").J(e,t);return(t?t.A:Yn()).p.push(n),n}function Xi(l){return Dt(l)||at(22,l),function e(t){if(!Ct(t))return t;var n,r=t[tt],i=Bt(t);if(r){if(!r.P&&(r.i<4||!ct("ES5").K(r)))return r.t;r.I=!0,n=Xn(t,i),r.I=!1}else n=Xn(t,i);return Mt(n,function(a,s){r&&Yi(r.t,a)===s||Il(n,a,e(s))}),i===3?new Set(n):n}(l)}function Xn(l,e){switch(e){case 2:return new Map(l);case 3:return Array.from(l)}return In(l)}var Kn,Nt,Un=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ki=typeof Map<"u",Qi=typeof Set<"u",Qn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Tl=Un?Symbol.for("immer-nothing"):((Kn={})["immer-nothing"]=!0,Kn),Zn=Un?Symbol.for("immer-draftable"):"__$immer_draftable",tt=Un?Symbol.for("immer-state"):"__$immer_state",Zi=""+Object.prototype.constructor,Dn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Object.getOwnPropertyNames,ea=Object.getOwnPropertyDescriptors||function(l){var e={};return Dn(l).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(l,t)}),e},ta={},bn={get:function(l,e){if(e===tt)return l;var t=kt(l);if(!_n(t,e))return function(r,i,a){var s,o=Jn(i,a);return o?"value"in o?o.value:(s=o.get)===null||s===void 0?void 0:s.call(r.k):void 0}(l,t,e);var n=t[e];return l.I||!Ct(n)?n:n===ln(l.t,e)?(an(l),l.o[e]=vn(l.A.h,n,l)):n},has:function(l,e){return e in kt(l)},ownKeys:function(l){return Reflect.ownKeys(kt(l))},set:function(l,e,t){var n=Jn(kt(l),e);if(n!=null&&n.set)return n.set.call(l.k,t),!0;if(!l.P){var r=ln(kt(l),e),i=r==null?void 0:r[tt];if(i&&i.t===t)return l.o[e]=t,l.D[e]=!1,!0;if(xi(t,r)&&(t!==void 0||_n(l.t,e)))return!0;an(l),mn(l)}return l.o[e]===t&&typeof t!="number"&&(t!==void 0||e in l.o)||(l.o[e]=t,l.D[e]=!0,!0)},deleteProperty:function(l,e){return ln(l.t,e)!==void 0||e in l.t?(l.D[e]=!1,an(l),mn(l)):delete l.D[e],l.o&&delete l.o[e],!0},getOwnPropertyDescriptor:function(l,e){var t=kt(l),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:l.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){at(11)},getPrototypeOf:function(l){return Object.getPrototypeOf(l.t)},setPrototypeOf:function(){at(12)}},Ot={};Mt(bn,function(l,e){Ot[l]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ot.deleteProperty=function(l,e){return Ot.set.call(this,l,e,void 0)},Ot.set=function(l,e,t){return bn.set.call(this,l[0],e,t,l[0])};var na=function(){function l(t){var n=this;this.g=Qn,this.F=!0,this.produce=function(r,i,a){if(typeof r=="function"&&typeof i!="function"){var s=i;i=r;var o=n;return function(v){var b=this;v===void 0&&(v=s);for(var E=arguments.length,k=Array(E>1?E-1:0),D=1;D<E;D++)k[D-1]=arguments[D];return o.produce(v,function(S){var N;return(N=i).call.apply(N,[b,S].concat(k))})}}var c;if(typeof i!="function"&&at(6),a!==void 0&&typeof a!="function"&&at(7),Ct(r)){var u=xn(n),f=vn(n,r,void 0),h=!0;try{c=i(f),h=!1}finally{h?qt(u):pn(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(v){return nn(u,a),rn(v,u)},function(v){throw qt(u),v}):(nn(u,a),rn(c,u))}if(!r||typeof r!="object"){if((c=i(r))===void 0&&(c=r),c===Tl&&(c=void 0),n.F&&Tn(c,!0),a){var d=[],p=[];ct("Patches").M(r,c,d,p),a(d,p)}return c}at(21,r)},this.produceWithPatches=function(r,i){if(typeof r=="function")return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(c,function(d){return r.apply(void 0,[d].concat(f))})};var a,s,o=n.produce(r,i,function(c,u){a=c,s=u});return typeof Promise<"u"&&o instanceof Promise?o.then(function(c){return[c,a,s]}):[o,a,s]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=l.prototype;return e.createDraft=function(t){Ct(t)||at(8),Dt(t)&&(t=Xi(t));var n=xn(this),r=vn(this,t,void 0);return r[tt].C=!0,pn(n),r},e.finishDraft=function(t,n){var r=t&&t[tt],i=r.A;return nn(i,n),rn(void 0,i)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Qn&&at(20),this.g=t},e.applyPatches=function(t,n){var r;for(r=n.length-1;r>=0;r--){var i=n[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(n=n.slice(r+1));var a=ct("Patches").$;return Dt(t)?a(t,n):this.produce(t,function(s){return a(s,n)})},l}(),nt=new na,ra=nt.produce;nt.produceWithPatches.bind(nt);nt.setAutoFreeze.bind(nt);nt.setUseProxies.bind(nt);nt.applyPatches.bind(nt);nt.createDraft.bind(nt);nt.finishDraft.bind(nt);const oe=ra;var Yt,la=new Uint8Array(16);function ia(){if(!Yt&&(Yt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Yt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yt(la)}const aa=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sa(l){return typeof l=="string"&&aa.test(l)}var Je=[];for(var sn=0;sn<256;++sn)Je.push((sn+256).toString(16).substr(1));function oa(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Je[l[e+0]]+Je[l[e+1]]+Je[l[e+2]]+Je[l[e+3]]+"-"+Je[l[e+4]]+Je[l[e+5]]+"-"+Je[l[e+6]]+Je[l[e+7]]+"-"+Je[l[e+8]]+Je[l[e+9]]+"-"+Je[l[e+10]]+Je[l[e+11]]+Je[l[e+12]]+Je[l[e+13]]+Je[l[e+14]]+Je[l[e+15]]).toLowerCase();if(!sa(t))throw TypeError("Stringified UUID is invalid");return t}function Pt(l,e,t){l=l||{};var n=l.random||(l.rng||ia)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=n[r];return e}return oa(n)}function er(l){return(l==null?void 0:l.contentChanges)!==void 0||(l==null?void 0:l.metaChanges)!==void 0}function _e(l){return{activePackage(){return l.packages[l.activePackageId]},activeResourceId(){var e;return(e=this.activePackage())==null?void 0:e.activeResourceId},activeResource(){var t;const e=this.activeResourceId();return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},openResourceIds(){var t;const e=(t=this.activePackage())==null?void 0:t.resources;return e?Object.keys(e).filter(n=>{var r;return(r=e[n])==null?void 0:r.isOpen}):[]},resourceById(e){var t;return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},resourcesByType(e){var t;return Object.values(((t=this.activePackage())==null?void 0:t.resources)??{}).filter(n=>n.meta.typeId===ye[e])},resourceIdByTypeAndInstanceId(e,t){var r;const n=Object.entries(((r=this.activePackage())==null?void 0:r.resources)??{}).find(([,i])=>i.meta.typeId===ye[e]&&i.meta.instanceId===t);return n==null?void 0:n[0]},isDirty(e){const t=e??this.activeResourceId();return t?er(this.resourceById(t)):!1},isPackageDirty(e){const t=l.packages[e??l.activePackageId];return Object.values((t==null?void 0:t.resources)??{}).some(er)},linkedResourceId(e){var r;const t=_e(l).activePackage(),n=_e(l).activeResource();return(r=Object.entries((t==null?void 0:t.resources)??{}).find(([,i])=>i.meta.typeId===ye[e]&&i.meta.instanceId===(n==null?void 0:n.meta.instanceId)&&i.meta.instanceId2===(n==null?void 0:n.meta.instanceId2)))==null?void 0:r[0]}}}const Al="editorState",wn="base64:",ca=Yl(l=>{const e=JSON.stringify(l,(t,n)=>n instanceof ArrayBuffer?`${wn}${Hi(n)}`:n);localStorage.setItem(Al,e)},1e3);function ua(){const l={activePackageId:"",packages:{}},e=localStorage.getItem(Al);return e?JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(wn)?Wi(n.slice(wn.length)):n):l}function on(l,e){const t=e.filter(n=>n!==l);return t[Math.min(e.indexOf(l),t.length-1)]??""}const je=zl(ua());je.subscribe(ca);const be={subscribe:je.subscribe,async addPackage(l){const e=Gi(await l.arrayBuffer()).reduce((n,r)=>(n[Pt()]=r,n),{}),t=Pt();je.update(n=>oe(n,r=>{r.packages[t]={filename:l.name,resources:e,activeResourceId:""},r.activePackageId=t}))},removePackage(l){window.confirm("Close this package? You'll lose all changes.")&&je.update(e=>oe(e,t=>{l===e.activePackageId&&(t.activePackageId=on(l,Object.keys(e.packages))),delete t.packages[l]}))},setActivePackage(l){je.update(e=>oe(e,t=>{t.activePackageId=l}))},downloadActivePackage(){const l=Rl(je);if(_e(l).isPackageDirty()&&!window.confirm("This package contains resources with unsaved changes. Download anyway?"))return;const e=_e(l).activePackage();if(!e)return console.error("Failed to find active package, unable to download");const t=zi(Object.values(e.resources)),n=new Blob([new Uint8Array(t)],{type:"octet/stream"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e.filename,i.click(),window.URL.revokeObjectURL(r)},openResource(l){je.update(e=>oe(e,t=>{const n=_e(t).resourceById(l);if(n){n.isOpen=!0;const r=_e(t).activePackage();r&&(r.activeResourceId=l)}}))},closeResource(l){je.update(e=>oe(e,t=>{var a;const n=(a=_e(e).activePackage())==null?void 0:a.activeResourceId;if(_e(e).isDirty(l)&&!window.confirm("Close this resource? You'll lose all unsaved changes."))return;const r=_e(e).openResourceIds();if(l===n){const s=_e(t).activePackage();s&&(s.activeResourceId=on(l,r))}const i=_e(t).resourceById(l);i&&(i.isOpen=!1,delete i.contentChanges,delete i.metaChanges)}))},editActiveResource(l){je.update(e=>oe(e,t=>{const n=_e(t).activeResource();n&&(n.contentChanges=l)}))},editActiveResourceMeta(l){je.update(e=>oe(e,t=>{const n=_e(t).activeResource();n&&(n.metaChanges=l)}))},resetActiveResource(){window.confirm("Undo all unsaved changes to this resource? This cannot be undone.")&&je.update(l=>oe(l,e=>{const t=_e(e).activeResource();t&&(delete t.contentChanges,delete t.metaChanges)}))},saveActiveResource(){je.update(l=>oe(l,e=>{const t=_e(e).activeResource();(t==null?void 0:t.contentChanges)!==void 0&&(t.content=t.contentChanges,delete t.contentChanges),(t==null?void 0:t.metaChanges)!==void 0&&(t.meta=t.metaChanges,delete t.metaChanges)}))},copyActiveResource(){je.update(l=>oe(l,e=>{const t=_e(e).activePackage(),n=_e(l).activeResource();if(t&&n){const r=Pt();t.resources[r]={...n},t.activeResourceId=r}}))},deleteActiveResource(){window.confirm("Remove this resource from the package file? This cannot be undone.")&&je.update(l=>oe(l,e=>{const t=_e(e).activePackage(),n=_e(e).activeResourceId();if(t&&n){const r=_e(e).openResourceIds();t.activeResourceId=on(n,r),delete t.resources[n]}}))},createNewResource(l){je.update(e=>oe(e,t=>{const n=_e(t).activePackage(),r=Pt();n&&(n.resources[r]={meta:{typeId:ye[l],groupId:0,instanceId:0,instanceId2:0,location:0,size:0},content:wt[l],isOpen:!0},n.activeResourceId=r)}))},createLinkedResource(l,e){je.update(t=>oe(t,n=>{const r=_e(n).activePackage(),i=_e(n).activeResource(),a=Pt();r&&i&&(r.resources[a]={meta:{...i.meta,typeId:ye[l]},content:e??wt[l]})}))},setActiveResource(l){je.update(e=>oe(e,t=>{const n=_e(t).activePackage();n&&(n.activeResourceId=l)}))}},Ul=El(je,l=>_e(l).activePackage()),Dl=El(je,l=>_e(l).activeResource());function fa(l){let e,t,n;const r=l[2].default,i=ut(r,l,l[1],null);return{c(){e=T("div"),i&&i.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);i&&i.l(s),s.forEach(m),this.h()},h(){C(e,"class",t=Fn(`popover ${l[0]}`)+" svelte-1og6ho9")},m(a,s){R(a,e,s),i&&i.m(e,null),n=!0},p(a,[s]){i&&i.p&&(!n||s&2)&&ft(i,r,a,a[1],n?dt(r,a[1],s,null):ht(a[1]),null),(!n||s&1&&t!==(t=Fn(`popover ${a[0]}`)+" svelte-1og6ho9"))&&C(e,"class",t)},i(a){n||(U(i,a),n=!0)},o(a){B(i,a),n=!1},d(a){a&&m(e),i&&i.d(a)}}}function ha(l,e,t){let{$$slots:n={},$$scope:r}=e,{position:i="top"}=e;return l.$$set=a=>{"position"in a&&t(0,i=a.position),"$$scope"in a&&t(1,r=a.$$scope)},[i,r,n]}class da extends ue{constructor(e){super(),fe(this,e,ha,fa,ae,{position:0})}}function ga(l){let e,t,n,r;const i=l[8].default,a=ut(i,l,l[11],null);let s=[{class:l[1]},{style:l[2]},l[6]],o={};for(let c=0;c<s.length;c+=1)o=ge(o,s[c]);return{c(){e=T("button"),a&&a.c(),this.h()},l(c){e=A(c,"BUTTON",{class:!0,style:!0});var u=I(e);a&&a.l(u),u.forEach(m),this.h()},h(){Ne(e,o),Ae(e,"svelte-1dioxib",!0)},m(c,u){R(c,e,u),a&&a.m(e,null),e.autofocus&&e.focus(),l[10](e),t=!0,n||(r=pe(e,"click",function(){jt(l[0])&&l[0].apply(this,arguments)}),n=!0)},p(c,u){l=c,a&&a.p&&(!t||u&2048)&&ft(a,i,l,l[11],t?dt(i,l[11],u,null):ht(l[11]),null),Ne(e,o=Le(s,[(!t||u&2)&&{class:l[1]},(!t||u&4)&&{style:l[2]},u&64&&l[6]])),Ae(e,"svelte-1dioxib",!0)},i(c){t||(U(a,c),t=!0)},o(c){B(a,c),t=!1},d(c){c&&m(e),a&&a.d(c),l[10](null),n=!1,r()}}}function _a(l){let e,t,n,r,i,a,s;const o=l[8].default,c=ut(o,l,l[11],null);let u=[{class:l[1]},{style:n=`height: ${l[3]}px; width: ${l[3]}px;`},l[6]],f={};for(let d=0;d<u.length;d+=1)f=ge(f,u[d]);let h=l[4]&&tr(l);return{c(){e=T("div"),t=T("button"),c&&c.c(),r=L(),h&&h.c(),this.h()},l(d){e=A(d,"DIV",{class:!0,style:!0});var p=I(e);t=A(p,"BUTTON",{class:!0,style:!0});var v=I(t);c&&c.l(v),v.forEach(m),r=O(p),h&&h.l(p),p.forEach(m),this.h()},h(){Ne(t,f),Ae(t,"svelte-1dioxib",!0),C(e,"class","bevel svelte-1dioxib"),C(e,"style",l[2])},m(d,p){R(d,e,p),w(e,t),c&&c.m(t,null),t.autofocus&&t.focus(),l[9](t),w(e,r),h&&h.m(e,null),i=!0,a||(s=pe(t,"click",function(){jt(l[0])&&l[0].apply(this,arguments)}),a=!0)},p(d,p){l=d,c&&c.p&&(!i||p&2048)&&ft(c,o,l,l[11],i?dt(o,l[11],p,null):ht(l[11]),null),Ne(t,f=Le(u,[(!i||p&2)&&{class:l[1]},(!i||p&8&&n!==(n=`height: ${l[3]}px; width: ${l[3]}px;`))&&{style:n},p&64&&l[6]])),Ae(t,"svelte-1dioxib",!0),l[4]?h?(h.p(l,p),p&16&&U(h,1)):(h=tr(l),h.c(),U(h,1),h.m(e,null)):h&&(me(),B(h,1,1,()=>{h=null}),ve()),(!i||p&4)&&C(e,"style",l[2])},i(d){i||(U(c,d),U(h),i=!0)},o(d){B(c,d),B(h),i=!1},d(d){d&&m(e),c&&c.d(d),l[9](null),h&&h.d(),a=!1,s()}}}function tr(l){let e,t;return e=new da({props:{position:"top",$$slots:{default:[pa]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&2064&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function pa(l){let e;return{c(){e=J(l[4])},l(t){e=X(t,l[4])},m(t,n){R(t,e,n)},p(t,n){n&16&&Fe(e,t[4])},d(t){t&&m(e)}}}function ma(l){let e,t,n,r;const i=[_a,ga],a=[];function s(o,c){return o[1]==="skeuomorphic"?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function va(l,e,t){const n=["focus","onClick","variant","style","size","tooltip"];let r=xt(e,n),{$$slots:i={},$$scope:a}=e,s;function o(){s.focus()}let{onClick:c}=e,{variant:u="link"}=e,{style:f=void 0}=e,{size:h=35}=e,{tooltip:d=""}=e;function p(b){bt[b?"unshift":"push"](()=>{s=b,t(5,s)})}function v(b){bt[b?"unshift":"push"](()=>{s=b,t(5,s)})}return l.$$set=b=>{e=ge(ge({},e),Ve(b)),t(6,r=xt(e,n)),"onClick"in b&&t(0,c=b.onClick),"variant"in b&&t(1,u=b.variant),"style"in b&&t(2,f=b.style),"size"in b&&t(3,h=b.size),"tooltip"in b&&t(4,d=b.tooltip),"$$scope"in b&&t(11,a=b.$$scope)},[c,u,f,h,d,s,r,o,i,p,v,a]}class Ue extends ue{constructor(e){super(),fe(this,e,va,ma,ae,{focus:7,onClick:0,variant:1,style:2,size:3,tooltip:4})}get focus(){return this.$$.ctx[7]}}function ba(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99h144v-144C192 62.32 206.33 48 224 48s32 14.32 32 32.01v144h144c17.7-.01 32 14.29 32 31.99z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function wa(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class $a extends ue{constructor(e){super(),fe(this,e,wa,ba,ae,{})}}function ya(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M384 128H256V0l128 128zm-128 32h128v304c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.5-48-48V48C0 21.49 21.49 0 48 0h176l.004 128C224 145.7 238.3 160 256 160zm-1 135-39 39.1V232c0-13.25-10.75-24-24-24s-24 10.8-24 24v102.1L128.1 295c-3.8-4.7-9.9-7-16.1-7s-12.28 2.3-16.97 7c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94s-24.57-9.3-33.97 0z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function ka(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class Ea extends ue{constructor(e){super(),fe(this,e,ka,ya,ae,{})}}function Ca(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M438.6 105.4c12.5 12.5 12.5 32.7 0 45.2l-256 256c-12.5 12.5-32.7 12.5-45.2 0L9.372 278.6c-12.496-12.5-12.496-32.7 0-45.2 12.498-12.5 32.758-12.5 45.258 0L159.1 338.7l234.3-233.3c12.5-12.52 32.7-12.52 45.2 0z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function Ia(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class Ta extends ue{constructor(e){super(),fe(this,e,Ia,Ca,ae,{})}}function Aa(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 0 1-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 0 1-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function Ua(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class Da extends ue{constructor(e){super(),fe(this,e,Ua,Aa,ae,{})}}function Sa(l){const e=l-1;return e*e*e+1}function nr(l,{delay:e=0,duration:t=400,easing:n=Pl}={}){const r=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function rr(l,{delay:e=0,duration:t=400,easing:n=Sa,x:r=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(l),o=+s.opacity,c=s.transform==="none"?"":s.transform,u=o*(1-a);return{delay:e,duration:t,easing:n,css:(f,h)=>`
			transform: ${c} translate(${(1-f)*r}px, ${(1-f)*i}px);
			opacity: ${o-u*h}`}}function Ba(l){let e,t,n,r,i;const a=l[2].default,s=ut(a,l,l[1],null);return{c(){e=T("div"),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{});var c=I(e);s&&s.l(c),c.forEach(m),this.h()},h(){e.hidden=!0},m(o,c){R(o,e,c),s&&s.m(e,null),n=!0,r||(i=Ll(t=Fa.call(null,e,l[0])),r=!0)},p(o,[c]){s&&s.p&&(!n||c&2)&&ft(s,a,o,o[1],n?dt(a,o[1],c,null):ht(o[1]),null),t&&jt(t.update)&&c&1&&t.update.call(null,o[0])},i(o){n||(U(s,o),n=!0)},o(o){B(s,o),n=!1},d(o){o&&m(e),s&&s.d(o),r=!1,i()}}}function Fa(l,e="body"){let t;async function n(i){if(e=i,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Ol(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(l),l.hidden=!1}function r(){l.parentNode&&l.parentNode.removeChild(l)}return n(e),{update:n,destroy:r}}function Ra(l,e,t){let{$$slots:n={},$$scope:r}=e,{target:i="body"}=e;return l.$$set=a=>{"target"in a&&t(0,i=a.target),"$$scope"in a&&t(1,r=a.$$scope)},[i,r,n]}class Pa extends ue{constructor(e){super(),fe(this,e,Ra,Ba,ae,{target:0})}}function lr(l){let e,t;return e=new Pa({props:{$$slots:{default:[Oa]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&269&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function ir(l){let e,t;return{c(){e=T("h2"),t=J(l[0]),this.h()},l(n){e=A(n,"H2",{class:!0});var r=I(e);t=X(r,l[0]),r.forEach(m),this.h()},h(){C(e,"class","svelte-tzis89")},m(n,r){R(n,e,r),w(e,t)},p(n,r){r&1&&Fe(t,n[0])},d(n){n&&m(e)}}}function La(l){let e,t,n=l[0]&&ir(l);const r=l[4].default,i=ut(r,l,l[8],null);return{c(){n&&n.c(),e=L(),i&&i.c()},l(a){n&&n.l(a),e=O(a),i&&i.l(a)},m(a,s){n&&n.m(a,s),R(a,e,s),i&&i.m(a,s),t=!0},p(a,s){a[0]?n?n.p(a,s):(n=ir(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),i&&i.p&&(!t||s&256)&&ft(i,r,a,a[8],t?dt(r,a[8],s,null):ht(a[8]),null)},i(a){t||(U(i,a),t=!0)},o(a){B(i,a),t=!1},d(a){n&&n.d(a),a&&m(e),i&&i.d(a)}}}function Oa(l){let e,t,n,r,i,a,s,o;return n=new Ge({props:{secondary:!0,style:{position:"relative"},$$slots:{default:[La]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),z(n.$$.fragment),this.h()},l(c){e=A(c,"DIV",{class:!0});var u=I(e);t=A(u,"DIV",{});var f=I(t);q(n.$$.fragment,f),f.forEach(m),u.forEach(m),this.h()},h(){C(e,"class","background svelte-tzis89")},m(c,u){R(c,e,u),w(e,t),H(n,t,null),l[7](e),a=!0,s||(o=[pe(e,"click",l[5]),pe(e,"keydown",l[6])],s=!0)},p(c,u){const f={};u&257&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i(c){a||(U(n.$$.fragment,c),hn(()=>{r||(r=Ht(t,rr,{y:-200,duration:100},!0)),r.run(1)}),hn(()=>{i||(i=Ht(e,nr,{duration:100},!0)),i.run(1)}),a=!0)},o(c){B(n.$$.fragment,c),r||(r=Ht(t,rr,{y:-200,duration:100},!1)),r.run(0),i||(i=Ht(e,nr,{duration:100},!1)),i.run(0),a=!1},d(c){c&&m(e),W(n),c&&r&&r.end(),l[7](null),c&&i&&i.end(),s=!1,gt(o)}}}function Ma(l){let e,t,n=l[1]&&lr(l);return{c(){n&&n.c(),e=ke()},l(r){n&&n.l(r),e=ke()},m(r,i){n&&n.m(r,i),R(r,e,i),t=!0},p(r,[i]){r[1]?n?(n.p(r,i),i&2&&U(n,1)):(n=lr(r),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),B(n,1,1,()=>{n=null}),ve())},i(r){t||(U(n),t=!0)},o(r){B(n),t=!1},d(r){n&&n.d(r),r&&m(e)}}}function Na(l,e,t){let{$$slots:n={},$$scope:r}=e,{title:i=void 0}=e,{isOpen:a}=e,{onClose:s}=e,o;const c=h=>{h.target===o&&s()},u=h=>{h.key==="Escape"&&s()};function f(h){bt[h?"unshift":"push"](()=>{o=h,t(3,o)})}return l.$$set=h=>{"title"in h&&t(0,i=h.title),"isOpen"in h&&t(1,a=h.isOpen),"onClose"in h&&t(2,s=h.onClose),"$$scope"in h&&t(8,r=h.$$scope)},[i,a,s,o,n,c,u,f,r]}class Va extends ue{constructor(e){super(),fe(this,e,Na,Ma,ae,{title:0,isOpen:1,onClose:2})}}function ar(l,e,t){const n=l.slice();return n[6]=e[t],n}function sr(l,e,t){const n=l.slice();n[9]=e[t];const r=n[6][n[9]];return n[10]=r,n}function or(l,e,t){const n=l.slice();return n[9]=e[t],n}function cr(l){let e,t=l[9]+"",n,r;return{c(){e=T("th"),n=J(t),r=L(),this.h()},l(i){e=A(i,"TH",{class:!0});var a=I(e);n=X(a,t),r=O(a),a.forEach(m),this.h()},h(){var i,a,s,o;C(e,"class","svelte-1r7sqdr"),Ae(e,"stretch",(a=(i=l[1])==null?void 0:i[l[9]])==null?void 0:a.stretch),Ae(e,"shrink",(o=(s=l[1])==null?void 0:s[l[9]])==null?void 0:o.shrink)},m(i,a){R(i,e,a),w(e,n),w(e,r)},p(i,a){var s,o,c,u;a&1&&t!==(t=i[9]+"")&&Fe(n,t),a&3&&Ae(e,"stretch",(o=(s=i[1])==null?void 0:s[i[9]])==null?void 0:o.stretch),a&3&&Ae(e,"shrink",(u=(c=i[1])==null?void 0:c[i[9]])==null?void 0:u.shrink)},d(i){i&&m(e)}}}function ja(l){let e=(l[10]??"-")+"",t;return{c(){t=J(e)},l(n){t=X(n,e)},m(n,r){R(n,t,r)},p(n,r){r&5&&e!==(e=(n[10]??"-")+"")&&Fe(t,e)},i:ie,o:ie,d(n){n&&m(t)}}}function Ga(l){let e=l[10].element,t,n=l[10].element&&cn(l);return{c(){n&&n.c(),t=ke()},l(r){n&&n.l(r),t=ke()},m(r,i){n&&n.m(r,i),R(r,t,i)},p(r,i){r[10].element?e?ae(e,r[10].element)?(n.d(1),n=cn(r),n.c(),n.m(t.parentNode,t)):n.p(r,i):(n=cn(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[10].element},i:ie,o:ie,d(r){r&&m(t),n&&n.d(r)}}}function za(l){let e,t,n;const r=[l[10].props??{}];var i=l[10].component;function a(s){let o={};for(let c=0;c<r.length;c+=1)o=ge(o,r[c]);return{props:o}}return i&&(e=At(i,a())),{c(){e&&z(e.$$.fragment),t=ke()},l(s){e&&q(e.$$.fragment,s),t=ke()},m(s,o){e&&H(e,s,o),R(s,t,o),n=!0},p(s,o){const c=o&5?Le(r,[kn(s[10].props??{})]):{};if(i!==(i=s[10].component)){if(e){me();const u=e;B(u.$$.fragment,1,0,()=>{W(u,1)}),ve()}i?(e=At(i,a()),z(e.$$.fragment),U(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(s){n||(e&&U(e.$$.fragment,s),n=!0)},o(s){e&&B(e.$$.fragment,s),n=!1},d(s){s&&m(t),e&&W(e,s)}}}function cn(l){let e,t=[l[10].props??{}],n={};for(let r=0;r<t.length;r+=1)n=ge(n,t[r]);return{c(){e=T(l[10].element),this.h()},l(r){e=A(r,(l[10].element||"null").toUpperCase(),{}),I(e).forEach(m),this.h()},h(){/-/.test(l[10].element)?Ut(e,n):Ne(e,n),Ae(e,"svelte-1r7sqdr",!0)},m(r,i){R(r,e,i)},p(r,i){n=Le(t,[i&5&&(r[10].props??{})]),/-/.test(r[10].element)?Ut(e,n):Ne(e,n),Ae(e,"svelte-1r7sqdr",!0)},d(r){r&&m(e)}}}function ur(l){let e,t,n,r,i,a;const s=[za,Ga,ja],o=[];function c(u,f){return f&5&&(t=null),f&5&&(n=null),t==null&&(t=!!u[4](u[10])),t?0:(n==null&&(n=!!u[5](u[10])),n?1:2)}return r=c(l,-1),i=o[r]=s[r](l),{c(){e=T("td"),i.c(),this.h()},l(u){e=A(u,"TD",{class:!0});var f=I(e);i.l(f),f.forEach(m),this.h()},h(){C(e,"class","svelte-1r7sqdr")},m(u,f){R(u,e,f),o[r].m(e,null),a=!0},p(u,f){let h=r;r=c(u,f),r===h?o[r].p(u,f):(me(),B(o[h],1,1,()=>{o[h]=null}),ve(),i=o[r],i?i.p(u,f):(i=o[r]=s[r](u),i.c()),U(i,1),i.m(e,null))},i(u){a||(U(i),a=!0)},o(u){B(i),a=!1},d(u){u&&m(e),o[r].d()}}}function fr(l){let e,t,n,r=l[0],i=[];for(let s=0;s<r.length;s+=1)i[s]=ur(sr(l,r,s));const a=s=>B(i[s],1,1,()=>{i[s]=null});return{c(){e=T("tr");for(let s=0;s<i.length;s+=1)i[s].c();t=L(),this.h()},l(s){e=A(s,"TR",{class:!0});var o=I(e);for(let c=0;c<i.length;c+=1)i[c].l(o);t=O(o),o.forEach(m),this.h()},h(){C(e,"class","svelte-1r7sqdr")},m(s,o){R(s,e,o);for(let c=0;c<i.length;c+=1)i[c].m(e,null);w(e,t),n=!0},p(s,o){if(o&53){r=s[0];let c;for(c=0;c<r.length;c+=1){const u=sr(s,r,c);i[c]?(i[c].p(u,o),U(i[c],1)):(i[c]=ur(u),i[c].c(),U(i[c],1),i[c].m(e,t))}for(me(),c=r.length;c<i.length;c+=1)a(c);ve()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)B(i[o]);n=!1},d(s){s&&m(e),Pe(i,s)}}}function Ha(l){let e,t,n,r,i,a=l[0],s=[];for(let f=0;f<a.length;f+=1)s[f]=cr(or(l,a,f));let o=l[2],c=[];for(let f=0;f<o.length;f+=1)c[f]=fr(ar(l,o,f));const u=f=>B(c[f],1,1,()=>{c[f]=null});return{c(){e=T("table"),t=T("thead");for(let f=0;f<s.length;f+=1)s[f].c();n=L(),r=T("tbody");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=A(f,"TABLE",{style:!0,class:!0});var h=I(e);t=A(h,"THEAD",{});var d=I(t);for(let v=0;v<s.length;v+=1)s[v].l(d);d.forEach(m),n=O(h),r=A(h,"TBODY",{});var p=I(r);for(let v=0;v<c.length;v+=1)c[v].l(p);p.forEach(m),h.forEach(m),this.h()},h(){C(e,"style",l[3]),C(e,"class","svelte-1r7sqdr")},m(f,h){R(f,e,h),w(e,t);for(let d=0;d<s.length;d+=1)s[d].m(t,null);w(e,n),w(e,r);for(let d=0;d<c.length;d+=1)c[d].m(r,null);i=!0},p(f,[h]){if(h&3){a=f[0];let d;for(d=0;d<a.length;d+=1){const p=or(f,a,d);s[d]?s[d].p(p,h):(s[d]=cr(p),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}if(h&53){o=f[2];let d;for(d=0;d<o.length;d+=1){const p=ar(f,o,d);c[d]?(c[d].p(p,h),U(c[d],1)):(c[d]=fr(p),c[d].c(),U(c[d],1),c[d].m(r,null))}for(me(),d=o.length;d<c.length;d+=1)u(d);ve()}(!i||h&8)&&C(e,"style",f[3])},i(f){if(!i){for(let h=0;h<o.length;h+=1)U(c[h]);i=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)B(c[h]);i=!1},d(f){f&&m(e),Pe(s,f),Pe(c,f)}}}function Wa(l,e,t){let{columns:n}=e,{columnConfig:r=void 0}=e,{rows:i}=e,{style:a=""}=e;const s=c=>c&&typeof c!="string"&&typeof c!="number"&&c.component,o=c=>c&&typeof c!="string"&&typeof c!="number"&&c.element;return l.$$set=c=>{"columns"in c&&t(0,n=c.columns),"columnConfig"in c&&t(1,r=c.columnConfig),"rows"in c&&t(2,i=c.rows),"style"in c&&t(3,a=c.style)},[n,r,i,a,s,o]}class Zt extends ue{constructor(e){super(),fe(this,e,Wa,Ha,ae,{columns:0,columnConfig:1,rows:2,style:3})}}function Ya(l){let e,t,n;return{c(){e=T("input"),this.h()},l(r){e=A(r,"INPUT",{type:!0,style:!0}),this.h()},h(){C(e,"type","text"),e.value=l[3],e.disabled=l[1],C(e,"style",l[2])},m(r,i){R(r,e,i),t||(n=[pe(e,"input",st(l[4])),pe(e,"blur",l[5])],t=!0)},p(r,i){i&8&&e.value!==r[3]&&(e.value=r[3]),i&2&&(e.disabled=r[1]),i&4&&C(e,"style",r[2])},d(r){r&&m(e),t=!1,gt(n)}}}function xa(l){let e,t,n,r,i,a;return{c(){e=T("label"),t=J(l[0]),n=L(),r=T("input"),this.h()},l(s){e=A(s,"LABEL",{});var o=I(e);t=X(o,l[0]),n=O(o),r=A(o,"INPUT",{type:!0,class:!0,style:!0}),o.forEach(m),this.h()},h(){C(r,"type","text"),r.value=l[3],r.disabled=l[1],C(r,"class","labeled svelte-1c67e8g"),C(r,"style",l[2])},m(s,o){R(s,e,o),w(e,t),w(e,n),w(e,r),i||(a=[pe(r,"input",st(l[4])),pe(r,"blur",l[5])],i=!0)},p(s,o){o&1&&Fe(t,s[0]),o&8&&r.value!==s[3]&&(r.value=s[3]),o&2&&(r.disabled=s[1]),o&4&&C(r,"style",s[2])},d(s){s&&m(e),i=!1,gt(a)}}}function qa(l){let e;function t(i,a){return i[0]?xa:Ya}let n=t(l),r=n(l);return{c(){r.c(),e=ke()},l(i){r.l(i),e=ke()},m(i,a){r.m(i,a),R(i,e,a)},p(i,[a]){n===(n=t(i))&&r?r.p(i,a):(r.d(1),r=n(i),r&&(r.c(),r.m(e.parentNode,e)))},i:ie,o:ie,d(i){r.d(i),i&&m(e)}}}function Ja(l,e,t){let n,r,{variant:i="text"}=e,{value:a}=e,{onChange:s}=e,{label:o=""}=e,{maxLength:c=void 0}=e,{disabled:u=!1}=e,{style:f=void 0}=e;const h=v=>{switch(i){case"hex":return RegExp(`^(0x|0X)?[a-fA-F0-9]{0,${c??""}}$`).test(v);case"float":return RegExp("^-?(\\d*)?\\.?(\\d*)?$").test(v);default:return!0}},d=v=>{const b=v.target;h(b.value)?t(3,r=b.value):b.value=r},p=()=>{if(i==="text")r!==a&&s(r);else{let v=0;switch(i){case"hex":v=parseInt(r,16);break;case"float":v=parseFloat(r);break}Number.isNaN(v)&&(v=0),v!==a?s(v):t(3,r=n())}};return l.$$set=v=>{"variant"in v&&t(6,i=v.variant),"value"in v&&t(7,a=v.value),"onChange"in v&&t(8,s=v.onChange),"label"in v&&t(0,o=v.label),"maxLength"in v&&t(9,c=v.maxLength),"disabled"in v&&t(1,u=v.disabled),"style"in v&&t(2,f=v.style)},l.$$.update=()=>{l.$$.dirty&704&&t(10,n=()=>{switch(i){case"hex":return Me(a,c);case"float":const v=a.toString();return v!=="NaN"?v:"0";default:return a}}),l.$$.dirty&1024&&t(3,r=n())},[o,u,f,r,d,p,i,a,s,c,n]}class Qe extends ue{constructor(e){super(),fe(this,e,Ja,qa,ae,{variant:6,value:7,onChange:8,label:0,maxLength:9,disabled:1,style:2})}}function Xa(l){let e,t;return e=new Ue({props:{onClick:l[4],$$slots:{default:[Qa]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ka(l){let e,t;return e=new Ue({props:{onClick:l[8],$$slots:{default:[Za]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.onClick=n[8]),r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Qa(l){let e;return{c(){e=J("Create TRCN")},l(t){e=X(t,"Create TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Za(l){let e;return{c(){e=J("Edit TRCN")},l(t){e=X(t,"Edit TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function es(l){let e;return{c(){e=J("Append new value")},l(t){e=X(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function ts(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p;const v=[Ka,Xa],b=[];function E(k,D){return k[2]?0:1}return t=E(l),n=b[t]=v[t](l),i=new Ue({props:{onClick:l[5],$$slots:{default:[es]},$$scope:{ctx:l}}}),{c(){e=T("div"),n.c(),r=L(),z(i.$$.fragment),a=L(),s=T("div"),o=T("label"),c=J(`Flag
				`),u=T("input"),this.h()},l(k){e=A(k,"DIV",{class:!0});var D=I(e);n.l(D),r=O(D),q(i.$$.fragment,D),D.forEach(m),a=O(k),s=A(k,"DIV",{class:!0});var S=I(s);o=A(S,"LABEL",{});var N=I(o);c=X(N,`Flag
				`),u=A(N,"INPUT",{type:!0}),N.forEach(m),S.forEach(m),this.h()},h(){C(e,"class","control-group svelte-oueji5"),C(u,"type","checkbox"),u.checked=f=l[0].flag,C(s,"class","control-group svelte-oueji5")},m(k,D){R(k,e,D),b[t].m(e,null),w(e,r),H(i,e,null),R(k,a,D),R(k,s,D),w(s,o),w(o,c),w(o,u),h=!0,d||(p=pe(u,"input",l[6]),d=!0)},p(k,D){let S=t;t=E(k),t===S?b[t].p(k,D):(me(),B(b[S],1,1,()=>{b[S]=null}),ve(),n=b[t],n?n.p(k,D):(n=b[t]=v[t](k),n.c()),U(n,1),n.m(e,r));const N={};D&1024&&(N.$$scope={dirty:D,ctx:k}),i.$set(N),(!h||D&1&&f!==(f=k[0].flag))&&(u.checked=f)},i(k){h||(U(n),U(i.$$.fragment,k),h=!0)},o(k){B(n),B(i.$$.fragment,k),h=!1},d(k){k&&m(e),b[t].d(),W(i),k&&m(a),k&&m(s),d=!1,p()}}}function ns(l){let e,t;return e=new Zt({props:{columns:["","Value",...l[3]?["Label","Default","Min","Max","Used"]:[]],columnConfig:{"":{shrink:!0}},rows:l[0].items.map(l[9])}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.columns=["","Value",...n[3]?["Label","Default","Min","Max","Used"]:[]]),r&11&&(i.rows=n[0].items.map(n[9])),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function rs(l){let e,t,n,r,i;return t=new Ge({props:{secondary:!0,style:{display:"flex",gap:"15px","justify-content":"space-between","margin-bottom":"5px"},$$slots:{default:[ts]},$$scope:{ctx:l}}}),r=new Ge({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[ns]},$$scope:{ctx:l}}}),{c(){e=T("div"),z(t.$$.fragment),n=L(),z(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","bcon-view svelte-oueji5")},m(a,s){R(a,e,s),H(t,e,null),w(e,n),H(r,e,null),i=!0},p(a,[s]){const o={};s&1029&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),W(t),W(r)}}}function ls(l,e,t){let n;et(l,be,d=>t(7,n=d));let{content:r}=e,{onChange:i}=e,a,s;const o=()=>{be.createLinkedResource("TRCN",{...wt.TRCN,filename:r.filename,items:r.items.map((d,p)=>({...wt.TRCN.items[0],constId:p+1}))})},c=()=>i(oe(r,d=>{d.items.push(0)})),u=d=>i(oe(r,p=>{p.flag=d.target.checked})),f=()=>a?be.openResource(a):null,h=(d,p)=>{var v,b,E,k,D;return{"":{component:It,props:{onClick:()=>{i(oe(r,S=>{S.items=St(S.items,p)}))},"aria-label":`delete line ${p}`}},Value:{component:Qe,props:{onChange:S=>i(oe(r,N=>{N.items[p]=S})),value:d,variant:"hex",maxLength:4,style:"width: 100%; min-width: 75px;"}},Label:(v=s==null?void 0:s[p])==null?void 0:v.constName,Default:Me((b=s==null?void 0:s[p])==null?void 0:b.value,4)||"-",Min:Me((E=s==null?void 0:s[p])==null?void 0:E.minValue,4)||"-",Max:Me((k=s==null?void 0:s[p])==null?void 0:k.maxValue,4)||"-",Used:s!=null&&s[p]?{element:"input",props:{type:"checkbox",checked:(D=s==null?void 0:s[p])==null?void 0:D.used,disabled:!0}}:void 0}};return l.$$set=d=>{"content"in d&&t(0,r=d.content),"onChange"in d&&t(1,i=d.onChange)},l.$$.update=()=>{var d,p;if(l.$$.dirty&132){t(2,a=_e(n).linkedResourceId("TRCN"));const v=_e(n).resourceById(a);t(3,s=((d=v==null?void 0:v.contentChanges)==null?void 0:d.items)??((p=v==null?void 0:v.content)==null?void 0:p.items))}},[r,i,a,s,o,c,u,n,f,h]}class is extends ue{constructor(e){super(),fe(this,e,ls,rs,ae,{content:0,onChange:1})}}function as(l){let e,t,n,r,i,a,s;return{c(){e=T("label"),t=J("Semi global"),n=L(),r=T("input"),this.h()},l(o){e=A(o,"LABEL",{for:!0});var c=I(e);t=X(c,"Semi global"),c.forEach(m),n=O(o),r=A(o,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){C(e,"for","semiglobal-input"),C(r,"id","semiglobal-input"),C(r,"type","text"),r.value=i=l[0].semiglobal,C(r,"class","svelte-1vnf0ng")},m(o,c){R(o,e,c),w(e,t),R(o,n,c),R(o,r,c),a||(s=pe(r,"input",l[1]),a=!0)},p(o,c){c&1&&i!==(i=o[0].semiglobal)&&r.value!==i&&(r.value=i)},d(o){o&&m(e),o&&m(n),o&&m(r),a=!1,s()}}}function ss(l){let e,t,n;return t=new Ge({props:{secondary:!0,$$slots:{default:[as]},$$scope:{ctx:l}}}),{c(){e=T("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","svelte-1vnf0ng")},m(r,i){R(r,e,i),H(t,e,null),n=!0},p(r,[i]){const a={};i&9&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),W(t)}}}function os(l,e,t){let{content:n}=e,{onChange:r}=e;const i=a=>r(oe(n,s=>{s.semiglobal=a.target.value}));return l.$$set=a=>{"content"in a&&t(0,n=a.content),"onChange"in a&&t(2,r=a.onChange)},[n,i,r]}class cs extends ue{constructor(e){super(),fe(this,e,os,ss,ae,{content:0,onChange:2})}}function us(l){let e;return{c(){e=J("This file can be edited by changing the file name!")},l(t){e=X(t,"This file can be edited by changing the file name!")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function fs(l){let e,t,n;return t=new Ge({props:{secondary:!0,$$slots:{default:[us]},$$scope:{ctx:l}}}),{c(){e=T("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","svelte-ez7vw6")},m(r,i){R(r,e,i),H(t,e,null),n=!0},p(r,[i]){const a={};i&1&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),W(t)}}}class hs extends ue{constructor(e){super(),fe(this,e,null,fs,ae,{})}}function un(l){let e,t,n=[{class:"svelte-5wy7c6"}],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=T(l[1]),t=J(l[0]),this.h()},l(i){e=A(i,(l[1]||"null").toUpperCase(),{class:!0});var a=I(e);t=X(a,l[0]),a.forEach(m),this.h()},h(){/-/.test(l[1])?Ut(e,r):Ne(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,a){a&1&&Fe(t,i[0]),r=Le(n,[{class:"svelte-5wy7c6"}]),/-/.test(i[1])?Ut(e,r):Ne(e,r)},d(i){i&&m(e)}}}function ds(l){let e,t=l[1],n,r,i=l[1]&&un(l);const a=l[4].default,s=ut(a,l,l[3],null);return{c(){e=T("div"),i&&i.c(),n=L(),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{class:!0,style:!0});var c=I(e);i&&i.l(c),n=O(c),s&&s.l(c),c.forEach(m),this.h()},h(){C(e,"class","subsection svelte-5wy7c6"),C(e,"style",l[2])},m(o,c){R(o,e,c),i&&i.m(e,null),w(e,n),s&&s.m(e,null),r=!0},p(o,[c]){o[1]?t?ae(t,o[1])?(i.d(1),i=un(o),i.c(),i.m(e,n)):i.p(o,c):(i=un(o),i.c(),i.m(e,n)):t&&(i.d(1),i=null),t=o[1],s&&s.p&&(!r||c&8)&&ft(s,a,o,o[3],r?dt(a,o[3],c,null):ht(o[3]),null),(!r||c&4)&&C(e,"style",o[2])},i(o){r||(U(s,o),r=!0)},o(o){B(s,o),r=!1},d(o){o&&m(e),i&&i.d(o),s&&s.d(o)}}}function gs(l,e,t){let{$$slots:n={},$$scope:r}=e,{title:i}=e,{headingLevel:a}=e,{style:s=""}=e;return l.$$set=o=>{"title"in o&&t(0,i=o.title),"headingLevel"in o&&t(1,a=o.headingLevel),"style"in o&&t(2,s=o.style),"$$scope"in o&&t(3,r=o.$$scope)},[i,a,s,r,n]}class Et extends ue{constructor(e){super(),fe(this,e,gs,ds,ae,{title:0,headingLevel:1,style:2})}}const hr=["Kitchen","Bedroom","Bathroom","Living room","Outside","Dining room","Misc.","Study","Kids"],$n=["Seating","Surfaces","Appliances","Electronics","Plumbing","Decorative","General","Lights","Hobbies","Aspiration","Career"],_s={Seating:["Dining room","Living room","Sofas","Beds","Recreation",null,null,"Misc."],Surfaces:["Counter","Table","End table","Desk","Coffee table","Shelf",null,"Misc."],Appliances:["Cooking","Refrigerator","Small","Large",null,null,null,"Misc."],Electronics:["Entertainment","TV & computer","Audio","Small",null,null,null,"Misc."],Plumbing:["Toilet","Shower","Sink","Hot tub",null,null,null,"Misc."],Decorative:["Wall","Sculpture","Rug","Plant","Mirror","Curtain",null,"Misc."],General:[null,"Dresser",null,"Party","Child","Car","Pets","Misc."],Lights:["Table lamp","Floor lamp","Wall lamp","Ceiling lamp","Outdoor",null,null,"Misc."],Hobbies:["Creativity","Knowledge","Excercise","Recreation",null,null,null,"Misc."],Aspiration:[],Career:[]},dr=["Cleaning","Cooking","Mechanical","Logic","Body","Creativity","Charisma","School study"],gr=["Unknown",null,"Person",null,"Normal","Architectural support",null,"Sim type","Door","Window","Stairs","Modular stairs","Modular stairs portal","Vehicle","Outfit","Memory","Template",null,null,"Tiles"],_r={"OBJD File":["version"],"Catalog price":["price","isSalePriceDifferent","initialSaleDepreciation","dailySaleDepreciation","isSelfDepreciating","depreciationLimit"],"Catalog sort":["catalogUseFlags","roomSortFlags","functionSortFlags","expansionFlag","buildModeType","buildModeSubSort","functionSubSort","downtownSort","vacationSort","communitySort"],"Catalog ratings":["hungerRating","comfortRating","hygieneRating","bladderRating","energyRating","funRating","roomRating","skillFlags"],"User placement":["defaultWallAdjacentFlags","defaultPlacementFlags","defaultWallPlacementFlags","defaultAllowedHeightFlags","useDefaultPlacementFlags","noDuplicateOnPlacement","keepBuying"],"Mesh and graphics":["multiTileMasterId","multiTileSubIndex","levelOffset","hasShadow","frontDirection","multiTileLeadObject","chairEntryFlags","tileWidth","footprintMask","3dObjectType"],"Resource cross-refs":["ttabId","interactionGroup","strId","slotId","slotGroup","ctssId","defaultThumbnailId","motiveEffectsId","catalogPopupId"],GUIDs:["guid","diagonalSelectorGuid","gridSelectorGuid","proxyGuid","jobObjectGuid","originalGuid"],"Data space":["initialStackSize","attributeCount","objectArrayCount","numTypeAttributes"],"Memories & wants":["aspirationFlags","memoryNiceOrBad","wantCategory"],Miscellaneous:["objectType","lookAtScore","isUnlockable","objectOwnership","ignoreGlobalSimInCAS","cannotMoveOutWith","hauntable","isGlobalSimObject","tooltipNameType","templateVersion","nicenessMultiplier","noNewNameFromTemplate","objectVersion","ignoreCurrentModelIndexInIcons","inhibitSuitCopying","miscFlags","resetLotAction","dreamFlags"]};function pr(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function mr(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function vr(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function br(l,e,t){const n=l.slice();return n[23]=e[t],n[25]=t,n}function wr(l,e,t){const n=l.slice();return n[29]=e[t],n}function $r(l,e,t){const n=l.slice();return n[32]=e[t],n[25]=t,n}function ps(l){let e,t=l[32]+"",n,r;return{c(){e=T("option"),n=J(t),r=L(),this.h()},l(i){e=A(i,"OPTION",{});var a=I(e);n=X(a,t),r=O(a),a.forEach(m),this.h()},h(){e.__value=l[25],e.value=e.__value},m(i,a){R(i,e,a),w(e,n),w(e,r)},p:ie,d(i){i&&m(e)}}}function yr(l){let e,t=l[32]!==null&&ps(l);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,r){t&&t.m(n,r),R(n,e,r)},p(n,r){n[32]!==null&&t.p(n,r)},d(n){t&&t.d(n),n&&m(e)}}}function kr(l){let e,t;function n(...r){return l[13](l[29],...r)}return e=new Qe({props:{variant:"hex",maxLength:8,label:l[29],value:l[0].data[l[29]],onChange:n,style:"display: block; width: 100%;"}}),{c(){z(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){H(e,r,i),t=!0},p(r,i){l=r;const a={};i[0]&1&&(a.value=l[0].data[l[29]]),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function Er(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[16](l[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=J(r),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=X(f,r),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][0].push(t)},m(u,f){R(u,e,f),w(e,t),t.checked=t.__value===l[4],w(e,n),w(e,i),w(e,a),s||(o=[pe(t,"change",l[14]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&16&&(t.checked=t.__value===l[4])},d(u){u&&m(e),l[15][0].splice(l[15][0].indexOf(t),1),s=!1,gt(o)}}}function ms(l){let e,t=hr,n=[];for(let r=0;r<t.length;r+=1)n[r]=Er(br(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1040){t=hr;let a;for(a=0;a<t.length;a+=1){const s=br(r,t,a);n[a]?n[a].p(s,i):(n[a]=Er(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function Cr(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[18](l[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=J(r),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=X(f,r),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][1].push(t)},m(u,f){R(u,e,f),w(e,t),t.checked=t.__value===l[2],w(e,n),w(e,i),w(e,a),s||(o=[pe(t,"change",l[17]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&4&&(t.checked=t.__value===l[2])},d(u){u&&m(e),l[15][1].splice(l[15][1].indexOf(t),1),s=!1,gt(o)}}}function vs(l){let e,t=$n,n=[];for(let r=0;r<t.length;r+=1)n[r]=Cr(vr(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1028){t=$n;let a;for(a=0;a<t.length;a+=1){const s=vr(r,t,a);n[a]?n[a].p(s,i):(n[a]=Cr(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function Ir(l){let e,t;return e=new Et({props:{title:"Function subsort",headingLevel:"h4",$$slots:{default:[bs]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r[0]&160|r[1]&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Tr(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[20](l[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=J(r),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=X(f,r),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][2].push(t)},m(u,f){R(u,e,f),w(e,t),t.checked=t.__value===l[5],w(e,n),w(e,i),w(e,a),s||(o=[pe(t,"change",l[19]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&32&&(t.checked=t.__value===l[5]),f[0]&128&&r!==(r=l[23]+"")&&Fe(i,r)},d(u){u&&m(e),l[15][2].splice(l[15][2].indexOf(t),1),s=!1,gt(o)}}}function Ar(l){let e,t=l[23]!==null&&Tr(l);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,r){t&&t.m(n,r),R(n,e,r)},p(n,r){n[23]!==null?t?t.p(n,r):(t=Tr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&m(e)}}}function bs(l){let e,t=l[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=Ar(mr(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1184){t=r[7];let a;for(a=0;a<t.length;a+=1){const s=mr(r,t,a);n[a]?n[a].p(s,i):(n[a]=Ar(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function Ur(l){let e,t,n,r=l[23]+"",i,a,s,o;function c(){return l[22](l[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=J(r),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=X(f,r),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<l[25],t.value=t.__value,l[15][3].push(t)},m(u,f){R(u,e,f),w(e,t),t.checked=t.__value===l[6],w(e,n),w(e,i),w(e,a),s||(o=[pe(t,"change",l[21]),pe(t,"change",st(c))],s=!0)},p(u,f){l=u,f[0]&64&&(t.checked=t.__value===l[6])},d(u){u&&m(e),l[15][3].splice(l[15][3].indexOf(t),1),s=!1,gt(o)}}}function ws(l){let e,t=dr,n=[];for(let r=0;r<t.length;r+=1)n[r]=Ur(pr(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&1088){t=dr;let a;for(a=0;a<t.length;a+=1){const s=pr(r,t,a);n[a]?n[a].p(s,i):(n[a]=Ur(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function $s(l){var K;let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,b,E=gr,k=[];for(let Y=0;Y<E.length;Y+=1)k[Y]=yr($r(l,E,Y));let D=l[8],S=[];for(let Y=0;Y<D.length;Y+=1)S[Y]=kr(wr(l,D,Y));const N=Y=>B(S[Y],1,1,()=>{S[Y]=null});o=new Et({props:{title:"Room sort",headingLevel:"h4",$$slots:{default:[ms]},$$scope:{ctx:l}}}),u=new Et({props:{title:"Function sort",headingLevel:"h4",$$slots:{default:[vs]},$$scope:{ctx:l}}});let P=((K=l[7])==null?void 0:K.length)&&Ir(l);return d=new Et({props:{title:"Skill flags",headingLevel:"h4",$$slots:{default:[ws]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),n=T("label"),r=J(`Object type
			`),i=T("select");for(let Y=0;Y<k.length;Y+=1)k[Y].c();a=L();for(let Y=0;Y<S.length;Y+=1)S[Y].c();s=L(),z(o.$$.fragment),c=L(),z(u.$$.fragment),f=L(),P&&P.c(),h=L(),z(d.$$.fragment),this.h()},l(Y){e=A(Y,"DIV",{class:!0});var M=I(e);t=A(M,"DIV",{class:!0});var x=I(t);n=A(x,"LABEL",{});var j=I(n);r=X(j,`Object type
			`),i=A(j,"SELECT",{class:!0});var Q=I(i);for(let le=0;le<k.length;le+=1)k[le].l(Q);Q.forEach(m),j.forEach(m),a=O(x);for(let le=0;le<S.length;le+=1)S[le].l(x);x.forEach(m),s=O(M),q(o.$$.fragment,M),c=O(M),q(u.$$.fragment,M),f=O(M),P&&P.l(M),h=O(M),q(d.$$.fragment,M),M.forEach(m),this.h()},h(){C(i,"class","type-select svelte-1tgu5yy"),l[3]===void 0&&hn(()=>l[11].call(i)),C(t,"class","input-group svelte-1tgu5yy"),C(e,"class","catalog-sort svelte-1tgu5yy")},m(Y,M){R(Y,e,M),w(e,t),w(t,n),w(n,r),w(n,i);for(let x=0;x<k.length;x+=1)k[x].m(i,null);it(i,l[3]),w(t,a);for(let x=0;x<S.length;x+=1)S[x].m(t,null);w(e,s),H(o,e,null),w(e,c),H(u,e,null),w(e,f),P&&P.m(e,null),w(e,h),H(d,e,null),p=!0,v||(b=[pe(i,"change",l[11]),pe(i,"input",st(l[12]))],v=!0)},p(Y,M){var le;if(M&0){E=gr;let Z;for(Z=0;Z<E.length;Z+=1){const ee=$r(Y,E,Z);k[Z]?k[Z].p(ee,M):(k[Z]=yr(ee),k[Z].c(),k[Z].m(i,null))}for(;Z<k.length;Z+=1)k[Z].d(1);k.length=E.length}if(M[0]&8&&it(i,Y[3]),M[0]&769){D=Y[8];let Z;for(Z=0;Z<D.length;Z+=1){const ee=wr(Y,D,Z);S[Z]?(S[Z].p(ee,M),U(S[Z],1)):(S[Z]=kr(ee),S[Z].c(),U(S[Z],1),S[Z].m(t,null))}for(me(),Z=D.length;Z<S.length;Z+=1)N(Z);ve()}const x={};M[0]&16|M[1]&8&&(x.$$scope={dirty:M,ctx:Y}),o.$set(x);const j={};M[0]&4|M[1]&8&&(j.$$scope={dirty:M,ctx:Y}),u.$set(j),(le=Y[7])!=null&&le.length?P?(P.p(Y,M),M[0]&128&&U(P,1)):(P=Ir(Y),P.c(),U(P,1),P.m(e,h)):P&&(me(),B(P,1,1,()=>{P=null}),ve());const Q={};M[0]&64|M[1]&8&&(Q.$$scope={dirty:M,ctx:Y}),d.$set(Q)},i(Y){if(!p){for(let M=0;M<D.length;M+=1)U(S[M]);U(o.$$.fragment,Y),U(u.$$.fragment,Y),U(P),U(d.$$.fragment,Y),p=!0}},o(Y){S=S.filter(Boolean);for(let M=0;M<S.length;M+=1)B(S[M]);B(o.$$.fragment,Y),B(u.$$.fragment,Y),B(P),B(d.$$.fragment,Y),p=!1},d(Y){Y&&m(e),Pe(k,Y),Pe(S,Y),W(o),W(u),P&&P.d(),W(d),v=!1,gt(b)}}}function ys(l,e,t){let{content:n}=e,{onChange:r}=e,i=0,a=0,s=0,o=0,c=0,u;const f=["guid","originalGuid","proxyGuid","diagonalSelectorGuid","gridSelectorGuid"],h=(x,j)=>r(oe(n,Q=>{Q.data[x]=j})),d=(x,j)=>{r(oe(n,Q=>{Q.data[x]=1<<j}))},p=[[],[],[],[]];function v(){i=Ml(this),t(3,i),t(0,n),t(2,s)}const b=x=>r(oe(n,j=>{j.data.objectType=parseInt(x.currentTarget.value)})),E=(x,j)=>h(x,j);function k(){a=this.__value,t(4,a),t(0,n),t(2,s)}const D=x=>d("roomSortFlags",x);function S(){s=this.__value,t(2,s),t(0,n)}const N=x=>d("functionSortFlags",x);function P(){o=this.__value,t(5,o),t(0,n),t(2,s)}const K=x=>d("functionSubSort",x);function Y(){c=this.__value,t(6,c),t(0,n),t(2,s)}const M=x=>d("skillFlags",x);return l.$$set=x=>{"content"in x&&t(0,n=x.content),"onChange"in x&&t(1,r=x.onChange)},l.$$.update=()=>{if(l.$$.dirty[0]&5){t(3,i=n.data.objectType),t(4,a=n.data.roomSortFlags),t(2,s=n.data.functionSortFlags),t(5,o=n.data.functionSubSort),t(6,c=n.data.skillFlags);const x=$n.find((j,Q)=>s===1<<Q);t(7,u=x?_s[x]:void 0)}},[n,r,s,i,a,o,c,u,f,h,d,v,b,E,k,p,D,S,N,P,K,Y,M]}class Dr extends ue{constructor(e){super(),fe(this,e,ys,$s,ae,{content:0,onChange:1},null,[-1,-1])}}function Sr(l,e,t){const n=l.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function Br(l,e,t){const n=l.slice();return n[9]=e[t],n}function Fr(l){let e,t,n=l[9]+"",r,i,a,s,o,c;function u(...f){return l[4](l[9],...f)}return s=new Qe({props:{variant:"hex",maxLength:l[1][l[9]]?8:4,value:l[0].data[l[9]],onChange:u}}),{c(){e=T("tr"),t=T("td"),r=J(n),i=L(),a=T("td"),z(s.$$.fragment),o=L(),this.h()},l(f){e=A(f,"TR",{});var h=I(e);t=A(h,"TD",{class:!0});var d=I(t);r=X(d,n),d.forEach(m),i=O(h),a=A(h,"TD",{class:!0});var p=I(a);q(s.$$.fragment,p),p.forEach(m),o=O(h),h.forEach(m),this.h()},h(){C(t,"class","svelte-m2j855"),C(a,"class","svelte-m2j855")},m(f,h){R(f,e,h),w(e,t),w(t,r),w(e,i),w(e,a),H(s,a,null),w(e,o),c=!0},p(f,h){l=f;const d={};h&1&&(d.value=l[0].data[l[9]]),s.$set(d)},i(f){c||(U(s.$$.fragment,f),c=!0)},o(f){B(s.$$.fragment,f),c=!1},d(f){f&&m(e),W(s)}}}function Rr(l){let e,t,n=l[5]+"",r,i,a,s,o=l[6],c=[];for(let f=0;f<o.length;f+=1)c[f]=Fr(Br(l,o,f));const u=f=>B(c[f],1,1,()=>{c[f]=null});return{c(){e=T("tr"),t=T("th"),r=J(n),i=L();for(let f=0;f<c.length;f+=1)c[f].c();a=ke(),this.h()},l(f){e=A(f,"TR",{});var h=I(e);t=A(h,"TH",{colspan:!0,class:!0});var d=I(t);r=X(d,n),d.forEach(m),h.forEach(m),i=O(f);for(let p=0;p<c.length;p+=1)c[p].l(f);a=ke(),this.h()},h(){C(t,"colspan",2),C(t,"class","svelte-m2j855")},m(f,h){R(f,e,h),w(e,t),w(t,r),R(f,i,h);for(let d=0;d<c.length;d+=1)c[d].m(f,h);R(f,a,h),s=!0},p(f,h){if(h&7){o=f[6];let d;for(d=0;d<o.length;d+=1){const p=Br(f,o,d);c[d]?(c[d].p(p,h),U(c[d],1)):(c[d]=Fr(p),c[d].c(),U(c[d],1),c[d].m(a.parentNode,a))}for(me(),d=o.length;d<c.length;d+=1)u(d);ve()}},i(f){if(!s){for(let h=0;h<o.length;h+=1)U(c[h]);s=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)B(c[h]);s=!1},d(f){f&&m(e),f&&m(i),Pe(c,f),f&&m(a)}}}function ks(l){let e,t,n,r,i=Object.entries(_r),a=[];for(let o=0;o<i.length;o+=1)a[o]=Rr(Sr(l,i,o));const s=o=>B(a[o],1,1,()=>{a[o]=null});return{c(){e=T("div"),t=T("table"),n=T("tbody");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=A(o,"DIV",{class:!0});var c=I(e);t=A(c,"TABLE",{class:!0});var u=I(t);n=A(u,"TBODY",{});var f=I(n);for(let h=0;h<a.length;h+=1)a[h].l(f);f.forEach(m),u.forEach(m),c.forEach(m),this.h()},h(){C(t,"class","svelte-m2j855"),C(e,"class","raw-data-wrapper svelte-m2j855")},m(o,c){R(o,e,c),w(e,t),w(t,n);for(let u=0;u<a.length;u+=1)a[u].m(n,null);r=!0},p(o,[c]){if(c&7){i=Object.entries(_r);let u;for(u=0;u<i.length;u+=1){const f=Sr(o,i,u);a[u]?(a[u].p(f,c),U(a[u],1)):(a[u]=Rr(f),a[u].c(),U(a[u],1),a[u].m(n,null))}for(me(),u=i.length;u<a.length;u+=1)s(u);ve()}},i(o){if(!r){for(let c=0;c<i.length;c+=1)U(a[c]);r=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)B(a[c]);r=!1},d(o){o&&m(e),Pe(a,o)}}}function Es(l,e,t){let{content:n}=e,{onChange:r}=e;const i={version:!0,guid:!0,diagonalSelectorGuid:!0,gridSelectorGuid:!0,proxyGuid:!0,jobObjectGuid:!0,originalGuid:!0,objectModelGuid:!0},a=(o,c)=>r(oe(n,u=>{u.data[o]=c})),s=(o,c)=>a(o,c);return l.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,r=o.onChange)},[n,i,a,r,s]}class Pr extends ue{constructor(e){super(),fe(this,e,Es,ks,ae,{content:0,onChange:3})}}function Cs(l){let e,t,n;return t=new Gt({props:{tabs:{catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:l[0],onChange:l[1]}},rawData:{title:"Raw data",content:Pr,hideClose:!0,props:{content:l[0],onChange:l[1]}}},activeTab:l[2],onChange:l[3],onClose:Is,headingLevel:"h3",style:{height:"100%",background:"transparent",border:"0"},contentStyle:{overflow:"auto"}}}),{c(){e=T("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","objd-container svelte-1kd2bg9")},m(r,i){R(r,e,i),H(t,e,null),n=!0},p(r,[i]){const a={};i&3&&(a.tabs={catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:r[0],onChange:r[1]}},rawData:{title:"Raw data",content:Pr,hideClose:!0,props:{content:r[0],onChange:r[1]}}}),i&4&&(a.activeTab=r[2]),i&4&&(a.onChange=r[3]),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),W(t)}}}const Is=()=>null;function Ts(l,e,t){let{content:n}=e,{onChange:r}=e,i="catalogSort";const a=s=>t(2,i=s);return l.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(1,r=s.onChange)},[n,r,i,a]}class As extends ue{constructor(e){super(),fe(this,e,Ts,Cs,ae,{content:0,onChange:1})}}function Lr(l,e,t){const n=l.slice();return n[10]=e[t],n}function Or(l){let e,t,n,r,i,a=l[4]&&Mr(l);return{c(){e=T("div"),t=T("label"),n=J(l[2]),r=L(),a&&a.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var o=I(e);t=A(o,"LABEL",{for:!0});var c=I(t);n=X(c,l[2]),c.forEach(m),r=O(o),a&&a.l(o),o.forEach(m),this.h()},h(){C(t,"for","bhav-select"),C(e,"class","label-with-edit svelte-1wewriw")},m(s,o){R(s,e,o),w(e,t),w(t,n),w(e,r),a&&a.m(e,null),i=!0},p(s,o){(!i||o&4)&&Fe(n,s[2]),s[4]?a?(a.p(s,o),o&16&&U(a,1)):(a=Mr(s),a.c(),U(a,1),a.m(e,null)):a&&(me(),B(a,1,1,()=>{a=null}),ve())},i(s){i||(U(a),i=!0)},o(s){B(a),i=!1},d(s){s&&m(e),a&&a.d()}}}function Mr(l){let e,t;return e=new Ue({props:{onClick:l[7],$$slots:{default:[Us]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.onClick=n[7]),r&8192&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Us(l){let e;return{c(){e=J("Edit BHAV")},l(t){e=X(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Nr(l){let e,t,n=Me(l[10].meta.instanceId,4)+"",r,i,a=l[10].content.filename+"",s,o,c;return{c(){e=T("option"),t=J("("),r=J(n),i=J(") "),s=J(a),o=L(),this.h()},l(u){e=A(u,"OPTION",{});var f=I(e);t=X(f,"("),r=X(f,n),i=X(f,") "),s=X(f,a),o=O(f),f.forEach(m),this.h()},h(){e.__value=c=l[10].meta.instanceId,e.value=e.__value},m(u,f){R(u,e,f),w(e,t),w(e,r),w(e,i),w(e,s),w(e,o)},p(u,f){f&32&&n!==(n=Me(u[10].meta.instanceId,4)+"")&&Fe(r,n),f&32&&a!==(a=u[10].content.filename+"")&&Fe(s,a),f&32&&c!==(c=u[10].meta.instanceId)&&(e.__value=c,e.value=e.__value)},d(u){u&&m(e)}}}function Vr(l){let e,t;return e=new Ue({props:{onClick:l[9],style:"margin-left: 5px; white-space: nowrap;",$$slots:{default:[Ds]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&16&&(i.onClick=n[9]),r&8192&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ds(l){let e;return{c(){e=J("Edit BHAV")},l(t){e=X(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Ss(l){let e,t,n,r,i,a,s,o=l[2]&&Or(l),c=l[5],u=[];for(let h=0;h<c.length;h+=1)u[h]=Nr(Lr(l,c,h));let f=!l[2]&&l[4]&&Vr(l);return{c(){e=T("div"),o&&o.c(),t=L(),n=T("select");for(let h=0;h<u.length;h+=1)u[h].c();r=L(),f&&f.c(),this.h()},l(h){e=A(h,"DIV",{class:!0,style:!0});var d=I(e);o&&o.l(d),t=O(d),n=A(d,"SELECT",{id:!0,class:!0});var p=I(n);for(let v=0;v<u.length;v+=1)u[v].l(p);p.forEach(m),r=O(d),f&&f.l(d),d.forEach(m),this.h()},h(){C(n,"id","bhav-select"),C(n,"class","svelte-1wewriw"),C(e,"class","bhav-select svelte-1wewriw"),C(e,"style",l[3]),Ae(e,"stacked",!!l[2])},m(h,d){R(h,e,d),o&&o.m(e,null),w(e,t),w(e,n);for(let p=0;p<u.length;p+=1)u[p].m(n,null);it(n,l[1]),w(e,r),f&&f.m(e,null),i=!0,a||(s=pe(n,"change",l[8]),a=!0)},p(h,[d]){if(h[2]?o?(o.p(h,d),d&4&&U(o,1)):(o=Or(h),o.c(),U(o,1),o.m(e,t)):o&&(me(),B(o,1,1,()=>{o=null}),ve()),d&32){c=h[5];let p;for(p=0;p<c.length;p+=1){const v=Lr(h,c,p);u[p]?u[p].p(v,d):(u[p]=Nr(v),u[p].c(),u[p].m(n,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}(!i||d&34)&&it(n,h[1]),!h[2]&&h[4]?f?(f.p(h,d),d&20&&U(f,1)):(f=Vr(h),f.c(),U(f,1),f.m(e,null)):f&&(me(),B(f,1,1,()=>{f=null}),ve()),(!i||d&8)&&C(e,"style",h[3]),(!i||d&4)&&Ae(e,"stacked",!!h[2])},i(h){i||(U(o),U(f),i=!0)},o(h){B(o),B(f),i=!1},d(h){h&&m(e),o&&o.d(),Pe(u,h),f&&f.d(),a=!1,s()}}}function Bs(l,e,t){let n,r,i;et(l,be,d=>t(6,i=d));let{onChange:a}=e,{value:s}=e,{label:o=""}=e,{style:c=""}=e;const u=()=>r?be.openResource(r):null,f=d=>a(parseInt(d.currentTarget.value)),h=()=>r?be.openResource(r):null;return l.$$set=d=>{"onChange"in d&&t(0,a=d.onChange),"value"in d&&t(1,s=d.value),"label"in d&&t(2,o=d.label),"style"in d&&t(3,c=d.style)},l.$$.update=()=>{l.$$.dirty&64&&t(5,n=_e(i).resourcesByType("BHAV")),l.$$.dirty&66&&t(4,r=_e(i).resourceIdByTypeAndInstanceId("BHAV",s))},[a,s,o,c,r,n,i,u,f,h]}class Kt extends ue{constructor(e){super(),fe(this,e,Bs,Ss,ae,{onChange:0,value:1,label:2,style:3})}}function jr(l,e,t){const n=l.slice();return n[4]=e[t],n[6]=t,n}function Gr(l){let e,t,n=l[1][l[6]]+"",r,i,a,s,o,c,u,f,h;return s=new Kt({props:{value:l[4].action,onChange:l[2]("action",l[6]),style:"width: 100%"}}),u=new Kt({props:{value:l[4].guard,onChange:l[2]("guard",l[6]),style:"width: 100%"}}),{c(){e=T("tr"),t=T("td"),r=J(n),i=L(),a=T("td"),z(s.$$.fragment),o=L(),c=T("td"),z(u.$$.fragment),f=L(),this.h()},l(d){e=A(d,"TR",{});var p=I(e);t=A(p,"TD",{class:!0});var v=I(t);r=X(v,n),v.forEach(m),i=O(p),a=A(p,"TD",{class:!0});var b=I(a);q(s.$$.fragment,b),b.forEach(m),o=O(p),c=A(p,"TD",{class:!0});var E=I(c);q(u.$$.fragment,E),E.forEach(m),f=O(p),p.forEach(m),this.h()},h(){C(t,"class","svelte-5fcvf8"),C(a,"class","svelte-5fcvf8"),C(c,"class","svelte-5fcvf8")},m(d,p){R(d,e,p),w(e,t),w(t,r),w(e,i),w(e,a),H(s,a,null),w(e,o),w(e,c),H(u,c,null),w(e,f),h=!0},p(d,p){const v={};p&1&&(v.value=d[4].action),s.$set(v);const b={};p&1&&(b.value=d[4].guard),u.$set(b)},i(d){h||(U(s.$$.fragment,d),U(u.$$.fragment,d),h=!0)},o(d){B(s.$$.fragment,d),B(u.$$.fragment,d),h=!1},d(d){d&&m(e),W(s),W(u)}}}function Fs(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p=l[0].functions,v=[];for(let E=0;E<p.length;E+=1)v[E]=Gr(jr(l,p,E));const b=E=>B(v[E],1,1,()=>{v[E]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),r=J("Function"),i=L(),a=T("th"),s=J("Action BHAV"),o=L(),c=T("th"),u=J("Guardian BHAV"),f=L(),h=T("tbody");for(let E=0;E<v.length;E+=1)v[E].c();this.h()},l(E){e=A(E,"TABLE",{class:!0});var k=I(e);t=A(k,"THEAD",{class:!0});var D=I(t);n=A(D,"TH",{class:!0});var S=I(n);r=X(S,"Function"),S.forEach(m),i=O(D),a=A(D,"TH",{class:!0});var N=I(a);s=X(N,"Action BHAV"),N.forEach(m),o=O(D),c=A(D,"TH",{class:!0});var P=I(c);u=X(P,"Guardian BHAV"),P.forEach(m),D.forEach(m),f=O(k),h=A(k,"TBODY",{});var K=I(h);for(let Y=0;Y<v.length;Y+=1)v[Y].l(K);K.forEach(m),k.forEach(m),this.h()},h(){C(n,"class","svelte-5fcvf8"),C(a,"class","svelte-5fcvf8"),C(c,"class","svelte-5fcvf8"),C(t,"class","svelte-5fcvf8"),C(e,"class","svelte-5fcvf8")},m(E,k){R(E,e,k),w(e,t),w(t,n),w(n,r),w(t,i),w(t,a),w(a,s),w(t,o),w(t,c),w(c,u),w(e,f),w(e,h);for(let D=0;D<v.length;D+=1)v[D].m(h,null);d=!0},p(E,k){if(k&7){p=E[0].functions;let D;for(D=0;D<p.length;D+=1){const S=jr(E,p,D);v[D]?(v[D].p(S,k),U(v[D],1)):(v[D]=Gr(S),v[D].c(),U(v[D],1),v[D].m(h,null))}for(me(),D=p.length;D<v.length;D+=1)b(D);ve()}},i(E){if(!d){for(let k=0;k<p.length;k+=1)U(v[k]);d=!0}},o(E){v=v.filter(Boolean);for(let k=0;k<v.length;k+=1)B(v[k]);d=!1},d(E){E&&m(e),Pe(v,E)}}}function Rs(l){let e,t,n;return t=new Ge({props:{secondary:!0,style:{width:"100%",height:"100%",overflow:"auto","padding-top":"0"},$$slots:{default:[Fs]},$$scope:{ctx:l}}}),{c(){e=T("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","objf-view svelte-5fcvf8")},m(r,i){R(r,e,i),H(t,e,null),n=!0},p(r,[i]){const a={};i&129&&(a.$$scope={dirty:i,ctx:r}),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),W(t)}}}function Ps(l,e,t){let{content:n}=e,{onChange:r}=e;const i=["init","main","load","cleanup","queue skipped","allow intersection","wall adjacency changed","room changed","dynamic multi-tile update","placement","pickup","user placement","user pickup","level info request","serving surface","portal","gardening","wash hands","prep","cook","surface","dispose","food","pickup from slot","wash dish","eating surface","sit","stand","clean","repair","ui event","Restock","Wash Clothes","start live mode","stop live mode","link objects","message handler","pre route","post route","goal check","reaction handler","along route callback","awareness","reset","look at target","walk over","utility state change","set model by type","get model type","delete","user delete","just moved in","prevent place in slot","global awareness","object updated by design mode"],a=(s,o)=>c=>r(oe(n,u=>{const f=u.functions[o];f&&(f[s]=c)}));return l.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(3,r=s.onChange)},[n,i,a,r]}class Ls extends ue{constructor(e){super(),fe(this,e,Ps,Rs,ae,{content:0,onChange:3})}}function zr(l,e,t){const n=l.slice();return n[10]=e[t],n[12]=t,n}function Hr(l,e,t){const n=l.slice();return n[13]=e[t],n[12]=t,n}function Os(l){let e;return{c(){e=J("Append new string set")},l(t){e=X(t,"Append new string set")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Ms(l){let e,t;return e=new Ue({props:{onClick:l[2],$$slots:{default:[Os]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&32768&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Wr(l){let e,t=Wl(l[12]+1)+"",n;return{c(){e=T("option"),n=J(t),this.h()},l(r){e=A(r,"OPTION",{});var i=I(e);n=X(i,t),i.forEach(m),this.h()},h(){e.__value=l[12]+1,e.value=e.__value},m(r,i){R(r,e,i),w(e,n)},p:ie,d(r){r&&m(e)}}}function Yr(l,e){let t,n,r,i,a,s=Me(e[12],4)+"",o,c,u,f,h,d,p,v,b,E,k,D,S,N,P,K;function Y(){return e[6](e[12])}i=new It({props:{onClick:Y,"aria-label":`remove string set ${e[12]}`}});let M=dn,x=[];for(let Z=0;Z<M.length;Z+=1)x[Z]=Wr(Hr(e,M,Z));function j(...Z){return e[7](e[12],...Z)}function Q(...Z){return e[8](e[12],...Z)}function le(...Z){return e[9](e[12],...Z)}return{key:l,first:null,c(){t=T("tr"),n=T("td"),r=T("div"),z(i.$$.fragment),a=J(`
								(`),o=J(s),c=J(`)
								`),u=T("select");for(let Z=0;Z<x.length;Z+=1)x[Z].c();h=L(),d=T("td"),p=T("textarea"),b=L(),E=T("td"),k=T("textarea"),S=L(),this.h()},l(Z){t=A(Z,"TR",{class:!0});var ee=I(t);n=A(ee,"TD",{class:!0});var ne=I(n);r=A(ne,"DIV",{class:!0});var re=I(r);q(i.$$.fragment,re),a=X(re,`
								(`),o=X(re,s),c=X(re,`)
								`),u=A(re,"SELECT",{class:!0});var ce=I(u);for(let de=0;de<x.length;de+=1)x[de].l(ce);ce.forEach(m),re.forEach(m),ne.forEach(m),h=O(ee),d=A(ee,"TD",{class:!0});var se=I(d);p=A(se,"TEXTAREA",{placeholder:!0,class:!0}),I(p).forEach(m),se.forEach(m),b=O(ee),E=A(ee,"TD",{class:!0});var Ee=I(E);k=A(Ee,"TEXTAREA",{placeholder:!0,class:!0}),I(k).forEach(m),Ee.forEach(m),S=O(ee),ee.forEach(m),this.h()},h(){C(u,"class","language svelte-ed1fg7"),C(r,"class","grid svelte-ed1fg7"),C(n,"class","svelte-ed1fg7"),C(p,"placeholder","No value"),p.value=v=e[10].value,C(p,"class","svelte-ed1fg7"),C(d,"class","svelte-ed1fg7"),C(k,"placeholder","No description"),k.value=D=e[10].description,C(k,"class","svelte-ed1fg7"),C(E,"class","svelte-ed1fg7"),C(t,"class","svelte-ed1fg7"),this.first=t},m(Z,ee){R(Z,t,ee),w(t,n),w(n,r),H(i,r,null),w(r,a),w(r,o),w(r,c),w(r,u);for(let ne=0;ne<x.length;ne+=1)x[ne].m(u,null);it(u,e[10].languageId),w(t,h),w(t,d),w(d,p),w(t,b),w(t,E),w(E,k),w(t,S),N=!0,P||(K=[pe(u,"input",j),pe(p,"input",Q),pe(k,"input",le)],P=!0)},p(Z,ee){e=Z;const ne={};if(ee&3&&(ne.onClick=Y),ee&1&&(ne["aria-label"]=`remove string set ${e[12]}`),i.$set(ne),(!N||ee&1)&&s!==(s=Me(e[12],4)+"")&&Fe(o,s),ee&0){M=dn;let re;for(re=0;re<M.length;re+=1){const ce=Hr(e,M,re);x[re]?x[re].p(ce,ee):(x[re]=Wr(ce),x[re].c(),x[re].m(u,null))}for(;re<x.length;re+=1)x[re].d(1);x.length=M.length}(!N||ee&1&&f!==(f=e[10].languageId))&&it(u,e[10].languageId),(!N||ee&1&&v!==(v=e[10].value))&&(p.value=v),(!N||ee&1&&D!==(D=e[10].description))&&(k.value=D)},i(Z){N||(U(i.$$.fragment,Z),N=!0)},o(Z){B(i.$$.fragment,Z),N=!1},d(Z){Z&&m(t),W(i),Pe(x,Z),P=!1,gt(K)}}}function Ns(l){let e,t,n,r,i,a,s,o,c,u,f,h=[],d=new Map,p,v=l[0].stringSets;const b=E=>E[12];for(let E=0;E<v.length;E+=1){let k=zr(l,v,E),D=b(k);d.set(D,h[E]=Yr(D,k))}return{c(){e=T("table"),t=T("thead"),n=T("th"),r=L(),i=T("th"),a=J("Value"),s=L(),o=T("th"),c=J("Description"),u=L(),f=T("tbody");for(let E=0;E<h.length;E+=1)h[E].c();this.h()},l(E){e=A(E,"TABLE",{class:!0});var k=I(e);t=A(k,"THEAD",{});var D=I(t);n=A(D,"TH",{class:!0}),I(n).forEach(m),r=O(D),i=A(D,"TH",{class:!0});var S=I(i);a=X(S,"Value"),S.forEach(m),s=O(D),o=A(D,"TH",{class:!0});var N=I(o);c=X(N,"Description"),N.forEach(m),D.forEach(m),u=O(k),f=A(k,"TBODY",{});var P=I(f);for(let K=0;K<h.length;K+=1)h[K].l(P);P.forEach(m),k.forEach(m),this.h()},h(){C(n,"class","shrink svelte-ed1fg7"),C(i,"class","svelte-ed1fg7"),C(o,"class","svelte-ed1fg7"),C(e,"class","svelte-ed1fg7")},m(E,k){R(E,e,k),w(e,t),w(t,n),w(t,r),w(t,i),w(i,a),w(t,s),w(t,o),w(o,c),w(e,u),w(e,f);for(let D=0;D<h.length;D+=1)h[D].m(f,null);p=!0},p(E,k){k&59&&(v=E[0].stringSets,me(),h=Qt(h,k,b,1,E,v,d,f,yn,Yr,null,zr),ve())},i(E){if(!p){for(let k=0;k<v.length;k+=1)U(h[k]);p=!0}},o(E){for(let k=0;k<h.length;k+=1)B(h[k]);p=!1},d(E){E&&m(e);for(let k=0;k<h.length;k+=1)h[k].d()}}}function Vs(l){let e,t,n,r,i;return t=new Ge({props:{secondary:!0,$$slots:{default:[Ms]},$$scope:{ctx:l}}}),r=new Ge({props:{secondary:!0,style:{flex:"1",overflow:"auto","padding-top":"0"},$$slots:{default:[Ns]},$$scope:{ctx:l}}}),{c(){e=T("div"),z(t.$$.fragment),n=L(),z(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","str-view svelte-ed1fg7")},m(a,s){R(a,e,s),H(t,e,null),w(e,n),H(r,e,null),i=!0},p(a,[s]){const o={};s&32768&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&32771&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),W(t),W(r)}}}function js(l,e,t){let{content:n}=e,{onChange:r}=e;const i=()=>r(oe(n,d=>{d.stringSets.push({...wt.STR.stringSets[0]})})),a=(d,p)=>r(oe(n,v=>{const b=v.stringSets[p];b&&(b.languageId=parseInt(d.target.value,10))})),s=(d,p)=>r(oe(n,v=>{const b=v.stringSets[p];b&&(b.value=d.target.value)})),o=(d,p)=>r(oe(n,v=>{const b=v.stringSets[p];b&&(b.description=d.target.value)})),c=d=>r(oe(n,p=>{p.stringSets=St(p.stringSets,d)})),u=(d,p)=>a(p,d),f=(d,p)=>s(p,d),h=(d,p)=>o(p,d);return l.$$set=d=>{"content"in d&&t(0,n=d.content),"onChange"in d&&t(1,r=d.onChange)},[n,r,i,a,s,o,c,u,f,h]}class fn extends ue{constructor(e){super(),fe(this,e,js,Vs,ae,{content:0,onChange:1})}}var Gs=function(l){var e={};function t(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return l[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=l,t.c=e,t.d=function(n,r,i){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(l,e,t){(function(n){var r=function(){function u(f,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,h,d){return h&&u(f.prototype,h),d&&u(f,d),f}}();function i(u){if(Array.isArray(u)){for(var f=0,h=Array(u.length);f<u.length;f++)h[f]=u[f];return h}else return Array.from(u)}function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s={noImage:0,colorMapped:1,RGB:2,blackAndWhite:3,runlengthColorMapped:9,runlengthRGB:10,compressedBlackAndWhite:11,compressedColorMapped:32,compressed4PassQTColorMapped:33},o=18,c=function(){function u(f){var h=this;a(this,u),f instanceof n?this._buffer=f:typeof f=="string"?this._buffer=n.from(f,"binary"):f?this._buffer=n.from(f):this._buffer=null,this._idLength=0,this._colorMapType=0,this._imageType=0,this._colorMapOrigin=0,this._colorMapLength=0,this._colorMapDepth=0,this._imageXOrigin=0,this._imageYOrigin=0,this._imageWidth=0,this._imageHeight=0,this._imageDepth=0,this._alphaDepth=0,this._leftToRight=!0,this._topToBottom=!1,this._interleave=!1,this._hasAlpha=!1,this._imageID=null,this._canvas=null,this._context=null,this._imageData=null,this._image=null,this._src=null,this.onload=null,this.onerror=null,this._resolveFunc=null,this._rejectFunc=null,this._didLoad=new Promise(function(d,p){h._resolveFunc=d,h._rejectFunc=p}),f&&this._parseData()}return r(u,[{key:"_loadURL",value:function(h){var d=this;this._src=h,this._requestBinaryFile(h).then(function(p){d._buffer=n.from(p),d._parseData()}).catch(function(p){d._reject(p)})}},{key:"_requestBinaryFile",value:function(h){return new Promise(function(d,p){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="arraybuffer",v.onload=function(b){v.response?d(v.response):p(v)},v.onerror=function(b){p(b)},v.send(null)})}},{key:"_parseData",value:function(){this._readHeader(),this._readImageID(),this._initImage();var h=this._getImageData();switch(this._imageType){case s.noImage:break;case s.colorMapped:{this._parseColorMapData(h);break}case s.RGB:{this._parseRGBData(h);break}case s.blackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.runlengthColorMapped:{this._parseColorMapData(h);break}case s.runlengthRGB:{this._parseRGBData(h);break}case s.compressedBlackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.compressedColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}case s.compressed4PassQTColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}default:throw new Error("unknown imageType: "+this._imageType)}this._setImage(),this._deleteBuffer()}},{key:"_readHeader",value:function(){this._idLength=this._buffer.readUIntLE(0,1),this._colorMapType=this._buffer.readUIntLE(1,1),this._imageType=this._buffer.readUIntLE(2,1),this._colorMapOrigin=this._buffer.readUIntLE(3,2),this._colorMapLength=this._buffer.readUIntLE(5,2),this._colorMapDepth=this._buffer.readUIntLE(7,1),this._imageXOrigin=this._buffer.readUIntLE(8,2),this._imageYOrigin=this._buffer.readUIntLE(10,2),this._imageWidth=this._buffer.readUIntLE(12,2),this._imageHeight=this._buffer.readUIntLE(14,2),this._imageDepth=this._buffer.readUIntLE(16,1);var h=this._buffer.readUIntLE(17,1);this._alphaDepth=h&15,this._leftToRight=(h&16)===0,this._topToBottom=(h&32)>0,this._interleave=h&192}},{key:"_readImageID",value:function(){this._idLength>0&&(this._imageID=this._buffer.subarray(o,this._idLength))}},{key:"_initImage",value:function(){this._imageType!==s.noImage&&(this._imageWidth<=0||this._imageHeight<=0||(this._canvas=document.createElement("canvas"),this._canvas.width=this._imageWidth,this._canvas.height=this._imageHeight,this._context=this._canvas.getContext("2d"),this._imageData=this._context.createImageData(this._imageWidth,this._imageHeight)))}},{key:"_setImage",value:function(){var h=this;this._context.putImageData(this._imageData,0,0),this._image=new Image,this._image.width=this._imageWidth,this._image.height=this._imageHeight,this._image.onload=function(){h._resolve()},this._image.src=this._canvas.toDataURL()}},{key:"_deleteBuffer",value:function(){this._buffer&&(delete this._buffer,this._buffer=null),this._imageData&&(delete this._imageData,this._imageData=null)}},{key:"_parseColorMapData",value:function(h){if(this._colorMapDepth===24||this._colorMapDepth===16||this._colorMapDepth===15)this._hasAlpha=!1;else if(this._colorMapDepth===32)this._hasAlpha=!0;else throw new Error("unknown colorMapDepth: "+this._colorMapDepth);var d=o+this._idLength,p=Math.ceil(this._colorMapDepth/8);p*this._colorMapLength;for(var v=1,b=[],E=d,k=0;k<this._colorMapLength;k++){var D=this._getRGBA(this._buffer,E,this._colorMapDepth);b.push(D),E+=p}var S=this._imageData.data,N=0,P=0,K=1,Y=1;this._leftToRight||(N=this._imageWidth-1,K=-1),this._topToBottom||(P=this._imageHeight-1,Y=-1),E=0;for(var M=P,x=[255,255,255,255],j=0;j<this._imageHeight;j++){for(var Q=N,le=0;le<this._imageWidth;le++){var Z=(M*this._imageWidth+Q)*4,ee=x,ne=h[E]-this._colorMapOrigin;ne>=0&&(ee=b[ne]),S[Z]=ee[0],S[Z+1]=ee[1],S[Z+2]=ee[2],S[Z+3]=ee[3],Q+=K,E+=v}M+=Y}}},{key:"_parseRGBData",value:function(h){if(this._imageDepth===24||this._imageDepth===16||this._imageDepth===15)this._hasAlpha=!1;else if(this._imageDepth===32)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var d=Math.ceil(this._imageDepth/8),p=this._imageData.data,v=0,b=0,E=1,k=1;this._leftToRight||(v=this._imageWidth-1,E=-1),this._topToBottom||(b=this._imageHeight-1,k=-1);for(var D=0,S=b,N=0;N<this._imageHeight;N++){for(var P=v,K=0;K<this._imageWidth;K++){var Y=(S*this._imageWidth+P)*4,M=this._getRGBA(h,D,this._imageDepth);p[Y]=M[0],p[Y+1]=M[1],p[Y+2]=M[2],p[Y+3]=M[3],P+=E,D+=d}S+=k}}},{key:"_getRGBA",value:function(h,d,p){if(p===15){var v=(h[d+1]&124)<<1,b=(h[d+1]&3)<<6|(h[d]&224)>>2,E=(h[d]&31)<<3,k=255;return[v,b,E,k]}else if(p===16){var D=(h[d+1]&124)<<1,S=(h[d+1]&3)<<6|(h[d]&224)>>2,N=(h[d]&31)<<3,P=255;return[D,S,N,P]}else{if(p===24)return[h[d+2],h[d+1],h[d],255];if(p===32)return[h[d+2],h[d+1],h[d],h[d+3]]}throw new Error("unsupported imageDepth: "+p)}},{key:"_parseBlackAndWhiteData",value:function(h){if(this._imageDepth==8)this._hasAlpha=!1;else if(this._imageDepth==16)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var d=this._imageDepth/8,p=this._imageData.data,v=0,b=0,E=1,k=1;this._leftToRight||(v=this._imageWidth-1,E=-1),this._topToBottom||(b=this._imageHeight-1,k=-1);var D=0;if(this._hasAlpha)for(var S=b,N=0;N<this._imageHeight;N++){for(var P=v,K=0;K<this._imageWidth;K++){var Y=(S*this._imageWidth+P)*4,M=h[D],x=h[D+1];p[Y]=M,p[Y+1]=M,p[Y+2]=M,p[Y+3]=x,P+=E,D+=d}S+=k}else for(var j=b,Q=0;Q<this._imageHeight;Q++){for(var le=v,Z=0;Z<this._imageWidth;Z++){var ee=(j*this._imageWidth+le)*4,ne=h[D],re=255;p[ee]=ne,p[ee+1]=ne,p[ee+2]=ne,p[ee+3]=re,le+=E,D+=d}j+=k}}},{key:"_getImageData",value:function(){var h=null;if(this._imageType!==s.none){var d=Math.ceil(this._colorMapDepth/8)*this._colorMapLength,p=o+this._idLength+d;h=this._buffer.subarray(p)}return this._imageType===s.runlengthColorMapped||this._imageType===s.runlengthRGB?h=this._decompressRunlengthData(h):this._imageType===s.compressedBlackAndWhite?h=this._decompressRunlengthData(h):(this._imageType===s.compressedColorMapped||this._imageType===s.compressed4PassQTColorMapped)&&console.error("Compressed Color Mapped TGA Image data is not supported"),h}},{key:"_decompressRunlengthData",value:function(h){for(var d=[],p=Math.ceil(this._imageDepth/8),v=p*this._imageWidth*this._imageHeight,b=0;d.length<v;){var E=h[b];if(b+=1,E&128){var k=h.slice(b,b+p);b+=p;for(var D=(E&127)+1,S=0;S<D;S++)d.push.apply(d,i(k))}else{var N=(E+1)*p;d.push.apply(d,i(h.slice(b,b+N))),b+=N}}return d}},{key:"_resolve",value:function(h){this.onload&&this.onload(h),this._resolveFunc(h)}},{key:"_reject",value:function(h){this.onerror&&this.onerror(h),this._rejectFunc(h)}},{key:"image",get:function(){return this._image}},{key:"canvas",get:function(){return this._canvas}},{key:"didLoad",get:function(){return this._didLoad}},{key:"src",get:function(){return this._src},set:function(h){this._loadURL(h)}}],[{key:"imageWithData",value:function(h){return new u(h)}},{key:"imageWithURL",value:function(h){var d=new u;return d._loadURL(h),d}}]),u}();l.exports=c}).call(e,t(1).Buffer)},function(l,e,t){(function(n){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var r=t(3),i=t(4),a=t(5);e.Buffer=u,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=o();function s(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c($,g){if(o()<g)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?($=new Uint8Array(g),$.__proto__=u.prototype):($===null&&($=new u(g)),$.length=g),$}function u($,g,_){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u($,g,_);if(typeof $=="number"){if(typeof g=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,$)}return f(this,$,g,_)}u.poolSize=8192,u._augment=function($){return $.__proto__=u.prototype,$};function f($,g,_,y){if(typeof g=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer?E($,g,_,y):typeof g=="string"?v($,g,_):k($,g)}u.from=function($,g,_){return f(null,$,g,_)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}));function h($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function d($,g,_,y){return h(g),g<=0?c($,g):_!==void 0?typeof y=="string"?c($,g).fill(_,y):c($,g).fill(_):c($,g)}u.alloc=function($,g,_){return d(null,$,g,_)};function p($,g){if(h(g),$=c($,g<0?0:D(g)|0),!u.TYPED_ARRAY_SUPPORT)for(var _=0;_<g;++_)$[_]=0;return $}u.allocUnsafe=function($){return p(null,$)},u.allocUnsafeSlow=function($){return p(null,$)};function v($,g,_){if((typeof _!="string"||_==="")&&(_="utf8"),!u.isEncoding(_))throw new TypeError('"encoding" must be a valid string encoding');var y=N(g,_)|0;$=c($,y);var F=$.write(g,_);return F!==y&&($=$.slice(0,F)),$}function b($,g){var _=g.length<0?0:D(g.length)|0;$=c($,_);for(var y=0;y<_;y+=1)$[y]=g[y]&255;return $}function E($,g,_,y){if(g.byteLength,_<0||g.byteLength<_)throw new RangeError("'offset' is out of bounds");if(g.byteLength<_+(y||0))throw new RangeError("'length' is out of bounds");return _===void 0&&y===void 0?g=new Uint8Array(g):y===void 0?g=new Uint8Array(g,_):g=new Uint8Array(g,_,y),u.TYPED_ARRAY_SUPPORT?($=g,$.__proto__=u.prototype):$=b($,g),$}function k($,g){if(u.isBuffer(g)){var _=D(g.length)|0;return $=c($,_),$.length===0||g.copy($,0,0,_),$}if(g){if(typeof ArrayBuffer<"u"&&g.buffer instanceof ArrayBuffer||"length"in g)return typeof g.length!="number"||yt(g.length)?c($,0):b($,g);if(g.type==="Buffer"&&a(g.data))return b($,g.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function D($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function S($){return+$!=$&&($=0),u.alloc(+$)}u.isBuffer=function(g){return!!(g!=null&&g._isBuffer)},u.compare=function(g,_){if(!u.isBuffer(g)||!u.isBuffer(_))throw new TypeError("Arguments must be Buffers");if(g===_)return 0;for(var y=g.length,F=_.length,V=0,G=Math.min(y,F);V<G;++V)if(g[V]!==_[V]){y=g[V],F=_[V];break}return y<F?-1:F<y?1:0},u.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(g,_){if(!a(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return u.alloc(0);var y;if(_===void 0)for(_=0,y=0;y<g.length;++y)_+=g[y].length;var F=u.allocUnsafe(_),V=0;for(y=0;y<g.length;++y){var G=g[y];if(!u.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy(F,V),V+=G.length}return F};function N($,g){if(u.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var _=$.length;if(_===0)return 0;for(var y=!1;;)switch(g){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":case void 0:return ze($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return Ft($).length;default:if(y)return ze($).length;g=(""+g).toLowerCase(),y=!0}}u.byteLength=N;function P($,g,_){var y=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,g>>>=0,_<=g))return"";for($||($="utf8");;)switch($){case"hex":return Oe(this,g,_);case"utf8":case"utf-8":return re(this,g,_);case"ascii":return Ee(this,g,_);case"latin1":case"binary":return de(this,g,_);case"base64":return ne(this,g,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,g,_);default:if(y)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),y=!0}}u.prototype._isBuffer=!0;function K($,g,_){var y=$[g];$[g]=$[_],$[_]=y}u.prototype.swap16=function(){var g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<g;_+=2)K(this,_,_+1);return this},u.prototype.swap32=function(){var g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<g;_+=4)K(this,_,_+3),K(this,_+1,_+2);return this},u.prototype.swap64=function(){var g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<g;_+=8)K(this,_,_+7),K(this,_+1,_+6),K(this,_+2,_+5),K(this,_+3,_+4);return this},u.prototype.toString=function(){var g=this.length|0;return g===0?"":arguments.length===0?re(this,0,g):P.apply(this,arguments)},u.prototype.equals=function(g){if(!u.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:u.compare(this,g)===0},u.prototype.inspect=function(){var g="",_=e.INSPECT_MAX_BYTES;return this.length>0&&(g=this.toString("hex",0,_).match(/.{2}/g).join(" "),this.length>_&&(g+=" ... ")),"<Buffer "+g+">"},u.prototype.compare=function(g,_,y,F,V){if(!u.isBuffer(g))throw new TypeError("Argument must be a Buffer");if(_===void 0&&(_=0),y===void 0&&(y=g?g.length:0),F===void 0&&(F=0),V===void 0&&(V=this.length),_<0||y>g.length||F<0||V>this.length)throw new RangeError("out of range index");if(F>=V&&_>=y)return 0;if(F>=V)return-1;if(_>=y)return 1;if(_>>>=0,y>>>=0,F>>>=0,V>>>=0,this===g)return 0;for(var G=V-F,$e=y-_,Te=Math.min(G,$e),Se=this.slice(F,V),Ke=g.slice(_,y),Re=0;Re<Te;++Re)if(Se[Re]!==Ke[Re]){G=Se[Re],$e=Ke[Re];break}return G<$e?-1:$e<G?1:0};function Y($,g,_,y,F){if($.length===0)return-1;if(typeof _=="string"?(y=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,isNaN(_)&&(_=F?0:$.length-1),_<0&&(_=$.length+_),_>=$.length){if(F)return-1;_=$.length-1}else if(_<0)if(F)_=0;else return-1;if(typeof g=="string"&&(g=u.from(g,y)),u.isBuffer(g))return g.length===0?-1:M($,g,_,y,F);if(typeof g=="number")return g=g&255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call($,g,_):Uint8Array.prototype.lastIndexOf.call($,g,_):M($,[g],_,y,F);throw new TypeError("val must be string, number or Buffer")}function M($,g,_,y,F){var V=1,G=$.length,$e=g.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if($.length<2||g.length<2)return-1;V=2,G/=2,$e/=2,_/=2}function Te(Sn,Bn){return V===1?Sn[Bn]:Sn.readUInt16BE(Bn*V)}var Se;if(F){var Ke=-1;for(Se=_;Se<G;Se++)if(Te($,Se)===Te(g,Ke===-1?0:Se-Ke)){if(Ke===-1&&(Ke=Se),Se-Ke+1===$e)return Ke*V}else Ke!==-1&&(Se-=Se-Ke),Ke=-1}else for(_+$e>G&&(_=G-$e),Se=_;Se>=0;Se--){for(var Re=!0,zt=0;zt<$e;zt++)if(Te($,Se+zt)!==Te(g,zt)){Re=!1;break}if(Re)return Se}return-1}u.prototype.includes=function(g,_,y){return this.indexOf(g,_,y)!==-1},u.prototype.indexOf=function(g,_,y){return Y(this,g,_,y,!0)},u.prototype.lastIndexOf=function(g,_,y){return Y(this,g,_,y,!1)};function x($,g,_,y){_=Number(_)||0;var F=$.length-_;y?(y=Number(y),y>F&&(y=F)):y=F;var V=g.length;if(V%2!==0)throw new TypeError("Invalid hex string");y>V/2&&(y=V/2);for(var G=0;G<y;++G){var $e=parseInt(g.substr(G*2,2),16);if(isNaN($e))return G;$[_+G]=$e}return G}function j($,g,_,y){return we(ze(g,$.length-_),$,_,y)}function Q($,g,_,y){return we(qe(g),$,_,y)}function le($,g,_,y){return Q($,g,_,y)}function Z($,g,_,y){return we(Ft(g),$,_,y)}function ee($,g,_,y){return we($t(g,$.length-_),$,_,y)}u.prototype.write=function(g,_,y,F){if(_===void 0)F="utf8",y=this.length,_=0;else if(y===void 0&&typeof _=="string")F=_,y=this.length,_=0;else if(isFinite(_))_=_|0,isFinite(y)?(y=y|0,F===void 0&&(F="utf8")):(F=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-_;if((y===void 0||y>V)&&(y=V),g.length>0&&(y<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var G=!1;;)switch(F){case"hex":return x(this,g,_,y);case"utf8":case"utf-8":return j(this,g,_,y);case"ascii":return Q(this,g,_,y);case"latin1":case"binary":return le(this,g,_,y);case"base64":return Z(this,g,_,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,g,_,y);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),G=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne($,g,_){return g===0&&_===$.length?r.fromByteArray($):r.fromByteArray($.slice(g,_))}function re($,g,_){_=Math.min($.length,_);for(var y=[],F=g;F<_;){var V=$[F],G=null,$e=V>239?4:V>223?3:V>191?2:1;if(F+$e<=_){var Te,Se,Ke,Re;switch($e){case 1:V<128&&(G=V);break;case 2:Te=$[F+1],(Te&192)===128&&(Re=(V&31)<<6|Te&63,Re>127&&(G=Re));break;case 3:Te=$[F+1],Se=$[F+2],(Te&192)===128&&(Se&192)===128&&(Re=(V&15)<<12|(Te&63)<<6|Se&63,Re>2047&&(Re<55296||Re>57343)&&(G=Re));break;case 4:Te=$[F+1],Se=$[F+2],Ke=$[F+3],(Te&192)===128&&(Se&192)===128&&(Ke&192)===128&&(Re=(V&15)<<18|(Te&63)<<12|(Se&63)<<6|Ke&63,Re>65535&&Re<1114112&&(G=Re))}}G===null?(G=65533,$e=1):G>65535&&(G-=65536,y.push(G>>>10&1023|55296),G=56320|G&1023),y.push(G),F+=$e}return se(y)}var ce=4096;function se($){var g=$.length;if(g<=ce)return String.fromCharCode.apply(String,$);for(var _="",y=0;y<g;)_+=String.fromCharCode.apply(String,$.slice(y,y+=ce));return _}function Ee($,g,_){var y="";_=Math.min($.length,_);for(var F=g;F<_;++F)y+=String.fromCharCode($[F]&127);return y}function de($,g,_){var y="";_=Math.min($.length,_);for(var F=g;F<_;++F)y+=String.fromCharCode($[F]);return y}function Oe($,g,_){var y=$.length;(!g||g<0)&&(g=0),(!_||_<0||_>y)&&(_=y);for(var F="",V=g;V<_;++V)F+=lt($[V]);return F}function xe($,g,_){for(var y=$.slice(g,_),F="",V=0;V<y.length;V+=2)F+=String.fromCharCode(y[V]+y[V+1]*256);return F}u.prototype.slice=function(g,_){var y=this.length;g=~~g,_=_===void 0?y:~~_,g<0?(g+=y,g<0&&(g=0)):g>y&&(g=y),_<0?(_+=y,_<0&&(_=0)):_>y&&(_=y),_<g&&(_=g);var F;if(u.TYPED_ARRAY_SUPPORT)F=this.subarray(g,_),F.__proto__=u.prototype;else{var V=_-g;F=new u(V,void 0);for(var G=0;G<V;++G)F[G]=this[G+g]}return F};function Ce($,g,_){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+g>_)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=this[g],V=1,G=0;++G<_&&(V*=256);)F+=this[g+G]*V;return F},u.prototype.readUIntBE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=this[g+--_],V=1;_>0&&(V*=256);)F+=this[g+--_]*V;return F},u.prototype.readUInt8=function(g,_){return _||Ce(g,1,this.length),this[g]},u.prototype.readUInt16LE=function(g,_){return _||Ce(g,2,this.length),this[g]|this[g+1]<<8},u.prototype.readUInt16BE=function(g,_){return _||Ce(g,2,this.length),this[g]<<8|this[g+1]},u.prototype.readUInt32LE=function(g,_){return _||Ce(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},u.prototype.readUInt32BE=function(g,_){return _||Ce(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},u.prototype.readIntLE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=this[g],V=1,G=0;++G<_&&(V*=256);)F+=this[g+G]*V;return V*=128,F>=V&&(F-=Math.pow(2,8*_)),F},u.prototype.readIntBE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=_,V=1,G=this[g+--F];F>0&&(V*=256);)G+=this[g+--F]*V;return V*=128,G>=V&&(G-=Math.pow(2,8*_)),G},u.prototype.readInt8=function(g,_){return _||Ce(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},u.prototype.readInt16LE=function(g,_){_||Ce(g,2,this.length);var y=this[g]|this[g+1]<<8;return y&32768?y|4294901760:y},u.prototype.readInt16BE=function(g,_){_||Ce(g,2,this.length);var y=this[g+1]|this[g]<<8;return y&32768?y|4294901760:y},u.prototype.readInt32LE=function(g,_){return _||Ce(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},u.prototype.readInt32BE=function(g,_){return _||Ce(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},u.prototype.readFloatLE=function(g,_){return _||Ce(g,4,this.length),i.read(this,g,!0,23,4)},u.prototype.readFloatBE=function(g,_){return _||Ce(g,4,this.length),i.read(this,g,!1,23,4)},u.prototype.readDoubleLE=function(g,_){return _||Ce(g,8,this.length),i.read(this,g,!0,52,8)},u.prototype.readDoubleBE=function(g,_){return _||Ce(g,8,this.length),i.read(this,g,!1,52,8)};function Be($,g,_,y,F,V){if(!u.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>F||g<V)throw new RangeError('"value" argument is out of bounds');if(_+y>$.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(g,_,y,F){if(g=+g,_=_|0,y=y|0,!F){var V=Math.pow(2,8*y)-1;Be(this,g,_,y,V,0)}var G=1,$e=0;for(this[_]=g&255;++$e<y&&(G*=256);)this[_+$e]=g/G&255;return _+y},u.prototype.writeUIntBE=function(g,_,y,F){if(g=+g,_=_|0,y=y|0,!F){var V=Math.pow(2,8*y)-1;Be(this,g,_,y,V,0)}var G=y-1,$e=1;for(this[_+G]=g&255;--G>=0&&($e*=256);)this[_+G]=g/$e&255;return _+y},u.prototype.writeUInt8=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,1,255,0),u.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),this[_]=g&255,_+1};function te($,g,_,y){g<0&&(g=65535+g+1);for(var F=0,V=Math.min($.length-_,2);F<V;++F)$[_+F]=(g&255<<8*(y?F:1-F))>>>(y?F:1-F)*8}u.prototype.writeUInt16LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8):te(this,g,_,!0),_+2},u.prototype.writeUInt16BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=g&255):te(this,g,_,!1),_+2};function he($,g,_,y){g<0&&(g=4294967295+g+1);for(var F=0,V=Math.min($.length-_,4);F<V;++F)$[_+F]=g>>>(y?F:3-F)*8&255}u.prototype.writeUInt32LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[_+3]=g>>>24,this[_+2]=g>>>16,this[_+1]=g>>>8,this[_]=g&255):he(this,g,_,!0),_+4},u.prototype.writeUInt32BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255):he(this,g,_,!1),_+4},u.prototype.writeIntLE=function(g,_,y,F){if(g=+g,_=_|0,!F){var V=Math.pow(2,8*y-1);Be(this,g,_,y,V-1,-V)}var G=0,$e=1,Te=0;for(this[_]=g&255;++G<y&&($e*=256);)g<0&&Te===0&&this[_+G-1]!==0&&(Te=1),this[_+G]=(g/$e>>0)-Te&255;return _+y},u.prototype.writeIntBE=function(g,_,y,F){if(g=+g,_=_|0,!F){var V=Math.pow(2,8*y-1);Be(this,g,_,y,V-1,-V)}var G=y-1,$e=1,Te=0;for(this[_+G]=g&255;--G>=0&&($e*=256);)g<0&&Te===0&&this[_+G+1]!==0&&(Te=1),this[_+G]=(g/$e>>0)-Te&255;return _+y},u.prototype.writeInt8=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,1,127,-128),u.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),g<0&&(g=255+g+1),this[_]=g&255,_+1},u.prototype.writeInt16LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8):te(this,g,_,!0),_+2},u.prototype.writeInt16BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=g&255):te(this,g,_,!1),_+2},u.prototype.writeInt32LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8,this[_+2]=g>>>16,this[_+3]=g>>>24):he(this,g,_,!0),_+4},u.prototype.writeInt32BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255):he(this,g,_,!1),_+4};function De($,g,_,y,F,V){if(_+y>$.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Ie($,g,_,y,F){return F||De($,g,_,4),i.write($,g,_,y,23,4),_+4}u.prototype.writeFloatLE=function(g,_,y){return Ie(this,g,_,!0,y)},u.prototype.writeFloatBE=function(g,_,y){return Ie(this,g,_,!1,y)};function Xe($,g,_,y,F){return F||De($,g,_,8),i.write($,g,_,y,52,8),_+8}u.prototype.writeDoubleLE=function(g,_,y){return Xe(this,g,_,!0,y)},u.prototype.writeDoubleBE=function(g,_,y){return Xe(this,g,_,!1,y)},u.prototype.copy=function(g,_,y,F){if(y||(y=0),!F&&F!==0&&(F=this.length),_>=g.length&&(_=g.length),_||(_=0),F>0&&F<y&&(F=y),F===y||g.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),g.length-_<F-y&&(F=g.length-_+y);var V=F-y,G;if(this===g&&y<_&&_<F)for(G=V-1;G>=0;--G)g[G+_]=this[G+y];else if(V<1e3||!u.TYPED_ARRAY_SUPPORT)for(G=0;G<V;++G)g[G+_]=this[G+y];else Uint8Array.prototype.set.call(g,this.subarray(y,y+V),_);return V},u.prototype.fill=function(g,_,y,F){if(typeof g=="string"){if(typeof _=="string"?(F=_,_=0,y=this.length):typeof y=="string"&&(F=y,y=this.length),g.length===1){var V=g.charCodeAt(0);V<256&&(g=V)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!u.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof g=="number"&&(g=g&255);if(_<0||this.length<_||this.length<y)throw new RangeError("Out of range index");if(y<=_)return this;_=_>>>0,y=y===void 0?this.length:y>>>0,g||(g=0);var G;if(typeof g=="number")for(G=_;G<y;++G)this[G]=g;else{var $e=u.isBuffer(g)?g:ze(new u(g,F).toString()),Te=$e.length;for(G=0;G<y-_;++G)this[G+_]=$e[G%Te]}return this};var Ze=/[^+\/0-9A-Za-z-_]/g;function ot($){if($=rt($).replace(Ze,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function rt($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function lt($){return $<16?"0"+$.toString(16):$.toString(16)}function ze($,g){g=g||1/0;for(var _,y=$.length,F=null,V=[],G=0;G<y;++G){if(_=$.charCodeAt(G),_>55295&&_<57344){if(!F){if(_>56319){(g-=3)>-1&&V.push(239,191,189);continue}else if(G+1===y){(g-=3)>-1&&V.push(239,191,189);continue}F=_;continue}if(_<56320){(g-=3)>-1&&V.push(239,191,189),F=_;continue}_=(F-55296<<10|_-56320)+65536}else F&&(g-=3)>-1&&V.push(239,191,189);if(F=null,_<128){if((g-=1)<0)break;V.push(_)}else if(_<2048){if((g-=2)<0)break;V.push(_>>6|192,_&63|128)}else if(_<65536){if((g-=3)<0)break;V.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((g-=4)<0)break;V.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return V}function qe($){for(var g=[],_=0;_<$.length;++_)g.push($.charCodeAt(_)&255);return g}function $t($,g){for(var _,y,F,V=[],G=0;G<$.length&&!((g-=2)<0);++G)_=$.charCodeAt(G),y=_>>8,F=_%256,V.push(F),V.push(y);return V}function Ft($){return r.toByteArray(ot($))}function we($,g,_,y){for(var F=0;F<y&&!(F+_>=g.length||F>=$.length);++F)g[F+_]=$[F];return F}function yt($){return $!==$}}).call(e,t(2))},function(l,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}l.exports=t},function(l,e,t){e.byteLength=u,e.toByteArray=f,e.fromByteArray=p;for(var n=[],r=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function c(v){var b=v.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return v[b-2]==="="?2:v[b-1]==="="?1:0}function u(v){return v.length*3/4-c(v)}function f(v){var b,E,k,D,S,N=v.length;D=c(v),S=new i(N*3/4-D),E=D>0?N-4:N;var P=0;for(b=0;b<E;b+=4)k=r[v.charCodeAt(b)]<<18|r[v.charCodeAt(b+1)]<<12|r[v.charCodeAt(b+2)]<<6|r[v.charCodeAt(b+3)],S[P++]=k>>16&255,S[P++]=k>>8&255,S[P++]=k&255;return D===2?(k=r[v.charCodeAt(b)]<<2|r[v.charCodeAt(b+1)]>>4,S[P++]=k&255):D===1&&(k=r[v.charCodeAt(b)]<<10|r[v.charCodeAt(b+1)]<<4|r[v.charCodeAt(b+2)]>>2,S[P++]=k>>8&255,S[P++]=k&255),S}function h(v){return n[v>>18&63]+n[v>>12&63]+n[v>>6&63]+n[v&63]}function d(v,b,E){for(var k,D=[],S=b;S<E;S+=3)k=(v[S]<<16)+(v[S+1]<<8)+v[S+2],D.push(h(k));return D.join("")}function p(v){for(var b,E=v.length,k=E%3,D="",S=[],N=16383,P=0,K=E-k;P<K;P+=N)S.push(d(v,P,P+N>K?K:P+N));return k===1?(b=v[E-1],D+=n[b>>2],D+=n[b<<4&63],D+="=="):k===2&&(b=(v[E-2]<<8)+v[E-1],D+=n[b>>10],D+=n[b>>4&63],D+=n[b<<2&63],D+="="),S.push(D),S.join("")}},function(l,e){e.read=function(t,n,r,i,a){var s,o,c=a*8-i-1,u=(1<<c)-1,f=u>>1,h=-7,d=r?a-1:0,p=r?-1:1,v=t[n+d];for(d+=p,s=v&(1<<-h)-1,v>>=-h,h+=c;h>0;s=s*256+t[n+d],d+=p,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=o*256+t[n+d],d+=p,h-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-f}return(v?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,n,r,i,a,s){var o,c,u,f=s*8-a-1,h=(1<<f)-1,d=h>>1,p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:s-1,b=i?1:-1,E=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,o=h):(o=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?n+=p/u:n+=p*Math.pow(2,1-d),n*u>=2&&(o++,u/=2),o+d>=h?(c=0,o=h):o+d>=1?(c=(n*u-1)*Math.pow(2,a),o=o+d):(c=n*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;t[r+v]=c&255,v+=b,c/=256,a-=8);for(o=o<<a|c,f+=a;f>0;t[r+v]=o&255,v+=b,o/=256,f-=8);t[r+v-b]|=E*128}},function(l,e){var t={}.toString;l.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}}]);function zs(l){let e;return{c(){e=J("Upload image file")},l(t){e=X(t,"Upload image file")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Hs(l){let e,t;return e=new Ue({props:{variant:"link",style:"font-size: 1.2rem;",onClick:l[6],$$slots:{default:[zs]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.onClick=n[6]),r&512&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function xr(l){let e,t;return e=new Ge({props:{secondary:!0,style:{"margin-top":"5px",overflow:"hidden"},$$slots:{default:[Ws]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&514&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ws(l){let e,t;return{c(){e=T("img"),this.h()},l(n){e=A(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Rn(e.src,t=l[1])||C(e,"src",t),C(e,"alt",""),C(e,"class","svelte-23h5j9")},m(n,r){R(n,e,r)},p(n,r){r&2&&!Rn(e.src,t=n[1])&&C(e,"src",t)},d(n){n&&m(e)}}}function Ys(l){let e,t,n,r,i,a,s,o;r=new Ge({props:{secondary:!0,$$slots:{default:[Hs]},$$scope:{ctx:l}}});let c=l[1]&&xr(l);return{c(){e=T("div"),t=T("input"),n=L(),z(r.$$.fragment),i=L(),c&&c.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=I(e);t=A(f,"INPUT",{type:!0,accept:!0,class:!0}),n=O(f),q(r.$$.fragment,f),i=O(f),c&&c.l(f),f.forEach(m),this.h()},h(){C(t,"type","file"),C(t,"accept","image/jpeg, image/png, .tga"),C(t,"class","svelte-23h5j9"),C(e,"class","tga-view svelte-23h5j9")},m(u,f){R(u,e,f),w(e,t),l[4](t),w(e,n),H(r,e,null),w(e,i),c&&c.m(e,null),a=!0,s||(o=pe(t,"change",l[5]),s=!0)},p(u,[f]){const h={};f&516&&(h.$$scope={dirty:f,ctx:u}),r.$set(h),u[1]?c?(c.p(u,f),f&2&&U(c,1)):(c=xr(u),c.c(),U(c,1),c.m(e,null)):c&&(me(),B(c,1,1,()=>{c=null}),ve())},i(u){a||(U(r.$$.fragment,u),U(c),a=!0)},o(u){B(r.$$.fragment,u),B(c),a=!1},d(u){u&&m(e),l[4](null),W(r),c&&c.d(),s=!1,o()}}}function xs(l,e,t){let{content:n}=e,{onChange:r}=e,i,a;const s={jpg:[255,216],png:[137,80,78,71,13,10,26,10]},o=(h,d)=>d.every((p,v)=>p===h[v]);function c(h){bt[h?"unshift":"push"](()=>{a=h,t(2,a)})}const u=async()=>{var h,d;r(await((d=(h=a.files)==null?void 0:h[0])==null?void 0:d.arrayBuffer()))},f=()=>a.click();return l.$$set=h=>{"content"in h&&t(3,n=h.content),"onChange"in h&&t(0,r=h.onChange)},l.$$.update=()=>{if(l.$$.dirty&8){const h=new Uint8Array(n);let d;if(!n||!h.length)t(1,i="");else if(o(h,s.jpg))d=new Blob([h],{type:"image/jpeg"}),t(1,i=window.URL.createObjectURL(d));else if(o(h,s.png))d=new Blob([h],{type:"image/png"}),t(1,i=window.URL.createObjectURL(d));else{const p=Gs.imageWithData(n);p.didLoad.then(()=>{t(1,i=p.image.src)})}}},[r,i,a,n,c,u,f]}class qr extends ue{constructor(e){super(),fe(this,e,xs,Ys,ae,{content:3,onChange:0})}}function qs(l){let e,t,n;return{c(){e=T("input"),this.h()},l(r){e=A(r,"INPUT",{type:!0}),this.h()},h(){C(e,"type","checkbox"),e.checked=l[0]},m(r,i){R(r,e,i),t||(n=pe(e,"click",function(){jt(l[1])&&l[1].apply(this,arguments)}),t=!0)},p(r,[i]){l=r,i&1&&(e.checked=l[0])},i:ie,o:ie,d(r){r&&m(e),t=!1,n()}}}function Js(l,e,t){let{checked:n}=e,{onClick:r}=e;return l.$$set=i=>{"checked"in i&&t(0,n=i.checked),"onClick"in i&&t(1,r=i.onClick)},[n,r]}class Sl extends ue{constructor(e){super(),fe(this,e,Js,qs,ae,{checked:0,onClick:1})}}function Xs(l){let e,t;return{c(){e=T("div"),t=J("Params empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var r=I(e);t=X(r,"Params empty! Nothing to see here."),r.forEach(m),this.h()},h(){C(e,"class","empty svelte-oadag3")},m(n,r){R(n,e,r),w(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function Ks(l){let e,t,n;return t=new Zt({props:{columns:["","Index","Label","pData"],columnConfig:{Label:{stretch:!0}},rows:l[0].params.map(l[5])}}),{c(){e=T("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","table-wrap svelte-oadag3")},m(r,i){R(r,e,i),H(t,e,null),n=!0},p(r,i){const a={};i&1&&(a.rows=r[0].params.map(r[5])),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),W(t)}}}function Qs(l){let e,t,n,r;const i=[Ks,Xs],a=[];function s(o,c){return o[0].params.length>0?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function Zs(l,e,t){let{content:n}=e,{onChange:r}=e;const i=c=>r(oe(n,u=>{u.params=St(u.params,c)})),a=(c,u)=>r(oe(n,f=>{const h=f.params[u];h&&(h.label=c)})),s=c=>r(oe(n,u=>{const f=u.params[c];f&&(f.pdata=f.pdata?0:1)})),o=(c,u)=>({"":{component:It,props:{onClick:()=>i(u),"aria-label":`remove param ${u}`}},Index:Me(u,4),Label:{component:Qe,props:{value:c.label,onChange:f=>a(f,u),style:"width: 100%"}},pData:{component:Sl,props:{checked:c.pdata>0,onClick:()=>s(u)}}});return l.$$set=c=>{"content"in c&&t(0,n=c.content),"onChange"in c&&t(4,r=c.onChange)},[n,i,a,s,r,o]}class Jr extends ue{constructor(e){super(),fe(this,e,Zs,Qs,ae,{content:0,onChange:4})}}function eo(l){let e,t;return{c(){e=T("div"),t=J("Locals empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var r=I(e);t=X(r,"Locals empty! Nothing to see here."),r.forEach(m),this.h()},h(){C(e,"class","empty svelte-oadag3")},m(n,r){R(n,e,r),w(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function to(l){let e,t,n;return t=new Zt({props:{columns:["","Index","Label"],columnConfig:{Label:{stretch:!0}},rows:l[0].locals.map(l[4])}}),{c(){e=T("div"),z(t.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","table-wrap svelte-oadag3")},m(r,i){R(r,e,i),H(t,e,null),n=!0},p(r,i){const a={};i&1&&(a.rows=r[0].locals.map(r[4])),t.$set(a)},i(r){n||(U(t.$$.fragment,r),n=!0)},o(r){B(t.$$.fragment,r),n=!1},d(r){r&&m(e),W(t)}}}function no(l){let e,t,n,r;const i=[to,eo],a=[];function s(o,c){return o[0].locals.length>0?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function ro(l,e,t){let{content:n}=e,{onChange:r}=e;const i=o=>r(oe(n,c=>{c.locals=St(c.locals,o)})),a=(o,c)=>r(oe(n,u=>{u.locals[c]=o})),s=(o,c)=>({"":{component:It,props:{onClick:()=>i(c),"aria-label":`remove local ${c}`}},Index:Me(c,4),Label:{component:Qe,props:{value:o,onChange:u=>a(u,c),style:"width: 100%"}}});return l.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,r=o.onChange)},[n,i,a,r,s]}class Xr extends ue{constructor(e){super(),fe(this,e,ro,no,ae,{content:0,onChange:3})}}function Kr(l){let e,t;return e=new Ue({props:{onClick:l[6],$$slots:{default:[lo]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&8&&(i.onClick=n[6]),r&256&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function lo(l){let e;return{c(){e=J("Edit BHAV")},l(t){e=X(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function io(l){let e,t;return{c(){e=J("Append new "),t=J(l[2])},l(n){e=X(n,"Append new "),t=X(n,l[2])},m(n,r){R(n,e,r),R(n,t,r)},p(n,r){r&4&&Fe(t,n[2])},d(n){n&&m(e),n&&m(t)}}}function ao(l){let e,t,n,r=l[3]&&Kr(l);return t=new Ue({props:{onClick:l[4],$$slots:{default:[io]},$$scope:{ctx:l}}}),{c(){r&&r.c(),e=L(),z(t.$$.fragment)},l(i){r&&r.l(i),e=O(i),q(t.$$.fragment,i)},m(i,a){r&&r.m(i,a),R(i,e,a),H(t,i,a),n=!0},p(i,a){i[3]?r?(r.p(i,a),a&8&&U(r,1)):(r=Kr(i),r.c(),U(r,1),r.m(e.parentNode,e)):r&&(me(),B(r,1,1,()=>{r=null}),ve());const s={};a&260&&(s.$$scope={dirty:a,ctx:i}),t.$set(s)},i(i){n||(U(r),U(t.$$.fragment,i),n=!0)},o(i){B(r),B(t.$$.fragment,i),n=!1},d(i){r&&r.d(i),i&&m(e),W(t,i)}}}function so(l){let e,t,n,r,i;return t=new Ge({props:{secondary:!0,style:{display:"flex","align-items":"center",gap:"var(--spacing-md)"},$$slots:{default:[ao]},$$scope:{ctx:l}}}),r=new Gt({props:{tabs:{param:{title:"Params",hideClose:!0,content:Jr,props:{content:l[0],onChange:l[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:l[0],onChange:l[1]}}},activeTab:l[2],onChange:l[7],onClose:oo,headingLevel:"h3",style:{border:"0",padding:"0",flex:"1",overflow:"hidden"},contentStyle:{overflow:"auto",padding:"0"}}}),{c(){e=T("div"),z(t.$$.fragment),n=L(),z(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","tprp-view svelte-kkgp8e")},m(a,s){R(a,e,s),H(t,e,null),w(e,n),H(r,e,null),i=!0},p(a,[s]){const o={};s&268&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&3&&(c.tabs={param:{title:"Params",hideClose:!0,content:Jr,props:{content:a[0],onChange:a[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:a[0],onChange:a[1]}}}),s&4&&(c.activeTab=a[2]),s&4&&(c.onChange=a[7]),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),W(t),W(r)}}}const oo=()=>null;function co(l,e,t){let n,r;et(l,be,f=>t(5,r=f));let{content:i}=e,{onChange:a}=e,s="param";const o=()=>a(oe(i,f=>{s==="param"?f.params.push({...wt.TPRP.params[0]}):f.locals.push("")})),c=()=>be.openResource(n),u=f=>{t(2,s=f)};return l.$$set=f=>{"content"in f&&t(0,i=f.content),"onChange"in f&&t(1,a=f.onChange)},l.$$.update=()=>{l.$$.dirty&32&&t(3,n=_e(r).linkedResourceId("BHAV"))},[i,a,s,n,o,r,c,u]}class uo extends ue{constructor(e){super(),fe(this,e,co,so,ae,{content:0,onChange:1})}}function fo(l){let e,t;return{c(){e=T("span"),t=J("Warning: failed to find BCON file with matching instance id"),this.h()},l(n){e=A(n,"SPAN",{class:!0});var r=I(e);t=X(r,"Warning: failed to find BCON file with matching instance id"),r.forEach(m),this.h()},h(){C(e,"class","warn svelte-daywxd")},m(n,r){R(n,e,r),w(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function ho(l){let e,t;return e=new Ue({props:{onClick:l[8],$$slots:{default:[go]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&4&&(i.onClick=n[8]),r&1024&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function go(l){let e;return{c(){e=J("Edit BCON")},l(t){e=X(t,"Edit BCON")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function _o(l){let e;return{c(){e=J("Append new value")},l(t){e=X(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function po(l){let e,t,n,r,i;const a=[ho,fo],s=[];function o(c,u){return c[2]?0:1}return e=o(l),t=s[e]=a[e](l),r=new Ue({props:{onClick:l[6],style:"margin-left: 5px",$$slots:{default:[_o]},$$scope:{ctx:l}}}),{c(){t.c(),n=L(),z(r.$$.fragment)},l(c){t.l(c),n=O(c),q(r.$$.fragment,c)},m(c,u){s[e].m(c,u),R(c,n,u),H(r,c,u),i=!0},p(c,u){let f=e;e=o(c),e===f?s[e].p(c,u):(me(),B(s[f],1,1,()=>{s[f]=null}),ve(),t=s[e],t?t.p(c,u):(t=s[e]=a[e](c),t.c()),U(t,1),t.m(n.parentNode,n));const h={};u&1024&&(h.$$scope={dirty:u,ctx:c}),r.$set(h)},i(c){i||(U(t),U(r.$$.fragment,c),i=!0)},o(c){B(t),B(r.$$.fragment,c),i=!1},d(c){s[e].d(c),c&&m(n),W(r,c)}}}function mo(l){var n;let e,t;return e=new Zt({props:{columns:["","Value","Label","Default","Min","Max","Used"],columnConfig:{"":{shrink:!0}},rows:Ln(Math.max(l[0].items.length,((n=l[3])==null?void 0:n.length)??0),l[9])}}),{c(){z(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){H(e,r,i),t=!0},p(r,i){var s;const a={};i&11&&(a.rows=Ln(Math.max(r[0].items.length,((s=r[3])==null?void 0:s.length)??0),r[9])),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function vo(l){let e,t,n,r,i;return t=new Ge({props:{secondary:!0,style:{"margin-bottom":"5px"},$$slots:{default:[po]},$$scope:{ctx:l}}}),r=new Ge({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[mo]},$$scope:{ctx:l}}}),{c(){e=T("div"),z(t.$$.fragment),n=L(),z(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","trcn-view svelte-daywxd")},m(a,s){R(a,e,s),H(t,e,null),w(e,n),H(r,e,null),i=!0},p(a,[s]){const o={};s&1028&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),W(t),W(r)}}}function bo(l,e,t){let n;et(l,be,d=>t(7,n=d));let{content:r}=e,{onChange:i}=e,a,s;const o=(d,p,v)=>{const b=r.items[v];return b?{component:Qe,props:{variant:p,maxLength:p==="hex"?4:void 0,onChange:E=>i(oe(r,k=>{const D=k.items[v];D&&(D[d]=E)})),value:b[d],style:"width: 100%; min-width: 75px;"}}:void 0},c=d=>{d.forEach((p,v)=>{p.constId=v+1})},u=()=>{i(oe(r,d=>{d.items.push({...wt.TRCN.items[0]}),c(d.items)}))},f=()=>a?be.openResource(a):null,h=d=>{const p=r.items[d];return{"":p?{component:It,props:{onClick:()=>{i(oe(r,v=>{v.items=St(v.items,d),c(v.items)}))},"aria-label":`delete line ${d}`}}:"",Value:(s==null?void 0:s[d])!==void 0?Me(s[d],4):void 0,Label:o("constName","text",d),Default:o("value","hex",d),Min:o("minValue","hex",d),Max:o("maxValue","hex",d),Used:p?{component:Sl,props:{checked:!!(p!=null&&p.used),onClick:()=>i(oe(r,v=>{const b=v.items[d];b&&(b.used=b.used?0:1)}))}}:""}};return l.$$set=d=>{"content"in d&&t(0,r=d.content),"onChange"in d&&t(1,i=d.onChange)},l.$$.update=()=>{var d;if(l.$$.dirty&132){t(2,a=_e(n).linkedResourceId("BCON"));const p=_e(n).resourceById(a);t(3,s=((d=p==null?void 0:p.contentChanges)==null?void 0:d.items)??(p==null?void 0:p.content.items))}},[r,i,a,s,o,c,u,n,f,h]}class wo extends ue{constructor(e){super(),fe(this,e,bo,vo,ae,{content:0,onChange:1})}}function Qr(l,e,t){const n=l.slice();return n[11]=e[t],n[13]=t,n}function Zr(l,e,t){const n=l.slice();return n[14]=e[t],n[16]=t,n}function el(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function tl(l){let e,t=l[17]+"",n,r;return{c(){e=T("option"),n=J(t),r=L(),this.h()},l(i){e=A(i,"OPTION",{});var a=I(e);n=X(a,t),r=O(a),a.forEach(m),this.h()},h(){e.__value=l[19],e.value=e.__value},m(i,a){R(i,e,a),w(e,n),w(e,r)},p:ie,d(i){i&&m(e)}}}function nl(l){var Y,M,x,j,Q,le,Z,ee;let e,t,n=l[14]+"",r,i,a,s,o,c,u,f,h,d,p,v,b,E,k;function D(...ne){return l[8](l[13],l[16],...ne)}s=new Qe({props:{variant:"hex",maxLength:4,value:((j=(x=(M=(Y=l[0])==null?void 0:Y[l[13]])==null?void 0:M.items)==null?void 0:x[l[16]])==null?void 0:j.min)??0,onChange:D,style:"width: 100%; min-width: 75px;"}});function S(...ne){return l[9](l[13],l[16],...ne)}u=new Qe({props:{variant:"hex",maxLength:4,value:((ee=(Z=(le=(Q=l[0])==null?void 0:Q[l[13]])==null?void 0:le.items)==null?void 0:Z[l[16]])==null?void 0:ee.delta)??0,onChange:S,style:"width: 100%; min-width: 75px;"}});let N=l[2],P=[];for(let ne=0;ne<N.length;ne+=1)P[ne]=tl(el(l,N,ne));function K(...ne){return l[10](l[13],l[16],...ne)}return{c(){e=T("tr"),t=T("td"),r=J(n),i=L(),a=T("td"),z(s.$$.fragment),o=L(),c=T("td"),z(u.$$.fragment),f=L(),h=T("td"),d=T("select");for(let ne=0;ne<P.length;ne+=1)P[ne].c();v=L(),this.h()},l(ne){e=A(ne,"TR",{});var re=I(e);t=A(re,"TD",{class:!0});var ce=I(t);r=X(ce,n),ce.forEach(m),i=O(re),a=A(re,"TD",{class:!0});var se=I(a);q(s.$$.fragment,se),se.forEach(m),o=O(re),c=A(re,"TD",{class:!0});var Ee=I(c);q(u.$$.fragment,Ee),Ee.forEach(m),f=O(re),h=A(re,"TD",{class:!0});var de=I(h);d=A(de,"SELECT",{class:!0});var Oe=I(d);for(let xe=0;xe<P.length;xe+=1)P[xe].l(Oe);Oe.forEach(m),de.forEach(m),v=O(re),re.forEach(m),this.h()},h(){C(t,"class","svelte-10xwf4"),C(a,"class","svelte-10xwf4"),C(c,"class","svelte-10xwf4"),C(d,"class","svelte-10xwf4"),C(h,"class","svelte-10xwf4")},m(ne,re){var ce,se,Ee,de;R(ne,e,re),w(e,t),w(t,r),w(e,i),w(e,a),H(s,a,null),w(e,o),w(e,c),H(u,c,null),w(e,f),w(e,h),w(h,d);for(let Oe=0;Oe<P.length;Oe+=1)P[Oe].m(d,null);it(d,((de=(Ee=(se=(ce=l[0])==null?void 0:ce[l[13]])==null?void 0:se.items)==null?void 0:Ee[l[16]])==null?void 0:de.type)??0),w(e,v),b=!0,E||(k=pe(d,"change",K),E=!0)},p(ne,re){var Ee,de,Oe,xe,Ce,Be,te,he,De,Ie,Xe,Ze,ot,rt,lt,ze;l=ne;const ce={};re&1&&(ce.value=((xe=(Oe=(de=(Ee=l[0])==null?void 0:Ee[l[13]])==null?void 0:de.items)==null?void 0:Oe[l[16]])==null?void 0:xe.min)??0),s.$set(ce);const se={};if(re&1&&(se.value=((he=(te=(Be=(Ce=l[0])==null?void 0:Ce[l[13]])==null?void 0:Be.items)==null?void 0:te[l[16]])==null?void 0:he.delta)??0),u.$set(se),re&4){N=l[2];let qe;for(qe=0;qe<N.length;qe+=1){const $t=el(l,N,qe);P[qe]?P[qe].p($t,re):(P[qe]=tl($t),P[qe].c(),P[qe].m(d,null))}for(;qe<P.length;qe+=1)P[qe].d(1);P.length=N.length}(!b||re&1&&p!==(p=((Ze=(Xe=(Ie=(De=l[0])==null?void 0:De[l[13]])==null?void 0:Ie.items)==null?void 0:Xe[l[16]])==null?void 0:Ze.type)??0))&&it(d,((ze=(lt=(rt=(ot=l[0])==null?void 0:ot[l[13]])==null?void 0:rt.items)==null?void 0:lt[l[16]])==null?void 0:ze.type)??0)},i(ne){b||(U(s.$$.fragment,ne),U(u.$$.fragment,ne),b=!0)},o(ne){B(s.$$.fragment,ne),B(u.$$.fragment,ne),b=!1},d(ne){ne&&m(e),W(s),W(u),Pe(P,ne),E=!1,k()}}}function $o(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,b,E=l[3],k=[];for(let S=0;S<E.length;S+=1)k[S]=nl(Zr(l,E,S));const D=S=>B(k[S],1,1,()=>{k[S]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),r=L(),i=T("th"),a=J("Min."),s=L(),o=T("th"),c=J("Delta"),u=L(),f=T("th"),h=J("Type"),d=L(),p=T("tbody");for(let S=0;S<k.length;S+=1)k[S].c();v=L(),this.h()},l(S){e=A(S,"TABLE",{class:!0});var N=I(e);t=A(N,"THEAD",{});var P=I(t);n=A(P,"TH",{class:!0}),I(n).forEach(m),r=O(P),i=A(P,"TH",{class:!0});var K=I(i);a=X(K,"Min."),K.forEach(m),s=O(P),o=A(P,"TH",{class:!0});var Y=I(o);c=X(Y,"Delta"),Y.forEach(m),u=O(P),f=A(P,"TH",{class:!0});var M=I(f);h=X(M,"Type"),M.forEach(m),P.forEach(m),d=O(N),p=A(N,"TBODY",{});var x=I(p);for(let j=0;j<k.length;j+=1)k[j].l(x);x.forEach(m),N.forEach(m),v=O(S),this.h()},h(){C(n,"class","svelte-10xwf4"),C(i,"class","svelte-10xwf4"),C(o,"class","svelte-10xwf4"),C(f,"class","svelte-10xwf4"),C(e,"class","svelte-10xwf4")},m(S,N){R(S,e,N),w(e,t),w(t,n),w(t,r),w(t,i),w(i,a),w(t,s),w(t,o),w(o,c),w(t,u),w(t,f),w(f,h),w(e,d),w(e,p);for(let P=0;P<k.length;P+=1)k[P].m(p,null);R(S,v,N),b=!0},p(S,N){if(N&29){E=S[3];let P;for(P=0;P<E.length;P+=1){const K=Zr(S,E,P);k[P]?(k[P].p(K,N),U(k[P],1)):(k[P]=nl(K),k[P].c(),U(k[P],1),k[P].m(p,null))}for(me(),P=E.length;P<k.length;P+=1)D(P);ve()}},i(S){if(!b){for(let N=0;N<E.length;N+=1)U(k[N]);b=!0}},o(S){k=k.filter(Boolean);for(let N=0;N<k.length;N+=1)B(k[N]);b=!1},d(S){S&&m(e),Pe(k,S),S&&m(v)}}}function rl(l){let e,t;return e=new Et({props:{title:l[11],headingLevel:"h4",$$slots:{default:[$o]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&1048577&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function yo(l){let e,t,n=l[1],r=[];for(let a=0;a<n.length;a+=1)r[a]=rl(Qr(l,n,a));const i=a=>B(r[a],1,1,()=>{r[a]=null});return{c(){e=T("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);for(let o=0;o<r.length;o+=1)r[o].l(s);s.forEach(m),this.h()},h(){C(e,"class","motive-tables svelte-10xwf4")},m(a,s){R(a,e,s);for(let o=0;o<r.length;o+=1)r[o].m(e,null);t=!0},p(a,[s]){if(s&31){n=a[1];let o;for(o=0;o<n.length;o+=1){const c=Qr(a,n,o);r[o]?(r[o].p(c,s),U(r[o],1)):(r[o]=rl(c),r[o].c(),U(r[o],1),r[o].m(e,null))}for(me(),o=n.length;o<r.length;o+=1)i(o);ve()}},i(a){if(!t){for(let s=0;s<n.length;s+=1)U(r[s]);t=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)B(r[s]);t=!1},d(a){a&&m(e),Pe(r,a)}}}function ko(l,e,t){let n,{content:r}=e,{onChange:i}=e,{index:a}=e;const s=["Adult","Child","Toddler","Teen","Elder","Cat","Dog"],o=["None","Nice","Grouchy","Active","Lazy","Generous","Selfish","Playful","Serious","Outgoing","Shy","Neat","Sloppy","Cleaning skill","Cooking skill","Charisma skill","Mechanical skill","Gardening skill","Music skill","Creative skill","Literacy skill","Physical skill","Logic skill"],c=["Shopping","Scratch/chew","Unused","Mood","Mood + mem","Energy","Comfort","Hunger","Water/hygiene","Bladder","Unused","Sleep state","Amorous","Environment","Social","Fun"],u=(p,v,b,E)=>i(oe(r,k=>{var N;const D=((N=k.items[a])==null?void 0:N.humanGroups.groups)??[];for(;b>=D.length;)D.push({items:[]});const S=D[b];if(S){for(;E>=S.items.length;)S.items.push({min:0,delta:0,type:0});const P=S.items[E];P&&(P[p]=v)}})),f=(p,v,b)=>u("min",b,p,v),h=(p,v,b)=>u("delta",b,p,v),d=(p,v,b)=>{u("type",parseInt(b.currentTarget.value),p,v)};return l.$$set=p=>{"content"in p&&t(5,r=p.content),"onChange"in p&&t(6,i=p.onChange),"index"in p&&t(7,a=p.index)},l.$$.update=()=>{var p;l.$$.dirty&160&&t(0,n=((p=r.items[a])==null?void 0:p.humanGroups.groups)??[])},[n,s,o,c,u,r,i,a,f,h,d]}class ll extends ue{constructor(e){super(),fe(this,e,ko,yo,ae,{content:5,onChange:6,index:7})}}const Eo=["Visitor","Joinable","Immediately","Consecutive","Children","Demo child","Adults","Debug menu","Auto first","Toddlers","Elders","Teens","Dogs","Cats","Allow nested","Nest"],Co=["Babies",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],Io=["Visitor","Joinable?","Immediately","Consecutive?","Children","2-way?","Adults","Debug menu?","Auto first?","Toddlers","Elders","Teens","Adult big dogs","Adult cats","Allow nested","Nest"],To=["Babies",null,null,null,null,null,null,null,"Puppies","Kittens","Elder cats","Adult small dogs","Elder small dogs",null,null];function il(l,e,t){const n=l.slice();return n[22]=e[t],n}function al(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function sl(l,e,t){const n=l.slice();return n[25]=e[t],n[27]=t,n}function ol(l,e,t){const n=l.slice();return n[29]=e[t],n[27]=t,n}function Ao(l){let e,t;return e=new Ue({props:{onClick:l[14],$$slots:{default:[Do]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r[1]&1&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Uo(l){let e,t;return e=new Ue({props:{onClick:l[13],$$slots:{default:[So]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r[0]&1&&(i.onClick=n[13]),r[1]&1&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Do(l){let e;return{c(){e=J("Create TTAS")},l(t){e=X(t,"Create TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function So(l){let e;return{c(){e=J("Edit TTAS")},l(t){e=X(t,"Edit TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function cl(l){let e,t,n=Me(l[27],8)+"",r,i,a=l[29]+"",s,o;return{c(){e=T("option"),t=J("("),r=J(n),i=J(") "),s=J(a),o=L(),this.h()},l(c){e=A(c,"OPTION",{});var u=I(e);t=X(u,"("),r=X(u,n),i=X(u,") "),s=X(u,a),o=O(u),u.forEach(m),this.h()},h(){e.__value=l[27],e.value=e.__value},m(c,u){R(c,e,u),w(e,t),w(e,r),w(e,i),w(e,s),w(e,o)},p(c,u){u[0]&8&&a!==(a=c[29]+"")&&Fe(s,a)},d(c){c&&m(e)}}}function ul(l){let e,t,n,r,i=l[25]+"",a,s,o,c;function u(){return l[18](l[27])}return{c(){e=T("label"),t=T("input"),r=L(),a=J(i),s=L(),this.h()},l(f){e=A(f,"LABEL",{});var h=I(e);t=A(h,"INPUT",{type:!0}),r=O(h),a=X(h,i),s=O(h),h.forEach(m),this.h()},h(){C(t,"type","checkbox"),t.checked=n=l[6](l[27])},m(f,h){R(f,e,h),w(e,t),w(e,r),w(e,a),w(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){l=f,h[0]&64&&n!==(n=l[6](l[27]))&&(t.checked=n),h[0]&32&&i!==(i=l[25]+"")&&Fe(a,i)},d(f){f&&m(e),o=!1,c()}}}function Bo(l){let e,t=l[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=ul(sl(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","checkbox-grid svelte-1tpy5t5")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&352){t=r[5];let a;for(a=0;a<t.length;a+=1){const s=sl(r,t,a);n[a]?n[a].p(s,i):(n[a]=ul(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function fl(l){let e,t,n,r,i=(l[25]??"?")+"",a,s,o,c;function u(){return l[19](l[27])}return{c(){e=T("label"),t=T("input"),r=L(),a=J(i),s=L(),this.h()},l(f){e=A(f,"LABEL",{});var h=I(e);t=A(h,"INPUT",{type:!0}),r=O(h),a=X(h,i),s=O(h),h.forEach(m),this.h()},h(){var f;C(t,"type","checkbox"),t.checked=n=((((f=l[1])==null?void 0:f.flags2)??0)&1<<l[27])>0},m(f,h){R(f,e,h),w(e,t),w(e,r),w(e,a),w(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){var d;l=f,h[0]&2&&n!==(n=((((d=l[1])==null?void 0:d.flags2)??0)&1<<l[27])>0)&&(t.checked=n),h[0]&16&&i!==(i=(l[25]??"?")+"")&&Fe(a,i)},d(f){f&&m(e),o=!1,c()}}}function Fo(l){let e,t=l[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=fl(al(l,t,r));return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","checkbox-grid svelte-1tpy5t5")},m(r,i){R(r,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(r,i){if(i[0]&274){t=r[4];let a;for(a=0;a<t.length;a+=1){const s=al(r,t,a);n[a]?n[a].p(s,i):(n[a]=fl(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(r){r&&m(e),Pe(n,r)}}}function hl(l){var a;let e,t;function n(...s){return l[21](l[22],...s)}const r=[l[22],{value:((a=l[1])==null?void 0:a[l[22].key])??0},{onChange:n},{style:"width: 100%"}];let i={};for(let s=0;s<r.length;s+=1)i=ge(i,r[s]);return e=new Qe({props:i}),{c(){z(e.$$.fragment)},l(s){q(e.$$.fragment,s)},m(s,o){H(e,s,o),t=!0},p(s,o){var u;l=s;const c=o[0]&134?Le(r,[o[0]&4&&kn(l[22]),o[0]&6&&{value:((u=l[1])==null?void 0:u[l[22].key])??0},o[0]&132&&{onChange:n},r[3]]):{};e.$set(c)},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){W(e,s)}}}function Ro(l){var xe,Ce,Be;let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,b,E,k,D,S,N,P,K,Y,M,x,j,Q,le,Z;const ee=[Uo,Ao],ne=[];function re(te,he){return te[0]?0:1}o=re(l),c=ne[o]=ee[o](l);let ce=l[3],se=[];for(let te=0;te<ce.length;te+=1)se[te]=cl(ol(l,ce,te));b=new Kt({props:{value:((xe=l[1])==null?void 0:xe.action)??0,onChange:l[16],label:"Action BHAV"}}),k=new Kt({props:{value:((Ce=l[1])==null?void 0:Ce.guard)??0,onChange:l[17],label:"Guardian BHAV"}}),N=new Et({props:{headingLevel:"h4",title:"Flags",style:"flex: 1",$$slots:{default:[Bo]},$$scope:{ctx:l}}}),K=new Et({props:{headingLevel:"h4",title:"Flags2",style:"flex: 1",$$slots:{default:[Fo]},$$scope:{ctx:l}}}),x=new Qe({props:{variant:"hex",value:((Be=l[1])==null?void 0:Be.attenuationCode)??0,onChange:l[20],label:"Attenuation code",style:"width: 100%"}});let Ee=l[2],de=[];for(let te=0;te<Ee.length;te+=1)de[te]=hl(il(l,Ee,te));const Oe=te=>B(de[te],1,1,()=>{de[te]=null});return{c(){e=T("div"),t=T("div"),n=T("div"),r=T("div"),i=T("label"),a=J("Pie string ID"),s=L(),c.c(),u=L(),f=T("select");for(let te=0;te<se.length;te+=1)se[te].c();d=L(),p=T("div"),v=L(),z(b.$$.fragment),E=L(),z(k.$$.fragment),D=L(),S=T("div"),z(N.$$.fragment),P=L(),z(K.$$.fragment),Y=L(),M=T("div"),z(x.$$.fragment),j=L();for(let te=0;te<de.length;te+=1)de[te].c();this.h()},l(te){e=A(te,"DIV",{class:!0});var he=I(e);t=A(he,"DIV",{class:!0});var De=I(t);n=A(De,"DIV",{});var Ie=I(n);r=A(Ie,"DIV",{class:!0});var Xe=I(r);i=A(Xe,"LABEL",{for:!0});var Ze=I(i);a=X(Ze,"Pie string ID"),Ze.forEach(m),s=O(Xe),c.l(Xe),Xe.forEach(m),u=O(Ie),f=A(Ie,"SELECT",{id:!0,class:!0});var ot=I(f);for(let ze=0;ze<se.length;ze+=1)se[ze].l(ot);ot.forEach(m),Ie.forEach(m),d=O(De),p=A(De,"DIV",{}),I(p).forEach(m),v=O(De),q(b.$$.fragment,De),E=O(De),q(k.$$.fragment,De),De.forEach(m),D=O(he),S=A(he,"DIV",{class:!0});var rt=I(S);q(N.$$.fragment,rt),P=O(rt),q(K.$$.fragment,rt),rt.forEach(m),Y=O(he),M=A(he,"DIV",{class:!0});var lt=I(M);q(x.$$.fragment,lt),j=O(lt);for(let ze=0;ze<de.length;ze+=1)de[ze].l(lt);lt.forEach(m),he.forEach(m),this.h()},h(){C(i,"for","pie-string-select"),C(r,"class","label-with-edit svelte-1tpy5t5"),C(f,"id","pie-string-select"),C(f,"class","svelte-1tpy5t5"),C(t,"class","input-grid svelte-1tpy5t5"),C(S,"class","flags-wrapper svelte-1tpy5t5"),C(M,"class","input-grid svelte-1tpy5t5"),C(e,"class","settings svelte-1tpy5t5")},m(te,he){var De;R(te,e,he),w(e,t),w(t,n),w(n,r),w(r,i),w(i,a),w(r,s),ne[o].m(r,null),w(n,u),w(n,f);for(let Ie=0;Ie<se.length;Ie+=1)se[Ie].m(f,null);it(f,((De=l[1])==null?void 0:De.strIndex)??0),w(t,d),w(t,p),w(t,v),H(b,t,null),w(t,E),H(k,t,null),w(e,D),w(e,S),H(N,S,null),w(S,P),H(K,S,null),w(e,Y),w(e,M),H(x,M,null),w(M,j);for(let Ie=0;Ie<de.length;Ie+=1)de[Ie].m(M,null);Q=!0,le||(Z=pe(f,"change",l[15]),le=!0)},p(te,he){var lt,ze,qe,$t,Ft;let De=o;if(o=re(te),o===De?ne[o].p(te,he):(me(),B(ne[De],1,1,()=>{ne[De]=null}),ve(),c=ne[o],c?c.p(te,he):(c=ne[o]=ee[o](te),c.c()),U(c,1),c.m(r,null)),he[0]&8){ce=te[3];let we;for(we=0;we<ce.length;we+=1){const yt=ol(te,ce,we);se[we]?se[we].p(yt,he):(se[we]=cl(yt),se[we].c(),se[we].m(f,null))}for(;we<se.length;we+=1)se[we].d(1);se.length=ce.length}(!Q||he[0]&2&&h!==(h=((lt=te[1])==null?void 0:lt.strIndex)??0))&&it(f,((ze=te[1])==null?void 0:ze.strIndex)??0);const Ie={};he[0]&2&&(Ie.value=((qe=te[1])==null?void 0:qe.action)??0),b.$set(Ie);const Xe={};he[0]&2&&(Xe.value=(($t=te[1])==null?void 0:$t.guard)??0),k.$set(Xe);const Ze={};he[0]&96|he[1]&1&&(Ze.$$scope={dirty:he,ctx:te}),N.$set(Ze);const ot={};he[0]&18|he[1]&1&&(ot.$$scope={dirty:he,ctx:te}),K.$set(ot);const rt={};if(he[0]&2&&(rt.value=((Ft=te[1])==null?void 0:Ft.attenuationCode)??0),x.$set(rt),he[0]&134){Ee=te[2];let we;for(we=0;we<Ee.length;we+=1){const yt=il(te,Ee,we);de[we]?(de[we].p(yt,he),U(de[we],1)):(de[we]=hl(yt),de[we].c(),U(de[we],1),de[we].m(M,null))}for(me(),we=Ee.length;we<de.length;we+=1)Oe(we);ve()}},i(te){if(!Q){U(c),U(b.$$.fragment,te),U(k.$$.fragment,te),U(N.$$.fragment,te),U(K.$$.fragment,te),U(x.$$.fragment,te);for(let he=0;he<Ee.length;he+=1)U(de[he]);Q=!0}},o(te){B(c),B(b.$$.fragment,te),B(k.$$.fragment,te),B(N.$$.fragment,te),B(K.$$.fragment,te),B(x.$$.fragment,te),de=de.filter(Boolean);for(let he=0;he<de.length;he+=1)B(de[he]);Q=!1},d(te){te&&m(e),ne[o].d(),Pe(se,te),W(b),W(k),W(N),W(K),W(x),Pe(de,te),le=!1,Z()}}}function Po(l,e,t){let n,r,i,a,s;et(l,be,M=>t(12,s=M));let{content:o}=e,{onChange:c}=e,{index:u}=e,f=[],h,d=[];const p=(M,x)=>c(oe(o,j=>{const Q=j.items[u];Q&&(Q[M]=x)})),v=(M,x)=>c(oe(o,j=>{const Q=j.items[u];Q&&(Q[M]^=1<<x)})),b=()=>h?be.openResource(h):null,E=()=>be.createNewResource("TTAS"),k=M=>{p("strIndex",parseInt(M.currentTarget.value))},D=M=>p("action",M),S=M=>p("guard",M),N=M=>v("flags",M),P=M=>v("flags2",M),K=M=>p("attenuationCode",M),Y=(M,x)=>p(M.key,x);return l.$$set=M=>{"content"in M&&t(9,o=M.content),"onChange"in M&&t(10,c=M.onChange),"index"in M&&t(11,u=M.index)},l.$$.update=()=>{var M,x;if(l.$$.dirty[0]&512&&t(2,f=[{key:"attenuationValue",variant:"float",label:"Attenuation value"},{key:"autonomy",variant:"hex",maxLength:8,label:"Autonomy"},{key:"joinIndex",variant:"hex",maxLength:8,label:"Join index"},{key:"uiDisplayType",variant:"hex",maxLength:4,label:"UI display type",disabled:o.format<=69},{key:"objectType",variant:"hex",maxLength:8,label:"Object type",disabled:o.format<=76},{key:"facialAnimation",variant:"hex",maxLength:8,label:"Facial animation ID",disabled:o.format<=74},{key:"modelTableId",variant:"hex",maxLength:8,label:"Model table ID",disabled:o.format<=70},{key:"memoryIterMult",variant:"float",label:"Memory iterative multiplier",disabled:o.format<=76}]),l.$$.dirty[0]&2560&&t(1,n=o.items[u]),l.$$.dirty[0]&4097){t(0,h=_e(s).linkedResourceId("TTAS"));const j=_e(s).resourceById(h);t(3,d=(((M=j==null?void 0:j.contentChanges)==null?void 0:M.stringSets)??((x=j==null?void 0:j.content)==null?void 0:x.stringSets)??[]).map(Q=>Q.value))}l.$$.dirty[0]&2&&t(6,r=j=>{const Q=(((n==null?void 0:n.flags)??0)&1<<j)>0;return j===4||j===5||j===6?!Q:Q}),l.$$.dirty[0]&512&&t(5,i=o.format>84?Io:Eo),l.$$.dirty[0]&512&&t(4,a=o.format>84?To:Co)},[h,n,f,d,a,i,r,p,v,o,c,u,s,b,E,k,D,S,N,P,K,Y]}class dl extends ue{constructor(e){super(),fe(this,e,Po,Ro,ae,{content:9,onChange:10,index:11},null,[-1,-1])}}function gl(l,e,t){const n=l.slice();return n[12]=e[t],n[14]=t,n}function _l(l){var E;let e,t,n,r,i,a,s,o=(((E=l[4])==null?void 0:E[l[12].strIndex])??"")+"",c,u,f,h,d,p;function v(){return l[9](l[14])}t=new It({props:{onClick:v,"aria-label":`remove interaction ${l[14]}`}});function b(){return l[10](l[14])}return{c(){e=T("li"),z(t.$$.fragment),n=L(),r=T("button"),i=J("("),a=J(l[14]),s=J(") "),c=J(o),f=L(),this.h()},l(k){e=A(k,"LI",{class:!0});var D=I(e);q(t.$$.fragment,D),n=O(D),r=A(D,"BUTTON",{class:!0,role:!0,"aria-selected":!0});var S=I(r);i=X(S,"("),a=X(S,l[14]),s=X(S,") "),c=X(S,o),S.forEach(m),f=O(D),D.forEach(m),this.h()},h(){C(r,"class","interaction-option svelte-ba2np1"),C(r,"role","option"),C(r,"aria-selected",u=l[3]===l[14]),C(e,"class","svelte-ba2np1"),Ae(e,"active-interaction",l[3]===l[14])},m(k,D){R(k,e,D),H(t,e,null),w(e,n),w(e,r),w(r,i),w(r,a),w(r,s),w(r,c),w(e,f),h=!0,d||(p=pe(r,"click",b),d=!0)},p(k,D){var S;l=k,(!h||D&17)&&o!==(o=(((S=l[4])==null?void 0:S[l[12].strIndex])??"")+"")&&Fe(c,o),(!h||D&8&&u!==(u=l[3]===l[14]))&&C(r,"aria-selected",u),(!h||D&8)&&Ae(e,"active-interaction",l[3]===l[14])},i(k){h||(U(t.$$.fragment,k),h=!0)},o(k){B(t.$$.fragment,k),h=!1},d(k){k&&m(e),W(t),d=!1,p()}}}function Lo(l){let e;return{c(){e=J("Append new interaction")},l(t){e=X(t,"Append new interaction")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Oo(l){let e,t,n,r,i,a,s,o,c=l[0].items,u=[];for(let h=0;h<c.length;h+=1)u[h]=_l(gl(l,c,h));const f=h=>B(u[h],1,1,()=>{u[h]=null});return i=new Qe({props:{label:"Format",variant:"hex",maxLength:8,onChange:l[7],value:l[0].format,style:"width: 100%"}}),s=new Ue({props:{onClick:l[6],style:"margin-bottom: 5px",$$slots:{default:[Lo]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("ol");for(let h=0;h<u.length;h+=1)u[h].c();n=L(),r=T("div"),z(i.$$.fragment),a=L(),z(s.$$.fragment),this.h()},l(h){e=A(h,"DIV",{class:!0});var d=I(e);t=A(d,"OL",{class:!0,role:!0});var p=I(t);for(let b=0;b<u.length;b+=1)u[b].l(p);p.forEach(m),n=O(d),r=A(d,"DIV",{class:!0});var v=I(r);q(i.$$.fragment,v),a=O(v),q(s.$$.fragment,v),v.forEach(m),d.forEach(m),this.h()},h(){C(t,"class","interaction-select svelte-ba2np1"),C(t,"role","listbox"),C(r,"class","controls-y svelte-ba2np1"),C(e,"class","controls-x svelte-ba2np1")},m(h,d){R(h,e,d),w(e,t);for(let p=0;p<u.length;p+=1)u[p].m(t,null);w(e,n),w(e,r),H(i,r,null),w(r,a),H(s,r,null),o=!0},p(h,d){if(d&57){c=h[0].items;let b;for(b=0;b<c.length;b+=1){const E=gl(h,c,b);u[b]?(u[b].p(E,d),U(u[b],1)):(u[b]=_l(E),u[b].c(),U(u[b],1),u[b].m(t,null))}for(me(),b=c.length;b<u.length;b+=1)f(b);ve()}const p={};d&1&&(p.value=h[0].format),i.$set(p);const v={};d&32768&&(v.$$scope={dirty:d,ctx:h}),s.$set(v)},i(h){if(!o){for(let d=0;d<c.length;d+=1)U(u[d]);U(i.$$.fragment,h),U(s.$$.fragment,h),o=!0}},o(h){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)B(u[d]);B(i.$$.fragment,h),B(s.$$.fragment,h),o=!1},d(h){h&&m(e),Pe(u,h),W(i),W(s)}}}function Mo(l){let e,t;return e=new Ge({props:{secondary:!0,style:{"margin-top":"var(--spacing-sm)"},$$slots:{default:[Vo]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&32768&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function No(l){let e,t;return e=new Gt({props:{tabs:{settings:{title:"Settings",content:dl,hideClose:!0,props:{content:l[0],onChange:l[1],index:l[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:l[0],onChange:l[1],index:l[3]}}},activeTab:l[2],onChange:l[11],onClose:Go,headingLevel:"h3",style:{flex:"1",background:"transparent",border:"0",overflow:"hidden",padding:"0","margin-top":"5px"},contentStyle:{overflow:"auto"}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,r){const i={};r&11&&(i.tabs={settings:{title:"Settings",content:dl,hideClose:!0,props:{content:n[0],onChange:n[1],index:n[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:n[0],onChange:n[1],index:n[3]}}}),r&4&&(i.activeTab=n[2]),r&4&&(i.onChange=n[11]),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Vo(l){let e;return{c(){e=J("No interaction selected")},l(t){e=X(t,"No interaction selected")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function jo(l){let e,t,n,r,i,a;t=new Ge({props:{secondary:!0,$$slots:{default:[Oo]},$$scope:{ctx:l}}});const s=[No,Mo],o=[];function c(u,f){return u[0].items[u[3]]?0:1}return r=c(l),i=o[r]=s[r](l),{c(){e=T("div"),z(t.$$.fragment),n=L(),i.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=I(e);q(t.$$.fragment,f),n=O(f),i.l(f),f.forEach(m),this.h()},h(){C(e,"class","ttab-view svelte-ba2np1")},m(u,f){R(u,e,f),H(t,e,null),w(e,n),o[r].m(e,null),a=!0},p(u,[f]){const h={};f&32793&&(h.$$scope={dirty:f,ctx:u}),t.$set(h);let d=r;r=c(u),r===d?o[r].p(u,f):(me(),B(o[d],1,1,()=>{o[d]=null}),ve(),i=o[r],i?i.p(u,f):(i=o[r]=s[r](u),i.c()),U(i,1),i.m(e,null))},i(u){a||(U(t.$$.fragment,u),U(i),a=!0)},o(u){B(t.$$.fragment,u),B(i),a=!1},d(u){u&&m(e),W(t),o[r].d()}}}const Go=()=>null;function zo(l,e,t){let n;et(l,be,v=>t(8,n=v));let{content:r}=e,{onChange:i}=e,a="settings",s=0,o=[];const c=v=>i(oe(r,b=>{b.items=St(b.items,v)})),u=()=>i(oe(r,v=>{v.items.push({...wt.TTAB.items[0]})})),f=v=>i(oe(r,b=>{b.format=v})),h=v=>c(v),d=v=>{t(3,s=v)},p=v=>t(2,a=v);return l.$$set=v=>{"content"in v&&t(0,r=v.content),"onChange"in v&&t(1,i=v.onChange)},l.$$.update=()=>{var v,b;if(l.$$.dirty&256){const E=_e(n).linkedResourceId("TTAS"),k=_e(n).resourceById(E);t(4,o=(((v=k==null?void 0:k.contentChanges)==null?void 0:v.stringSets)??((b=k==null?void 0:k.content)==null?void 0:b.stringSets)??[]).map(D=>D.value))}},[r,i,a,s,o,c,u,f,n,h,d,p]}class Ho extends ue{constructor(e){super(),fe(this,e,zo,jo,ae,{content:0,onChange:1})}}function Wo(l){let e;return{c(){e=J("No view for this resource type")},l(t){e=X(t,"No view for this resource type")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Yo(l){let e,t;return e=new Ge({props:{secondary:!0,$$slots:{default:[Wo]},$$scope:{ctx:l}}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p(n,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}class xo extends ue{constructor(e){super(),fe(this,e,null,Yo,ae,{})}}const Vt={BCON:is,CTSS:fn,GLOB:cs,JFIF:qr,NREF:hs,OBJD:As,OBJF:Ls,STR:fn,TGA:qr,TPRP:uo,TRCN:wo,TTAB:Ho,TTAS:fn};function pl(l){if(l)return Vt[mt(l.meta.typeId)]??xo}function ml(l,e,t){const n=l.slice();return n[13]=e[t],n}function qo(l){let e,t;return e=new Ea({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Jo(l){let e,t;return e=new $a({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function vl(l,e){let t,n=e[13]+"",r;return{key:l,first:null,c(){t=T("option"),r=J(n),this.h()},l(i){t=A(i,"OPTION",{});var a=I(t);r=X(a,n),a.forEach(m),this.h()},h(){t.__value=e[13],t.value=t.__value,this.first=t},m(i,a){R(i,t,a),w(t,r)},p(i,a){e=i},d(i){i&&m(t)}}}function Xo(l){let e,t;return e=new Da({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ko(l){let e,t;return e=new Ta({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Qo(l){let e,t,n,r=[],i=new Map,a,s,o,c,u,f,h,d,p=Object.keys(Vt);const v=b=>b[13];for(let b=0;b<p.length;b+=1){let E=ml(l,p,b),k=v(E);i.set(k,r[b]=vl(k,E))}return o=new Ue({props:{variant:"skeuomorphic",size:25,onClick:l[5],"aria-label":"cancel",style:"margin-right: 5px;",$$slots:{default:[Xo]},$$scope:{ctx:l}}}),u=new Ue({props:{variant:"skeuomorphic",size:25,onClick:l[12],"aria-label":"submit",$$slots:{default:[Ko]},$$scope:{ctx:l}}}),{c(){e=T("label"),t=J(`Type:
			`),n=T("select");for(let b=0;b<r.length;b+=1)r[b].c();a=L(),s=T("div"),z(o.$$.fragment),c=L(),z(u.$$.fragment),this.h()},l(b){e=A(b,"LABEL",{class:!0});var E=I(e);t=X(E,`Type:
			`),n=A(E,"SELECT",{class:!0});var k=I(n);for(let S=0;S<r.length;S+=1)r[S].l(k);k.forEach(m),E.forEach(m),a=O(b),s=A(b,"DIV",{class:!0});var D=I(s);q(o.$$.fragment,D),c=O(D),q(u.$$.fragment,D),D.forEach(m),this.h()},h(){C(n,"class","svelte-1sk2j0c"),C(e,"class","modal-content svelte-1sk2j0c"),C(s,"class","modal-controls svelte-1sk2j0c")},m(b,E){R(b,e,E),w(e,t),w(e,n);for(let k=0;k<r.length;k+=1)r[k].m(n,null);it(n,l[3]),l[11](n),R(b,a,E),R(b,s,E),H(o,s,null),w(s,c),H(u,s,null),f=!0,h||(d=pe(n,"input",l[6]),h=!0)},p(b,E){E&0&&(p=Object.keys(Vt),r=Qt(r,E,v,1,b,p,i,n,Nl,vl,null,ml)),(!f||E&8)&&it(n,b[3]);const k={};E&65536&&(k.$$scope={dirty:E,ctx:b}),o.$set(k);const D={};E&8&&(D.onClick=b[12]),E&65536&&(D.$$scope={dirty:E,ctx:b}),u.$set(D)},i(b){f||(U(o.$$.fragment,b),U(u.$$.fragment,b),f=!0)},o(b){B(o.$$.fragment,b),B(u.$$.fragment,b),f=!1},d(b){b&&m(e);for(let E=0;E<r.length;E+=1)r[E].d();l[11](null),b&&m(a),b&&m(s),W(o),W(u),h=!1,d()}}}function Zo(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v;o=new Ue({props:{variant:"skeuomorphic",size:25,style:"margin: 0 5px; padding: 1px;",onClick:l[8],tooltip:"Download package","aria-label":"download package",$$slots:{default:[qo]},$$scope:{ctx:l}}});let b={variant:"skeuomorphic",size:25,style:"padding: 1px;",onClick:l[9],tooltip:"Add resource","aria-label":"add resource",$$slots:{default:[Jo]},$$scope:{ctx:l}};return u=new Ue({props:b}),l[10](u),h=new Va({props:{title:"Add new resource",isOpen:l[2],onClose:l[5],$$slots:{default:[Qo]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("label"),n=J("Search"),r=L(),i=T("div"),a=T("input"),s=L(),z(o.$$.fragment),c=L(),z(u.$$.fragment),f=L(),z(h.$$.fragment),this.h()},l(E){e=A(E,"DIV",{});var k=I(e);t=A(k,"LABEL",{for:!0,class:!0});var D=I(t);n=X(D,"Search"),D.forEach(m),r=O(k),i=A(k,"DIV",{class:!0});var S=I(i);a=A(S,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),s=O(S),q(o.$$.fragment,S),c=O(S),q(u.$$.fragment,S),S.forEach(m),f=O(k),q(h.$$.fragment,k),k.forEach(m),this.h()},h(){C(t,"for","file-search"),C(t,"class","search-label svelte-1sk2j0c"),C(a,"id","file-search"),C(a,"type","text"),C(a,"placeholder","File name, file type, group ID, or instance ID"),C(a,"class","svelte-1sk2j0c"),C(i,"class","actions svelte-1sk2j0c")},m(E,k){R(E,e,k),w(e,t),w(t,n),w(e,r),w(e,i),w(i,a),Pn(a,l[0]),w(i,s),H(o,i,null),w(i,c),H(u,i,null),w(e,f),H(h,e,null),d=!0,p||(v=pe(a,"input",l[7]),p=!0)},p(E,[k]){k&1&&a.value!==E[0]&&Pn(a,E[0]);const D={};k&65536&&(D.$$scope={dirty:k,ctx:E}),o.$set(D);const S={};k&4&&(S.onClick=E[9]),k&65536&&(S.$$scope={dirty:k,ctx:E}),u.$set(S);const N={};k&4&&(N.isOpen=E[2]),k&65546&&(N.$$scope={dirty:k,ctx:E}),h.$set(N)},i(E){d||(U(o.$$.fragment,E),U(u.$$.fragment,E),U(h.$$.fragment,E),d=!0)},o(E){B(o.$$.fragment,E),B(u.$$.fragment,E),B(h.$$.fragment,E),d=!1},d(E){E&&m(e),W(o),l[10](null),W(u),W(h),p=!1,v()}}}function ec(l,e,t){let{search:n=""}=e,r=!1,i=Object.keys(Vt)[0],a,s;const o=()=>{t(2,r=!1),t(3,i=Object.keys(Vt)[0]),s.focus()},c=b=>{t(3,i=b.target.value)};function u(){n=this.value,t(0,n)}const f=()=>be.downloadActivePackage(),h=()=>{t(2,r=!0)};function d(b){bt[b?"unshift":"push"](()=>{s=b,t(4,s)})}function p(b){bt[b?"unshift":"push"](()=>{a=b,t(1,a)})}const v=()=>{be.createNewResource(i),o()};return l.$$set=b=>{"search"in b&&t(0,n=b.search)},l.$$.update=()=>{l.$$.dirty&2&&(a==null||a.focus())},[n,a,r,i,s,o,c,u,f,h,d,p,v]}class tc extends ue{constructor(e){super(),fe(this,e,ec,Zo,ae,{search:0})}}function bl(l,e,t){const n=l.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function nc(l){let e,t,n=l[2](l[7])+"",r,i,a,s=mt(l[7].meta.typeId)+"",o,c,u,f,h,d,p,v,b=Me(l[7].meta.groupId)+"",E,k,D,S,N,P,K,Y=Me(l[7].meta.instanceId2,8)+"",M,x,j,Q,le,Z,ee,ne=Me(l[7].meta.instanceId,8)+"",re;return{c(){e=T("div"),t=T("div"),r=J(n),i=L(),a=T("div"),o=J(s),c=L(),u=T("dl"),f=T("div"),h=T("dt"),d=J("Group"),p=L(),v=T("dd"),E=J(b),k=L(),D=T("div"),S=T("dt"),N=J("Instance (High)"),P=L(),K=T("dd"),M=J(Y),x=L(),j=T("div"),Q=T("dt"),le=J("Instance"),Z=L(),ee=T("dd"),re=J(ne),this.h()},l(ce){e=A(ce,"DIV",{class:!0});var se=I(e);t=A(se,"DIV",{class:!0});var Ee=I(t);r=X(Ee,n),Ee.forEach(m),i=O(se),a=A(se,"DIV",{class:!0});var de=I(a);o=X(de,s),de.forEach(m),se.forEach(m),c=O(ce),u=A(ce,"DL",{class:!0});var Oe=I(u);f=A(Oe,"DIV",{class:!0});var xe=I(f);h=A(xe,"DT",{class:!0});var Ce=I(h);d=X(Ce,"Group"),Ce.forEach(m),p=O(xe),v=A(xe,"DD",{class:!0});var Be=I(v);E=X(Be,b),Be.forEach(m),k=O(xe),xe.forEach(m),D=A(Oe,"DIV",{class:!0});var te=I(D);S=A(te,"DT",{class:!0});var he=I(S);N=X(he,"Instance (High)"),he.forEach(m),P=O(te),K=A(te,"DD",{class:!0});var De=I(K);M=X(De,Y),De.forEach(m),x=O(te),te.forEach(m),j=A(Oe,"DIV",{class:!0});var Ie=I(j);Q=A(Ie,"DT",{class:!0});var Xe=I(Q);le=X(Xe,"Instance"),Xe.forEach(m),Z=O(Ie),ee=A(Ie,"DD",{class:!0});var Ze=I(ee);re=X(Ze,ne),Ze.forEach(m),Ie.forEach(m),Oe.forEach(m),this.h()},h(){C(t,"class","filename svelte-1odav1k"),C(a,"class","type svelte-1odav1k"),C(e,"class","file-info svelte-1odav1k"),C(h,"class","svelte-1odav1k"),C(v,"class","svelte-1odav1k"),C(f,"class","file-meta svelte-1odav1k"),C(S,"class","svelte-1odav1k"),C(K,"class","svelte-1odav1k"),C(D,"class","file-meta svelte-1odav1k"),C(Q,"class","svelte-1odav1k"),C(ee,"class","svelte-1odav1k"),C(j,"class","file-meta svelte-1odav1k"),C(u,"class","svelte-1odav1k")},m(ce,se){R(ce,e,se),w(e,t),w(t,r),w(e,i),w(e,a),w(a,o),R(ce,c,se),R(ce,u,se),w(u,f),w(f,h),w(h,d),w(f,p),w(f,v),w(v,E),w(f,k),w(u,D),w(D,S),w(S,N),w(D,P),w(D,K),w(K,M),w(D,x),w(u,j),w(j,Q),w(Q,le),w(j,Z),w(j,ee),w(ee,re)},p(ce,se){se&2&&n!==(n=ce[2](ce[7])+"")&&Fe(r,n),se&2&&s!==(s=mt(ce[7].meta.typeId)+"")&&Fe(o,s),se&2&&b!==(b=Me(ce[7].meta.groupId)+"")&&Fe(E,b),se&2&&Y!==(Y=Me(ce[7].meta.instanceId2,8)+"")&&Fe(M,Y),se&2&&ne!==(ne=Me(ce[7].meta.instanceId,8)+"")&&Fe(re,ne)},d(ce){ce&&m(e),ce&&m(c),ce&&m(u)}}}function wl(l,e){let t,n,r,i;function a(){return e[5](e[6])}return n=new Ue({props:{variant:"block",onClick:a,style:"padding: 5px 15px;",$$slots:{default:[nc]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=T("li"),z(n.$$.fragment),r=L(),this.h()},l(s){t=A(s,"LI",{class:!0});var o=I(t);q(n.$$.fragment,o),r=O(o),o.forEach(m),this.h()},h(){C(t,"class","svelte-1odav1k"),this.first=t},m(s,o){R(s,t,o),H(n,t,null),w(t,r),i=!0},p(s,o){e=s;const c={};o&2&&(c.onClick=a),o&1026&&(c.$$scope={dirty:o,ctx:e}),n.$set(c)},i(s){i||(U(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&m(t),W(n)}}}function rc(l){let e,t,n,r,i,a=[],s=new Map,o;function c(d){l[4](d)}let u={};l[0]!==void 0&&(u.search=l[0]),t=new tc({props:u}),bt.push(()=>Vl(t,"search",c,l[0]));let f=l[1];const h=d=>d[6];for(let d=0;d<f.length;d+=1){let p=bl(l,f,d),v=h(p);s.set(v,a[d]=wl(v,p))}return{c(){e=T("div"),z(t.$$.fragment),r=L(),i=T("ul");for(let d=0;d<a.length;d+=1)a[d].c();this.h()},l(d){e=A(d,"DIV",{class:!0});var p=I(e);q(t.$$.fragment,p),r=O(p),i=A(p,"UL",{class:!0});var v=I(i);for(let b=0;b<a.length;b+=1)a[b].l(v);v.forEach(m),p.forEach(m),this.h()},h(){C(i,"class","svelte-1odav1k"),C(e,"class","file-list svelte-1odav1k")},m(d,p){R(d,e,p),H(t,e,null),w(e,r),w(e,i);for(let v=0;v<a.length;v+=1)a[v].m(i,null);o=!0},p(d,[p]){const v={};!n&&p&1&&(n=!0,v.search=d[0],jl(()=>n=!1)),t.$set(v),p&6&&(f=d[1],me(),a=Qt(a,p,h,1,d,f,s,i,yn,wl,null,bl),ve())},i(d){if(!o){U(t.$$.fragment,d);for(let p=0;p<f.length;p+=1)U(a[p]);o=!0}},o(d){B(t.$$.fragment,d);for(let p=0;p<a.length;p+=1)B(a[p]);o=!1},d(d){d&&m(e),W(t);for(let p=0;p<a.length;p+=1)a[p].d()}}}function lc(l,e,t){let n;et(l,Ul,c=>t(3,n=c));let r="",i;const a=c=>{var u;return((u=c.content)==null?void 0:u.filename)||Hl[mt(c.meta.typeId)]||""};function s(c){r=c,t(0,r)}const o=c=>be.openResource(c);return l.$$.update=()=>{if(l.$$.dirty&9){const c=new RegExp(r,"i");t(1,i=r?Object.entries((n==null?void 0:n.resources)??{}).filter(([,u])=>Me(u.meta.groupId,8).match(c)||Me(u.meta.instanceId,8).match(c)||Me(u.meta.instanceId2,8).match(c)||a(u).toUpperCase().match(c)||mt(u.meta.typeId).match(c)):Object.entries((n==null?void 0:n.resources)??{}))}},[r,i,a,n,s,o]}class ic extends ue{constructor(e){super(),fe(this,e,lc,rc,ae,{})}}function ac(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function sc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class oc extends ue{constructor(e){super(),fe(this,e,sc,ac,ae,{})}}function cc(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function uc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class fc extends ue{constructor(e){super(),fe(this,e,uc,cc,ae,{})}}function hc(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function dc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class gc extends ue{constructor(e){super(),fe(this,e,dc,hc,ae,{})}}function _c(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function pc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class mc extends ue{constructor(e){super(),fe(this,e,pc,_c,ae,{})}}function vc(l){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},l[0]],r={};for(let i=0;i<n.length;i+=1)r=ge(r,n[i]);return{c(){e=He("svg"),t=He("path"),this.h()},l(i){e=We(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=We(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"),Ye(e,r)},m(i,a){R(i,e,a),w(e,t)},p(i,[a]){Ye(e,r=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function bc(l,e,t){return l.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class wc extends ue{constructor(e){super(),fe(this,e,bc,vc,ae,{})}}function $l(l){var n;let e,t;return e=new Qe({props:{label:"File name",value:(n=l[1])==null?void 0:n.filename,onChange:l[3],style:"margin-bottom: 15px; width: 100%;"}}),{c(){z(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,i){H(e,r,i),t=!0},p(r,i){var s;const a={};i&2&&(a.value=(s=r[1])==null?void 0:s.filename),e.$set(a)},i(r){t||(U(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function $c(l){let e,t;return e=new gc({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function yc(l){let e,t;return e=new fc({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function kc(l){let e,t,n,r;const i=[yc,$c],a=[];function s(o,c){return o[0]?0:1}return e=s(l),t=a[e]=i[e](l),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),r=!0},p(o,c){let u=e;e=s(o),e!==u&&(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t||(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){r||(U(t),r=!0)},o(o){B(t),r=!1},d(o){a[e].d(o),o&&m(n)}}}function Ec(l){let e,t;return e=new wc({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Cc(l){let e,t;return e=new oc({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Ic(l){let e,t;return e=new mc({props:{height:20}}),{c(){z(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,r){H(e,n,r),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function Tc(l){var Y,M,x;let e,t=l[1]&&!(l[1]instanceof ArrayBuffer)&&Object.hasOwn(l[1],"filename"),n,r,i,a,s,o,c,u,f,h,d,p,v,b,E,k,D,S,N,P,K=t&&$l(l);return a=new Qe({props:{variant:"hex",maxLength:8,label:"Group ID",value:((Y=l[2])==null?void 0:Y.groupId)??0,onChange:l[4]("groupId"),style:"width: 100%"}}),c=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID (High)",value:((M=l[2])==null?void 0:M.instanceId2)??0,onChange:l[4]("instanceId2"),style:"width: 100%"}}),h=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID",value:((x=l[2])==null?void 0:x.instanceId)??0,onChange:l[4]("instanceId"),style:"width: 100%"}}),v=new Ue({props:{disabled:!l[0],onClick:l[7],variant:"skeuomorphic",tooltip:"Save changes","aria-label":"Save changes",$$slots:{default:[kc]},$$scope:{ctx:l}}}),E=new Ue({props:{disabled:!l[0],onClick:l[8],variant:"skeuomorphic",tooltip:"Abandon changes","aria-label":"Abandon changes",$$slots:{default:[Ec]},$$scope:{ctx:l}}}),D=new Ue({props:{onClick:l[9],variant:"skeuomorphic",tooltip:"Clone resource","aria-label":"Clone resource",$$slots:{default:[Cc]},$$scope:{ctx:l}}}),N=new Ue({props:{onClick:l[10],variant:"skeuomorphic",tooltip:"Delete resource","aria-label":"Delete resource",$$slots:{default:[Ic]},$$scope:{ctx:l}}}),{c(){e=T("div"),K&&K.c(),n=L(),r=T("div"),i=T("div"),z(a.$$.fragment),s=L(),o=T("div"),z(c.$$.fragment),u=L(),f=T("div"),z(h.$$.fragment),d=L(),p=T("div"),z(v.$$.fragment),b=L(),z(E.$$.fragment),k=L(),z(D.$$.fragment),S=L(),z(N.$$.fragment),this.h()},l(j){e=A(j,"DIV",{});var Q=I(e);K&&K.l(Q),n=O(Q),r=A(Q,"DIV",{class:!0});var le=I(r);i=A(le,"DIV",{class:!0});var Z=I(i);q(a.$$.fragment,Z),Z.forEach(m),s=O(le),o=A(le,"DIV",{class:!0});var ee=I(o);q(c.$$.fragment,ee),ee.forEach(m),u=O(le),f=A(le,"DIV",{class:!0});var ne=I(f);q(h.$$.fragment,ne),ne.forEach(m),le.forEach(m),d=O(Q),p=A(Q,"DIV",{class:!0});var re=I(p);q(v.$$.fragment,re),b=O(re),q(E.$$.fragment,re),k=O(re),q(D.$$.fragment,re),S=O(re),q(N.$$.fragment,re),re.forEach(m),Q.forEach(m),this.h()},h(){C(i,"class","input-wrapper svelte-xzft46"),C(o,"class","input-wrapper svelte-xzft46"),C(f,"class","input-wrapper svelte-xzft46"),C(r,"class","meta svelte-xzft46"),C(p,"class","actions svelte-xzft46")},m(j,Q){R(j,e,Q),K&&K.m(e,null),w(e,n),w(e,r),w(r,i),H(a,i,null),w(r,s),w(r,o),H(c,o,null),w(r,u),w(r,f),H(h,f,null),w(e,d),w(e,p),H(v,p,null),w(p,b),H(E,p,null),w(p,k),H(D,p,null),w(p,S),H(N,p,null),P=!0},p(j,[Q]){var Ee,de,Oe;Q&2&&(t=j[1]&&!(j[1]instanceof ArrayBuffer)&&Object.hasOwn(j[1],"filename")),t?K?(K.p(j,Q),Q&2&&U(K,1)):(K=$l(j),K.c(),U(K,1),K.m(e,n)):K&&(me(),B(K,1,1,()=>{K=null}),ve());const le={};Q&4&&(le.value=((Ee=j[2])==null?void 0:Ee.groupId)??0),a.$set(le);const Z={};Q&4&&(Z.value=((de=j[2])==null?void 0:de.instanceId2)??0),c.$set(Z);const ee={};Q&4&&(ee.value=((Oe=j[2])==null?void 0:Oe.instanceId)??0),h.$set(ee);const ne={};Q&1&&(ne.disabled=!j[0]),Q&2049&&(ne.$$scope={dirty:Q,ctx:j}),v.$set(ne);const re={};Q&1&&(re.disabled=!j[0]),Q&2048&&(re.$$scope={dirty:Q,ctx:j}),E.$set(re);const ce={};Q&2048&&(ce.$$scope={dirty:Q,ctx:j}),D.$set(ce);const se={};Q&2048&&(se.$$scope={dirty:Q,ctx:j}),N.$set(se)},i(j){P||(U(K),U(a.$$.fragment,j),U(c.$$.fragment,j),U(h.$$.fragment,j),U(v.$$.fragment,j),U(E.$$.fragment,j),U(D.$$.fragment,j),U(N.$$.fragment,j),P=!0)},o(j){B(K),B(a.$$.fragment,j),B(c.$$.fragment,j),B(h.$$.fragment,j),B(v.$$.fragment,j),B(E.$$.fragment,j),B(D.$$.fragment,j),B(N.$$.fragment,j),P=!1},d(j){j&&m(e),K&&K.d(),W(a),W(c),W(h),W(v),W(E),W(D),W(N)}}}function Ac(l,e,t){let n,r;et(l,Dl,p=>t(5,n=p)),et(l,be,p=>t(6,r=p));let i,a,s;const o=p=>{!a||a instanceof ArrayBuffer||be.editActiveResource(oe(a,v=>{v.filename=p}))},c=p=>v=>{s&&be.editActiveResourceMeta(oe(s,b=>{b[p]=v}))},u=()=>be.saveActiveResource(),f=()=>be.resetActiveResource(),h=()=>be.copyActiveResource(),d=()=>be.deleteActiveResource();return l.$$.update=()=>{l.$$.dirty&96&&(t(0,i=_e(r).isDirty()),t(1,a=(n==null?void 0:n.contentChanges)??(n==null?void 0:n.content)),t(2,s=(n==null?void 0:n.metaChanges)??(n==null?void 0:n.meta)))},[i,a,s,o,c,n,r,u,f,h,d]}class Uc extends ue{constructor(e){super(),fe(this,e,Ac,Tc,ae,{})}}function yl(l){let e,t,n,r,i;return t=new Gt({props:{tabs:l[1],activeTab:l[0].activeResourceId,onChange:l[5],onClose:l[6],headingLevel:"h2",style:{"flex-shrink":"0"},contentStyle:{"padding-bottom":"30px",position:"relative"}}}),r=new Ge({props:{style:{"flex-shrink":"1","min-height":"0","margin-top":"30px",overflow:"hidden"},$$slots:{default:[Dc]},$$scope:{ctx:l}}}),{c(){e=T("div"),z(t.$$.fragment),n=L(),z(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(r.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","file-viewer svelte-9p8pe0")},m(a,s){R(a,e,s),H(t,e,null),w(e,n),H(r,e,null),i=!0},p(a,s){const o={};s&2&&(o.tabs=a[1]),s&1&&(o.activeTab=a[0].activeResourceId),t.$set(o);const c={};s&132&&(c.$$scope={dirty:s,ctx:a}),r.$set(c)},i(a){i||(U(t.$$.fragment,a),U(r.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(r.$$.fragment,a),i=!1},d(a){a&&m(e),W(t),W(r)}}}function Dc(l){let e,t,n;var r=pl(l[2]);function i(a){return{props:{content:a[2].contentChanges??a[2].content,onChange:a[3]}}}return r&&(e=At(r,i(l))),{c(){e&&z(e.$$.fragment),t=ke()},l(a){e&&q(e.$$.fragment,a),t=ke()},m(a,s){e&&H(e,a,s),R(a,t,s),n=!0},p(a,s){const o={};if(s&4&&(o.content=a[2].contentChanges??a[2].content),r!==(r=pl(a[2]))){if(e){me();const c=e;B(c.$$.fragment,1,0,()=>{W(c,1)}),ve()}r?(e=At(r,i(a)),z(e.$$.fragment),U(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else r&&e.$set(o)},i(a){n||(e&&U(e.$$.fragment,a),n=!0)},o(a){e&&B(e.$$.fragment,a),n=!1},d(a){a&&m(t),e&&W(e,a)}}}function Sc(l){let e,t,n=l[0]&&l[2]&&yl(l);return{c(){n&&n.c(),e=ke()},l(r){n&&n.l(r),e=ke()},m(r,i){n&&n.m(r,i),R(r,e,i),t=!0},p(r,[i]){r[0]&&r[2]?n?(n.p(r,i),i&5&&U(n,1)):(n=yl(r),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),B(n,1,1,()=>{n=null}),ve())},i(r){t||(U(n),t=!0)},o(r){B(n),t=!1},d(r){n&&n.d(r),r&&m(e)}}}function Bc(l,e,t){let n,r,i;et(l,be,u=>t(4,n=u)),et(l,Ul,u=>t(0,r=u)),et(l,Dl,u=>t(2,i=u));let a;const s=u=>{u&&be.editActiveResource(u)},o=u=>be.setActiveResource(u),c=u=>be.closeResource(u);return l.$$.update=()=>{l.$$.dirty&17&&t(1,a={...Object.entries((r==null?void 0:r.resources)??{}).reduce((u,[f,h])=>{var d;return h.isOpen&&(u[f]={title:`${((d=h.content)==null?void 0:d.filename)||mt(h.meta.typeId)}${_e(n).isDirty(f)?"*":""}`,content:Uc}),u},{})})},[r,a,i,s,n,o,c]}class Fc extends ue{constructor(e){super(),fe(this,e,Bc,Sc,ae,{})}}function Rc(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p,v,b,E,k,D,S,N,P,K,Y,M,x,j;return{c(){e=T("div"),t=T("div"),n=T("div"),r=T("div"),i=L(),a=T("div"),s=L(),o=T("div"),c=L(),u=T("div"),f=L(),h=T("div"),d=L(),p=T("div"),v=L(),b=T("div"),E=L(),k=T("div"),D=L(),S=T("div"),N=L(),P=T("div"),K=L(),Y=T("div"),M=L(),x=T("div"),this.h()},l(Q){e=A(Q,"DIV",{class:!0,style:!0});var le=I(e);t=A(le,"DIV",{style:!0});var Z=I(t);n=A(Z,"DIV",{class:!0});var ee=I(n);r=A(ee,"DIV",{class:!0}),I(r).forEach(m),i=O(ee),a=A(ee,"DIV",{class:!0}),I(a).forEach(m),s=O(ee),o=A(ee,"DIV",{class:!0}),I(o).forEach(m),c=O(ee),u=A(ee,"DIV",{class:!0}),I(u).forEach(m),f=O(ee),h=A(ee,"DIV",{class:!0}),I(h).forEach(m),d=O(ee),p=A(ee,"DIV",{class:!0}),I(p).forEach(m),v=O(ee),b=A(ee,"DIV",{class:!0}),I(b).forEach(m),E=O(ee),k=A(ee,"DIV",{class:!0}),I(k).forEach(m),D=O(ee),S=A(ee,"DIV",{class:!0}),I(S).forEach(m),N=O(ee),P=A(ee,"DIV",{class:!0}),I(P).forEach(m),K=O(ee),Y=A(ee,"DIV",{class:!0}),I(Y).forEach(m),M=O(ee),x=A(ee,"DIV",{class:!0}),I(x).forEach(m),ee.forEach(m),Z.forEach(m),le.forEach(m),this.h()},h(){C(r,"class","triangle bottom face-1 svelte-10dc8xq"),C(a,"class","triangle bottom face-2 svelte-10dc8xq"),C(o,"class","triangle bottom face-3 svelte-10dc8xq"),C(u,"class","triangle bottom face-4 svelte-10dc8xq"),C(h,"class","triangle bottom face-5 svelte-10dc8xq"),C(p,"class","triangle bottom face-6 svelte-10dc8xq"),C(b,"class","triangle top face-1 svelte-10dc8xq"),C(k,"class","triangle top face-2 svelte-10dc8xq"),C(S,"class","triangle top face-3 svelte-10dc8xq"),C(P,"class","triangle top face-4 svelte-10dc8xq"),C(Y,"class","triangle top face-5 svelte-10dc8xq"),C(x,"class","triangle top face-6 svelte-10dc8xq"),C(n,"class","rotator svelte-10dc8xq"),C(t,"style",l[1]),C(e,"class","plumbob-wrapper svelte-10dc8xq"),C(e,"style",j=`height:${l[0]}px;width:${l[0]/2}px`)},m(Q,le){R(Q,e,le),w(e,t),w(t,n),w(n,r),w(n,i),w(n,a),w(n,s),w(n,o),w(n,c),w(n,u),w(n,f),w(n,h),w(n,d),w(n,p),w(n,v),w(n,b),w(n,E),w(n,k),w(n,D),w(n,S),w(n,N),w(n,P),w(n,K),w(n,Y),w(n,M),w(n,x)},p(Q,[le]){le&2&&C(t,"style",Q[1]),le&1&&j!==(j=`height:${Q[0]}px;width:${Q[0]/2}px`)&&C(e,"style",j)},i:ie,o:ie,d(Q){Q&&m(e)}}}function Pc(l,e,t){let{size:n}=e,r;return l.$$set=i=>{"size"in i&&t(0,n=i.size)},l.$$.update=()=>{l.$$.dirty&1&&t(1,r=n?`transform:scale(${n/100})`:void 0)},[n,r]}class Lc extends ue{constructor(e){super(),fe(this,e,Pc,Rc,ae,{size:0})}}function Oc(l){let e;return{c(){e=J("browse files")},l(t){e=X(t,"browse files")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Mc(l){let e,t,n,r,i,a,s,o,c,u,f,h,d;return i=new Lc({props:{size:50}}),u=new Ue({props:{variant:"link",style:"font-size: 1.2rem;",onClick:l[4],$$slots:{default:[Oc]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),n=T("input"),r=L(),z(i.$$.fragment),a=L(),s=T("span"),o=J("Drag .package file here or"),c=L(),z(u.$$.fragment),this.h()},l(p){e=A(p,"DIV",{class:!0});var v=I(e);t=A(v,"DIV",{class:!0});var b=I(t);n=A(b,"INPUT",{type:!0,accept:!0,class:!0}),r=O(b),q(i.$$.fragment,b),a=O(b),s=A(b,"SPAN",{class:!0});var E=I(s);o=X(E,"Drag .package file here or"),E.forEach(m),c=O(b),q(u.$$.fragment,b),b.forEach(m),v.forEach(m),this.h()},h(){C(n,"type","file"),C(n,"accept",".package"),C(n,"class","svelte-n3cac0"),C(s,"class","text svelte-n3cac0"),C(t,"class","drop-zone svelte-n3cac0"),C(e,"class","wrapper svelte-n3cac0")},m(p,v){R(p,e,v),w(e,t),w(t,n),l[2](n),w(t,r),H(i,t,null),w(t,a),w(t,s),w(s,o),w(t,c),H(u,t,null),f=!0,h||(d=[pe(n,"change",l[3]),pe(t,"dragover",st(l[1])),pe(t,"drop",st(l[5]))],h=!0)},p(p,[v]){const b={};v&1&&(b.onClick=p[4]),v&64&&(b.$$scope={dirty:v,ctx:p}),u.$set(b)},i(p){f||(U(i.$$.fragment,p),U(u.$$.fragment,p),f=!0)},o(p){B(i.$$.fragment,p),B(u.$$.fragment,p),f=!1},d(p){p&&m(e),l[2](null),W(i),W(u),h=!1,gt(d)}}}function Nc(l,e,t){let n;function r(c){Gl.call(this,l,c)}function i(c){bt[c?"unshift":"push"](()=>{n=c,t(0,n)})}return[n,r,i,async()=>{var u;const c=(u=n.files)==null?void 0:u[0];c&&await be.addPackage(c)},()=>n.click(),async c=>{var f,h,d;const u=(d=(h=(f=c==null?void 0:c.dataTransfer)==null?void 0:f.items)==null?void 0:h[0])==null?void 0:d.getAsFile();u&&await be.addPackage(u)}]}class Vc extends ue{constructor(e){super(),fe(this,e,Nc,Mc,ae,{})}}function jc(l){let e;return{c(){e=J("Try the custom career template!")},l(t){e=X(t,"Try the custom career template!")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Gc(l){let e,t,n,r,i,a,s,o,c,u,f,h,d,p;return s=new Vc({}),d=new Ue({props:{onClick:l[0],style:"font-size: 1.2rem",$$slots:{default:[jc]},$$scope:{ctx:l}}}),{c(){e=T("div"),t=T("div"),n=T("h1"),r=J("SIMPAI"),i=J(`
		Sims 2 Package Alteration Interface`),a=L(),z(s.$$.fragment),o=L(),c=T("div"),u=J("Not sure where to start?"),f=T("br"),h=L(),z(d.$$.fragment),this.h()},l(v){e=A(v,"DIV",{class:!0});var b=I(e);t=A(b,"DIV",{class:!0});var E=I(t);n=A(E,"H1",{class:!0});var k=I(n);r=X(k,"SIMPAI"),k.forEach(m),i=X(E,`
		Sims 2 Package Alteration Interface`),E.forEach(m),a=O(b),q(s.$$.fragment,b),o=O(b),c=A(b,"DIV",{class:!0});var D=I(c);u=X(D,"Not sure where to start?"),f=A(D,"BR",{}),h=O(D),q(d.$$.fragment,D),D.forEach(m),b.forEach(m),this.h()},h(){C(n,"class","svelte-iietxr"),C(t,"class","intro svelte-iietxr"),C(c,"class","help svelte-iietxr"),C(e,"class","welcome svelte-iietxr")},m(v,b){R(v,e,b),w(e,t),w(t,n),w(n,r),w(t,i),w(e,a),H(s,e,null),w(e,o),w(e,c),w(c,u),w(c,f),w(c,h),H(d,c,null),p=!0},p(v,[b]){const E={};b&2&&(E.$$scope={dirty:b,ctx:v}),d.$set(E)},i(v){p||(U(s.$$.fragment,v),U(d.$$.fragment,v),p=!0)},o(v){B(s.$$.fragment,v),B(d.$$.fragment,v),p=!1},d(v){v&&m(e),W(s),W(d)}}}const kl="career.package";function zc(l){return[async()=>{const t=await fetch(`/simpai/templates/${kl}`);await be.addPackage(new File([await t.arrayBuffer()],kl))}]}class Hc extends ue{constructor(e){super(),fe(this,e,zc,Gc,ae,{})}}function Wc(l){let e,t,n,r,i,a,s;return n=new Gt({props:{tabs:l[1],activeTab:l[0].activePackageId,onChange:l[2],onClose:l[3],headingLevel:"h1",style:{width:"100%",flex:"1","min-height":"0"},contentStyle:{"min-height":"0",padding:"15px 0"},hideSingleTab:!0}}),a=new Fc({}),{c(){e=T("div"),t=T("div"),z(n.$$.fragment),r=L(),i=T("div"),z(a.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var c=I(e);t=A(c,"DIV",{class:!0});var u=I(t);q(n.$$.fragment,u),u.forEach(m),r=O(c),i=A(c,"DIV",{class:!0});var f=I(i);q(a.$$.fragment,f),f.forEach(m),c.forEach(m),this.h()},h(){C(t,"class","left svelte-x0u2sm"),C(i,"class","right svelte-x0u2sm"),C(e,"class","layout svelte-x0u2sm")},m(o,c){R(o,e,c),w(e,t),H(n,t,null),w(e,r),w(e,i),H(a,i,null),s=!0},p(o,[c]){const u={};c&2&&(u.tabs=o[1]),c&1&&(u.activeTab=o[0].activePackageId),n.$set(u)},i(o){s||(U(n.$$.fragment,o),U(a.$$.fragment,o),s=!0)},o(o){B(n.$$.fragment,o),B(a.$$.fragment,o),s=!1},d(o){o&&m(e),W(n),W(a)}}}function Yc(l,e,t){let n;et(l,be,s=>t(0,n=s));let r;const i=s=>be.setActivePackage(s),a=s=>be.removePackage(s);return l.$$.update=()=>{l.$$.dirty&1&&t(1,r={...Object.entries(n.packages).reduce((s,[o,c])=>(s[o]={title:c.filename,content:ic},s),{}),"":{title:"+",content:Hc,hideClose:!0}})},[n,r,i,a]}class Xc extends ue{constructor(e){super(),fe(this,e,Yc,Wc,ae,{})}}export{Xc as default};
