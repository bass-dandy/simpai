var Bl=Object.defineProperty;var Fl=(r,e,t)=>e in r?Bl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Bt=(r,e,t)=>(Fl(r,typeof e!="symbol"?e+"":e,t),t);import{S as se,i as oe,s as ie,e as we,b as R,g as me,t as S,d as ve,f as U,h as m,G as ut,M as he,k as T,l as A,m as C,N as Me,O as De,H as ft,I as ht,J as dt,P as Pe,Q as pe,F as Nt,C as le,R as xt,T as Ne,x as Y,y as X,z as q,A as J,a as P,c as O,n as k,U as Kt,V as yn,K as b,w as Ct,W as kn,q as K,r as Q,u as Re,X as Tt,Y as Rl,Z as Fn,v as bt,_ as ze,$ as He,a0 as We,a1 as Ll,a2 as Pl,B as Ol,a3 as hn,a4 as zt,E as gt,a5 as Le,a6 as st,L as tt,a7 as Ze,a8 as Ml,a9 as Rn,aa as Ln,ab as Nl,ac as Vl,ad as jl,ae as Gl}from"../../chunks/index-205a6d65.js";import{w as zl,d as El}from"../../chunks/index-3d13d6bc.js";const dn=["English (US)","English (UK)","French","German","Italian","Spanish","Dutch","Danish","Swedish","Norwegian","Finnish","Hebrew","Russian","Portuguese","Japanese","Polish","Traditional Chinese","Simplified Chinese","Thai","Korean","Czech"],Hl={TGA:"[image file]",NREF:"[name reference]",BCON:"[behavior constant]",BHAV:"[behavior function]",CTSS:"[catalogue description]",GLOB:"[global data]",OBJD:"[object data]",OBJF:"[object functions]",STR:"[text lists]"},en={filename:"",formatCode:3,stringSets:[{languageId:1,value:"",description:""}]},At={BCON:{filename:"",flag:!1,items:[0]},GLOB:{filename:"",semiglobal:""},NREF:{filename:""},OBJF:{filename:"",header:[0,0,0],functions:Array.from(Array(55)).map(()=>({action:0,guard:0}))},TPRP:{filename:"",header:[0,0,0],params:[{label:"",pdata:0}],locals:[""]},TRCN:{filename:"",version:0,items:[{used:0,constId:0,constName:"",desc:"",value:0,minValue:0,maxValue:0}]},TTAB:{filename:"",format:0,items:[{action:0,guard:0,flags:0,flags2:0,strIndex:0,attenuationCode:0,attenuationValue:0,autonomy:0,joinIndex:0,uiDisplayType:0,facialAnimation:0,memoryIterMult:0,objectType:0,modelTableId:0,humanGroups:{groups:[{items:[]}]},animalGroups:null}]},STR:en,CTSS:en,TTAS:en,TGA:new ArrayBuffer(0),JFIF:new ArrayBuffer(0)};function Wl(r){const e=typeof r=="number"?r:parseInt(r,16);return dn[e-1]||"Unknown"}function je(r,e){if(r===void 0)return"";let t=r.toString(16).toUpperCase();for(;e&&t.length<e;)t="0"+t;return`0x${t}`}function gn(r){return Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(";")}function Qt(r,e){return[...r.slice(0,e),...r.slice(e+1)]}function xl(r,e){let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{r(...n),t=void 0},e)}}function Pn(r,e){const t=[];for(let n=0;n<r;n++)t.push(e(n));return t}function Yl(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=he(a,i[s]);return{c(){e=T("li"),l&&l.c(),this.h()},l(s){e=A(s,"LI",{});var o=C(e);l&&l.l(o),o.forEach(m),this.h()},h(){Me(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Me(e,a=Pe(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){S(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function ql(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=he(a,i[s]);return{c(){e=T("ol"),l&&l.c(),this.h()},l(s){e=A(s,"OL",{});var o=C(e);l&&l.l(o),o.forEach(m),this.h()},h(){Me(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Me(e,a=Pe(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){S(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function Jl(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=he(a,i[s]);return{c(){e=T("ul"),l&&l.c(),this.h()},l(s){e=A(s,"UL",{});var o=C(e);l&&l.l(o),o.forEach(m),this.h()},h(){Me(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Me(e,a=Pe(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){S(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function Xl(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=he(a,i[s]);return{c(){e=T("div"),l&&l.c(),this.h()},l(s){e=A(s,"DIV",{});var o=C(e);l&&l.l(o),o.forEach(m),this.h()},h(){Me(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Me(e,a=Pe(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){S(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function Kl(r){let e,t,n,l;const i=[Xl,Jl,ql,Yl],a=[];function s(o,c){return o[0]==="div"?0:o[0]==="ul"?1:o[0]==="ol"?2:o[0]==="li"?3:-1}return~(e=s(r))&&(t=a[e]=i[e](r)),{c(){t&&t.c(),n=we()},l(o){t&&t.l(o),n=we()},m(o,c){~e&&a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?~e&&a[e].p(o,c):(t&&(me(),S(a[u],1,1,()=>{a[u]=null}),ve()),~e?(t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n)):t=null)},i(o){l||(U(t),l=!0)},o(o){S(t),l=!1},d(o){~e&&a[e].d(o),o&&m(n)}}}function Ql(r,e,t){let{$$slots:n={},$$scope:l}=e,{style:i={}}=e,{secondary:a=!1}=e,{as:s="div"}=e,o;return r.$$set=c=>{"style"in c&&t(2,i=c.style),"secondary"in c&&t(3,a=c.secondary),"as"in c&&t(0,s=c.as),"$$scope"in c&&t(4,l=c.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&t(1,o={style:gn(i),class:a?"secondary":"primary"})},[s,o,i,a,l,n]}class Je extends se{constructor(e){super(),oe(this,e,Ql,Kl,ie,{style:2,secondary:3,as:0})}}function Zl(r){let e,t,n,l,i=[{style:t=r[1]&&gn(r[1])},r[2]],a={};for(let s=0;s<i.length;s+=1)a=he(a,i[s]);return{c(){e=T("button"),this.h()},l(s){e=A(s,"BUTTON",{style:!0}),C(e).forEach(m),this.h()},h(){Me(e,a),De(e,"svelte-gwh5g1",!0)},m(s,o){R(s,e,o),e.autofocus&&e.focus(),n||(l=pe(e,"click",function(){Nt(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(s,[o]){r=s,Me(e,a=Pe(i,[o&2&&t!==(t=r[1]&&gn(r[1]))&&{style:t},o&4&&r[2]])),De(e,"svelte-gwh5g1",!0)},i:le,o:le,d(s){s&&m(e),n=!1,l()}}}function ei(r,e,t){const n=["onClick","style"];let l=xt(e,n),{onClick:i}=e,{style:a=void 0}=e;return r.$$set=s=>{e=he(he({},e),Ne(s)),t(2,l=xt(e,n)),"onClick"in s&&t(0,i=s.onClick),"style"in s&&t(1,a=s.style)},[i,a,l]}class Vt extends se{constructor(e){super(),oe(this,e,ei,Zl,ie,{onClick:0,style:1})}}function On(r,e,t){const n=r.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function Mn(r){let e,t=[],n=new Map,l,i=Object.entries(r[0]);const a=s=>s[10];for(let s=0;s<i.length;s+=1){let o=On(r,i,s),c=a(o);n.set(c,t[s]=Vn(c,o))}return{c(){e=T("section");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=A(s,"SECTION",{role:!0,tabindex:!0,class:!0});var o=C(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(m),this.h()},h(){k(e,"role","tablist"),k(e,"tabindex","0"),k(e,"class","svelte-zviqfe")},m(s,o){R(s,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);l=!0},p(s,o){o&31&&(i=Object.entries(s[0]),me(),t=Kt(t,o,a,1,s,i,n,e,yn,Vn,null,On),ve())},i(s){if(!l){for(let o=0;o<i.length;o+=1)U(t[o]);l=!0}},o(s){for(let o=0;o<t.length;o+=1)S(t[o]);l=!1},d(s){s&&m(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ti(r){let e,t=r[11].title+"",n;return{c(){e=T("div"),n=K(t),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);n=Q(i,t),i.forEach(m),this.h()},h(){k(e,"class","tab-text svelte-zviqfe")},m(l,i){R(l,e,i),b(e,n)},p(l,i){i&1&&t!==(t=l[11].title+"")&&Re(n,t)},d(l){l&&m(e)}}}function ni(r){let e=r[4],t,n=r[4]&&tn(r);return{c(){n&&n.c(),t=we()},l(l){n&&n.l(l),t=we()},m(l,i){n&&n.m(l,i),R(l,t,i)},p(l,i){l[4]?e?ie(e,l[4])?(n.d(1),n=tn(l),n.c(),n.m(t.parentNode,t)):n.p(l,i):(n=tn(l),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=l[4]},d(l){l&&m(t),n&&n.d(l)}}}function tn(r){let e,t=r[11].title+"",n,l=[{class:"tab-text svelte-zviqfe"}],i={};for(let a=0;a<l.length;a+=1)i=he(i,l[a]);return{c(){e=T(r[4]),n=K(t),this.h()},l(a){e=A(a,(r[4]||"null").toUpperCase(),{class:!0});var s=C(e);n=Q(s,t),s.forEach(m),this.h()},h(){/-/.test(r[4])?Tt(e,i):Me(e,i)},m(a,s){R(a,e,s),b(e,n)},p(a,s){s&1&&t!==(t=a[11].title+"")&&Re(n,t),i=Pe(l,[{class:"tab-text svelte-zviqfe"}]),/-/.test(a[4])?Tt(e,i):Me(e,i)},d(a){a&&m(e)}}}function Nn(r){let e,t;function n(){return r[9](r[10])}return e=new Vt({props:{onClick:n,"aria-label":"close tab",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}}}),{c(){Y(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,i){q(e,l,i),t=!0},p(l,i){r=l;const a={};i&9&&(a.onClick=n),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Vn(r,e){let t,n,l,i,a,s,o,c,u;function f(w,I){return w[1]===w[10]&&w[4]?ni:ti}let h=f(e),_=h(e);function p(){return e[8](e[10])}let v=!e[11].hideClose&&Nn(e);return{key:r,first:null,c(){t=T("div"),n=T("button"),_.c(),i=P(),v&&v.c(),a=P(),this.h()},l(w){t=A(w,"DIV",{role:!0,"aria-selected":!0,class:!0});var I=C(t);n=A(I,"BUTTON",{class:!0});var E=C(n);_.l(E),E.forEach(m),i=O(I),v&&v.l(I),a=O(I),I.forEach(m),this.h()},h(){k(n,"class","tab svelte-zviqfe"),n.disabled=l=e[1]===e[10],De(n,"closable",!e[11].hideClose),k(t,"role","tab"),k(t,"aria-selected",s=e[1]===e[10]),k(t,"class","svelte-zviqfe"),this.first=t},m(w,I){R(w,t,I),b(t,n),_.m(n,null),b(t,i),v&&v.m(t,null),b(t,a),o=!0,c||(u=pe(n,"click",p),c=!0)},p(w,I){e=w,h===(h=f(e))&&_?_.p(e,I):(_.d(1),_=h(e),_&&(_.c(),_.m(n,null))),(!o||I&3&&l!==(l=e[1]===e[10]))&&(n.disabled=l),(!o||I&1)&&De(n,"closable",!e[11].hideClose),e[11].hideClose?v&&(me(),S(v,1,1,()=>{v=null}),ve()):v?(v.p(e,I),I&1&&U(v,1)):(v=Nn(e),v.c(),U(v,1),v.m(t,a)),(!o||I&3&&s!==(s=e[1]===e[10]))&&k(t,"aria-selected",s)},i(w){o||(U(v),o=!0)},o(w){S(v),o=!1},d(w){w&&m(t),_.d(),v&&v.d(),c=!1,u()}}}function ri(r){var s,o;let e,t,n;const l=[((s=r[0][r[1]])==null?void 0:s.props)??{}];var i=(o=r[0][r[1]])==null?void 0:o.content;function a(c){let u={};for(let f=0;f<l.length;f+=1)u=he(u,l[f]);return{props:u}}return i&&(e=Ct(i,a())),{c(){e&&Y(e.$$.fragment),t=we()},l(c){e&&X(e.$$.fragment,c),t=we()},m(c,u){e&&q(e,c,u),R(c,t,u),n=!0},p(c,u){var h,_;const f=u&3?Pe(l,[kn(((h=c[0][c[1]])==null?void 0:h.props)??{})]):{};if(i!==(i=(_=c[0][c[1]])==null?void 0:_.content)){if(e){me();const p=e;S(p.$$.fragment,1,0,()=>{J(p,1)}),ve()}i?(e=Ct(i,a()),Y(e.$$.fragment),U(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else i&&e.$set(f)},i(c){n||(e&&U(e.$$.fragment,c),n=!0)},o(c){e&&S(e.$$.fragment,c),n=!1},d(c){c&&m(t),e&&J(e,c)}}}function li(r){let e=!r[5]||Object.keys(r[0]).length>1,t,n,l,i=e&&Mn(r);return n=new Je({props:{secondary:!0,style:{flex:"1",...r[7]},$$slots:{default:[ri]},$$scope:{ctx:r}}}),{c(){i&&i.c(),t=P(),Y(n.$$.fragment)},l(a){i&&i.l(a),t=O(a),X(n.$$.fragment,a)},m(a,s){i&&i.m(a,s),R(a,t,s),q(n,a,s),l=!0},p(a,s){s&33&&(e=!a[5]||Object.keys(a[0]).length>1),e?i?(i.p(a,s),s&33&&U(i,1)):(i=Mn(a),i.c(),U(i,1),i.m(t.parentNode,t)):i&&(me(),S(i,1,1,()=>{i=null}),ve());const o={};s&128&&(o.style={flex:"1",...a[7]}),s&16387&&(o.$$scope={dirty:s,ctx:a}),n.$set(o)},i(a){l||(U(i),U(n.$$.fragment,a),l=!0)},o(a){S(i),S(n.$$.fragment,a),l=!1},d(a){i&&i.d(a),a&&m(t),J(n,a)}}}function ii(r){let e,t;return e=new Je({props:{style:{display:"flex","flex-direction":"column",...r[6]},$$slots:{default:[li]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,[l]){const i={};l&64&&(i.style={display:"flex","flex-direction":"column",...n[6]}),l&16575&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ai(r,e,t){let{tabs:n}=e,{activeTab:l}=e,{onChange:i}=e,{onClose:a}=e,{headingLevel:s=void 0}=e,{hideSingleTab:o=!1}=e,{style:c={}}=e,{contentStyle:u={}}=e;const f=_=>i(_),h=_=>a(_);return r.$$set=_=>{"tabs"in _&&t(0,n=_.tabs),"activeTab"in _&&t(1,l=_.activeTab),"onChange"in _&&t(2,i=_.onChange),"onClose"in _&&t(3,a=_.onClose),"headingLevel"in _&&t(4,s=_.headingLevel),"hideSingleTab"in _&&t(5,o=_.hideSingleTab),"style"in _&&t(6,c=_.style),"contentStyle"in _&&t(7,u=_.contentStyle)},[n,l,i,a,s,o,c,u,f,h]}class jt extends se{constructor(e){super(),oe(this,e,ai,ii,ie,{tabs:0,activeTab:1,onChange:2,onClose:3,headingLevel:4,hideSingleTab:5,style:6,contentStyle:7})}}function si(r){let[e,t]=r;if(!((e===16||e===17)&&t===251))throw new Error("Input is not a valid QFS compressed buffer! Did you forget to truncate the size bytes?");const n=ci(r),l=65536*r[2]+256*r[3]+r[4],i=n(l);let a=r[0]&1?8:5,s=0;for(;a<r.length&&r[a]<252;){let o=r[a],c=r[a+1],u=r[a+2];if(o&128)if(o&64)if(o&32){let f=(o&31)*4+4;vt(i,s,r,a+1,f),a+=f+1,s+=f}else{let f=r[a+3],h=o&3;vt(i,s,r,a+4,h),a+=h+4,s+=h,h=(o>>2&3)*256+f+5;let _=((o&16)<<12)+256*c+u+1;vt(i,s,i,s-_,h),s+=h}else{let f=c>>6&3;vt(i,s,r,a+3,f),a+=f+3,s+=f,f=(o&63)+4;let h=(c&63)*256+u+1;vt(i,s,i,s-h,f),s+=f}else{let f=o&3;vt(i,s,r,a+2,f),a+=f+2,s+=f,f=((o&28)>>2)+3;let h=(o>>5<<8)+c+1;vt(i,s,i,s-h,f),s+=f}}if(a<r.length&&s<i.length){let o=r[a]&3;vt(i,s,r,a+1,o),s+=o}if(s!==i.length)throw new Error("Error when decompressing!");return i}var oi=si;function ci(r){const e=r.constructor;if(e.allocUnsafe)return t=>e.allocUnsafe(t);{const t=e[Symbol.species]||e;return n=>new t(n)}}function vt(r,e,t,n,l){let i=l;for(;i--;)r[e++]=t[n++]}class _t{constructor(e){Bt(this,"view");Bt(this,"cursor");this.view=new DataView(e),this.cursor=0}seekForward(e){return this.cursor+=e,this}seekTo(e){return this.cursor=e,this}readUint8(){const e=this.view.getUint8(this.cursor);return this.cursor+=1,e}readUint8Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint8());return t}readUint16(){const e=this.view.getUint16(this.cursor,!0);return this.cursor+=2,e}readUint16Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint16());return t}readUint32(){const e=this.view.getUint32(this.cursor,!0);return this.cursor+=4,e}readUint32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint32());return t}readBuffer(e){const t=this.view.buffer.slice(this.cursor,this.cursor+e);return this.cursor+=e,t}readCountedString(){const e=this.readUint32();return new TextDecoder().decode(this.readBuffer(e))}readFileName(){return new TextDecoder().decode(this.readBuffer(64)).replace(/\u0000/g,"")}readUntilNull(){for(let e=this.cursor;e<this.view.byteLength;e++)if(this.view.getUint8(e)===0){const t=this.view.buffer.slice(this.cursor,e);return this.cursor=e+1,t}return this.view.buffer.slice(this.cursor)}}class pt{constructor(){Bt(this,"buffer");Bt(this,"encoder");this.buffer=new ArrayBuffer(0)}appendBytes(e){const t=new Uint8Array(this.buffer.byteLength+e);t.set(new Uint8Array(this.buffer),0),this.buffer=t.buffer}writeUint8(e){const t=this.buffer.byteLength;this.appendBytes(1);const n=new DataView(this.buffer);n.setUint8(t,e),this.buffer=n.buffer}writeUint8Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length);const n=new DataView(this.buffer);e.forEach((l,i)=>{n.setUint8(t+i,l)}),this.buffer=n.buffer}writeUint16(e){const t=this.buffer.byteLength;this.appendBytes(2);const n=new DataView(this.buffer);n.setUint16(t,e,!0),this.buffer=n.buffer}writeUint16Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*2);const n=new DataView(this.buffer);e.forEach((l,i)=>{n.setUint16(t+i*2,l,!0)}),this.buffer=n.buffer}writeUint32(e){const t=this.buffer.byteLength;this.appendBytes(4);const n=new DataView(this.buffer);n.setUint32(t,e,!0),this.buffer=n.buffer}writeUint32Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*4);const n=new DataView(this.buffer);e.forEach((l,i)=>{n.setUint32(t+i*4,l,!0)}),this.buffer=n.buffer}writeBuffer(e){const t=new Uint8Array(this.buffer.byteLength+e.byteLength);t.set(new Uint8Array(this.buffer),0),t.set(new Uint8Array(e),this.buffer.byteLength),this.buffer=t.buffer}writeString(e,t){this.encoder||(this.encoder=new TextEncoder),t!=null&&t.counted&&this.writeUint32(e.length),this.writeBuffer(this.encoder.encode(e).buffer)}writeNulls(e){this.appendBytes(e)}}const ke={BCON:"42434f4e",BHAV:"42484156",CTSS:"43545353",DIR:"e86b1eef",GLOB:"474c4f42",NREF:"4e524546",OBJD:"4f424a44",OBJF:"4f424a66",STR:"53545223",TPRP:"54505250",TRCN:"5452434e",TTAB:"54544142",TTAS:"54544173",VERS:"ebfee342","2ARY":"6b943b43","3ARY":"2a51171b","5DS":"ac06a676","5EL":"6a97042f","5LF":"ac06a66f","5SC":"25232b11",ANIM:"fb00791e",BMP:"424d505f",CATS:"43415453",CIGE:"43494745",CINE:"4d51f042",CREG:"cdb467b8",CRES:"e519c933",DGRP:"44475250",FACE:"46414345",FAMI:"46414d49",FAMh:"46414d68",FAMt:"8c870743",FCNS:"46434e53",FPL:"ab4ba572",FWAV:"46574156",FX:"ea5118b0",GMDC:"ac4f8687",GMND:"7ba3838c",HOUS:"484f5553",INI:"2026960b",JFIF:"8c3ce95a",LGHT1:"c9c81b9b",LGHT2:"c9c81ba3",LGHT3:"c9c81ba9",LGHT4:"c9c81bad",LIFO:"ed534136",LTXT:"0bf999e7",LXNR:"cccef852",MATSHAD:"cd7fe87a",MP3:"2026960b",MOBJT:"6f626a74",NGBH:"4e474248",NHTG:"abcb5da4",NHTR:"abd0dc63",NID:"ac8a7a2e",NMAP:"4e6d6150",OBJT:"fa1c39f7",OBJM:"4f626a4d",PALT:"50414c54",PDAT:"aace2efb",PERS:"50455253",PMAP:"8cc0a14b",PNG:"856ddbac",POOL:"0c900fdb",POSI:"504f5349",PTBP:"50544250",SFX:"8db5e4c2",SHPE:"fc6eb1f7",SIMI:"53494d49",SKIN:"ac506764",SLOT:"534c4f54",SMAP:"cac4fc40",SPR2:"53505232",SPX1:"2026960b",SREL:"cc364c2a",STXR:"ace46235",SWAF:"cd95548e",TATT:"54415454",TGA:"856ddbac",TMAP:"4b58975b",TREE:"54524545",TRKS:"0b9eb87e",TSSG:"ba353ce1",TXMT:"49596978",TXTR:"1c4a276c",UI:"00000000",VERT:"cb4387a1",WFR:"cd95548e",WGRA:"0a284d0b",WLL:"8a84d7b0",WRLD:"49ff7d76",XA:"2026960b",XMTO:"584d544f",XOBJ:"584f424a"},ui=Object.entries(ke).reduce((r,[e,t])=>(r[t]=e,r),{});function mt(r){const e=typeof r=="number"?r.toString(16):r.toLowerCase();return ui[e]??"UNK"}function fi(r){return r.meta.typeId===ke.BCON}function hi(r){return r.meta.typeId===ke.BHAV}function di(r){return r.meta.typeId===ke.GLOB}function gi(r){return r.meta.typeId===ke.NREF}function _i(r){return r.meta.typeId===ke.OBJD}function pi(r){return r.meta.typeId===ke.OBJF}function mi(r){return r.meta.typeId===ke.STR||r.meta.typeId===ke.CTSS||r.meta.typeId===ke.TTAS}function vi(r){return r.meta.typeId===ke.TTAB}function bi(r){return r.meta.typeId===ke.TPRP}function wi(r){return r.meta.typeId===ke.TRCN}function $i(r){const e=new _t(r),t={filename:e.readFileName(),flag:!1,items:[]},n=e.readUint16();t.flag=(n&32768)!==0;const l=n&32767;for(let i=0;i<l;i++)t.items.push(e.readUint16());return t}function yi(r){const e=new pt,n=new TextEncoder().encode(r.filename);e.writeBuffer(n),e.writeNulls(64-n.byteLength);let l=r.items.length;return r.flag&&(l|=32768),e.writeUint16(l),e.writeUint16Array(r.items),e.buffer}function ki(r){const e=new _t(r),t={filename:e.readFileName(),format:e.readUint16(),count:e.readUint16(),type:e.readUint8(),argc:e.readUint8(),locals:e.readUint8(),headerFlag:e.readUint8(),treeVersion:e.readUint32(),instructions:[]};for(;t.instructions.length<t.count;){const n={opcode:e.readUint16(),gotoOnTrue:0,gotoOnFalse:0,nodeVersion:void 0,cacheFlags:void 0,operands:[]};t.format<32771?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(8)):t.format<32773?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(16)):t.format<32775?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16)):(n.gotoOnTrue=e.readUint16(),n.gotoOnFalse=e.readUint16(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16),t.format===32777&&(n.cacheFlags=e.readUint8())),t.instructions.push(n)}return t}function Ei(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.format),e.writeUint16(r.instructions.length),e.writeUint8(r.type),e.writeUint8(r.argc),e.writeUint8(r.locals),e.writeUint8(r.headerFlag),e.writeUint32(r.treeVersion),r.instructions.forEach(l=>{e.writeUint16(l.opcode),r.format<32773?(e.writeUint8(l.gotoOnTrue),e.writeUint8(l.gotoOnFalse),e.writeUint8Array(l.operands)):r.format<32775?(e.writeUint8(l.gotoOnTrue),e.writeUint8(l.gotoOnFalse),e.writeUint8(l.nodeVersion??0),e.writeUint8Array(l.operands)):(e.writeUint16(l.gotoOnTrue),e.writeUint16(l.gotoOnFalse),e.writeUint8(l.nodeVersion??0),e.writeUint8Array(l.operands),r.format===32777&&e.writeUint8(l.cacheFlags??0))}),e.buffer}function Ii(r){const e=new _t(r),t={filename:e.readFileName(),semiglobal:""},n=e.readUint8();return t.semiglobal=new TextDecoder().decode(e.readBuffer(n)),t}function Ci(r){const e=new pt,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8(r.semiglobal.length),e.writeBuffer(t.encode(r.semiglobal).buffer),e.buffer}function Ti(r){return{filename:new TextDecoder().decode(r)}}function Ai(r){return new TextEncoder().encode(r.filename)}const Il={version:2,initialStackSize:1,defaultWallAdjacentFlags:1,defaultPlacementFlags:1,defaultWallPlacementFlags:1,defaultAllowedHeightFlags:1,ttabId:1,interactionGroup:1,objectType:1,multiTileMasterId:1,multiTileSubIndex:1,useDefaultPlacementFlags:1,lookAtScore:1,guid:2,isUnlockable:1,catalogUseFlags:1,price:1,strId:1,slotId:1,diagonalSelectorGuid:2,gridSelectorGuid:2,objectOwnership:1,ignoreGlobalSimInCAS:1,cannotMoveOutWith:1,hauntable:1,proxyGuid:2,slotGroup:1,aspirationFlags:1,memoryNiceOrBad:1,isSalePriceDifferent:1,initialSaleDepreciation:1,dailySaleDepreciation:1,isSelfDepreciating:1,depreciationLimit:1,roomSortFlags:1,functionSortFlags:1,ctssId:1,isGlobalSimObject:1,tooltipNameType:1,templateVersion:1,nicenessMultiplier:1,noDuplicateOnPlacement:1,wantCategory:1,noNewNameFromTemplate:1,objectVersion:1,defaultThumbnailId:1,motiveEffectsId:1,jobObjectGuid:2,catalogPopupId:1,ignoreCurrentModelIndexInIcons:1,levelOffset:1,hasShadow:1,attributeCount:1,objectArrayCount:1,_hole0:1,frontDirection:1,_hole1:1,multiTileLeadObject:1,expansionFlag:1,_numDynamicSpritesTS1:1,chairEntryFlags:1,tileWidth:1,inhibitSuitCopying:1,buildModeType:1,originalGuid:2,objectModelGuid:2,buildModeSubSort:1,_thumbnailGraphicTS1:1,_shadowFlagsTS1:1,footprintMask:1,_hole2:1,_shadowBrightnessTS1:1,_hole3:1,_wallStyleSpriteIdTS1:1,hungerRating:1,comfortRating:1,hygieneRating:1,bladderRating:1,energyRating:1,funRating:1,roomRating:1,skillFlags:1,numTypeAttributes:1,miscFlags:1,_typeAttrGuidTS1:2,functionSubSort:1,downtownSort:1,keepBuying:1,vacationSort:1,resetLotAction:1,"3dObjectType":1,communitySort:1,dreamFlags:1};function Ui(r){const e=new _t(r),t={filename:e.readFileName(),data:{}};Object.entries(Il).forEach(([l,i])=>{i===1?t.data[l]=e.readUint16():i===2&&(t.data[l]=e.readUint32())}),e.readBuffer(12);const n=e.readCountedString();return t.filename!==n&&console.error(`OBJD malformed: start filename (${t.filename}) does not match end filename (${n})`),t}function Di(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),Object.entries(Il).forEach(([l,i])=>{i===1?e.writeUint16(r.data[l]):i===2&&e.writeUint32(r.data[l])}),e.writeNulls(12),e.writeString(r.filename,{counted:!0}),e.buffer}function Si(r){const e=new _t(r),t={filename:e.readFileName(),header:e.readUint32Array(3),functions:[]},n=e.readUint32();for(let l=0;l<n;l++)t.functions.push({guard:e.readUint16(),action:e.readUint16()});return t}function Bi(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(r.header),e.writeUint32(r.functions.length),r.functions.forEach(l=>{e.writeUint16(l.guard),e.writeUint16(l.action)}),e.buffer}function Fi(r){const e=new _t(r),t=new TextDecoder,n={filename:e.readFileName(),formatCode:e.readUint16(),stringSets:[]},l=e.readUint16();for(let i=0;i<l;i++)n.stringSets.push({languageId:e.readUint8(),value:t.decode(e.readUntilNull()),description:t.decode(e.readUntilNull())});return n}function Ri(r){const e=new pt,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.formatCode),e.writeUint16(r.stringSets.length),r.stringSets.forEach(l=>{e.writeUint8(l.languageId),e.writeBuffer(t.encode(l.value)),e.writeNulls(1),e.writeBuffer(t.encode(l.description)),e.writeNulls(1)}),e.buffer}function jn(r){return Float32Array.of(r.readUint32())[0]??0}function Gn(r,e,t,n){const l=e===null?n.readUint32():e.length,i={groups:[]};for(let a=0;a<l;a++){const s=r<84?(e==null?void 0:e[a])??0:n.readUint32(),o={items:[]};for(let c=0;c<s;c++)if(t==="human")o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()});else{const u=n.readUint32();for(let f=0;f<u;f++)o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()})}i.groups.push(o)}return i}function Li(r){const e=new _t(r),t={filename:e.readFileName(),format:0,items:[]};e.readUint32(),t.format=e.readUint32(),e.readUint32();const n=e.readUint16();for(let l=0;l<n;l++){const i=e.readUint16(),a=e.readUint16();let s=null;t.format<68?s=[e.readUint32()]:t.format<84&&(s=[0,0,0,0,0,0,0].map(()=>e.readUint32())),t.items.push({action:i,guard:a,flags:e.readUint16(),flags2:e.readUint16(),strIndex:e.readUint32(),attenuationCode:e.readUint32(),attenuationValue:jn(e),autonomy:e.readUint32(),joinIndex:e.readUint32(),uiDisplayType:t.format>69?e.readUint16():0,facialAnimation:t.format>74?e.readUint32():0,memoryIterMult:t.format>76?jn(e):0,objectType:t.format>76?e.readUint32():0,modelTableId:t.format>70?e.readUint32():0,humanGroups:Gn(t.format,s,"human",e),animalGroups:t.format>84?Gn(t.format,s,"animal",e):null})}return t}function zn(r,e,t,n){r>=84&&n.writeUint32(e.groups.length),e.groups.forEach(l=>{r>=85&&n.writeUint32(l.items.length),l.items.forEach(i=>{t==="human"&&(n.writeUint16(i.min),n.writeUint16(i.delta),n.writeUint16(i.type))})})}function Pi(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32(-1),e.writeUint32(r.format),e.writeUint32(0),e.writeUint16(r.items.length),r.items.forEach(l=>{e.writeUint16(l.action),e.writeUint16(l.guard),r.format<84&&l.humanGroups.groups.forEach(i=>{e.writeUint32(i.items.length)}),e.writeUint16(l.flags),e.writeUint16(l.flags2),e.writeUint32(l.strIndex),e.writeUint32(l.attenuationCode),e.writeUint32(l.attenuationValue),e.writeUint32(l.autonomy),e.writeUint32(l.joinIndex),r.format>69&&e.writeUint16(l.uiDisplayType),r.format>74&&e.writeUint32(l.facialAnimation),r.format>76&&(e.writeUint32(l.memoryIterMult),e.writeUint32(l.objectType)),r.format>70&&e.writeUint32(l.modelTableId),zn(r.format,l.humanGroups,"human",e),r.format>84&&l.animalGroups&&zn(r.format,l.animalGroups,"animal",e)}),e.buffer}function Hn(r){const e=new TextDecoder,t=r.readUint8();return e.decode(r.readBuffer(t))}function Wn(r,e){const t=new TextEncoder;r.writeUint8(e.length),r.writeBuffer(t.encode(e))}function Oi(r){const e=new _t(r),t={filename:e.readFileName(),header:[e.readUint32(),e.readUint32(),e.readUint32()],params:[],locals:[]},n=e.readUint32(),l=e.readUint32();for(let i=0;i<n;i++)t.params.push({label:Hn(e),pdata:0});for(let i=0;i<l;i++)t.locals.push(Hn(e));return e.seekForward(4),t.params.forEach(i=>{i.pdata=e.readUint8()}),t}function Mi(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(r.header),e.writeUint32(r.params.length),e.writeUint32(r.locals.length),r.params.forEach(l=>{Wn(e,l.label)}),r.locals.forEach(l=>{Wn(e,l)}),e.writeUint32(0),r.params.forEach(l=>{e.writeUint8(l.pdata)}),e.writeUint32(5),e.writeUint32(0),e.buffer}function Ni(r){const e=new _t(r),t=new TextDecoder,n={filename:e.readFileName(),version:0,items:[]};e.readUint32(),n.version=e.readUint32(),e.readUint32();const l=e.readUint32();for(;n.items.length<l;)n.items.push({used:e.readUint32(),constId:e.readUint32(),constName:t.decode(e.readBuffer(e.readUint8())),desc:n.version>83?t.decode(e.readBuffer(e.readUint8())):"",value:n.version>83?e.readUint8():e.readUint16(),minValue:e.readUint16(),maxValue:e.readUint16()});return n}function Vi(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeString("NCRT"),e.writeUint32(r.version),e.writeUint32(0),e.writeUint32(r.items.length),r.items.forEach(l=>{e.writeUint32(l.used),e.writeUint32(l.constId),e.writeUint8(l.constName.length),e.writeString(l.constName),r.version>83?(e.writeUint8(l.desc.length),e.writeString(l.desc),e.writeUint8(l.value)):e.writeUint16(l.value),e.writeUint16(l.minValue),e.writeUint16(l.maxValue)}),e.buffer}function ji(r,e){switch(r){case ke.BCON:return $i(e);case ke.BHAV:return ki(e);case ke.GLOB:return Ii(e);case ke.NREF:return Ti(e);case ke.OBJD:return Ui(e);case ke.OBJF:return Si(e);case ke.TTAB:return Li(e);case ke.TPRP:return Oi(e);case ke.TRCN:return Ni(e);case ke.STR:case ke.CTSS:case ke.TTAS:return Fi(e);default:return console.log(`No handler for file with typeId ${r} (${mt(r)})`),e}}function Gi(r){const e=new _t(r);if(new TextDecoder().decode(e.readBuffer(4))!=="DBPF")throw new Error("Not a DBPF file!");const n=e.readUint32(),l=e.readUint32();if(n!==1||l>1)throw new Error(`Expected version 1.0 or 1.1 but got ${n}.${l}`);e.seekTo(32);const i=e.readUint32(),a=e.readUint32(),s=e.readUint32();e.seekTo(60);const o=l===1?e.readUint32():0;if(i!==7||o>2)throw new Error(`Expected index version 7.1 or 7.2 but got ${i}.${o}`);e.seekTo(s);const c=[];for(let f=0;f<a;f++)c.push({typeId:e.readUint32().toString(16),groupId:e.readUint32(),instanceId:e.readUint32(),instanceId2:o===2?e.readUint32():void 0,location:e.readUint32(),size:e.readUint32(),compressed:!1});c.forEach(f=>{if(f.typeId===ke.DIR){const h=f.size/(o===2?20:16);let _=0;console.log(`DIR found with ${h} entries`);for(let p=0;p<h;p++){e.seekTo(f.location);const v=e.readUint32().toString(16),w=e.readUint32(),I=e.readUint32(),E=o===2?e.readUint32():void 0,B=c.find(D=>D.typeId===v&&D.groupId===w&&D.instanceId===I&&D.instanceId2===E);B&&(B.compressed=!0,_++)}console.log(`found ${_} matching resources out of ${h} DIR entries`)}});const u=[];return c.forEach(f=>{if(f.typeId===ke.DIR)return;e.seekTo(f.location);const h=e.readBuffer(f.size);f.compressed?console.log(`decompressing and deserializing ${mt(f.typeId)}`):console.log(`deserializing ${mt(f.typeId)}`);const _=ji(f.typeId,f.compressed?oi(new Uint8Array(h).slice(4)).buffer:h);u.push({meta:f,content:_})}),u}function zi(r){const e=new pt;e.writeString("DBPF"),e.writeUint32(1),e.writeUint32(1),e.writeNulls(20),e.writeUint32(7),e.writeUint32(r.length),e.writeUint32(0),e.writeUint32(r.length*24),e.writeNulls(12),e.writeUint32(2),e.writeNulls(32);const t=[];r.forEach(i=>{let a=new ArrayBuffer(0);fi(i)?a=yi(i.content):hi(i)?a=Ei(i.content):di(i)?a=Ci(i.content):gi(i)?a=Ai(i.content):_i(i)?a=Di(i.content):pi(i)?a=Bi(i.content):mi(i)?a=Ri(i.content):vi(i)?a=Pi(i.content):bi(i)?a=Mi(i.content):wi(i)?a=Vi(i.content):a=i.content,t.push({...i.meta,location:e.buffer.byteLength,size:a.byteLength}),e.writeBuffer(a)});const n=e.buffer.byteLength;t.forEach(i=>{e.writeUint32(parseInt(i.typeId,16)),e.writeUint32(i.groupId),e.writeUint32(i.instanceId),i.instanceId2!==void 0&&e.writeUint32(i.instanceId2),e.writeUint32(i.location),e.writeUint32(i.size)});const l=new DataView(e.buffer);return l.setUint32(40,n,!0),l.buffer}var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ht=0;Ht<It.length;Ht++)Rt[It.charCodeAt(Ht)]=Ht;var Hi=function(r){var e=new Uint8Array(r),t,n=e.length,l="";for(t=0;t<n;t+=3)l+=It[e[t]>>2],l+=It[(e[t]&3)<<4|e[t+1]>>4],l+=It[(e[t+1]&15)<<2|e[t+2]>>6],l+=It[e[t+2]&63];return n%3===2?l=l.substring(0,l.length-1)+"=":n%3===1&&(l=l.substring(0,l.length-2)+"=="),l},Wi=function(r){var e=r.length*.75,t=r.length,n,l=0,i,a,s,o;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=new ArrayBuffer(e),u=new Uint8Array(c);for(n=0;n<t;n+=4)i=Rt[r.charCodeAt(n)],a=Rt[r.charCodeAt(n+1)],s=Rt[r.charCodeAt(n+2)],o=Rt[r.charCodeAt(n+3)],u[l++]=i<<2|a>>4,u[l++]=(a&15)<<4|s>>2,u[l++]=(s&3)<<6|o&63;return c};function at(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+r+(t.length?" "+t.map(function(l){return"'"+l+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ut(r){return!!r&&!!r[nt]}function Et(r){return!!r&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Zi}(r)||Array.isArray(r)||!!r[Zn]||!!r.constructor[Zn]||En(r)||In(r))}function Pt(r,e,t){t===void 0&&(t=!1),Dt(r)===0?(t?Object.keys:Dn)(r).forEach(function(n){t&&typeof n=="symbol"||e(n,r[n],r)}):r.forEach(function(n,l){return e(l,n,r)})}function Dt(r){var e=r[nt];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:En(r)?2:In(r)?3:0}function _n(r,e){return Dt(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function xi(r,e){return Dt(r)===2?r.get(e):r[e]}function Cl(r,e,t){var n=Dt(r);n===2?r.set(e,t):n===3?(r.delete(e),r.add(t)):r[e]=t}function Yi(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function En(r){return Ki&&r instanceof Map}function In(r){return Qi&&r instanceof Set}function yt(r){return r.o||r.t}function Cn(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=ea(r);delete e[nt];for(var t=Dn(e),n=0;n<t.length;n++){var l=t[n],i=e[l];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[l]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[l]})}return Object.create(Object.getPrototypeOf(r),e)}function Tn(r,e){return e===void 0&&(e=!1),An(r)||Ut(r)||!Et(r)||(Dt(r)>1&&(r.set=r.add=r.clear=r.delete=qi),Object.freeze(r),e&&Pt(r,function(t,n){return Tn(n,!0)},!0)),r}function qi(){at(2)}function An(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function ct(r){var e=ta[r];return e||at(18,r),e}function xn(){return Ot}function nn(r,e){e&&(ct("Patches"),r.u=[],r.s=[],r.v=e)}function Yt(r){pn(r),r.p.forEach(Ji),r.p=null}function pn(r){r===Ot&&(Ot=r.l)}function Yn(r){return Ot={p:[],l:Ot,h:r,m:!0,_:0}}function Ji(r){var e=r[nt];e.i===0||e.i===1?e.j():e.O=!0}function rn(r,e){e._=e.p.length;var t=e.p[0],n=r!==void 0&&r!==t;return e.h.g||ct("ES5").S(e,r,n),n?(t[nt].P&&(Yt(e),at(4)),Et(r)&&(r=qt(e,r),e.l||Jt(e,r)),e.u&&ct("Patches").M(t[nt].t,r,e.u,e.s)):r=qt(e,t,[]),Yt(e),e.u&&e.v(e.u,e.s),r!==Tl?r:void 0}function qt(r,e,t){if(An(e))return e;var n=e[nt];if(!n)return Pt(e,function(i,a){return qn(r,n,e,i,a,t)},!0),e;if(n.A!==r)return e;if(!n.P)return Jt(r,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var l=n.i===4||n.i===5?n.o=Cn(n.k):n.o;Pt(n.i===3?new Set(l):l,function(i,a){return qn(r,n,l,i,a,t)}),Jt(r,l,!1),t&&r.u&&ct("Patches").R(n,t,r.u,r.s)}return n.o}function qn(r,e,t,n,l,i){if(Ut(l)){var a=qt(r,l,i&&e&&e.i!==3&&!_n(e.D,n)?i.concat(n):void 0);if(Cl(t,n,a),!Ut(a))return;r.m=!1}if(Et(l)&&!An(l)){if(!r.h.F&&r._<1)return;qt(r,l),e&&e.A.l||Jt(r,l)}}function Jt(r,e,t){t===void 0&&(t=!1),r.h.F&&r.m&&Tn(e,t)}function ln(r,e){var t=r[nt];return(t?yt(t):r)[e]}function Jn(r,e){if(e in r)for(var t=Object.getPrototypeOf(r);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function mn(r){r.P||(r.P=!0,r.l&&mn(r.l))}function an(r){r.o||(r.o=Cn(r.t))}function vn(r,e,t){var n=En(e)?ct("MapSet").N(e,t):In(e)?ct("MapSet").T(e,t):r.g?function(l,i){var a=Array.isArray(l),s={i:a?1:0,A:i?i.A:xn(),P:!1,I:!1,D:{},l:i,t:l,k:null,o:null,j:null,C:!1},o=s,c=bn;a&&(o=[s],c=Lt);var u=Proxy.revocable(o,c),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,t):ct("ES5").J(e,t);return(t?t.A:xn()).p.push(n),n}function Xi(r){return Ut(r)||at(22,r),function e(t){if(!Et(t))return t;var n,l=t[nt],i=Dt(t);if(l){if(!l.P&&(l.i<4||!ct("ES5").K(l)))return l.t;l.I=!0,n=Xn(t,i),l.I=!1}else n=Xn(t,i);return Pt(n,function(a,s){l&&xi(l.t,a)===s||Cl(n,a,e(s))}),i===3?new Set(n):n}(r)}function Xn(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return Cn(r)}var Kn,Ot,Un=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ki=typeof Map<"u",Qi=typeof Set<"u",Qn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Tl=Un?Symbol.for("immer-nothing"):((Kn={})["immer-nothing"]=!0,Kn),Zn=Un?Symbol.for("immer-draftable"):"__$immer_draftable",nt=Un?Symbol.for("immer-state"):"__$immer_state",Zi=""+Object.prototype.constructor,Dn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,ea=Object.getOwnPropertyDescriptors||function(r){var e={};return Dn(r).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(r,t)}),e},ta={},bn={get:function(r,e){if(e===nt)return r;var t=yt(r);if(!_n(t,e))return function(l,i,a){var s,o=Jn(i,a);return o?"value"in o?o.value:(s=o.get)===null||s===void 0?void 0:s.call(l.k):void 0}(r,t,e);var n=t[e];return r.I||!Et(n)?n:n===ln(r.t,e)?(an(r),r.o[e]=vn(r.A.h,n,r)):n},has:function(r,e){return e in yt(r)},ownKeys:function(r){return Reflect.ownKeys(yt(r))},set:function(r,e,t){var n=Jn(yt(r),e);if(n!=null&&n.set)return n.set.call(r.k,t),!0;if(!r.P){var l=ln(yt(r),e),i=l==null?void 0:l[nt];if(i&&i.t===t)return r.o[e]=t,r.D[e]=!1,!0;if(Yi(t,l)&&(t!==void 0||_n(r.t,e)))return!0;an(r),mn(r)}return r.o[e]===t&&typeof t!="number"&&(t!==void 0||e in r.o)||(r.o[e]=t,r.D[e]=!0,!0)},deleteProperty:function(r,e){return ln(r.t,e)!==void 0||e in r.t?(r.D[e]=!1,an(r),mn(r)):delete r.D[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var t=yt(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){at(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){at(12)}},Lt={};Pt(bn,function(r,e){Lt[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Lt.deleteProperty=function(r,e){return Lt.set.call(this,r,e,void 0)},Lt.set=function(r,e,t){return bn.set.call(this,r[0],e,t,r[0])};var na=function(){function r(t){var n=this;this.g=Qn,this.F=!0,this.produce=function(l,i,a){if(typeof l=="function"&&typeof i!="function"){var s=i;i=l;var o=n;return function(v){var w=this;v===void 0&&(v=s);for(var I=arguments.length,E=Array(I>1?I-1:0),B=1;B<I;B++)E[B-1]=arguments[B];return o.produce(v,function(D){var G;return(G=i).call.apply(G,[w,D].concat(E))})}}var c;if(typeof i!="function"&&at(6),a!==void 0&&typeof a!="function"&&at(7),Et(l)){var u=Yn(n),f=vn(n,l,void 0),h=!0;try{c=i(f),h=!1}finally{h?Yt(u):pn(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(v){return nn(u,a),rn(v,u)},function(v){throw Yt(u),v}):(nn(u,a),rn(c,u))}if(!l||typeof l!="object"){if((c=i(l))===void 0&&(c=l),c===Tl&&(c=void 0),n.F&&Tn(c,!0),a){var _=[],p=[];ct("Patches").M(l,c,_,p),a(_,p)}return c}at(21,l)},this.produceWithPatches=function(l,i){if(typeof l=="function")return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(c,function(_){return l.apply(void 0,[_].concat(f))})};var a,s,o=n.produce(l,i,function(c,u){a=c,s=u});return typeof Promise<"u"&&o instanceof Promise?o.then(function(c){return[c,a,s]}):[o,a,s]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=r.prototype;return e.createDraft=function(t){Et(t)||at(8),Ut(t)&&(t=Xi(t));var n=Yn(this),l=vn(this,t,void 0);return l[nt].C=!0,pn(n),l},e.finishDraft=function(t,n){var l=t&&t[nt],i=l.A;return nn(i,n),rn(void 0,i)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Qn&&at(20),this.g=t},e.applyPatches=function(t,n){var l;for(l=n.length-1;l>=0;l--){var i=n[l];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}l>-1&&(n=n.slice(l+1));var a=ct("Patches").$;return Ut(t)?a(t,n):this.produce(t,function(s){return a(s,n)})},r}(),rt=new na,ra=rt.produce;rt.produceWithPatches.bind(rt);rt.setAutoFreeze.bind(rt);rt.setUseProxies.bind(rt);rt.applyPatches.bind(rt);rt.createDraft.bind(rt);rt.finishDraft.bind(rt);const de=ra;var Wt,la=new Uint8Array(16);function ia(){if(!Wt&&(Wt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Wt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wt(la)}const aa=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sa(r){return typeof r=="string"&&aa.test(r)}var qe=[];for(var sn=0;sn<256;++sn)qe.push((sn+256).toString(16).substr(1));function oa(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(qe[r[e+0]]+qe[r[e+1]]+qe[r[e+2]]+qe[r[e+3]]+"-"+qe[r[e+4]]+qe[r[e+5]]+"-"+qe[r[e+6]]+qe[r[e+7]]+"-"+qe[r[e+8]]+qe[r[e+9]]+"-"+qe[r[e+10]]+qe[r[e+11]]+qe[r[e+12]]+qe[r[e+13]]+qe[r[e+14]]+qe[r[e+15]]).toLowerCase();if(!sa(t))throw TypeError("Stringified UUID is invalid");return t}function Ft(r,e,t){r=r||{};var n=r.random||(r.rng||ia)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var l=0;l<16;++l)e[t+l]=n[l];return e}return oa(n)}function er(r){return(r==null?void 0:r.contentChanges)!==void 0||(r==null?void 0:r.metaChanges)!==void 0}function _e(r){return{activePackage(){return r.packages[r.activePackageId]},activeResourceId(){var e;return(e=this.activePackage())==null?void 0:e.activeResourceId},activeResource(){var t;const e=this.activeResourceId();return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},openResourceIds(){var t;const e=(t=this.activePackage())==null?void 0:t.resources;return e?Object.keys(e).filter(n=>{var l;return(l=e[n])==null?void 0:l.isOpen}):[]},resourceById(e){var t;return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},resourcesByType(e){var t;return Object.values(((t=this.activePackage())==null?void 0:t.resources)??{}).filter(n=>n.meta.typeId===ke[e])},resourceIdByTypeAndInstanceId(e,t){var l;const n=Object.entries(((l=this.activePackage())==null?void 0:l.resources)??{}).find(([,i])=>i.meta.typeId===ke[e]&&i.meta.instanceId===t);return n==null?void 0:n[0]},isDirty(e){const t=e??this.activeResourceId();return t?er(this.resourceById(t)):!1},isPackageDirty(e){const t=r.packages[e??r.activePackageId];return Object.values((t==null?void 0:t.resources)??{}).some(er)},linkedResourceId(e){var l;const t=_e(r).activePackage(),n=_e(r).activeResource();return(l=Object.entries((t==null?void 0:t.resources)??{}).find(([,i])=>i.meta.typeId===ke[e]&&i.meta.instanceId===(n==null?void 0:n.meta.instanceId)&&i.meta.instanceId2===(n==null?void 0:n.meta.instanceId2)))==null?void 0:l[0]}}}const Al="editorState",wn="base64:",ca=xl(r=>{const e=JSON.stringify(r,(t,n)=>n instanceof ArrayBuffer?`${wn}${Hi(n)}`:n);localStorage.setItem(Al,e)},1e3);function ua(){const r={activePackageId:"",packages:{}},e=localStorage.getItem(Al);return e?JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(wn)?Wi(n.slice(wn.length)):n):r}function on(r,e){const t=e.filter(n=>n!==r);return t[Math.min(e.indexOf(r),t.length-1)]??""}const Ve=zl(ua());Ve.subscribe(ca);const be={subscribe:Ve.subscribe,async addPackage(r){const e=Gi(await r.arrayBuffer()).reduce((n,l)=>(n[Ft()]=l,n),{}),t=Ft();Ve.update(n=>de(n,l=>{l.packages[t]={filename:r.name,resources:e,activeResourceId:""},l.activePackageId=t}))},removePackage(r){window.confirm("Close this package? You'll lose all changes.")&&Ve.update(e=>de(e,t=>{r===e.activePackageId&&(t.activePackageId=on(r,Object.keys(e.packages))),delete t.packages[r]}))},setActivePackage(r){Ve.update(e=>de(e,t=>{t.activePackageId=r}))},downloadActivePackage(){const r=Rl(Ve);if(_e(r).isPackageDirty()&&!window.confirm("This package contains resources with unsaved changes. Download anyway?"))return;const e=_e(r).activePackage();if(!e)return console.error("Failed to find active package, unable to download");const t=zi(Object.values(e.resources)),n=new Blob([new Uint8Array(t)],{type:"octet/stream"}),l=window.URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.filename,i.click(),window.URL.revokeObjectURL(l)},openResource(r){Ve.update(e=>de(e,t=>{const n=_e(t).resourceById(r);if(n){n.isOpen=!0;const l=_e(t).activePackage();l&&(l.activeResourceId=r)}}))},closeResource(r){Ve.update(e=>de(e,t=>{var a;const n=(a=_e(e).activePackage())==null?void 0:a.activeResourceId;if(_e(e).isDirty(r)&&!window.confirm("Close this resource? You'll lose all unsaved changes."))return;const l=_e(e).openResourceIds();if(r===n){const s=_e(t).activePackage();s&&(s.activeResourceId=on(r,l))}const i=_e(t).resourceById(r);i&&(i.isOpen=!1,delete i.contentChanges,delete i.metaChanges)}))},editActiveResource(r){Ve.update(e=>de(e,t=>{const n=_e(t).activeResource();n&&(n.contentChanges=r)}))},editActiveResourceMeta(r){Ve.update(e=>de(e,t=>{const n=_e(t).activeResource();n&&(n.metaChanges=r)}))},resetActiveResource(){window.confirm("Undo all unsaved changes to this resource? This cannot be undone.")&&Ve.update(r=>de(r,e=>{const t=_e(e).activeResource();t&&(delete t.contentChanges,delete t.metaChanges)}))},saveActiveResource(){Ve.update(r=>de(r,e=>{const t=_e(e).activeResource();(t==null?void 0:t.contentChanges)!==void 0&&(t.content=t.contentChanges,delete t.contentChanges),(t==null?void 0:t.metaChanges)!==void 0&&(t.meta=t.metaChanges,delete t.metaChanges)}))},copyActiveResource(){Ve.update(r=>de(r,e=>{const t=_e(e).activePackage(),n=_e(r).activeResource();if(t&&n){const l=Ft();t.resources[l]={...n},t.activeResourceId=l}}))},deleteActiveResource(){window.confirm("Remove this resource from the package file? This cannot be undone.")&&Ve.update(r=>de(r,e=>{const t=_e(e).activePackage(),n=_e(e).activeResourceId();if(t&&n){const l=_e(e).openResourceIds();t.activeResourceId=on(n,l),delete t.resources[n]}}))},createNewResource(r){Ve.update(e=>de(e,t=>{const n=_e(t).activePackage(),l=Ft();n&&(n.resources[l]={meta:{typeId:ke[r],groupId:0,instanceId:0,instanceId2:0,location:0,size:0},content:At[r],isOpen:!0},n.activeResourceId=l)}))},createLinkedResource(r,e){Ve.update(t=>de(t,n=>{const l=_e(n).activePackage(),i=_e(n).activeResource(),a=Ft();l&&i&&(l.resources[a]={meta:{...i.meta,typeId:ke[r]},content:e??At[r]})}))},setActiveResource(r){Ve.update(e=>de(e,t=>{const n=_e(t).activePackage();n&&(n.activeResourceId=r)}))}},Ul=El(Ve,r=>_e(r).activePackage()),Dl=El(Ve,r=>_e(r).activeResource());function fa(r){let e,t,n;const l=r[2].default,i=ut(l,r,r[1],null);return{c(){e=T("div"),i&&i.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=C(e);i&&i.l(s),s.forEach(m),this.h()},h(){k(e,"class",t=Fn(`popover ${r[0]}`)+" svelte-1og6ho9")},m(a,s){R(a,e,s),i&&i.m(e,null),n=!0},p(a,[s]){i&&i.p&&(!n||s&2)&&ft(i,l,a,a[1],n?dt(l,a[1],s,null):ht(a[1]),null),(!n||s&1&&t!==(t=Fn(`popover ${a[0]}`)+" svelte-1og6ho9"))&&k(e,"class",t)},i(a){n||(U(i,a),n=!0)},o(a){S(i,a),n=!1},d(a){a&&m(e),i&&i.d(a)}}}function ha(r,e,t){let{$$slots:n={},$$scope:l}=e,{position:i="top"}=e;return r.$$set=a=>{"position"in a&&t(0,i=a.position),"$$scope"in a&&t(1,l=a.$$scope)},[i,l,n]}class da extends se{constructor(e){super(),oe(this,e,ha,fa,ie,{position:0})}}function ga(r){let e,t,n,l;const i=r[8].default,a=ut(i,r,r[11],null);let s=[{class:r[1]},{style:r[2]},r[6]],o={};for(let c=0;c<s.length;c+=1)o=he(o,s[c]);return{c(){e=T("button"),a&&a.c(),this.h()},l(c){e=A(c,"BUTTON",{class:!0,style:!0});var u=C(e);a&&a.l(u),u.forEach(m),this.h()},h(){Me(e,o),De(e,"svelte-1dioxib",!0)},m(c,u){R(c,e,u),a&&a.m(e,null),e.autofocus&&e.focus(),r[10](e),t=!0,n||(l=pe(e,"click",function(){Nt(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(c,u){r=c,a&&a.p&&(!t||u&2048)&&ft(a,i,r,r[11],t?dt(i,r[11],u,null):ht(r[11]),null),Me(e,o=Pe(s,[(!t||u&2)&&{class:r[1]},(!t||u&4)&&{style:r[2]},u&64&&r[6]])),De(e,"svelte-1dioxib",!0)},i(c){t||(U(a,c),t=!0)},o(c){S(a,c),t=!1},d(c){c&&m(e),a&&a.d(c),r[10](null),n=!1,l()}}}function _a(r){let e,t,n,l,i,a,s;const o=r[8].default,c=ut(o,r,r[11],null);let u=[{class:r[1]},{style:n=`height: ${r[3]}px; width: ${r[3]}px;`},r[6]],f={};for(let _=0;_<u.length;_+=1)f=he(f,u[_]);let h=r[4]&&tr(r);return{c(){e=T("div"),t=T("button"),c&&c.c(),l=P(),h&&h.c(),this.h()},l(_){e=A(_,"DIV",{class:!0,style:!0});var p=C(e);t=A(p,"BUTTON",{class:!0,style:!0});var v=C(t);c&&c.l(v),v.forEach(m),l=O(p),h&&h.l(p),p.forEach(m),this.h()},h(){Me(t,f),De(t,"svelte-1dioxib",!0),k(e,"class","bevel svelte-1dioxib"),k(e,"style",r[2])},m(_,p){R(_,e,p),b(e,t),c&&c.m(t,null),t.autofocus&&t.focus(),r[9](t),b(e,l),h&&h.m(e,null),i=!0,a||(s=pe(t,"click",function(){Nt(r[0])&&r[0].apply(this,arguments)}),a=!0)},p(_,p){r=_,c&&c.p&&(!i||p&2048)&&ft(c,o,r,r[11],i?dt(o,r[11],p,null):ht(r[11]),null),Me(t,f=Pe(u,[(!i||p&2)&&{class:r[1]},(!i||p&8&&n!==(n=`height: ${r[3]}px; width: ${r[3]}px;`))&&{style:n},p&64&&r[6]])),De(t,"svelte-1dioxib",!0),r[4]?h?(h.p(r,p),p&16&&U(h,1)):(h=tr(r),h.c(),U(h,1),h.m(e,null)):h&&(me(),S(h,1,1,()=>{h=null}),ve()),(!i||p&4)&&k(e,"style",r[2])},i(_){i||(U(c,_),U(h),i=!0)},o(_){S(c,_),S(h),i=!1},d(_){_&&m(e),c&&c.d(_),r[9](null),h&&h.d(),a=!1,s()}}}function tr(r){let e,t;return e=new da({props:{position:"top",$$slots:{default:[pa]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&2064&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function pa(r){let e;return{c(){e=K(r[4])},l(t){e=Q(t,r[4])},m(t,n){R(t,e,n)},p(t,n){n&16&&Re(e,t[4])},d(t){t&&m(e)}}}function ma(r){let e,t,n,l;const i=[_a,ga],a=[];function s(o,c){return o[1]==="skeuomorphic"?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=we()},l(o){t.l(o),n=we()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),S(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){S(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function va(r,e,t){const n=["focus","onClick","variant","style","size","tooltip"];let l=xt(e,n),{$$slots:i={},$$scope:a}=e,s;function o(){s.focus()}let{onClick:c}=e,{variant:u="link"}=e,{style:f=void 0}=e,{size:h=35}=e,{tooltip:_=""}=e;function p(w){bt[w?"unshift":"push"](()=>{s=w,t(5,s)})}function v(w){bt[w?"unshift":"push"](()=>{s=w,t(5,s)})}return r.$$set=w=>{e=he(he({},e),Ne(w)),t(6,l=xt(e,n)),"onClick"in w&&t(0,c=w.onClick),"variant"in w&&t(1,u=w.variant),"style"in w&&t(2,f=w.style),"size"in w&&t(3,h=w.size),"tooltip"in w&&t(4,_=w.tooltip),"$$scope"in w&&t(11,a=w.$$scope)},[c,u,f,h,_,s,l,o,i,p,v,a]}class Be extends se{constructor(e){super(),oe(this,e,va,ma,ie,{focus:7,onClick:0,variant:1,style:2,size:3,tooltip:4})}get focus(){return this.$$.ctx[7]}}function ba(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99h144v-144C192 62.32 206.33 48 224 48s32 14.32 32 32.01v144h144c17.7-.01 32 14.29 32 31.99z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function wa(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class $a extends se{constructor(e){super(),oe(this,e,wa,ba,ie,{})}}function ya(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M384 128H256V0l128 128zm-128 32h128v304c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.5-48-48V48C0 21.49 21.49 0 48 0h176l.004 128C224 145.7 238.3 160 256 160zm-1 135-39 39.1V232c0-13.25-10.75-24-24-24s-24 10.8-24 24v102.1L128.1 295c-3.8-4.7-9.9-7-16.1-7s-12.28 2.3-16.97 7c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94s-24.57-9.3-33.97 0z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function ka(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class Ea extends se{constructor(e){super(),oe(this,e,ka,ya,ie,{})}}function Ia(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M438.6 105.4c12.5 12.5 12.5 32.7 0 45.2l-256 256c-12.5 12.5-32.7 12.5-45.2 0L9.372 278.6c-12.496-12.5-12.496-32.7 0-45.2 12.498-12.5 32.758-12.5 45.258 0L159.1 338.7l234.3-233.3c12.5-12.52 32.7-12.52 45.2 0z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function Ca(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class Ta extends se{constructor(e){super(),oe(this,e,Ca,Ia,ie,{})}}function Aa(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 0 1-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 0 1-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function Ua(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class Da extends se{constructor(e){super(),oe(this,e,Ua,Aa,ie,{})}}function Sa(r){const e=r-1;return e*e*e+1}function nr(r,{delay:e=0,duration:t=400,easing:n=Ll}={}){const l=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*l}`}}function rr(r,{delay:e=0,duration:t=400,easing:n=Sa,x:l=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(r),o=+s.opacity,c=s.transform==="none"?"":s.transform,u=o*(1-a);return{delay:e,duration:t,easing:n,css:(f,h)=>`
			transform: ${c} translate(${(1-f)*l}px, ${(1-f)*i}px);
			opacity: ${o-u*h}`}}function Ba(r){let e,t,n,l,i;const a=r[2].default,s=ut(a,r,r[1],null);return{c(){e=T("div"),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{});var c=C(e);s&&s.l(c),c.forEach(m),this.h()},h(){e.hidden=!0},m(o,c){R(o,e,c),s&&s.m(e,null),n=!0,l||(i=Pl(t=Fa.call(null,e,r[0])),l=!0)},p(o,[c]){s&&s.p&&(!n||c&2)&&ft(s,a,o,o[1],n?dt(a,o[1],c,null):ht(o[1]),null),t&&Nt(t.update)&&c&1&&t.update.call(null,o[0])},i(o){n||(U(s,o),n=!0)},o(o){S(s,o),n=!1},d(o){o&&m(e),s&&s.d(o),l=!1,i()}}}function Fa(r,e="body"){let t;async function n(i){if(e=i,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Ol(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(r),r.hidden=!1}function l(){r.parentNode&&r.parentNode.removeChild(r)}return n(e),{update:n,destroy:l}}function Ra(r,e,t){let{$$slots:n={},$$scope:l}=e,{target:i="body"}=e;return r.$$set=a=>{"target"in a&&t(0,i=a.target),"$$scope"in a&&t(1,l=a.$$scope)},[i,l,n]}class La extends se{constructor(e){super(),oe(this,e,Ra,Ba,ie,{target:0})}}function lr(r){let e,t;return e=new La({props:{$$slots:{default:[Oa]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&269&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function ir(r){let e,t;return{c(){e=T("h2"),t=K(r[0]),this.h()},l(n){e=A(n,"H2",{class:!0});var l=C(e);t=Q(l,r[0]),l.forEach(m),this.h()},h(){k(e,"class","svelte-tzis89")},m(n,l){R(n,e,l),b(e,t)},p(n,l){l&1&&Re(t,n[0])},d(n){n&&m(e)}}}function Pa(r){let e,t,n=r[0]&&ir(r);const l=r[4].default,i=ut(l,r,r[8],null);return{c(){n&&n.c(),e=P(),i&&i.c()},l(a){n&&n.l(a),e=O(a),i&&i.l(a)},m(a,s){n&&n.m(a,s),R(a,e,s),i&&i.m(a,s),t=!0},p(a,s){a[0]?n?n.p(a,s):(n=ir(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),i&&i.p&&(!t||s&256)&&ft(i,l,a,a[8],t?dt(l,a[8],s,null):ht(a[8]),null)},i(a){t||(U(i,a),t=!0)},o(a){S(i,a),t=!1},d(a){n&&n.d(a),a&&m(e),i&&i.d(a)}}}function Oa(r){let e,t,n,l,i,a,s,o;return n=new Je({props:{secondary:!0,style:{position:"relative"},$$slots:{default:[Pa]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),Y(n.$$.fragment),this.h()},l(c){e=A(c,"DIV",{class:!0});var u=C(e);t=A(u,"DIV",{});var f=C(t);X(n.$$.fragment,f),f.forEach(m),u.forEach(m),this.h()},h(){k(e,"class","background svelte-tzis89")},m(c,u){R(c,e,u),b(e,t),q(n,t,null),r[7](e),a=!0,s||(o=[pe(e,"click",r[5]),pe(e,"keydown",r[6])],s=!0)},p(c,u){const f={};u&257&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i(c){a||(U(n.$$.fragment,c),hn(()=>{l||(l=zt(t,rr,{y:-200,duration:100},!0)),l.run(1)}),hn(()=>{i||(i=zt(e,nr,{duration:100},!0)),i.run(1)}),a=!0)},o(c){S(n.$$.fragment,c),l||(l=zt(t,rr,{y:-200,duration:100},!1)),l.run(0),i||(i=zt(e,nr,{duration:100},!1)),i.run(0),a=!1},d(c){c&&m(e),J(n),c&&l&&l.end(),r[7](null),c&&i&&i.end(),s=!1,gt(o)}}}function Ma(r){let e,t,n=r[1]&&lr(r);return{c(){n&&n.c(),e=we()},l(l){n&&n.l(l),e=we()},m(l,i){n&&n.m(l,i),R(l,e,i),t=!0},p(l,[i]){l[1]?n?(n.p(l,i),i&2&&U(n,1)):(n=lr(l),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),S(n,1,1,()=>{n=null}),ve())},i(l){t||(U(n),t=!0)},o(l){S(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function Na(r,e,t){let{$$slots:n={},$$scope:l}=e,{title:i=void 0}=e,{isOpen:a}=e,{onClose:s}=e,o;const c=h=>{h.target===o&&s()},u=h=>{h.key==="Escape"&&s()};function f(h){bt[h?"unshift":"push"](()=>{o=h,t(3,o)})}return r.$$set=h=>{"title"in h&&t(0,i=h.title),"isOpen"in h&&t(1,a=h.isOpen),"onClose"in h&&t(2,s=h.onClose),"$$scope"in h&&t(8,l=h.$$scope)},[i,a,s,o,n,c,u,f,l]}class Va extends se{constructor(e){super(),oe(this,e,Na,Ma,ie,{title:0,isOpen:1,onClose:2})}}function ar(r,e,t){const n=r.slice();return n[6]=e[t],n}function sr(r,e,t){const n=r.slice();n[9]=e[t];const l=n[6][n[9]];return n[10]=l,n}function or(r,e,t){const n=r.slice();return n[9]=e[t],n}function cr(r){let e,t=r[9]+"",n,l;return{c(){e=T("th"),n=K(t),l=P(),this.h()},l(i){e=A(i,"TH",{class:!0});var a=C(e);n=Q(a,t),l=O(a),a.forEach(m),this.h()},h(){var i,a,s,o;k(e,"class","svelte-1r7sqdr"),De(e,"stretch",(a=(i=r[1])==null?void 0:i[r[9]])==null?void 0:a.stretch),De(e,"shrink",(o=(s=r[1])==null?void 0:s[r[9]])==null?void 0:o.shrink)},m(i,a){R(i,e,a),b(e,n),b(e,l)},p(i,a){var s,o,c,u;a&1&&t!==(t=i[9]+"")&&Re(n,t),a&3&&De(e,"stretch",(o=(s=i[1])==null?void 0:s[i[9]])==null?void 0:o.stretch),a&3&&De(e,"shrink",(u=(c=i[1])==null?void 0:c[i[9]])==null?void 0:u.shrink)},d(i){i&&m(e)}}}function ja(r){let e=(r[10]??"-")+"",t;return{c(){t=K(e)},l(n){t=Q(n,e)},m(n,l){R(n,t,l)},p(n,l){l&5&&e!==(e=(n[10]??"-")+"")&&Re(t,e)},i:le,o:le,d(n){n&&m(t)}}}function Ga(r){let e=r[10].element,t,n=r[10].element&&cn(r);return{c(){n&&n.c(),t=we()},l(l){n&&n.l(l),t=we()},m(l,i){n&&n.m(l,i),R(l,t,i)},p(l,i){l[10].element?e?ie(e,l[10].element)?(n.d(1),n=cn(l),n.c(),n.m(t.parentNode,t)):n.p(l,i):(n=cn(l),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=l[10].element},i:le,o:le,d(l){l&&m(t),n&&n.d(l)}}}function za(r){let e,t,n;const l=[r[10].props??{}];var i=r[10].component;function a(s){let o={};for(let c=0;c<l.length;c+=1)o=he(o,l[c]);return{props:o}}return i&&(e=Ct(i,a())),{c(){e&&Y(e.$$.fragment),t=we()},l(s){e&&X(e.$$.fragment,s),t=we()},m(s,o){e&&q(e,s,o),R(s,t,o),n=!0},p(s,o){const c=o&5?Pe(l,[kn(s[10].props??{})]):{};if(i!==(i=s[10].component)){if(e){me();const u=e;S(u.$$.fragment,1,0,()=>{J(u,1)}),ve()}i?(e=Ct(i,a()),Y(e.$$.fragment),U(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(s){n||(e&&U(e.$$.fragment,s),n=!0)},o(s){e&&S(e.$$.fragment,s),n=!1},d(s){s&&m(t),e&&J(e,s)}}}function cn(r){let e,t=[r[10].props??{}],n={};for(let l=0;l<t.length;l+=1)n=he(n,t[l]);return{c(){e=T(r[10].element),this.h()},l(l){e=A(l,(r[10].element||"null").toUpperCase(),{}),C(e).forEach(m),this.h()},h(){/-/.test(r[10].element)?Tt(e,n):Me(e,n),De(e,"svelte-1r7sqdr",!0)},m(l,i){R(l,e,i)},p(l,i){n=Pe(t,[i&5&&(l[10].props??{})]),/-/.test(l[10].element)?Tt(e,n):Me(e,n),De(e,"svelte-1r7sqdr",!0)},d(l){l&&m(e)}}}function ur(r){let e,t,n,l,i,a;const s=[za,Ga,ja],o=[];function c(u,f){return f&5&&(t=null),f&5&&(n=null),t==null&&(t=!!u[4](u[10])),t?0:(n==null&&(n=!!u[5](u[10])),n?1:2)}return l=c(r,-1),i=o[l]=s[l](r),{c(){e=T("td"),i.c(),this.h()},l(u){e=A(u,"TD",{class:!0});var f=C(e);i.l(f),f.forEach(m),this.h()},h(){k(e,"class","svelte-1r7sqdr")},m(u,f){R(u,e,f),o[l].m(e,null),a=!0},p(u,f){let h=l;l=c(u,f),l===h?o[l].p(u,f):(me(),S(o[h],1,1,()=>{o[h]=null}),ve(),i=o[l],i?i.p(u,f):(i=o[l]=s[l](u),i.c()),U(i,1),i.m(e,null))},i(u){a||(U(i),a=!0)},o(u){S(i),a=!1},d(u){u&&m(e),o[l].d()}}}function fr(r){let e,t,n,l=r[0],i=[];for(let s=0;s<l.length;s+=1)i[s]=ur(sr(r,l,s));const a=s=>S(i[s],1,1,()=>{i[s]=null});return{c(){e=T("tr");for(let s=0;s<i.length;s+=1)i[s].c();t=P(),this.h()},l(s){e=A(s,"TR",{class:!0});var o=C(e);for(let c=0;c<i.length;c+=1)i[c].l(o);t=O(o),o.forEach(m),this.h()},h(){k(e,"class","svelte-1r7sqdr")},m(s,o){R(s,e,o);for(let c=0;c<i.length;c+=1)i[c].m(e,null);b(e,t),n=!0},p(s,o){if(o&53){l=s[0];let c;for(c=0;c<l.length;c+=1){const u=sr(s,l,c);i[c]?(i[c].p(u,o),U(i[c],1)):(i[c]=ur(u),i[c].c(),U(i[c],1),i[c].m(e,t))}for(me(),c=l.length;c<i.length;c+=1)a(c);ve()}},i(s){if(!n){for(let o=0;o<l.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)S(i[o]);n=!1},d(s){s&&m(e),Le(i,s)}}}function Ha(r){let e,t,n,l,i,a=r[0],s=[];for(let f=0;f<a.length;f+=1)s[f]=cr(or(r,a,f));let o=r[2],c=[];for(let f=0;f<o.length;f+=1)c[f]=fr(ar(r,o,f));const u=f=>S(c[f],1,1,()=>{c[f]=null});return{c(){e=T("table"),t=T("thead");for(let f=0;f<s.length;f+=1)s[f].c();n=P(),l=T("tbody");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=A(f,"TABLE",{style:!0,class:!0});var h=C(e);t=A(h,"THEAD",{});var _=C(t);for(let v=0;v<s.length;v+=1)s[v].l(_);_.forEach(m),n=O(h),l=A(h,"TBODY",{});var p=C(l);for(let v=0;v<c.length;v+=1)c[v].l(p);p.forEach(m),h.forEach(m),this.h()},h(){k(e,"style",r[3]),k(e,"class","svelte-1r7sqdr")},m(f,h){R(f,e,h),b(e,t);for(let _=0;_<s.length;_+=1)s[_].m(t,null);b(e,n),b(e,l);for(let _=0;_<c.length;_+=1)c[_].m(l,null);i=!0},p(f,[h]){if(h&3){a=f[0];let _;for(_=0;_<a.length;_+=1){const p=or(f,a,_);s[_]?s[_].p(p,h):(s[_]=cr(p),s[_].c(),s[_].m(t,null))}for(;_<s.length;_+=1)s[_].d(1);s.length=a.length}if(h&53){o=f[2];let _;for(_=0;_<o.length;_+=1){const p=ar(f,o,_);c[_]?(c[_].p(p,h),U(c[_],1)):(c[_]=fr(p),c[_].c(),U(c[_],1),c[_].m(l,null))}for(me(),_=o.length;_<c.length;_+=1)u(_);ve()}(!i||h&8)&&k(e,"style",f[3])},i(f){if(!i){for(let h=0;h<o.length;h+=1)U(c[h]);i=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)S(c[h]);i=!1},d(f){f&&m(e),Le(s,f),Le(c,f)}}}function Wa(r,e,t){let{columns:n}=e,{columnConfig:l=void 0}=e,{rows:i}=e,{style:a=""}=e;const s=c=>c&&typeof c!="string"&&typeof c!="number"&&c.component,o=c=>c&&typeof c!="string"&&typeof c!="number"&&c.element;return r.$$set=c=>{"columns"in c&&t(0,n=c.columns),"columnConfig"in c&&t(1,l=c.columnConfig),"rows"in c&&t(2,i=c.rows),"style"in c&&t(3,a=c.style)},[n,l,i,a,s,o]}class Zt extends se{constructor(e){super(),oe(this,e,Wa,Ha,ie,{columns:0,columnConfig:1,rows:2,style:3})}}function xa(r){let e,t,n;return{c(){e=T("input"),this.h()},l(l){e=A(l,"INPUT",{type:!0,style:!0}),this.h()},h(){k(e,"type","text"),e.value=r[3],e.disabled=r[1],k(e,"style",r[2])},m(l,i){R(l,e,i),t||(n=[pe(e,"input",st(r[4])),pe(e,"blur",r[5])],t=!0)},p(l,i){i&8&&e.value!==l[3]&&(e.value=l[3]),i&2&&(e.disabled=l[1]),i&4&&k(e,"style",l[2])},d(l){l&&m(e),t=!1,gt(n)}}}function Ya(r){let e,t,n,l,i,a;return{c(){e=T("label"),t=K(r[0]),n=P(),l=T("input"),this.h()},l(s){e=A(s,"LABEL",{});var o=C(e);t=Q(o,r[0]),n=O(o),l=A(o,"INPUT",{type:!0,class:!0,style:!0}),o.forEach(m),this.h()},h(){k(l,"type","text"),l.value=r[3],l.disabled=r[1],k(l,"class","labeled svelte-1c67e8g"),k(l,"style",r[2])},m(s,o){R(s,e,o),b(e,t),b(e,n),b(e,l),i||(a=[pe(l,"input",st(r[4])),pe(l,"blur",r[5])],i=!0)},p(s,o){o&1&&Re(t,s[0]),o&8&&l.value!==s[3]&&(l.value=s[3]),o&2&&(l.disabled=s[1]),o&4&&k(l,"style",s[2])},d(s){s&&m(e),i=!1,gt(a)}}}function qa(r){let e;function t(i,a){return i[0]?Ya:xa}let n=t(r),l=n(r);return{c(){l.c(),e=we()},l(i){l.l(i),e=we()},m(i,a){l.m(i,a),R(i,e,a)},p(i,[a]){n===(n=t(i))&&l?l.p(i,a):(l.d(1),l=n(i),l&&(l.c(),l.m(e.parentNode,e)))},i:le,o:le,d(i){l.d(i),i&&m(e)}}}function Ja(r,e,t){let n,{variant:l="text"}=e,{value:i}=e,{onChange:a}=e,{label:s=""}=e,{maxLength:o=void 0}=e,{disabled:c=!1}=e,{style:u=void 0}=e;const f=p=>{const v=l==="hex"?`^(0x|0X)?[a-fA-F0-9]{0,${o??""}}$`:"";return RegExp(v).test(p)},h=p=>{const v=p.target;f(v.value)?t(3,n=v.value):v.value=n},_=()=>{a(l==="hex"?parseInt(n,16):n)};return r.$$set=p=>{"variant"in p&&t(6,l=p.variant),"value"in p&&t(7,i=p.value),"onChange"in p&&t(8,a=p.onChange),"label"in p&&t(0,s=p.label),"maxLength"in p&&t(9,o=p.maxLength),"disabled"in p&&t(1,c=p.disabled),"style"in p&&t(2,u=p.style)},r.$$.update=()=>{r.$$.dirty&704&&t(3,n=l==="hex"?je(i,o):i)},[s,c,u,n,h,_,l,i,a,o]}class Qe extends se{constructor(e){super(),oe(this,e,Ja,qa,ie,{variant:6,value:7,onChange:8,label:0,maxLength:9,disabled:1,style:2})}}function Xa(r){let e,t;return e=new Be({props:{onClick:r[4],$$slots:{default:[Qa]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&1024&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ka(r){let e,t;return e=new Be({props:{onClick:r[8],$$slots:{default:[Za]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&4&&(i.onClick=n[8]),l&1024&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Qa(r){let e;return{c(){e=K("Create TRCN")},l(t){e=Q(t,"Create TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Za(r){let e;return{c(){e=K("Edit TRCN")},l(t){e=Q(t,"Edit TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function es(r){let e;return{c(){e=K("Append new value")},l(t){e=Q(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function ts(r){let e,t,n,l,i,a,s,o,c,u,f,h,_,p;const v=[Ka,Xa],w=[];function I(E,B){return E[2]?0:1}return t=I(r),n=w[t]=v[t](r),i=new Be({props:{onClick:r[5],$$slots:{default:[es]},$$scope:{ctx:r}}}),{c(){e=T("div"),n.c(),l=P(),Y(i.$$.fragment),a=P(),s=T("div"),o=T("label"),c=K(`Flag
				`),u=T("input"),this.h()},l(E){e=A(E,"DIV",{class:!0});var B=C(e);n.l(B),l=O(B),X(i.$$.fragment,B),B.forEach(m),a=O(E),s=A(E,"DIV",{class:!0});var D=C(s);o=A(D,"LABEL",{});var G=C(o);c=Q(G,`Flag
				`),u=A(G,"INPUT",{type:!0}),G.forEach(m),D.forEach(m),this.h()},h(){k(e,"class","control-group svelte-oueji5"),k(u,"type","checkbox"),u.checked=f=r[0].flag,k(s,"class","control-group svelte-oueji5")},m(E,B){R(E,e,B),w[t].m(e,null),b(e,l),q(i,e,null),R(E,a,B),R(E,s,B),b(s,o),b(o,c),b(o,u),h=!0,_||(p=pe(u,"input",r[6]),_=!0)},p(E,B){let D=t;t=I(E),t===D?w[t].p(E,B):(me(),S(w[D],1,1,()=>{w[D]=null}),ve(),n=w[t],n?n.p(E,B):(n=w[t]=v[t](E),n.c()),U(n,1),n.m(e,l));const G={};B&1024&&(G.$$scope={dirty:B,ctx:E}),i.$set(G),(!h||B&1&&f!==(f=E[0].flag))&&(u.checked=f)},i(E){h||(U(n),U(i.$$.fragment,E),h=!0)},o(E){S(n),S(i.$$.fragment,E),h=!1},d(E){E&&m(e),w[t].d(),J(i),E&&m(a),E&&m(s),_=!1,p()}}}function ns(r){let e,t;return e=new Zt({props:{columns:["","Value",...r[3]?["Label","Default","Min","Max","Used"]:[]],columnConfig:{"":{shrink:!0}},rows:r[0].items.map(r[9])}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&8&&(i.columns=["","Value",...n[3]?["Label","Default","Min","Max","Used"]:[]]),l&11&&(i.rows=n[0].items.map(n[9])),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function rs(r){let e,t,n,l,i;return t=new Je({props:{secondary:!0,style:{display:"flex",gap:"15px","justify-content":"space-between","margin-bottom":"5px"},$$slots:{default:[ts]},$$scope:{ctx:r}}}),l=new Je({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[ns]},$$scope:{ctx:r}}}),{c(){e=T("div"),Y(t.$$.fragment),n=P(),Y(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=C(e);X(t.$$.fragment,s),n=O(s),X(l.$$.fragment,s),s.forEach(m),this.h()},h(){k(e,"class","bcon-view svelte-oueji5")},m(a,s){R(a,e,s),q(t,e,null),b(e,n),q(l,e,null),i=!0},p(a,[s]){const o={};s&1029&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){S(t.$$.fragment,a),S(l.$$.fragment,a),i=!1},d(a){a&&m(e),J(t),J(l)}}}function ls(r,e,t){let n;tt(r,be,_=>t(7,n=_));let{content:l}=e,{onChange:i}=e,a,s;const o=()=>{be.createLinkedResource("TRCN",{...At.TRCN,filename:l.filename,items:l.items.map((_,p)=>({...At.TRCN.items[0],constId:p+1}))})},c=()=>i(de(l,_=>{_.items.push(0)})),u=_=>i(de(l,p=>{p.flag=_.target.checked})),f=()=>a?be.openResource(a):null,h=(_,p)=>{var v,w,I,E,B;return{"":{component:Vt,props:{onClick:()=>{i(de(l,D=>{D.items=Qt(D.items,p)}))},"aria-label":`delete line ${p}`}},Value:{component:Qe,props:{onChange:D=>i(de(l,G=>{G.items[p]=D})),value:_,variant:"hex",maxLength:4,style:"width: 100%; min-width: 75px;"}},Label:(v=s==null?void 0:s[p])==null?void 0:v.constName,Default:je((w=s==null?void 0:s[p])==null?void 0:w.value,4)||"-",Min:je((I=s==null?void 0:s[p])==null?void 0:I.minValue,4)||"-",Max:je((E=s==null?void 0:s[p])==null?void 0:E.maxValue,4)||"-",Used:s!=null&&s[p]?{element:"input",props:{type:"checkbox",checked:(B=s==null?void 0:s[p])==null?void 0:B.used,disabled:!0}}:void 0}};return r.$$set=_=>{"content"in _&&t(0,l=_.content),"onChange"in _&&t(1,i=_.onChange)},r.$$.update=()=>{var _,p;if(r.$$.dirty&132){t(2,a=_e(n).linkedResourceId("TRCN"));const v=_e(n).resourceById(a);t(3,s=((_=v==null?void 0:v.contentChanges)==null?void 0:_.items)??((p=v==null?void 0:v.content)==null?void 0:p.items))}},[l,i,a,s,o,c,u,n,f,h]}class is extends se{constructor(e){super(),oe(this,e,ls,rs,ie,{content:0,onChange:1})}}function as(r){let e,t,n,l,i,a,s;return{c(){e=T("label"),t=K("Semi global"),n=P(),l=T("input"),this.h()},l(o){e=A(o,"LABEL",{for:!0});var c=C(e);t=Q(c,"Semi global"),c.forEach(m),n=O(o),l=A(o,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){k(e,"for","semiglobal-input"),k(l,"id","semiglobal-input"),k(l,"type","text"),l.value=i=r[0].semiglobal,k(l,"class","svelte-1vnf0ng")},m(o,c){R(o,e,c),b(e,t),R(o,n,c),R(o,l,c),a||(s=pe(l,"input",r[1]),a=!0)},p(o,c){c&1&&i!==(i=o[0].semiglobal)&&l.value!==i&&(l.value=i)},d(o){o&&m(e),o&&m(n),o&&m(l),a=!1,s()}}}function ss(r){let e,t,n;return t=new Je({props:{secondary:!0,$$slots:{default:[as]},$$scope:{ctx:r}}}),{c(){e=T("div"),Y(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);X(t.$$.fragment,i),i.forEach(m),this.h()},h(){k(e,"class","svelte-1vnf0ng")},m(l,i){R(l,e,i),q(t,e,null),n=!0},p(l,[i]){const a={};i&9&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&m(e),J(t)}}}function os(r,e,t){let{content:n}=e,{onChange:l}=e;const i=a=>l(de(n,s=>{s.semiglobal=a.target.value}));return r.$$set=a=>{"content"in a&&t(0,n=a.content),"onChange"in a&&t(2,l=a.onChange)},[n,i,l]}class cs extends se{constructor(e){super(),oe(this,e,os,ss,ie,{content:0,onChange:2})}}function us(r){let e;return{c(){e=K("This file can be edited by changing the file name!")},l(t){e=Q(t,"This file can be edited by changing the file name!")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function fs(r){let e,t,n;return t=new Je({props:{secondary:!0,$$slots:{default:[us]},$$scope:{ctx:r}}}),{c(){e=T("div"),Y(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);X(t.$$.fragment,i),i.forEach(m),this.h()},h(){k(e,"class","svelte-ez7vw6")},m(l,i){R(l,e,i),q(t,e,null),n=!0},p(l,[i]){const a={};i&1&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&m(e),J(t)}}}class hs extends se{constructor(e){super(),oe(this,e,null,fs,ie,{})}}function un(r){let e,t,n=[{class:"svelte-5wy7c6"}],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=T(r[1]),t=K(r[0]),this.h()},l(i){e=A(i,(r[1]||"null").toUpperCase(),{class:!0});var a=C(e);t=Q(a,r[0]),a.forEach(m),this.h()},h(){/-/.test(r[1])?Tt(e,l):Me(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,a){a&1&&Re(t,i[0]),l=Pe(n,[{class:"svelte-5wy7c6"}]),/-/.test(i[1])?Tt(e,l):Me(e,l)},d(i){i&&m(e)}}}function ds(r){let e,t=r[1],n,l,i=r[1]&&un(r);const a=r[4].default,s=ut(a,r,r[3],null);return{c(){e=T("div"),i&&i.c(),n=P(),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{class:!0,style:!0});var c=C(e);i&&i.l(c),n=O(c),s&&s.l(c),c.forEach(m),this.h()},h(){k(e,"class","subsection svelte-5wy7c6"),k(e,"style",r[2])},m(o,c){R(o,e,c),i&&i.m(e,null),b(e,n),s&&s.m(e,null),l=!0},p(o,[c]){o[1]?t?ie(t,o[1])?(i.d(1),i=un(o),i.c(),i.m(e,n)):i.p(o,c):(i=un(o),i.c(),i.m(e,n)):t&&(i.d(1),i=null),t=o[1],s&&s.p&&(!l||c&8)&&ft(s,a,o,o[3],l?dt(a,o[3],c,null):ht(o[3]),null),(!l||c&4)&&k(e,"style",o[2])},i(o){l||(U(s,o),l=!0)},o(o){S(s,o),l=!1},d(o){o&&m(e),i&&i.d(o),s&&s.d(o)}}}function gs(r,e,t){let{$$slots:n={},$$scope:l}=e,{title:i}=e,{headingLevel:a}=e,{style:s=""}=e;return r.$$set=o=>{"title"in o&&t(0,i=o.title),"headingLevel"in o&&t(1,a=o.headingLevel),"style"in o&&t(2,s=o.style),"$$scope"in o&&t(3,l=o.$$scope)},[i,a,s,l,n]}class kt extends se{constructor(e){super(),oe(this,e,gs,ds,ie,{title:0,headingLevel:1,style:2})}}const hr=["Kitchen","Bedroom","Bathroom","Living room","Outside","Dining room","Misc.","Study","Kids"],$n=["Seating","Surfaces","Appliances","Electronics","Plumbing","Decorative","General","Lights","Hobbies","Aspiration","Career"],_s={Seating:["Dining room","Living room","Sofas","Beds","Recreation",null,null,"Misc."],Surfaces:["Counter","Table","End table","Desk","Coffee table","Shelf",null,"Misc."],Appliances:["Cooking","Refrigerator","Small","Large",null,null,null,"Misc."],Electronics:["Entertainment","TV & computer","Audio","Small",null,null,null,"Misc."],Plumbing:["Toilet","Shower","Sink","Hot tub",null,null,null,"Misc."],Decorative:["Wall","Sculpture","Rug","Plant","Mirror","Curtain",null,"Misc."],General:[null,"Dresser",null,"Party","Child","Car","Pets","Misc."],Lights:["Table lamp","Floor lamp","Wall lamp","Ceiling lamp","Outdoor",null,null,"Misc."],Hobbies:["Creativity","Knowledge","Excercise","Recreation",null,null,null,"Misc."],Aspiration:[],Career:[]},dr=["Cleaning","Cooking","Mechanical","Logic","Body","Creativity","Charisma","School study"],gr=["Unknown",null,"Person",null,"Normal","Architectural support",null,"Sim type","Door","Window","Stairs","Modular stairs","Modular stairs portal","Vehicle","Outfit","Memory","Template",null,null,"Tiles"],_r={"OBJD File":["version"],"Catalog price":["price","isSalePriceDifferent","initialSaleDepreciation","dailySaleDepreciation","isSelfDepreciating","depreciationLimit"],"Catalog sort":["catalogUseFlags","roomSortFlags","functionSortFlags","expansionFlag","buildModeType","buildModeSubSort","functionSubSort","downtownSort","vacationSort","communitySort"],"Catalog ratings":["hungerRating","comfortRating","hygieneRating","bladderRating","energyRating","funRating","roomRating","skillFlags"],"User placement":["defaultWallAdjacentFlags","defaultPlacementFlags","defaultWallPlacementFlags","defaultAllowedHeightFlags","useDefaultPlacementFlags","noDuplicateOnPlacement","keepBuying"],"Mesh and graphics":["multiTileMasterId","multiTileSubIndex","levelOffset","hasShadow","frontDirection","multiTileLeadObject","chairEntryFlags","tileWidth","footprintMask","3dObjectType"],"Resource cross-refs":["ttabId","interactionGroup","strId","slotId","slotGroup","ctssId","defaultThumbnailId","motiveEffectsId","catalogPopupId"],GUIDs:["guid","diagonalSelectorGuid","gridSelectorGuid","proxyGuid","jobObjectGuid","originalGuid"],"Data space":["initialStackSize","attributeCount","objectArrayCount","numTypeAttributes"],"Memories & wants":["aspirationFlags","memoryNiceOrBad","wantCategory"],Miscellaneous:["objectType","lookAtScore","isUnlockable","objectOwnership","ignoreGlobalSimInCAS","cannotMoveOutWith","hauntable","isGlobalSimObject","tooltipNameType","templateVersion","nicenessMultiplier","noNewNameFromTemplate","objectVersion","ignoreCurrentModelIndexInIcons","inhibitSuitCopying","miscFlags","resetLotAction","dreamFlags"]};function pr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function mr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function vr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function br(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function wr(r,e,t){const n=r.slice();return n[29]=e[t],n}function $r(r,e,t){const n=r.slice();return n[32]=e[t],n[25]=t,n}function ps(r){let e,t=r[32]+"",n,l;return{c(){e=T("option"),n=K(t),l=P(),this.h()},l(i){e=A(i,"OPTION",{});var a=C(e);n=Q(a,t),l=O(a),a.forEach(m),this.h()},h(){e.__value=r[25],e.value=e.__value},m(i,a){R(i,e,a),b(e,n),b(e,l)},p:le,d(i){i&&m(e)}}}function yr(r){let e,t=r[32]!==null&&ps(r);return{c(){t&&t.c(),e=we()},l(n){t&&t.l(n),e=we()},m(n,l){t&&t.m(n,l),R(n,e,l)},p(n,l){n[32]!==null&&t.p(n,l)},d(n){t&&t.d(n),n&&m(e)}}}function kr(r){let e,t;function n(...l){return r[13](r[29],...l)}return e=new Qe({props:{variant:"hex",maxLength:8,label:r[29],value:r[0].data[r[29]],onChange:n,style:"display: block; width: 100%;"}}),{c(){Y(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,i){q(e,l,i),t=!0},p(l,i){r=l;const a={};i[0]&1&&(a.value=r[0].data[r[29]]),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Er(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[16](r[25])}return{c(){e=T("label"),t=T("input"),n=P(),i=K(l),a=P(),this.h()},l(u){e=A(u,"LABEL",{});var f=C(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=Q(f,l),a=O(f),f.forEach(m),this.h()},h(){k(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][0].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[4],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[14]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&16&&(t.checked=t.__value===r[4])},d(u){u&&m(e),r[15][0].splice(r[15][0].indexOf(t),1),s=!1,gt(o)}}}function ms(r){let e,t=hr,n=[];for(let l=0;l<t.length;l+=1)n[l]=Er(br(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){k(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1040){t=hr;let a;for(a=0;a<t.length;a+=1){const s=br(l,t,a);n[a]?n[a].p(s,i):(n[a]=Er(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Le(n,l)}}}function Ir(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[18](r[25])}return{c(){e=T("label"),t=T("input"),n=P(),i=K(l),a=P(),this.h()},l(u){e=A(u,"LABEL",{});var f=C(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=Q(f,l),a=O(f),f.forEach(m),this.h()},h(){k(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][1].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[2],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[17]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&4&&(t.checked=t.__value===r[2])},d(u){u&&m(e),r[15][1].splice(r[15][1].indexOf(t),1),s=!1,gt(o)}}}function vs(r){let e,t=$n,n=[];for(let l=0;l<t.length;l+=1)n[l]=Ir(vr(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){k(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1028){t=$n;let a;for(a=0;a<t.length;a+=1){const s=vr(l,t,a);n[a]?n[a].p(s,i):(n[a]=Ir(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Le(n,l)}}}function Cr(r){let e,t;return e=new kt({props:{title:"Function subsort",headingLevel:"h4",$$slots:{default:[bs]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l[0]&160|l[1]&8&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Tr(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[20](r[25])}return{c(){e=T("label"),t=T("input"),n=P(),i=K(l),a=P(),this.h()},l(u){e=A(u,"LABEL",{});var f=C(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=Q(f,l),a=O(f),f.forEach(m),this.h()},h(){k(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][2].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[5],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[19]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&32&&(t.checked=t.__value===r[5]),f[0]&128&&l!==(l=r[23]+"")&&Re(i,l)},d(u){u&&m(e),r[15][2].splice(r[15][2].indexOf(t),1),s=!1,gt(o)}}}function Ar(r){let e,t=r[23]!==null&&Tr(r);return{c(){t&&t.c(),e=we()},l(n){t&&t.l(n),e=we()},m(n,l){t&&t.m(n,l),R(n,e,l)},p(n,l){n[23]!==null?t?t.p(n,l):(t=Tr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&m(e)}}}function bs(r){let e,t=r[7],n=[];for(let l=0;l<t.length;l+=1)n[l]=Ar(mr(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){k(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1184){t=l[7];let a;for(a=0;a<t.length;a+=1){const s=mr(l,t,a);n[a]?n[a].p(s,i):(n[a]=Ar(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Le(n,l)}}}function Ur(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[22](r[25])}return{c(){e=T("label"),t=T("input"),n=P(),i=K(l),a=P(),this.h()},l(u){e=A(u,"LABEL",{});var f=C(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=Q(f,l),a=O(f),f.forEach(m),this.h()},h(){k(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][3].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[6],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[21]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&64&&(t.checked=t.__value===r[6])},d(u){u&&m(e),r[15][3].splice(r[15][3].indexOf(t),1),s=!1,gt(o)}}}function ws(r){let e,t=dr,n=[];for(let l=0;l<t.length;l+=1)n[l]=Ur(pr(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){k(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1088){t=dr;let a;for(a=0;a<t.length;a+=1){const s=pr(l,t,a);n[a]?n[a].p(s,i):(n[a]=Ur(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Le(n,l)}}}function $s(r){var x;let e,t,n,l,i,a,s,o,c,u,f,h,_,p,v,w,I=gr,E=[];for(let W=0;W<I.length;W+=1)E[W]=yr($r(r,I,W));let B=r[8],D=[];for(let W=0;W<B.length;W+=1)D[W]=kr(wr(r,B,W));const G=W=>S(D[W],1,1,()=>{D[W]=null});o=new kt({props:{title:"Room sort",headingLevel:"h4",$$slots:{default:[ms]},$$scope:{ctx:r}}}),u=new kt({props:{title:"Function sort",headingLevel:"h4",$$slots:{default:[vs]},$$scope:{ctx:r}}});let L=((x=r[7])==null?void 0:x.length)&&Cr(r);return _=new kt({props:{title:"Skill flags",headingLevel:"h4",$$slots:{default:[ws]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),n=T("label"),l=K(`Object type
			`),i=T("select");for(let W=0;W<E.length;W+=1)E[W].c();a=P();for(let W=0;W<D.length;W+=1)D[W].c();s=P(),Y(o.$$.fragment),c=P(),Y(u.$$.fragment),f=P(),L&&L.c(),h=P(),Y(_.$$.fragment),this.h()},l(W){e=A(W,"DIV",{class:!0});var V=C(e);t=A(V,"DIV",{class:!0});var N=C(t);n=A(N,"LABEL",{});var M=C(n);l=Q(M,`Object type
			`),i=A(M,"SELECT",{class:!0});var z=C(i);for(let re=0;re<E.length;re+=1)E[re].l(z);z.forEach(m),M.forEach(m),a=O(N);for(let re=0;re<D.length;re+=1)D[re].l(N);N.forEach(m),s=O(V),X(o.$$.fragment,V),c=O(V),X(u.$$.fragment,V),f=O(V),L&&L.l(V),h=O(V),X(_.$$.fragment,V),V.forEach(m),this.h()},h(){k(i,"class","type-select svelte-1tgu5yy"),r[3]===void 0&&hn(()=>r[11].call(i)),k(t,"class","input-group svelte-1tgu5yy"),k(e,"class","catalog-sort svelte-1tgu5yy")},m(W,V){R(W,e,V),b(e,t),b(t,n),b(n,l),b(n,i);for(let N=0;N<E.length;N+=1)E[N].m(i,null);Ze(i,r[3]),b(t,a);for(let N=0;N<D.length;N+=1)D[N].m(t,null);b(e,s),q(o,e,null),b(e,c),q(u,e,null),b(e,f),L&&L.m(e,null),b(e,h),q(_,e,null),p=!0,v||(w=[pe(i,"change",r[11]),pe(i,"input",st(r[12]))],v=!0)},p(W,V){var re;if(V&0){I=gr;let ne;for(ne=0;ne<I.length;ne+=1){const ee=$r(W,I,ne);E[ne]?E[ne].p(ee,V):(E[ne]=yr(ee),E[ne].c(),E[ne].m(i,null))}for(;ne<E.length;ne+=1)E[ne].d(1);E.length=I.length}if(V[0]&8&&Ze(i,W[3]),V[0]&769){B=W[8];let ne;for(ne=0;ne<B.length;ne+=1){const ee=wr(W,B,ne);D[ne]?(D[ne].p(ee,V),U(D[ne],1)):(D[ne]=kr(ee),D[ne].c(),U(D[ne],1),D[ne].m(t,null))}for(me(),ne=B.length;ne<D.length;ne+=1)G(ne);ve()}const N={};V[0]&16|V[1]&8&&(N.$$scope={dirty:V,ctx:W}),o.$set(N);const M={};V[0]&4|V[1]&8&&(M.$$scope={dirty:V,ctx:W}),u.$set(M),(re=W[7])!=null&&re.length?L?(L.p(W,V),V[0]&128&&U(L,1)):(L=Cr(W),L.c(),U(L,1),L.m(e,h)):L&&(me(),S(L,1,1,()=>{L=null}),ve());const z={};V[0]&64|V[1]&8&&(z.$$scope={dirty:V,ctx:W}),_.$set(z)},i(W){if(!p){for(let V=0;V<B.length;V+=1)U(D[V]);U(o.$$.fragment,W),U(u.$$.fragment,W),U(L),U(_.$$.fragment,W),p=!0}},o(W){D=D.filter(Boolean);for(let V=0;V<D.length;V+=1)S(D[V]);S(o.$$.fragment,W),S(u.$$.fragment,W),S(L),S(_.$$.fragment,W),p=!1},d(W){W&&m(e),Le(E,W),Le(D,W),J(o),J(u),L&&L.d(),J(_),v=!1,gt(w)}}}function ys(r,e,t){let{content:n}=e,{onChange:l}=e,i=0,a=0,s=0,o=0,c=0,u;const f=["guid","originalGuid","proxyGuid","diagonalSelectorGuid","gridSelectorGuid"],h=(N,M)=>l(de(n,z=>{z.data[N]=M})),_=(N,M)=>{l(de(n,z=>{z.data[N]=1<<M}))},p=[[],[],[],[]];function v(){i=Ml(this),t(3,i),t(0,n),t(2,s)}const w=N=>l(de(n,M=>{M.data.objectType=parseInt(N.currentTarget.value)})),I=(N,M)=>h(N,M);function E(){a=this.__value,t(4,a),t(0,n),t(2,s)}const B=N=>_("roomSortFlags",N);function D(){s=this.__value,t(2,s),t(0,n)}const G=N=>_("functionSortFlags",N);function L(){o=this.__value,t(5,o),t(0,n),t(2,s)}const x=N=>_("functionSubSort",N);function W(){c=this.__value,t(6,c),t(0,n),t(2,s)}const V=N=>_("skillFlags",N);return r.$$set=N=>{"content"in N&&t(0,n=N.content),"onChange"in N&&t(1,l=N.onChange)},r.$$.update=()=>{if(r.$$.dirty[0]&5){t(3,i=n.data.objectType),t(4,a=n.data.roomSortFlags),t(2,s=n.data.functionSortFlags),t(5,o=n.data.functionSubSort),t(6,c=n.data.skillFlags);const N=$n.find((M,z)=>s===1<<z);t(7,u=N?_s[N]:void 0)}},[n,l,s,i,a,o,c,u,f,h,_,v,w,I,E,p,B,D,G,L,x,W,V]}class Dr extends se{constructor(e){super(),oe(this,e,ys,$s,ie,{content:0,onChange:1},null,[-1,-1])}}function Sr(r,e,t){const n=r.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function Br(r,e,t){const n=r.slice();return n[9]=e[t],n}function Fr(r){let e,t,n=r[9]+"",l,i,a,s,o,c;function u(...f){return r[4](r[9],...f)}return s=new Qe({props:{variant:"hex",maxLength:r[1][r[9]]?8:4,value:r[0].data[r[9]],onChange:u}}),{c(){e=T("tr"),t=T("td"),l=K(n),i=P(),a=T("td"),Y(s.$$.fragment),o=P(),this.h()},l(f){e=A(f,"TR",{});var h=C(e);t=A(h,"TD",{class:!0});var _=C(t);l=Q(_,n),_.forEach(m),i=O(h),a=A(h,"TD",{class:!0});var p=C(a);X(s.$$.fragment,p),p.forEach(m),o=O(h),h.forEach(m),this.h()},h(){k(t,"class","svelte-m2j855"),k(a,"class","svelte-m2j855")},m(f,h){R(f,e,h),b(e,t),b(t,l),b(e,i),b(e,a),q(s,a,null),b(e,o),c=!0},p(f,h){r=f;const _={};h&1&&(_.value=r[0].data[r[9]]),s.$set(_)},i(f){c||(U(s.$$.fragment,f),c=!0)},o(f){S(s.$$.fragment,f),c=!1},d(f){f&&m(e),J(s)}}}function Rr(r){let e,t,n=r[5]+"",l,i,a,s,o=r[6],c=[];for(let f=0;f<o.length;f+=1)c[f]=Fr(Br(r,o,f));const u=f=>S(c[f],1,1,()=>{c[f]=null});return{c(){e=T("tr"),t=T("th"),l=K(n),i=P();for(let f=0;f<c.length;f+=1)c[f].c();a=we(),this.h()},l(f){e=A(f,"TR",{});var h=C(e);t=A(h,"TH",{colspan:!0,class:!0});var _=C(t);l=Q(_,n),_.forEach(m),h.forEach(m),i=O(f);for(let p=0;p<c.length;p+=1)c[p].l(f);a=we(),this.h()},h(){k(t,"colspan",2),k(t,"class","svelte-m2j855")},m(f,h){R(f,e,h),b(e,t),b(t,l),R(f,i,h);for(let _=0;_<c.length;_+=1)c[_].m(f,h);R(f,a,h),s=!0},p(f,h){if(h&7){o=f[6];let _;for(_=0;_<o.length;_+=1){const p=Br(f,o,_);c[_]?(c[_].p(p,h),U(c[_],1)):(c[_]=Fr(p),c[_].c(),U(c[_],1),c[_].m(a.parentNode,a))}for(me(),_=o.length;_<c.length;_+=1)u(_);ve()}},i(f){if(!s){for(let h=0;h<o.length;h+=1)U(c[h]);s=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)S(c[h]);s=!1},d(f){f&&m(e),f&&m(i),Le(c,f),f&&m(a)}}}function ks(r){let e,t,n,l,i=Object.entries(_r),a=[];for(let o=0;o<i.length;o+=1)a[o]=Rr(Sr(r,i,o));const s=o=>S(a[o],1,1,()=>{a[o]=null});return{c(){e=T("div"),t=T("table"),n=T("tbody");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=A(o,"DIV",{class:!0});var c=C(e);t=A(c,"TABLE",{class:!0});var u=C(t);n=A(u,"TBODY",{});var f=C(n);for(let h=0;h<a.length;h+=1)a[h].l(f);f.forEach(m),u.forEach(m),c.forEach(m),this.h()},h(){k(t,"class","svelte-m2j855"),k(e,"class","raw-data-wrapper svelte-m2j855")},m(o,c){R(o,e,c),b(e,t),b(t,n);for(let u=0;u<a.length;u+=1)a[u].m(n,null);l=!0},p(o,[c]){if(c&7){i=Object.entries(_r);let u;for(u=0;u<i.length;u+=1){const f=Sr(o,i,u);a[u]?(a[u].p(f,c),U(a[u],1)):(a[u]=Rr(f),a[u].c(),U(a[u],1),a[u].m(n,null))}for(me(),u=i.length;u<a.length;u+=1)s(u);ve()}},i(o){if(!l){for(let c=0;c<i.length;c+=1)U(a[c]);l=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)S(a[c]);l=!1},d(o){o&&m(e),Le(a,o)}}}function Es(r,e,t){let{content:n}=e,{onChange:l}=e;const i={version:!0,guid:!0,diagonalSelectorGuid:!0,gridSelectorGuid:!0,proxyGuid:!0,jobObjectGuid:!0,originalGuid:!0,objectModelGuid:!0},a=(o,c)=>l(de(n,u=>{u.data[o]=c})),s=(o,c)=>a(o,c);return r.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,l=o.onChange)},[n,i,a,l,s]}class Lr extends se{constructor(e){super(),oe(this,e,Es,ks,ie,{content:0,onChange:3})}}function Is(r){let e,t,n;return t=new jt({props:{tabs:{catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:r[0],onChange:r[1]}},rawData:{title:"Raw data",content:Lr,hideClose:!0,props:{content:r[0],onChange:r[1]}}},activeTab:r[2],onChange:r[3],onClose:Cs,headingLevel:"h3",style:{height:"100%",background:"transparent",border:"0"},contentStyle:{overflow:"auto"}}}),{c(){e=T("div"),Y(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);X(t.$$.fragment,i),i.forEach(m),this.h()},h(){k(e,"class","objd-container svelte-1kd2bg9")},m(l,i){R(l,e,i),q(t,e,null),n=!0},p(l,[i]){const a={};i&3&&(a.tabs={catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:l[0],onChange:l[1]}},rawData:{title:"Raw data",content:Lr,hideClose:!0,props:{content:l[0],onChange:l[1]}}}),i&4&&(a.activeTab=l[2]),i&4&&(a.onChange=l[3]),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&m(e),J(t)}}}const Cs=()=>null;function Ts(r,e,t){let{content:n}=e,{onChange:l}=e,i="catalogSort";const a=s=>t(2,i=s);return r.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(1,l=s.onChange)},[n,l,i,a]}class As extends se{constructor(e){super(),oe(this,e,Ts,Is,ie,{content:0,onChange:1})}}function Pr(r,e,t){const n=r.slice();return n[10]=e[t],n}function Or(r){let e,t,n,l,i,a=r[4]&&Mr(r);return{c(){e=T("div"),t=T("label"),n=K(r[2]),l=P(),a&&a.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var o=C(e);t=A(o,"LABEL",{for:!0});var c=C(t);n=Q(c,r[2]),c.forEach(m),l=O(o),a&&a.l(o),o.forEach(m),this.h()},h(){k(t,"for","bhav-select"),k(e,"class","label-with-edit svelte-1wewriw")},m(s,o){R(s,e,o),b(e,t),b(t,n),b(e,l),a&&a.m(e,null),i=!0},p(s,o){(!i||o&4)&&Re(n,s[2]),s[4]?a?(a.p(s,o),o&16&&U(a,1)):(a=Mr(s),a.c(),U(a,1),a.m(e,null)):a&&(me(),S(a,1,1,()=>{a=null}),ve())},i(s){i||(U(a),i=!0)},o(s){S(a),i=!1},d(s){s&&m(e),a&&a.d()}}}function Mr(r){let e,t;return e=new Be({props:{onClick:r[7],$$slots:{default:[Us]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&16&&(i.onClick=n[7]),l&8192&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Us(r){let e;return{c(){e=K("Edit BHAV")},l(t){e=Q(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Nr(r){let e,t,n=je(r[10].meta.instanceId,4)+"",l,i,a=r[10].content.filename+"",s,o,c;return{c(){e=T("option"),t=K("("),l=K(n),i=K(") "),s=K(a),o=P(),this.h()},l(u){e=A(u,"OPTION",{});var f=C(e);t=Q(f,"("),l=Q(f,n),i=Q(f,") "),s=Q(f,a),o=O(f),f.forEach(m),this.h()},h(){e.__value=c=r[10].meta.instanceId,e.value=e.__value},m(u,f){R(u,e,f),b(e,t),b(e,l),b(e,i),b(e,s),b(e,o)},p(u,f){f&32&&n!==(n=je(u[10].meta.instanceId,4)+"")&&Re(l,n),f&32&&a!==(a=u[10].content.filename+"")&&Re(s,a),f&32&&c!==(c=u[10].meta.instanceId)&&(e.__value=c,e.value=e.__value)},d(u){u&&m(e)}}}function Vr(r){let e,t;return e=new Be({props:{onClick:r[9],style:"margin-left: 5px; white-space: nowrap;",$$slots:{default:[Ds]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&16&&(i.onClick=n[9]),l&8192&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ds(r){let e;return{c(){e=K("Edit BHAV")},l(t){e=Q(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Ss(r){let e,t,n,l,i,a,s,o=r[2]&&Or(r),c=r[5],u=[];for(let h=0;h<c.length;h+=1)u[h]=Nr(Pr(r,c,h));let f=!r[2]&&r[4]&&Vr(r);return{c(){e=T("div"),o&&o.c(),t=P(),n=T("select");for(let h=0;h<u.length;h+=1)u[h].c();l=P(),f&&f.c(),this.h()},l(h){e=A(h,"DIV",{class:!0,style:!0});var _=C(e);o&&o.l(_),t=O(_),n=A(_,"SELECT",{id:!0,class:!0});var p=C(n);for(let v=0;v<u.length;v+=1)u[v].l(p);p.forEach(m),l=O(_),f&&f.l(_),_.forEach(m),this.h()},h(){k(n,"id","bhav-select"),k(n,"class","svelte-1wewriw"),k(e,"class","bhav-select svelte-1wewriw"),k(e,"style",r[3]),De(e,"stacked",!!r[2])},m(h,_){R(h,e,_),o&&o.m(e,null),b(e,t),b(e,n);for(let p=0;p<u.length;p+=1)u[p].m(n,null);Ze(n,r[1]),b(e,l),f&&f.m(e,null),i=!0,a||(s=pe(n,"change",r[8]),a=!0)},p(h,[_]){if(h[2]?o?(o.p(h,_),_&4&&U(o,1)):(o=Or(h),o.c(),U(o,1),o.m(e,t)):o&&(me(),S(o,1,1,()=>{o=null}),ve()),_&32){c=h[5];let p;for(p=0;p<c.length;p+=1){const v=Pr(h,c,p);u[p]?u[p].p(v,_):(u[p]=Nr(v),u[p].c(),u[p].m(n,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}(!i||_&34)&&Ze(n,h[1]),!h[2]&&h[4]?f?(f.p(h,_),_&20&&U(f,1)):(f=Vr(h),f.c(),U(f,1),f.m(e,null)):f&&(me(),S(f,1,1,()=>{f=null}),ve()),(!i||_&8)&&k(e,"style",h[3]),(!i||_&4)&&De(e,"stacked",!!h[2])},i(h){i||(U(o),U(f),i=!0)},o(h){S(o),S(f),i=!1},d(h){h&&m(e),o&&o.d(),Le(u,h),f&&f.d(),a=!1,s()}}}function Bs(r,e,t){let n,l,i;tt(r,be,_=>t(6,i=_));let{onChange:a}=e,{value:s}=e,{label:o=""}=e,{style:c=""}=e;const u=()=>l?be.openResource(l):null,f=_=>a(parseInt(_.currentTarget.value)),h=()=>l?be.openResource(l):null;return r.$$set=_=>{"onChange"in _&&t(0,a=_.onChange),"value"in _&&t(1,s=_.value),"label"in _&&t(2,o=_.label),"style"in _&&t(3,c=_.style)},r.$$.update=()=>{r.$$.dirty&64&&t(5,n=_e(i).resourcesByType("BHAV")),r.$$.dirty&66&&t(4,l=_e(i).resourceIdByTypeAndInstanceId("BHAV",s))},[a,s,o,c,l,n,i,u,f,h]}class Xt extends se{constructor(e){super(),oe(this,e,Bs,Ss,ie,{onChange:0,value:1,label:2,style:3})}}function jr(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function Gr(r){let e,t,n=r[1][r[6]]+"",l,i,a,s,o,c,u,f,h;return s=new Xt({props:{value:r[4].action,onChange:r[2]("action",r[6]),style:"width: 100%"}}),u=new Xt({props:{value:r[4].guard,onChange:r[2]("guard",r[6]),style:"width: 100%"}}),{c(){e=T("tr"),t=T("td"),l=K(n),i=P(),a=T("td"),Y(s.$$.fragment),o=P(),c=T("td"),Y(u.$$.fragment),f=P(),this.h()},l(_){e=A(_,"TR",{});var p=C(e);t=A(p,"TD",{class:!0});var v=C(t);l=Q(v,n),v.forEach(m),i=O(p),a=A(p,"TD",{class:!0});var w=C(a);X(s.$$.fragment,w),w.forEach(m),o=O(p),c=A(p,"TD",{class:!0});var I=C(c);X(u.$$.fragment,I),I.forEach(m),f=O(p),p.forEach(m),this.h()},h(){k(t,"class","svelte-5fcvf8"),k(a,"class","svelte-5fcvf8"),k(c,"class","svelte-5fcvf8")},m(_,p){R(_,e,p),b(e,t),b(t,l),b(e,i),b(e,a),q(s,a,null),b(e,o),b(e,c),q(u,c,null),b(e,f),h=!0},p(_,p){const v={};p&1&&(v.value=_[4].action),s.$set(v);const w={};p&1&&(w.value=_[4].guard),u.$set(w)},i(_){h||(U(s.$$.fragment,_),U(u.$$.fragment,_),h=!0)},o(_){S(s.$$.fragment,_),S(u.$$.fragment,_),h=!1},d(_){_&&m(e),J(s),J(u)}}}function Fs(r){let e,t,n,l,i,a,s,o,c,u,f,h,_,p=r[0].functions,v=[];for(let I=0;I<p.length;I+=1)v[I]=Gr(jr(r,p,I));const w=I=>S(v[I],1,1,()=>{v[I]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),l=K("Function"),i=P(),a=T("th"),s=K("Action BHAV"),o=P(),c=T("th"),u=K("Guardian BHAV"),f=P(),h=T("tbody");for(let I=0;I<v.length;I+=1)v[I].c();this.h()},l(I){e=A(I,"TABLE",{class:!0});var E=C(e);t=A(E,"THEAD",{class:!0});var B=C(t);n=A(B,"TH",{class:!0});var D=C(n);l=Q(D,"Function"),D.forEach(m),i=O(B),a=A(B,"TH",{class:!0});var G=C(a);s=Q(G,"Action BHAV"),G.forEach(m),o=O(B),c=A(B,"TH",{class:!0});var L=C(c);u=Q(L,"Guardian BHAV"),L.forEach(m),B.forEach(m),f=O(E),h=A(E,"TBODY",{});var x=C(h);for(let W=0;W<v.length;W+=1)v[W].l(x);x.forEach(m),E.forEach(m),this.h()},h(){k(n,"class","svelte-5fcvf8"),k(a,"class","svelte-5fcvf8"),k(c,"class","svelte-5fcvf8"),k(t,"class","svelte-5fcvf8"),k(e,"class","svelte-5fcvf8")},m(I,E){R(I,e,E),b(e,t),b(t,n),b(n,l),b(t,i),b(t,a),b(a,s),b(t,o),b(t,c),b(c,u),b(e,f),b(e,h);for(let B=0;B<v.length;B+=1)v[B].m(h,null);_=!0},p(I,E){if(E&7){p=I[0].functions;let B;for(B=0;B<p.length;B+=1){const D=jr(I,p,B);v[B]?(v[B].p(D,E),U(v[B],1)):(v[B]=Gr(D),v[B].c(),U(v[B],1),v[B].m(h,null))}for(me(),B=p.length;B<v.length;B+=1)w(B);ve()}},i(I){if(!_){for(let E=0;E<p.length;E+=1)U(v[E]);_=!0}},o(I){v=v.filter(Boolean);for(let E=0;E<v.length;E+=1)S(v[E]);_=!1},d(I){I&&m(e),Le(v,I)}}}function Rs(r){let e,t,n;return t=new Je({props:{secondary:!0,style:{width:"100%",height:"100%",overflow:"auto","padding-top":"0"},$$slots:{default:[Fs]},$$scope:{ctx:r}}}),{c(){e=T("div"),Y(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);X(t.$$.fragment,i),i.forEach(m),this.h()},h(){k(e,"class","objf-view svelte-5fcvf8")},m(l,i){R(l,e,i),q(t,e,null),n=!0},p(l,[i]){const a={};i&129&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&m(e),J(t)}}}function Ls(r,e,t){let{content:n}=e,{onChange:l}=e;const i=["init","main","load","cleanup","queue skipped","allow intersection","wall adjacency changed","room changed","dynamic multi-tile update","placement","pickup","user placement","user pickup","level info request","serving surface","portal","gardening","wash hands","prep","cook","surface","dispose","food","pickup from slot","wash dish","eating surface","sit","stand","clean","repair","ui event","Restock","Wash Clothes","start live mode","stop live mode","link objects","message handler","pre route","post route","goal check","reaction handler","along route callback","awareness","reset","look at target","walk over","utility state change","set model by type","get model type","delete","user delete","just moved in","prevent place in slot","global awareness","object updated by design mode"],a=(s,o)=>c=>l(de(n,u=>{const f=u.functions[o];f&&(f[s]=c)}));return r.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(3,l=s.onChange)},[n,i,a,l]}class Ps extends se{constructor(e){super(),oe(this,e,Ls,Rs,ie,{content:0,onChange:3})}}function zr(r,e,t){const n=r.slice();return n[8]=e[t],n[10]=t,n}function Hr(r,e,t){const n=r.slice();return n[11]=e[t],n[10]=t,n}function Wr(r){let e,t=Wl(r[10]+1)+"",n;return{c(){e=T("option"),n=K(t),this.h()},l(l){e=A(l,"OPTION",{});var i=C(e);n=Q(i,t),i.forEach(m),this.h()},h(){e.__value=r[10]+1,e.value=e.__value},m(l,i){R(l,e,i),b(e,n)},p:le,d(l){l&&m(e)}}}function Os(r){let e,t,n,l,i,a,s,o,c,u,f,h,_,p,v,w,I,E,B,D;function G(...N){return r[5](r[10],...N)}let L=dn,x=[];for(let N=0;N<L.length;N+=1)x[N]=Wr(Hr(r,L,N));function W(...N){return r[6](r[10],...N)}function V(...N){return r[7](r[10],...N)}return{c(){e=T("div"),t=T("div"),n=T("label"),l=K(`Description
					`),i=T("input"),s=P(),o=T("div"),c=T("label"),u=K(`Language
					`),f=T("select");for(let N=0;N<x.length;N+=1)x[N].c();_=P(),p=T("label"),v=K(`Value
			`),w=T("textarea"),E=P(),this.h()},l(N){e=A(N,"DIV",{class:!0});var M=C(e);t=A(M,"DIV",{class:!0});var z=C(t);n=A(z,"LABEL",{class:!0});var re=C(n);l=Q(re,`Description
					`),i=A(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(m),z.forEach(m),s=O(M),o=A(M,"DIV",{class:!0});var ne=C(o);c=A(ne,"LABEL",{class:!0});var ee=C(c);u=Q(ee,`Language
					`),f=A(ee,"SELECT",{class:!0});var te=C(f);for(let fe=0;fe<x.length;fe+=1)x[fe].l(te);te.forEach(m),ee.forEach(m),ne.forEach(m),M.forEach(m),_=O(N),p=A(N,"LABEL",{class:!0});var ae=C(p);v=Q(ae,`Value
			`),w=A(ae,"TEXTAREA",{class:!0,placeholder:!0}),C(w).forEach(m),ae.forEach(m),E=O(N),this.h()},h(){k(i,"type","text"),k(i,"placeholder","No description"),i.value=a=r[8].description,k(i,"class","svelte-1jmd73o"),k(n,"class","svelte-1jmd73o"),k(t,"class","description svelte-1jmd73o"),k(f,"class","language svelte-1jmd73o"),k(c,"class","svelte-1jmd73o"),k(o,"class","language svelte-1jmd73o"),k(e,"class","meta svelte-1jmd73o"),k(w,"class","value svelte-1jmd73o"),k(w,"placeholder","No value"),w.value=I=r[8].value,k(p,"class","svelte-1jmd73o")},m(N,M){R(N,e,M),b(e,t),b(t,n),b(n,l),b(n,i),b(e,s),b(e,o),b(o,c),b(c,u),b(c,f);for(let z=0;z<x.length;z+=1)x[z].m(f,null);Ze(f,r[8].languageId),R(N,_,M),R(N,p,M),b(p,v),b(p,w),R(N,E,M),B||(D=[pe(i,"input",G),pe(f,"input",W),pe(w,"input",V)],B=!0)},p(N,M){if(r=N,M&1&&a!==(a=r[8].description)&&i.value!==a&&(i.value=a),M&0){L=dn;let z;for(z=0;z<L.length;z+=1){const re=Hr(r,L,z);x[z]?x[z].p(re,M):(x[z]=Wr(re),x[z].c(),x[z].m(f,null))}for(;z<x.length;z+=1)x[z].d(1);x.length=L.length}M&1&&h!==(h=r[8].languageId)&&Ze(f,r[8].languageId),M&1&&I!==(I=r[8].value)&&(w.value=I)},d(N){N&&m(e),Le(x,N),N&&m(_),N&&m(p),N&&m(E),B=!1,gt(D)}}}function xr(r,e){let t,n,l;return n=new Je({props:{as:"li",style:{"margin-top":e[10]?"5px":"0"},secondary:!0,$$slots:{default:[Os]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=we(),Y(n.$$.fragment),this.h()},l(i){t=we(),X(n.$$.fragment,i),this.h()},h(){this.first=t},m(i,a){R(i,t,a),q(n,i,a),l=!0},p(i,a){e=i;const s={};a&1&&(s.style={"margin-top":e[10]?"5px":"0"}),a&8193&&(s.$$scope={dirty:a,ctx:e}),n.$set(s)},i(i){l||(U(n.$$.fragment,i),l=!0)},o(i){S(n.$$.fragment,i),l=!1},d(i){i&&m(t),J(n,i)}}}function Ms(r){let e,t=[],n=new Map,l,i=r[0].stringSets;const a=s=>s[10];for(let s=0;s<i.length;s+=1){let o=zr(r,i,s),c=a(o);n.set(c,t[s]=xr(c,o))}return{c(){e=T("ul");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=A(s,"UL",{class:!0});var o=C(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(m),this.h()},h(){k(e,"class","svelte-1jmd73o")},m(s,o){R(s,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);l=!0},p(s,[o]){o&15&&(i=s[0].stringSets,me(),t=Kt(t,o,a,1,s,i,n,e,yn,xr,null,zr),ve())},i(s){if(!l){for(let o=0;o<i.length;o+=1)U(t[o]);l=!0}},o(s){for(let o=0;o<t.length;o+=1)S(t[o]);l=!1},d(s){s&&m(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ns(r,e,t){let{content:n}=e,{onChange:l}=e;const i=(f,h)=>l(de(n,_=>{const p=_.stringSets[h];p&&(p.description=f.target.value)})),a=(f,h)=>l(de(n,_=>{const p=_.stringSets[h];p&&(p.languageId=parseInt(f.target.value,10))})),s=(f,h)=>l(de(n,_=>{const p=_.stringSets[h];p&&(p.value=f.target.value)})),o=(f,h)=>i(h,f),c=(f,h)=>a(h,f),u=(f,h)=>s(h,f);return r.$$set=f=>{"content"in f&&t(0,n=f.content),"onChange"in f&&t(4,l=f.onChange)},[n,i,a,s,l,o,c,u]}class fn extends se{constructor(e){super(),oe(this,e,Ns,Ms,ie,{content:0,onChange:4})}}var Vs=function(r){var e={};function t(n){if(e[n])return e[n].exports;var l=e[n]={i:n,l:!1,exports:{}};return r[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=r,t.c=e,t.d=function(n,l,i){t.o(n,l)||Object.defineProperty(n,l,{configurable:!1,enumerable:!0,get:i})},t.n=function(n){var l=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(l,"a",l),l},t.o=function(n,l){return Object.prototype.hasOwnProperty.call(n,l)},t.p="",t(t.s=0)}([function(r,e,t){(function(n){var l=function(){function u(f,h){for(var _=0;_<h.length;_++){var p=h[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,h,_){return h&&u(f.prototype,h),_&&u(f,_),f}}();function i(u){if(Array.isArray(u)){for(var f=0,h=Array(u.length);f<u.length;f++)h[f]=u[f];return h}else return Array.from(u)}function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s={noImage:0,colorMapped:1,RGB:2,blackAndWhite:3,runlengthColorMapped:9,runlengthRGB:10,compressedBlackAndWhite:11,compressedColorMapped:32,compressed4PassQTColorMapped:33},o=18,c=function(){function u(f){var h=this;a(this,u),f instanceof n?this._buffer=f:typeof f=="string"?this._buffer=n.from(f,"binary"):f?this._buffer=n.from(f):this._buffer=null,this._idLength=0,this._colorMapType=0,this._imageType=0,this._colorMapOrigin=0,this._colorMapLength=0,this._colorMapDepth=0,this._imageXOrigin=0,this._imageYOrigin=0,this._imageWidth=0,this._imageHeight=0,this._imageDepth=0,this._alphaDepth=0,this._leftToRight=!0,this._topToBottom=!1,this._interleave=!1,this._hasAlpha=!1,this._imageID=null,this._canvas=null,this._context=null,this._imageData=null,this._image=null,this._src=null,this.onload=null,this.onerror=null,this._resolveFunc=null,this._rejectFunc=null,this._didLoad=new Promise(function(_,p){h._resolveFunc=_,h._rejectFunc=p}),f&&this._parseData()}return l(u,[{key:"_loadURL",value:function(h){var _=this;this._src=h,this._requestBinaryFile(h).then(function(p){_._buffer=n.from(p),_._parseData()}).catch(function(p){_._reject(p)})}},{key:"_requestBinaryFile",value:function(h){return new Promise(function(_,p){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="arraybuffer",v.onload=function(w){v.response?_(v.response):p(v)},v.onerror=function(w){p(w)},v.send(null)})}},{key:"_parseData",value:function(){this._readHeader(),this._readImageID(),this._initImage();var h=this._getImageData();switch(this._imageType){case s.noImage:break;case s.colorMapped:{this._parseColorMapData(h);break}case s.RGB:{this._parseRGBData(h);break}case s.blackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.runlengthColorMapped:{this._parseColorMapData(h);break}case s.runlengthRGB:{this._parseRGBData(h);break}case s.compressedBlackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.compressedColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}case s.compressed4PassQTColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}default:throw new Error("unknown imageType: "+this._imageType)}this._setImage(),this._deleteBuffer()}},{key:"_readHeader",value:function(){this._idLength=this._buffer.readUIntLE(0,1),this._colorMapType=this._buffer.readUIntLE(1,1),this._imageType=this._buffer.readUIntLE(2,1),this._colorMapOrigin=this._buffer.readUIntLE(3,2),this._colorMapLength=this._buffer.readUIntLE(5,2),this._colorMapDepth=this._buffer.readUIntLE(7,1),this._imageXOrigin=this._buffer.readUIntLE(8,2),this._imageYOrigin=this._buffer.readUIntLE(10,2),this._imageWidth=this._buffer.readUIntLE(12,2),this._imageHeight=this._buffer.readUIntLE(14,2),this._imageDepth=this._buffer.readUIntLE(16,1);var h=this._buffer.readUIntLE(17,1);this._alphaDepth=h&15,this._leftToRight=(h&16)===0,this._topToBottom=(h&32)>0,this._interleave=h&192}},{key:"_readImageID",value:function(){this._idLength>0&&(this._imageID=this._buffer.subarray(o,this._idLength))}},{key:"_initImage",value:function(){this._imageType!==s.noImage&&(this._imageWidth<=0||this._imageHeight<=0||(this._canvas=document.createElement("canvas"),this._canvas.width=this._imageWidth,this._canvas.height=this._imageHeight,this._context=this._canvas.getContext("2d"),this._imageData=this._context.createImageData(this._imageWidth,this._imageHeight)))}},{key:"_setImage",value:function(){var h=this;this._context.putImageData(this._imageData,0,0),this._image=new Image,this._image.width=this._imageWidth,this._image.height=this._imageHeight,this._image.onload=function(){h._resolve()},this._image.src=this._canvas.toDataURL()}},{key:"_deleteBuffer",value:function(){this._buffer&&(delete this._buffer,this._buffer=null),this._imageData&&(delete this._imageData,this._imageData=null)}},{key:"_parseColorMapData",value:function(h){if(this._colorMapDepth===24||this._colorMapDepth===16||this._colorMapDepth===15)this._hasAlpha=!1;else if(this._colorMapDepth===32)this._hasAlpha=!0;else throw new Error("unknown colorMapDepth: "+this._colorMapDepth);var _=o+this._idLength,p=Math.ceil(this._colorMapDepth/8);p*this._colorMapLength;for(var v=1,w=[],I=_,E=0;E<this._colorMapLength;E++){var B=this._getRGBA(this._buffer,I,this._colorMapDepth);w.push(B),I+=p}var D=this._imageData.data,G=0,L=0,x=1,W=1;this._leftToRight||(G=this._imageWidth-1,x=-1),this._topToBottom||(L=this._imageHeight-1,W=-1),I=0;for(var V=L,N=[255,255,255,255],M=0;M<this._imageHeight;M++){for(var z=G,re=0;re<this._imageWidth;re++){var ne=(V*this._imageWidth+z)*4,ee=N,te=h[I]-this._colorMapOrigin;te>=0&&(ee=w[te]),D[ne]=ee[0],D[ne+1]=ee[1],D[ne+2]=ee[2],D[ne+3]=ee[3],z+=x,I+=v}V+=W}}},{key:"_parseRGBData",value:function(h){if(this._imageDepth===24||this._imageDepth===16||this._imageDepth===15)this._hasAlpha=!1;else if(this._imageDepth===32)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var _=Math.ceil(this._imageDepth/8),p=this._imageData.data,v=0,w=0,I=1,E=1;this._leftToRight||(v=this._imageWidth-1,I=-1),this._topToBottom||(w=this._imageHeight-1,E=-1);for(var B=0,D=w,G=0;G<this._imageHeight;G++){for(var L=v,x=0;x<this._imageWidth;x++){var W=(D*this._imageWidth+L)*4,V=this._getRGBA(h,B,this._imageDepth);p[W]=V[0],p[W+1]=V[1],p[W+2]=V[2],p[W+3]=V[3],L+=I,B+=_}D+=E}}},{key:"_getRGBA",value:function(h,_,p){if(p===15){var v=(h[_+1]&124)<<1,w=(h[_+1]&3)<<6|(h[_]&224)>>2,I=(h[_]&31)<<3,E=255;return[v,w,I,E]}else if(p===16){var B=(h[_+1]&124)<<1,D=(h[_+1]&3)<<6|(h[_]&224)>>2,G=(h[_]&31)<<3,L=255;return[B,D,G,L]}else{if(p===24)return[h[_+2],h[_+1],h[_],255];if(p===32)return[h[_+2],h[_+1],h[_],h[_+3]]}throw new Error("unsupported imageDepth: "+p)}},{key:"_parseBlackAndWhiteData",value:function(h){if(this._imageDepth==8)this._hasAlpha=!1;else if(this._imageDepth==16)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var _=this._imageDepth/8,p=this._imageData.data,v=0,w=0,I=1,E=1;this._leftToRight||(v=this._imageWidth-1,I=-1),this._topToBottom||(w=this._imageHeight-1,E=-1);var B=0;if(this._hasAlpha)for(var D=w,G=0;G<this._imageHeight;G++){for(var L=v,x=0;x<this._imageWidth;x++){var W=(D*this._imageWidth+L)*4,V=h[B],N=h[B+1];p[W]=V,p[W+1]=V,p[W+2]=V,p[W+3]=N,L+=I,B+=_}D+=E}else for(var M=w,z=0;z<this._imageHeight;z++){for(var re=v,ne=0;ne<this._imageWidth;ne++){var ee=(M*this._imageWidth+re)*4,te=h[B],ae=255;p[ee]=te,p[ee+1]=te,p[ee+2]=te,p[ee+3]=ae,re+=I,B+=_}M+=E}}},{key:"_getImageData",value:function(){var h=null;if(this._imageType!==s.none){var _=Math.ceil(this._colorMapDepth/8)*this._colorMapLength,p=o+this._idLength+_;h=this._buffer.subarray(p)}return this._imageType===s.runlengthColorMapped||this._imageType===s.runlengthRGB?h=this._decompressRunlengthData(h):this._imageType===s.compressedBlackAndWhite?h=this._decompressRunlengthData(h):(this._imageType===s.compressedColorMapped||this._imageType===s.compressed4PassQTColorMapped)&&console.error("Compressed Color Mapped TGA Image data is not supported"),h}},{key:"_decompressRunlengthData",value:function(h){for(var _=[],p=Math.ceil(this._imageDepth/8),v=p*this._imageWidth*this._imageHeight,w=0;_.length<v;){var I=h[w];if(w+=1,I&128){var E=h.slice(w,w+p);w+=p;for(var B=(I&127)+1,D=0;D<B;D++)_.push.apply(_,i(E))}else{var G=(I+1)*p;_.push.apply(_,i(h.slice(w,w+G))),w+=G}}return _}},{key:"_resolve",value:function(h){this.onload&&this.onload(h),this._resolveFunc(h)}},{key:"_reject",value:function(h){this.onerror&&this.onerror(h),this._rejectFunc(h)}},{key:"image",get:function(){return this._image}},{key:"canvas",get:function(){return this._canvas}},{key:"didLoad",get:function(){return this._didLoad}},{key:"src",get:function(){return this._src},set:function(h){this._loadURL(h)}}],[{key:"imageWithData",value:function(h){return new u(h)}},{key:"imageWithURL",value:function(h){var _=new u;return _._loadURL(h),_}}]),u}();r.exports=c}).call(e,t(1).Buffer)},function(r,e,t){(function(n){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var l=t(3),i=t(4),a=t(5);e.Buffer=u,e.SlowBuffer=D,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=o();function s(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c($,d){if(o()<d)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?($=new Uint8Array(d),$.__proto__=u.prototype):($===null&&($=new u(d)),$.length=d),$}function u($,d,g){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u($,d,g);if(typeof $=="number"){if(typeof d=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,$)}return f(this,$,d,g)}u.poolSize=8192,u._augment=function($){return $.__proto__=u.prototype,$};function f($,d,g,y){if(typeof d=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&d instanceof ArrayBuffer?I($,d,g,y):typeof d=="string"?v($,d,g):E($,d)}u.from=function($,d,g){return f(null,$,d,g)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}));function h($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function _($,d,g,y){return h(d),d<=0?c($,d):g!==void 0?typeof y=="string"?c($,d).fill(g,y):c($,d).fill(g):c($,d)}u.alloc=function($,d,g){return _(null,$,d,g)};function p($,d){if(h(d),$=c($,d<0?0:B(d)|0),!u.TYPED_ARRAY_SUPPORT)for(var g=0;g<d;++g)$[g]=0;return $}u.allocUnsafe=function($){return p(null,$)},u.allocUnsafeSlow=function($){return p(null,$)};function v($,d,g){if((typeof g!="string"||g==="")&&(g="utf8"),!u.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var y=G(d,g)|0;$=c($,y);var F=$.write(d,g);return F!==y&&($=$.slice(0,F)),$}function w($,d){var g=d.length<0?0:B(d.length)|0;$=c($,g);for(var y=0;y<g;y+=1)$[y]=d[y]&255;return $}function I($,d,g,y){if(d.byteLength,g<0||d.byteLength<g)throw new RangeError("'offset' is out of bounds");if(d.byteLength<g+(y||0))throw new RangeError("'length' is out of bounds");return g===void 0&&y===void 0?d=new Uint8Array(d):y===void 0?d=new Uint8Array(d,g):d=new Uint8Array(d,g,y),u.TYPED_ARRAY_SUPPORT?($=d,$.__proto__=u.prototype):$=w($,d),$}function E($,d){if(u.isBuffer(d)){var g=B(d.length)|0;return $=c($,g),$.length===0||d.copy($,0,0,g),$}if(d){if(typeof ArrayBuffer<"u"&&d.buffer instanceof ArrayBuffer||"length"in d)return typeof d.length!="number"||$t(d.length)?c($,0):w($,d);if(d.type==="Buffer"&&a(d.data))return w($,d.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function B($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function D($){return+$!=$&&($=0),u.alloc(+$)}u.isBuffer=function(d){return!!(d!=null&&d._isBuffer)},u.compare=function(d,g){if(!u.isBuffer(d)||!u.isBuffer(g))throw new TypeError("Arguments must be Buffers");if(d===g)return 0;for(var y=d.length,F=g.length,j=0,H=Math.min(y,F);j<H;++j)if(d[j]!==g[j]){y=d[j],F=g[j];break}return y<F?-1:F<y?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,g){if(!a(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return u.alloc(0);var y;if(g===void 0)for(g=0,y=0;y<d.length;++y)g+=d[y].length;var F=u.allocUnsafe(g),j=0;for(y=0;y<d.length;++y){var H=d[y];if(!u.isBuffer(H))throw new TypeError('"list" argument must be an Array of Buffers');H.copy(F,j),j+=H.length}return F};function G($,d){if(u.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var g=$.length;if(g===0)return 0;for(var y=!1;;)switch(d){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return Ge($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return St($).length;default:if(y)return Ge($).length;d=(""+d).toLowerCase(),y=!0}}u.byteLength=G;function L($,d,g){var y=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,d>>>=0,g<=d))return"";for($||($="utf8");;)switch($){case"hex":return Oe(this,d,g);case"utf8":case"utf-8":return ae(this,d,g);case"ascii":return Te(this,d,g);case"latin1":case"binary":return ge(this,d,g);case"base64":return te(this,d,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,d,g);default:if(y)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),y=!0}}u.prototype._isBuffer=!0;function x($,d,g){var y=$[d];$[d]=$[g],$[g]=y}u.prototype.swap16=function(){var d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<d;g+=2)x(this,g,g+1);return this},u.prototype.swap32=function(){var d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<d;g+=4)x(this,g,g+3),x(this,g+1,g+2);return this},u.prototype.swap64=function(){var d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<d;g+=8)x(this,g,g+7),x(this,g+1,g+6),x(this,g+2,g+5),x(this,g+3,g+4);return this},u.prototype.toString=function(){var d=this.length|0;return d===0?"":arguments.length===0?ae(this,0,d):L.apply(this,arguments)},u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:u.compare(this,d)===0},u.prototype.inspect=function(){var d="",g=e.INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(d+=" ... ")),"<Buffer "+d+">"},u.prototype.compare=function(d,g,y,F,j){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");if(g===void 0&&(g=0),y===void 0&&(y=d?d.length:0),F===void 0&&(F=0),j===void 0&&(j=this.length),g<0||y>d.length||F<0||j>this.length)throw new RangeError("out of range index");if(F>=j&&g>=y)return 0;if(F>=j)return-1;if(g>=y)return 1;if(g>>>=0,y>>>=0,F>>>=0,j>>>=0,this===d)return 0;for(var H=j-F,ye=y-g,Ce=Math.min(H,ye),Ue=this.slice(F,j),Ke=d.slice(g,y),Fe=0;Fe<Ce;++Fe)if(Ue[Fe]!==Ke[Fe]){H=Ue[Fe],ye=Ke[Fe];break}return H<ye?-1:ye<H?1:0};function W($,d,g,y,F){if($.length===0)return-1;if(typeof g=="string"?(y=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=F?0:$.length-1),g<0&&(g=$.length+g),g>=$.length){if(F)return-1;g=$.length-1}else if(g<0)if(F)g=0;else return-1;if(typeof d=="string"&&(d=u.from(d,y)),u.isBuffer(d))return d.length===0?-1:V($,d,g,y,F);if(typeof d=="number")return d=d&255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call($,d,g):Uint8Array.prototype.lastIndexOf.call($,d,g):V($,[d],g,y,F);throw new TypeError("val must be string, number or Buffer")}function V($,d,g,y,F){var j=1,H=$.length,ye=d.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if($.length<2||d.length<2)return-1;j=2,H/=2,ye/=2,g/=2}function Ce(Sn,Bn){return j===1?Sn[Bn]:Sn.readUInt16BE(Bn*j)}var Ue;if(F){var Ke=-1;for(Ue=g;Ue<H;Ue++)if(Ce($,Ue)===Ce(d,Ke===-1?0:Ue-Ke)){if(Ke===-1&&(Ke=Ue),Ue-Ke+1===ye)return Ke*j}else Ke!==-1&&(Ue-=Ue-Ke),Ke=-1}else for(g+ye>H&&(g=H-ye),Ue=g;Ue>=0;Ue--){for(var Fe=!0,Gt=0;Gt<ye;Gt++)if(Ce($,Ue+Gt)!==Ce(d,Gt)){Fe=!1;break}if(Fe)return Ue}return-1}u.prototype.includes=function(d,g,y){return this.indexOf(d,g,y)!==-1},u.prototype.indexOf=function(d,g,y){return W(this,d,g,y,!0)},u.prototype.lastIndexOf=function(d,g,y){return W(this,d,g,y,!1)};function N($,d,g,y){g=Number(g)||0;var F=$.length-g;y?(y=Number(y),y>F&&(y=F)):y=F;var j=d.length;if(j%2!==0)throw new TypeError("Invalid hex string");y>j/2&&(y=j/2);for(var H=0;H<y;++H){var ye=parseInt(d.substr(H*2,2),16);if(isNaN(ye))return H;$[g+H]=ye}return H}function M($,d,g,y){return $e(Ge(d,$.length-g),$,g,y)}function z($,d,g,y){return $e(Ye(d),$,g,y)}function re($,d,g,y){return z($,d,g,y)}function ne($,d,g,y){return $e(St(d),$,g,y)}function ee($,d,g,y){return $e(wt(d,$.length-g),$,g,y)}u.prototype.write=function(d,g,y,F){if(g===void 0)F="utf8",y=this.length,g=0;else if(y===void 0&&typeof g=="string")F=g,y=this.length,g=0;else if(isFinite(g))g=g|0,isFinite(y)?(y=y|0,F===void 0&&(F="utf8")):(F=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var j=this.length-g;if((y===void 0||y>j)&&(y=j),d.length>0&&(y<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var H=!1;;)switch(F){case"hex":return N(this,d,g,y);case"utf8":case"utf-8":return M(this,d,g,y);case"ascii":return z(this,d,g,y);case"latin1":case"binary":return re(this,d,g,y);case"base64":return ne(this,d,g,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,d,g,y);default:if(H)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),H=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te($,d,g){return d===0&&g===$.length?l.fromByteArray($):l.fromByteArray($.slice(d,g))}function ae($,d,g){g=Math.min($.length,g);for(var y=[],F=d;F<g;){var j=$[F],H=null,ye=j>239?4:j>223?3:j>191?2:1;if(F+ye<=g){var Ce,Ue,Ke,Fe;switch(ye){case 1:j<128&&(H=j);break;case 2:Ce=$[F+1],(Ce&192)===128&&(Fe=(j&31)<<6|Ce&63,Fe>127&&(H=Fe));break;case 3:Ce=$[F+1],Ue=$[F+2],(Ce&192)===128&&(Ue&192)===128&&(Fe=(j&15)<<12|(Ce&63)<<6|Ue&63,Fe>2047&&(Fe<55296||Fe>57343)&&(H=Fe));break;case 4:Ce=$[F+1],Ue=$[F+2],Ke=$[F+3],(Ce&192)===128&&(Ue&192)===128&&(Ke&192)===128&&(Fe=(j&15)<<18|(Ce&63)<<12|(Ue&63)<<6|Ke&63,Fe>65535&&Fe<1114112&&(H=Fe))}}H===null?(H=65533,ye=1):H>65535&&(H-=65536,y.push(H>>>10&1023|55296),H=56320|H&1023),y.push(H),F+=ye}return ce(y)}var fe=4096;function ce($){var d=$.length;if(d<=fe)return String.fromCharCode.apply(String,$);for(var g="",y=0;y<d;)g+=String.fromCharCode.apply(String,$.slice(y,y+=fe));return g}function Te($,d,g){var y="";g=Math.min($.length,g);for(var F=d;F<g;++F)y+=String.fromCharCode($[F]&127);return y}function ge($,d,g){var y="";g=Math.min($.length,g);for(var F=d;F<g;++F)y+=String.fromCharCode($[F]);return y}function Oe($,d,g){var y=$.length;(!d||d<0)&&(d=0),(!g||g<0||g>y)&&(g=y);for(var F="",j=d;j<g;++j)F+=it($[j]);return F}function xe($,d,g){for(var y=$.slice(d,g),F="",j=0;j<y.length;j+=2)F+=String.fromCharCode(y[j]+y[j+1]*256);return F}u.prototype.slice=function(d,g){var y=this.length;d=~~d,g=g===void 0?y:~~g,d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),g<0?(g+=y,g<0&&(g=0)):g>y&&(g=y),g<d&&(g=d);var F;if(u.TYPED_ARRAY_SUPPORT)F=this.subarray(d,g),F.__proto__=u.prototype;else{var j=g-d;F=new u(j,void 0);for(var H=0;H<j;++H)F[H]=this[H+d]}return F};function Ee($,d,g){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+d>g)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(d,g,y){d=d|0,g=g|0,y||Ee(d,g,this.length);for(var F=this[d],j=1,H=0;++H<g&&(j*=256);)F+=this[d+H]*j;return F},u.prototype.readUIntBE=function(d,g,y){d=d|0,g=g|0,y||Ee(d,g,this.length);for(var F=this[d+--g],j=1;g>0&&(j*=256);)F+=this[d+--g]*j;return F},u.prototype.readUInt8=function(d,g){return g||Ee(d,1,this.length),this[d]},u.prototype.readUInt16LE=function(d,g){return g||Ee(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUInt16BE=function(d,g){return g||Ee(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUInt32LE=function(d,g){return g||Ee(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},u.prototype.readUInt32BE=function(d,g){return g||Ee(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readIntLE=function(d,g,y){d=d|0,g=g|0,y||Ee(d,g,this.length);for(var F=this[d],j=1,H=0;++H<g&&(j*=256);)F+=this[d+H]*j;return j*=128,F>=j&&(F-=Math.pow(2,8*g)),F},u.prototype.readIntBE=function(d,g,y){d=d|0,g=g|0,y||Ee(d,g,this.length);for(var F=g,j=1,H=this[d+--F];F>0&&(j*=256);)H+=this[d+--F]*j;return j*=128,H>=j&&(H-=Math.pow(2,8*g)),H},u.prototype.readInt8=function(d,g){return g||Ee(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},u.prototype.readInt16LE=function(d,g){g||Ee(d,2,this.length);var y=this[d]|this[d+1]<<8;return y&32768?y|4294901760:y},u.prototype.readInt16BE=function(d,g){g||Ee(d,2,this.length);var y=this[d+1]|this[d]<<8;return y&32768?y|4294901760:y},u.prototype.readInt32LE=function(d,g){return g||Ee(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,g){return g||Ee(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readFloatLE=function(d,g){return g||Ee(d,4,this.length),i.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,g){return g||Ee(d,4,this.length),i.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,g){return g||Ee(d,8,this.length),i.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,g){return g||Ee(d,8,this.length),i.read(this,d,!1,52,8)};function Se($,d,g,y,F,j){if(!u.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>F||d<j)throw new RangeError('"value" argument is out of bounds');if(g+y>$.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(d,g,y,F){if(d=+d,g=g|0,y=y|0,!F){var j=Math.pow(2,8*y)-1;Se(this,d,g,y,j,0)}var H=1,ye=0;for(this[g]=d&255;++ye<y&&(H*=256);)this[g+ye]=d/H&255;return g+y},u.prototype.writeUIntBE=function(d,g,y,F){if(d=+d,g=g|0,y=y|0,!F){var j=Math.pow(2,8*y)-1;Se(this,d,g,y,j,0)}var H=y-1,ye=1;for(this[g+H]=d&255;--H>=0&&(ye*=256);)this[g+H]=d/ye&255;return g+y},u.prototype.writeUInt8=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,1,255,0),u.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[g]=d&255,g+1};function Z($,d,g,y){d<0&&(d=65535+d+1);for(var F=0,j=Math.min($.length-g,2);F<j;++F)$[g+F]=(d&255<<8*(y?F:1-F))>>>(y?F:1-F)*8}u.prototype.writeUInt16LE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[g]=d&255,this[g+1]=d>>>8):Z(this,d,g,!0),g+2},u.prototype.writeUInt16BE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[g]=d>>>8,this[g+1]=d&255):Z(this,d,g,!1),g+2};function ue($,d,g,y){d<0&&(d=4294967295+d+1);for(var F=0,j=Math.min($.length-g,4);F<j;++F)$[g+F]=d>>>(y?F:3-F)*8&255}u.prototype.writeUInt32LE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[g+3]=d>>>24,this[g+2]=d>>>16,this[g+1]=d>>>8,this[g]=d&255):ue(this,d,g,!0),g+4},u.prototype.writeUInt32BE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255):ue(this,d,g,!1),g+4},u.prototype.writeIntLE=function(d,g,y,F){if(d=+d,g=g|0,!F){var j=Math.pow(2,8*y-1);Se(this,d,g,y,j-1,-j)}var H=0,ye=1,Ce=0;for(this[g]=d&255;++H<y&&(ye*=256);)d<0&&Ce===0&&this[g+H-1]!==0&&(Ce=1),this[g+H]=(d/ye>>0)-Ce&255;return g+y},u.prototype.writeIntBE=function(d,g,y,F){if(d=+d,g=g|0,!F){var j=Math.pow(2,8*y-1);Se(this,d,g,y,j-1,-j)}var H=y-1,ye=1,Ce=0;for(this[g+H]=d&255;--H>=0&&(ye*=256);)d<0&&Ce===0&&this[g+H+1]!==0&&(Ce=1),this[g+H]=(d/ye>>0)-Ce&255;return g+y},u.prototype.writeInt8=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,1,127,-128),u.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[g]=d&255,g+1},u.prototype.writeInt16LE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[g]=d&255,this[g+1]=d>>>8):Z(this,d,g,!0),g+2},u.prototype.writeInt16BE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[g]=d>>>8,this[g+1]=d&255):Z(this,d,g,!1),g+2},u.prototype.writeInt32LE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[g]=d&255,this[g+1]=d>>>8,this[g+2]=d>>>16,this[g+3]=d>>>24):ue(this,d,g,!0),g+4},u.prototype.writeInt32BE=function(d,g,y){return d=+d,g=g|0,y||Se(this,d,g,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),u.TYPED_ARRAY_SUPPORT?(this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255):ue(this,d,g,!1),g+4};function Ae($,d,g,y,F,j){if(g+y>$.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Ie($,d,g,y,F){return F||Ae($,d,g,4),i.write($,d,g,y,23,4),g+4}u.prototype.writeFloatLE=function(d,g,y){return Ie(this,d,g,!0,y)},u.prototype.writeFloatBE=function(d,g,y){return Ie(this,d,g,!1,y)};function Xe($,d,g,y,F){return F||Ae($,d,g,8),i.write($,d,g,y,52,8),g+8}u.prototype.writeDoubleLE=function(d,g,y){return Xe(this,d,g,!0,y)},u.prototype.writeDoubleBE=function(d,g,y){return Xe(this,d,g,!1,y)},u.prototype.copy=function(d,g,y,F){if(y||(y=0),!F&&F!==0&&(F=this.length),g>=d.length&&(g=d.length),g||(g=0),F>0&&F<y&&(F=y),F===y||d.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),d.length-g<F-y&&(F=d.length-g+y);var j=F-y,H;if(this===d&&y<g&&g<F)for(H=j-1;H>=0;--H)d[H+g]=this[H+y];else if(j<1e3||!u.TYPED_ARRAY_SUPPORT)for(H=0;H<j;++H)d[H+g]=this[H+y];else Uint8Array.prototype.set.call(d,this.subarray(y,y+j),g);return j},u.prototype.fill=function(d,g,y,F){if(typeof d=="string"){if(typeof g=="string"?(F=g,g=0,y=this.length):typeof y=="string"&&(F=y,y=this.length),d.length===1){var j=d.charCodeAt(0);j<256&&(d=j)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!u.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof d=="number"&&(d=d&255);if(g<0||this.length<g||this.length<y)throw new RangeError("Out of range index");if(y<=g)return this;g=g>>>0,y=y===void 0?this.length:y>>>0,d||(d=0);var H;if(typeof d=="number")for(H=g;H<y;++H)this[H]=d;else{var ye=u.isBuffer(d)?d:Ge(new u(d,F).toString()),Ce=ye.length;for(H=0;H<y-g;++H)this[H+g]=ye[H%Ce]}return this};var et=/[^+\/0-9A-Za-z-_]/g;function ot($){if($=lt($).replace(et,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function lt($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function it($){return $<16?"0"+$.toString(16):$.toString(16)}function Ge($,d){d=d||1/0;for(var g,y=$.length,F=null,j=[],H=0;H<y;++H){if(g=$.charCodeAt(H),g>55295&&g<57344){if(!F){if(g>56319){(d-=3)>-1&&j.push(239,191,189);continue}else if(H+1===y){(d-=3)>-1&&j.push(239,191,189);continue}F=g;continue}if(g<56320){(d-=3)>-1&&j.push(239,191,189),F=g;continue}g=(F-55296<<10|g-56320)+65536}else F&&(d-=3)>-1&&j.push(239,191,189);if(F=null,g<128){if((d-=1)<0)break;j.push(g)}else if(g<2048){if((d-=2)<0)break;j.push(g>>6|192,g&63|128)}else if(g<65536){if((d-=3)<0)break;j.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((d-=4)<0)break;j.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return j}function Ye($){for(var d=[],g=0;g<$.length;++g)d.push($.charCodeAt(g)&255);return d}function wt($,d){for(var g,y,F,j=[],H=0;H<$.length&&!((d-=2)<0);++H)g=$.charCodeAt(H),y=g>>8,F=g%256,j.push(F),j.push(y);return j}function St($){return l.toByteArray(ot($))}function $e($,d,g,y){for(var F=0;F<y&&!(F+g>=d.length||F>=$.length);++F)d[F+g]=$[F];return F}function $t($){return $!==$}}).call(e,t(2))},function(r,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}r.exports=t},function(r,e,t){e.byteLength=u,e.toByteArray=f,e.fromByteArray=p;for(var n=[],l=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)n[s]=a[s],l[a.charCodeAt(s)]=s;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;function c(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return v[w-2]==="="?2:v[w-1]==="="?1:0}function u(v){return v.length*3/4-c(v)}function f(v){var w,I,E,B,D,G=v.length;B=c(v),D=new i(G*3/4-B),I=B>0?G-4:G;var L=0;for(w=0;w<I;w+=4)E=l[v.charCodeAt(w)]<<18|l[v.charCodeAt(w+1)]<<12|l[v.charCodeAt(w+2)]<<6|l[v.charCodeAt(w+3)],D[L++]=E>>16&255,D[L++]=E>>8&255,D[L++]=E&255;return B===2?(E=l[v.charCodeAt(w)]<<2|l[v.charCodeAt(w+1)]>>4,D[L++]=E&255):B===1&&(E=l[v.charCodeAt(w)]<<10|l[v.charCodeAt(w+1)]<<4|l[v.charCodeAt(w+2)]>>2,D[L++]=E>>8&255,D[L++]=E&255),D}function h(v){return n[v>>18&63]+n[v>>12&63]+n[v>>6&63]+n[v&63]}function _(v,w,I){for(var E,B=[],D=w;D<I;D+=3)E=(v[D]<<16)+(v[D+1]<<8)+v[D+2],B.push(h(E));return B.join("")}function p(v){for(var w,I=v.length,E=I%3,B="",D=[],G=16383,L=0,x=I-E;L<x;L+=G)D.push(_(v,L,L+G>x?x:L+G));return E===1?(w=v[I-1],B+=n[w>>2],B+=n[w<<4&63],B+="=="):E===2&&(w=(v[I-2]<<8)+v[I-1],B+=n[w>>10],B+=n[w>>4&63],B+=n[w<<2&63],B+="="),D.push(B),D.join("")}},function(r,e){e.read=function(t,n,l,i,a){var s,o,c=a*8-i-1,u=(1<<c)-1,f=u>>1,h=-7,_=l?a-1:0,p=l?-1:1,v=t[n+_];for(_+=p,s=v&(1<<-h)-1,v>>=-h,h+=c;h>0;s=s*256+t[n+_],_+=p,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=o*256+t[n+_],_+=p,h-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-f}return(v?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,n,l,i,a,s){var o,c,u,f=s*8-a-1,h=(1<<f)-1,_=h>>1,p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:s-1,w=i?1:-1,I=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,o=h):(o=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+_>=1?n+=p/u:n+=p*Math.pow(2,1-_),n*u>=2&&(o++,u/=2),o+_>=h?(c=0,o=h):o+_>=1?(c=(n*u-1)*Math.pow(2,a),o=o+_):(c=n*Math.pow(2,_-1)*Math.pow(2,a),o=0));a>=8;t[l+v]=c&255,v+=w,c/=256,a-=8);for(o=o<<a|c,f+=a;f>0;t[l+v]=o&255,v+=w,o/=256,f-=8);t[l+v-w]|=I*128}},function(r,e){var t={}.toString;r.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}}]);function js(r){let e;return{c(){e=K("Upload image file")},l(t){e=Q(t,"Upload image file")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Gs(r){let e,t;return e=new Be({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[6],$$slots:{default:[js]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&4&&(i.onClick=n[6]),l&512&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Yr(r){let e,t;return e=new Je({props:{secondary:!0,style:{"margin-top":"5px",overflow:"hidden"},$$slots:{default:[zs]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&514&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function zs(r){let e,t;return{c(){e=T("img"),this.h()},l(n){e=A(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Rn(e.src,t=r[1])||k(e,"src",t),k(e,"alt",""),k(e,"class","svelte-23h5j9")},m(n,l){R(n,e,l)},p(n,l){l&2&&!Rn(e.src,t=n[1])&&k(e,"src",t)},d(n){n&&m(e)}}}function Hs(r){let e,t,n,l,i,a,s,o;l=new Je({props:{secondary:!0,$$slots:{default:[Gs]},$$scope:{ctx:r}}});let c=r[1]&&Yr(r);return{c(){e=T("div"),t=T("input"),n=P(),Y(l.$$.fragment),i=P(),c&&c.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=C(e);t=A(f,"INPUT",{type:!0,accept:!0,class:!0}),n=O(f),X(l.$$.fragment,f),i=O(f),c&&c.l(f),f.forEach(m),this.h()},h(){k(t,"type","file"),k(t,"accept","image/jpeg, image/png, .tga"),k(t,"class","svelte-23h5j9"),k(e,"class","tga-view svelte-23h5j9")},m(u,f){R(u,e,f),b(e,t),r[4](t),b(e,n),q(l,e,null),b(e,i),c&&c.m(e,null),a=!0,s||(o=pe(t,"change",r[5]),s=!0)},p(u,[f]){const h={};f&516&&(h.$$scope={dirty:f,ctx:u}),l.$set(h),u[1]?c?(c.p(u,f),f&2&&U(c,1)):(c=Yr(u),c.c(),U(c,1),c.m(e,null)):c&&(me(),S(c,1,1,()=>{c=null}),ve())},i(u){a||(U(l.$$.fragment,u),U(c),a=!0)},o(u){S(l.$$.fragment,u),S(c),a=!1},d(u){u&&m(e),r[4](null),J(l),c&&c.d(),s=!1,o()}}}function Ws(r,e,t){let{content:n}=e,{onChange:l}=e,i,a;const s={jpg:[255,216],png:[137,80,78,71,13,10,26,10]},o=(h,_)=>_.every((p,v)=>p===h[v]);function c(h){bt[h?"unshift":"push"](()=>{a=h,t(2,a)})}const u=async()=>{var h,_;l(await((_=(h=a.files)==null?void 0:h[0])==null?void 0:_.arrayBuffer()))},f=()=>a.click();return r.$$set=h=>{"content"in h&&t(3,n=h.content),"onChange"in h&&t(0,l=h.onChange)},r.$$.update=()=>{if(r.$$.dirty&8){const h=new Uint8Array(n);let _;if(!n||!h.length)t(1,i="");else if(o(h,s.jpg))_=new Blob([h],{type:"image/jpeg"}),t(1,i=window.URL.createObjectURL(_));else if(o(h,s.png))_=new Blob([h],{type:"image/png"}),t(1,i=window.URL.createObjectURL(_));else{const p=Vs.imageWithData(n);p.didLoad.then(()=>{t(1,i=p.image.src)})}}},[l,i,a,n,c,u,f]}class qr extends se{constructor(e){super(),oe(this,e,Ws,Hs,ie,{content:3,onChange:0})}}function xs(r){let e,t,n;return{c(){e=T("input"),this.h()},l(l){e=A(l,"INPUT",{type:!0}),this.h()},h(){k(e,"type","checkbox"),e.checked=r[0]},m(l,i){R(l,e,i),t||(n=pe(e,"click",function(){Nt(r[1])&&r[1].apply(this,arguments)}),t=!0)},p(l,[i]){r=l,i&1&&(e.checked=r[0])},i:le,o:le,d(l){l&&m(e),t=!1,n()}}}function Ys(r,e,t){let{checked:n}=e,{onClick:l}=e;return r.$$set=i=>{"checked"in i&&t(0,n=i.checked),"onClick"in i&&t(1,l=i.onClick)},[n,l]}class Sl extends se{constructor(e){super(),oe(this,e,Ys,xs,ie,{checked:0,onClick:1})}}function qs(r){let e,t;return{c(){e=T("div"),t=K("Params empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var l=C(e);t=Q(l,"Params empty! Nothing to see here."),l.forEach(m),this.h()},h(){k(e,"class","empty svelte-oadag3")},m(n,l){R(n,e,l),b(e,t)},p:le,i:le,o:le,d(n){n&&m(e)}}}function Js(r){let e,t,n;return t=new Zt({props:{columns:["","Index","Label","pData"],columnConfig:{Label:{stretch:!0}},rows:r[0].params.map(r[5])}}),{c(){e=T("div"),Y(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);X(t.$$.fragment,i),i.forEach(m),this.h()},h(){k(e,"class","table-wrap svelte-oadag3")},m(l,i){R(l,e,i),q(t,e,null),n=!0},p(l,i){const a={};i&1&&(a.rows=l[0].params.map(l[5])),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&m(e),J(t)}}}function Xs(r){let e,t,n,l;const i=[Js,qs],a=[];function s(o,c){return o[0].params.length>0?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=we()},l(o){t.l(o),n=we()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),S(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){S(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function Ks(r,e,t){let{content:n}=e,{onChange:l}=e;const i=c=>l(de(n,u=>{u.params=Qt(u.params,c)})),a=(c,u)=>l(de(n,f=>{const h=f.params[u];h&&(h.label=c)})),s=c=>l(de(n,u=>{const f=u.params[c];f&&(f.pdata=f.pdata?0:1)})),o=(c,u)=>({"":{component:Vt,props:{onClick:()=>i(u),"aria-label":`remove param ${u}`}},Index:je(u,4),Label:{component:Qe,props:{value:c.label,onChange:f=>a(f,u),style:"width: 100%"}},pData:{component:Sl,props:{checked:c.pdata>0,onClick:()=>s(u)}}});return r.$$set=c=>{"content"in c&&t(0,n=c.content),"onChange"in c&&t(4,l=c.onChange)},[n,i,a,s,l,o]}class Jr extends se{constructor(e){super(),oe(this,e,Ks,Xs,ie,{content:0,onChange:4})}}function Qs(r){let e,t;return{c(){e=T("div"),t=K("Locals empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var l=C(e);t=Q(l,"Locals empty! Nothing to see here."),l.forEach(m),this.h()},h(){k(e,"class","empty svelte-oadag3")},m(n,l){R(n,e,l),b(e,t)},p:le,i:le,o:le,d(n){n&&m(e)}}}function Zs(r){let e,t,n;return t=new Zt({props:{columns:["","Index","Label"],columnConfig:{Label:{stretch:!0}},rows:r[0].locals.map(r[4])}}),{c(){e=T("div"),Y(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);X(t.$$.fragment,i),i.forEach(m),this.h()},h(){k(e,"class","table-wrap svelte-oadag3")},m(l,i){R(l,e,i),q(t,e,null),n=!0},p(l,i){const a={};i&1&&(a.rows=l[0].locals.map(l[4])),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){l&&m(e),J(t)}}}function eo(r){let e,t,n,l;const i=[Zs,Qs],a=[];function s(o,c){return o[0].locals.length>0?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=we()},l(o){t.l(o),n=we()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),S(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){S(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function to(r,e,t){let{content:n}=e,{onChange:l}=e;const i=o=>l(de(n,c=>{c.locals=Qt(c.locals,o)})),a=(o,c)=>l(de(n,u=>{u.locals[c]=o})),s=(o,c)=>({"":{component:Vt,props:{onClick:()=>i(c),"aria-label":`remove local ${c}`}},Index:je(c,4),Label:{component:Qe,props:{value:o,onChange:u=>a(u,c),style:"width: 100%"}}});return r.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,l=o.onChange)},[n,i,a,l,s]}class Xr extends se{constructor(e){super(),oe(this,e,to,eo,ie,{content:0,onChange:3})}}function Kr(r){let e,t;return e=new Be({props:{onClick:r[6],$$slots:{default:[no]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&8&&(i.onClick=n[6]),l&256&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function no(r){let e;return{c(){e=K("Edit BHAV")},l(t){e=Q(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function ro(r){let e,t;return{c(){e=K("Append new "),t=K(r[2])},l(n){e=Q(n,"Append new "),t=Q(n,r[2])},m(n,l){R(n,e,l),R(n,t,l)},p(n,l){l&4&&Re(t,n[2])},d(n){n&&m(e),n&&m(t)}}}function lo(r){let e,t,n,l=r[3]&&Kr(r);return t=new Be({props:{onClick:r[4],$$slots:{default:[ro]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=P(),Y(t.$$.fragment)},l(i){l&&l.l(i),e=O(i),X(t.$$.fragment,i)},m(i,a){l&&l.m(i,a),R(i,e,a),q(t,i,a),n=!0},p(i,a){i[3]?l?(l.p(i,a),a&8&&U(l,1)):(l=Kr(i),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(me(),S(l,1,1,()=>{l=null}),ve());const s={};a&260&&(s.$$scope={dirty:a,ctx:i}),t.$set(s)},i(i){n||(U(l),U(t.$$.fragment,i),n=!0)},o(i){S(l),S(t.$$.fragment,i),n=!1},d(i){l&&l.d(i),i&&m(e),J(t,i)}}}function io(r){let e,t,n,l,i;return t=new Je({props:{secondary:!0,style:{display:"flex","align-items":"center",gap:"var(--spacing-md)"},$$slots:{default:[lo]},$$scope:{ctx:r}}}),l=new jt({props:{tabs:{param:{title:"Params",hideClose:!0,content:Jr,props:{content:r[0],onChange:r[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:r[0],onChange:r[1]}}},activeTab:r[2],onChange:r[7],onClose:ao,headingLevel:"h3",style:{border:"0",padding:"0",flex:"1",overflow:"hidden"},contentStyle:{overflow:"auto",padding:"0"}}}),{c(){e=T("div"),Y(t.$$.fragment),n=P(),Y(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=C(e);X(t.$$.fragment,s),n=O(s),X(l.$$.fragment,s),s.forEach(m),this.h()},h(){k(e,"class","tprp-view svelte-kkgp8e")},m(a,s){R(a,e,s),q(t,e,null),b(e,n),q(l,e,null),i=!0},p(a,[s]){const o={};s&268&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&3&&(c.tabs={param:{title:"Params",hideClose:!0,content:Jr,props:{content:a[0],onChange:a[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:a[0],onChange:a[1]}}}),s&4&&(c.activeTab=a[2]),s&4&&(c.onChange=a[7]),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){S(t.$$.fragment,a),S(l.$$.fragment,a),i=!1},d(a){a&&m(e),J(t),J(l)}}}const ao=()=>null;function so(r,e,t){let n,l;tt(r,be,f=>t(5,l=f));let{content:i}=e,{onChange:a}=e,s="param";const o=()=>a(de(i,f=>{s==="param"?f.params.push({...At.TPRP.params[0]}):f.locals.push("")})),c=()=>be.openResource(n),u=f=>{t(2,s=f)};return r.$$set=f=>{"content"in f&&t(0,i=f.content),"onChange"in f&&t(1,a=f.onChange)},r.$$.update=()=>{r.$$.dirty&32&&t(3,n=_e(l).linkedResourceId("BHAV"))},[i,a,s,n,o,l,c,u]}class oo extends se{constructor(e){super(),oe(this,e,so,io,ie,{content:0,onChange:1})}}function co(r){let e,t;return{c(){e=T("span"),t=K("Warning: failed to find BCON file with matching instance id"),this.h()},l(n){e=A(n,"SPAN",{class:!0});var l=C(e);t=Q(l,"Warning: failed to find BCON file with matching instance id"),l.forEach(m),this.h()},h(){k(e,"class","warn svelte-daywxd")},m(n,l){R(n,e,l),b(e,t)},p:le,i:le,o:le,d(n){n&&m(e)}}}function uo(r){let e,t;return e=new Be({props:{onClick:r[8],$$slots:{default:[fo]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&4&&(i.onClick=n[8]),l&1024&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function fo(r){let e;return{c(){e=K("Edit BCON")},l(t){e=Q(t,"Edit BCON")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function ho(r){let e;return{c(){e=K("Append new value")},l(t){e=Q(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function go(r){let e,t,n,l,i;const a=[uo,co],s=[];function o(c,u){return c[2]?0:1}return e=o(r),t=s[e]=a[e](r),l=new Be({props:{onClick:r[6],style:"margin-left: 5px",$$slots:{default:[ho]},$$scope:{ctx:r}}}),{c(){t.c(),n=P(),Y(l.$$.fragment)},l(c){t.l(c),n=O(c),X(l.$$.fragment,c)},m(c,u){s[e].m(c,u),R(c,n,u),q(l,c,u),i=!0},p(c,u){let f=e;e=o(c),e===f?s[e].p(c,u):(me(),S(s[f],1,1,()=>{s[f]=null}),ve(),t=s[e],t?t.p(c,u):(t=s[e]=a[e](c),t.c()),U(t,1),t.m(n.parentNode,n));const h={};u&1024&&(h.$$scope={dirty:u,ctx:c}),l.$set(h)},i(c){i||(U(t),U(l.$$.fragment,c),i=!0)},o(c){S(t),S(l.$$.fragment,c),i=!1},d(c){s[e].d(c),c&&m(n),J(l,c)}}}function _o(r){var n;let e,t;return e=new Zt({props:{columns:["","Value","Label","Default","Min","Max","Used"],columnConfig:{"":{shrink:!0}},rows:Pn(Math.max(r[0].items.length,((n=r[3])==null?void 0:n.length)??0),r[9])}}),{c(){Y(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,i){q(e,l,i),t=!0},p(l,i){var s;const a={};i&11&&(a.rows=Pn(Math.max(l[0].items.length,((s=l[3])==null?void 0:s.length)??0),l[9])),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function po(r){let e,t,n,l,i;return t=new Je({props:{secondary:!0,style:{"margin-bottom":"5px"},$$slots:{default:[go]},$$scope:{ctx:r}}}),l=new Je({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[_o]},$$scope:{ctx:r}}}),{c(){e=T("div"),Y(t.$$.fragment),n=P(),Y(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=C(e);X(t.$$.fragment,s),n=O(s),X(l.$$.fragment,s),s.forEach(m),this.h()},h(){k(e,"class","trcn-view svelte-daywxd")},m(a,s){R(a,e,s),q(t,e,null),b(e,n),q(l,e,null),i=!0},p(a,[s]){const o={};s&1028&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){S(t.$$.fragment,a),S(l.$$.fragment,a),i=!1},d(a){a&&m(e),J(t),J(l)}}}function mo(r,e,t){let n;tt(r,be,_=>t(7,n=_));let{content:l}=e,{onChange:i}=e,a,s;const o=(_,p,v)=>{const w=l.items[v];return w?{component:Qe,props:{variant:p,maxLength:p==="hex"?4:void 0,onChange:I=>i(de(l,E=>{const B=E.items[v];B&&(B[_]=I)})),value:w[_],style:"width: 100%; min-width: 75px;"}}:void 0},c=_=>{_.forEach((p,v)=>{p.constId=v+1})},u=()=>{i(de(l,_=>{_.items.push({...At.TRCN.items[0]}),c(_.items)}))},f=()=>a?be.openResource(a):null,h=_=>{const p=l.items[_];return{"":p?{component:Vt,props:{onClick:()=>{i(de(l,v=>{v.items=Qt(v.items,_),c(v.items)}))},"aria-label":`delete line ${_}`}}:"",Value:(s==null?void 0:s[_])!==void 0?je(s[_],4):void 0,Label:o("constName","text",_),Default:o("value","hex",_),Min:o("minValue","hex",_),Max:o("maxValue","hex",_),Used:p?{component:Sl,props:{checked:!!(p!=null&&p.used),onClick:()=>i(de(l,v=>{const w=v.items[_];w&&(w.used=w.used?0:1)}))}}:""}};return r.$$set=_=>{"content"in _&&t(0,l=_.content),"onChange"in _&&t(1,i=_.onChange)},r.$$.update=()=>{var _;if(r.$$.dirty&132){t(2,a=_e(n).linkedResourceId("BCON"));const p=_e(n).resourceById(a);t(3,s=((_=p==null?void 0:p.contentChanges)==null?void 0:_.items)??(p==null?void 0:p.content.items))}},[l,i,a,s,o,c,u,n,f,h]}class vo extends se{constructor(e){super(),oe(this,e,mo,po,ie,{content:0,onChange:1})}}function Qr(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function Zr(r,e,t){const n=r.slice();return n[14]=e[t],n[16]=t,n}function el(r,e,t){const n=r.slice();return n[17]=e[t],n[19]=t,n}function tl(r){let e,t=r[17]+"",n,l;return{c(){e=T("option"),n=K(t),l=P(),this.h()},l(i){e=A(i,"OPTION",{});var a=C(e);n=Q(a,t),l=O(a),a.forEach(m),this.h()},h(){e.__value=r[19],e.value=e.__value},m(i,a){R(i,e,a),b(e,n),b(e,l)},p:le,d(i){i&&m(e)}}}function nl(r){var W,V,N,M,z,re,ne,ee;let e,t,n=r[14]+"",l,i,a,s,o,c,u,f,h,_,p,v,w,I,E;function B(...te){return r[8](r[13],r[16],...te)}s=new Qe({props:{variant:"hex",maxLength:4,value:((M=(N=(V=(W=r[0])==null?void 0:W[r[13]])==null?void 0:V.items)==null?void 0:N[r[16]])==null?void 0:M.min)??0,onChange:B,style:"width: 100%; min-width: 75px;"}});function D(...te){return r[9](r[13],r[16],...te)}u=new Qe({props:{variant:"hex",maxLength:4,value:((ee=(ne=(re=(z=r[0])==null?void 0:z[r[13]])==null?void 0:re.items)==null?void 0:ne[r[16]])==null?void 0:ee.delta)??0,onChange:D,style:"width: 100%; min-width: 75px;"}});let G=r[2],L=[];for(let te=0;te<G.length;te+=1)L[te]=tl(el(r,G,te));function x(...te){return r[10](r[13],r[16],...te)}return{c(){e=T("tr"),t=T("td"),l=K(n),i=P(),a=T("td"),Y(s.$$.fragment),o=P(),c=T("td"),Y(u.$$.fragment),f=P(),h=T("td"),_=T("select");for(let te=0;te<L.length;te+=1)L[te].c();v=P(),this.h()},l(te){e=A(te,"TR",{});var ae=C(e);t=A(ae,"TD",{class:!0});var fe=C(t);l=Q(fe,n),fe.forEach(m),i=O(ae),a=A(ae,"TD",{class:!0});var ce=C(a);X(s.$$.fragment,ce),ce.forEach(m),o=O(ae),c=A(ae,"TD",{class:!0});var Te=C(c);X(u.$$.fragment,Te),Te.forEach(m),f=O(ae),h=A(ae,"TD",{class:!0});var ge=C(h);_=A(ge,"SELECT",{class:!0});var Oe=C(_);for(let xe=0;xe<L.length;xe+=1)L[xe].l(Oe);Oe.forEach(m),ge.forEach(m),v=O(ae),ae.forEach(m),this.h()},h(){k(t,"class","svelte-10xwf4"),k(a,"class","svelte-10xwf4"),k(c,"class","svelte-10xwf4"),k(_,"class","svelte-10xwf4"),k(h,"class","svelte-10xwf4")},m(te,ae){var fe,ce,Te,ge;R(te,e,ae),b(e,t),b(t,l),b(e,i),b(e,a),q(s,a,null),b(e,o),b(e,c),q(u,c,null),b(e,f),b(e,h),b(h,_);for(let Oe=0;Oe<L.length;Oe+=1)L[Oe].m(_,null);Ze(_,((ge=(Te=(ce=(fe=r[0])==null?void 0:fe[r[13]])==null?void 0:ce.items)==null?void 0:Te[r[16]])==null?void 0:ge.type)??0),b(e,v),w=!0,I||(E=pe(_,"change",x),I=!0)},p(te,ae){var Te,ge,Oe,xe,Ee,Se,Z,ue,Ae,Ie,Xe,et,ot,lt,it,Ge;r=te;const fe={};ae&1&&(fe.value=((xe=(Oe=(ge=(Te=r[0])==null?void 0:Te[r[13]])==null?void 0:ge.items)==null?void 0:Oe[r[16]])==null?void 0:xe.min)??0),s.$set(fe);const ce={};if(ae&1&&(ce.value=((ue=(Z=(Se=(Ee=r[0])==null?void 0:Ee[r[13]])==null?void 0:Se.items)==null?void 0:Z[r[16]])==null?void 0:ue.delta)??0),u.$set(ce),ae&4){G=r[2];let Ye;for(Ye=0;Ye<G.length;Ye+=1){const wt=el(r,G,Ye);L[Ye]?L[Ye].p(wt,ae):(L[Ye]=tl(wt),L[Ye].c(),L[Ye].m(_,null))}for(;Ye<L.length;Ye+=1)L[Ye].d(1);L.length=G.length}(!w||ae&1&&p!==(p=((et=(Xe=(Ie=(Ae=r[0])==null?void 0:Ae[r[13]])==null?void 0:Ie.items)==null?void 0:Xe[r[16]])==null?void 0:et.type)??0))&&Ze(_,((Ge=(it=(lt=(ot=r[0])==null?void 0:ot[r[13]])==null?void 0:lt.items)==null?void 0:it[r[16]])==null?void 0:Ge.type)??0)},i(te){w||(U(s.$$.fragment,te),U(u.$$.fragment,te),w=!0)},o(te){S(s.$$.fragment,te),S(u.$$.fragment,te),w=!1},d(te){te&&m(e),J(s),J(u),Le(L,te),I=!1,E()}}}function bo(r){let e,t,n,l,i,a,s,o,c,u,f,h,_,p,v,w,I=r[3],E=[];for(let D=0;D<I.length;D+=1)E[D]=nl(Zr(r,I,D));const B=D=>S(E[D],1,1,()=>{E[D]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),l=P(),i=T("th"),a=K("Min."),s=P(),o=T("th"),c=K("Delta"),u=P(),f=T("th"),h=K("Type"),_=P(),p=T("tbody");for(let D=0;D<E.length;D+=1)E[D].c();v=P(),this.h()},l(D){e=A(D,"TABLE",{class:!0});var G=C(e);t=A(G,"THEAD",{});var L=C(t);n=A(L,"TH",{class:!0}),C(n).forEach(m),l=O(L),i=A(L,"TH",{class:!0});var x=C(i);a=Q(x,"Min."),x.forEach(m),s=O(L),o=A(L,"TH",{class:!0});var W=C(o);c=Q(W,"Delta"),W.forEach(m),u=O(L),f=A(L,"TH",{class:!0});var V=C(f);h=Q(V,"Type"),V.forEach(m),L.forEach(m),_=O(G),p=A(G,"TBODY",{});var N=C(p);for(let M=0;M<E.length;M+=1)E[M].l(N);N.forEach(m),G.forEach(m),v=O(D),this.h()},h(){k(n,"class","svelte-10xwf4"),k(i,"class","svelte-10xwf4"),k(o,"class","svelte-10xwf4"),k(f,"class","svelte-10xwf4"),k(e,"class","svelte-10xwf4")},m(D,G){R(D,e,G),b(e,t),b(t,n),b(t,l),b(t,i),b(i,a),b(t,s),b(t,o),b(o,c),b(t,u),b(t,f),b(f,h),b(e,_),b(e,p);for(let L=0;L<E.length;L+=1)E[L].m(p,null);R(D,v,G),w=!0},p(D,G){if(G&29){I=D[3];let L;for(L=0;L<I.length;L+=1){const x=Zr(D,I,L);E[L]?(E[L].p(x,G),U(E[L],1)):(E[L]=nl(x),E[L].c(),U(E[L],1),E[L].m(p,null))}for(me(),L=I.length;L<E.length;L+=1)B(L);ve()}},i(D){if(!w){for(let G=0;G<I.length;G+=1)U(E[G]);w=!0}},o(D){E=E.filter(Boolean);for(let G=0;G<E.length;G+=1)S(E[G]);w=!1},d(D){D&&m(e),Le(E,D),D&&m(v)}}}function rl(r){let e,t;return e=new kt({props:{title:r[11],headingLevel:"h4",$$slots:{default:[bo]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l&1048577&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function wo(r){let e,t,n=r[1],l=[];for(let a=0;a<n.length;a+=1)l[a]=rl(Qr(r,n,a));const i=a=>S(l[a],1,1,()=>{l[a]=null});return{c(){e=T("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=A(a,"DIV",{class:!0});var s=C(e);for(let o=0;o<l.length;o+=1)l[o].l(s);s.forEach(m),this.h()},h(){k(e,"class","motive-tables svelte-10xwf4")},m(a,s){R(a,e,s);for(let o=0;o<l.length;o+=1)l[o].m(e,null);t=!0},p(a,[s]){if(s&31){n=a[1];let o;for(o=0;o<n.length;o+=1){const c=Qr(a,n,o);l[o]?(l[o].p(c,s),U(l[o],1)):(l[o]=rl(c),l[o].c(),U(l[o],1),l[o].m(e,null))}for(me(),o=n.length;o<l.length;o+=1)i(o);ve()}},i(a){if(!t){for(let s=0;s<n.length;s+=1)U(l[s]);t=!0}},o(a){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)S(l[s]);t=!1},d(a){a&&m(e),Le(l,a)}}}function $o(r,e,t){let n,{content:l}=e,{onChange:i}=e,{index:a}=e;const s=["Adult","Child","Toddler","Teen","Elder","Cat","Dog"],o=["None","Nice","Grouchy","Active","Lazy","Generous","Selfish","Playful","Serious","Outgoing","Shy","Neat","Sloppy","Cleaning skill","Cooking skill","Charisma skill","Mechanical skill","Gardening skill","Music skill","Creative skill","Literacy skill","Physical skill","Logic skill"],c=["Shopping","Scratch/chew","Unused","Mood","Mood + mem","Energy","Comfort","Hunger","Water/hygiene","Bladder","Unused","Sleep state","Amorous","Environment","Social","Fun"],u=(p,v,w,I)=>i(de(l,E=>{var G;const B=((G=E.items[a])==null?void 0:G.humanGroups.groups)??[];for(;w>=B.length;)B.push({items:[]});const D=B[w];if(D){for(;I>=D.items.length;)D.items.push({min:0,delta:0,type:0});const L=D.items[I];L&&(L[p]=v)}})),f=(p,v,w)=>u("min",w,p,v),h=(p,v,w)=>u("delta",w,p,v),_=(p,v,w)=>{u("type",parseInt(w.currentTarget.value),p,v)};return r.$$set=p=>{"content"in p&&t(5,l=p.content),"onChange"in p&&t(6,i=p.onChange),"index"in p&&t(7,a=p.index)},r.$$.update=()=>{var p;r.$$.dirty&160&&t(0,n=((p=l.items[a])==null?void 0:p.humanGroups.groups)??[])},[n,s,o,c,u,l,i,a,f,h,_]}class ll extends se{constructor(e){super(),oe(this,e,$o,wo,ie,{content:5,onChange:6,index:7})}}const yo=["Visitor","Joinable","Immediately","Consecutive","Children","Demo child","Adults","Debug menu","Auto first","Toddlers","Elders","Teens","Dogs","Cats","Allow nested","Nest"],ko=["Babies",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],Eo=["Visitor","Joinable?","Immediately","Consecutive?","Children","2-way?","Adults","Debug menu?","Auto first?","Toddlers","Elders","Teens","Adult big dogs","Adult cats","Allow nested","Nest"],Io=["Babies",null,null,null,null,null,null,null,"Puppies","Kittens","Elder cats","Adult small dogs","Elder small dogs",null,null];function il(r,e,t){const n=r.slice();return n[22]=e[t],n}function al(r,e,t){const n=r.slice();return n[25]=e[t],n[27]=t,n}function sl(r,e,t){const n=r.slice();return n[25]=e[t],n[27]=t,n}function ol(r,e,t){const n=r.slice();return n[29]=e[t],n[27]=t,n}function Co(r){let e,t;return e=new Be({props:{onClick:r[14],$$slots:{default:[Ao]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function To(r){let e,t;return e=new Be({props:{onClick:r[13],$$slots:{default:[Uo]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,l){const i={};l[0]&1&&(i.onClick=n[13]),l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ao(r){let e;return{c(){e=K("Create TTAS")},l(t){e=Q(t,"Create TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Uo(r){let e;return{c(){e=K("Edit TTAS")},l(t){e=Q(t,"Edit TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function cl(r){let e,t,n=je(r[27],8)+"",l,i,a=r[29]+"",s,o;return{c(){e=T("option"),t=K("("),l=K(n),i=K(") "),s=K(a),o=P(),this.h()},l(c){e=A(c,"OPTION",{});var u=C(e);t=Q(u,"("),l=Q(u,n),i=Q(u,") "),s=Q(u,a),o=O(u),u.forEach(m),this.h()},h(){e.__value=r[27],e.value=e.__value},m(c,u){R(c,e,u),b(e,t),b(e,l),b(e,i),b(e,s),b(e,o)},p(c,u){u[0]&8&&a!==(a=c[29]+"")&&Re(s,a)},d(c){c&&m(e)}}}function ul(r){let e,t,n,l,i=r[25]+"",a,s,o,c;function u(){return r[18](r[27])}return{c(){e=T("label"),t=T("input"),l=P(),a=K(i),s=P(),this.h()},l(f){e=A(f,"LABEL",{});var h=C(e);t=A(h,"INPUT",{type:!0}),l=O(h),a=Q(h,i),s=O(h),h.forEach(m),this.h()},h(){k(t,"type","checkbox"),t.checked=n=r[6](r[27])},m(f,h){R(f,e,h),b(e,t),b(e,l),b(e,a),b(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){r=f,h[0]&64&&n!==(n=r[6](r[27]))&&(t.checked=n),h[0]&32&&i!==(i=r[25]+"")&&Re(a,i)},d(f){f&&m(e),o=!1,c()}}}function Do(r){let e,t=r[5],n=[];for(let l=0;l<t.length;l+=1)n[l]=ul(sl(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){k(e,"class","checkbox-grid svelte-1tpy5t5")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&352){t=l[5];let a;for(a=0;a<t.length;a+=1){const s=sl(l,t,a);n[a]?n[a].p(s,i):(n[a]=ul(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Le(n,l)}}}function fl(r){let e,t,n,l,i=(r[25]??"?")+"",a,s,o,c;function u(){return r[19](r[27])}return{c(){e=T("label"),t=T("input"),l=P(),a=K(i),s=P(),this.h()},l(f){e=A(f,"LABEL",{});var h=C(e);t=A(h,"INPUT",{type:!0}),l=O(h),a=Q(h,i),s=O(h),h.forEach(m),this.h()},h(){var f;k(t,"type","checkbox"),t.checked=n=((((f=r[1])==null?void 0:f.flags2)??0)&1<<r[27])>0},m(f,h){R(f,e,h),b(e,t),b(e,l),b(e,a),b(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){var _;r=f,h[0]&2&&n!==(n=((((_=r[1])==null?void 0:_.flags2)??0)&1<<r[27])>0)&&(t.checked=n),h[0]&16&&i!==(i=(r[25]??"?")+"")&&Re(a,i)},d(f){f&&m(e),o=!1,c()}}}function So(r){let e,t=r[4],n=[];for(let l=0;l<t.length;l+=1)n[l]=fl(al(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=C(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){k(e,"class","checkbox-grid svelte-1tpy5t5")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&274){t=l[4];let a;for(a=0;a<t.length;a+=1){const s=al(l,t,a);n[a]?n[a].p(s,i):(n[a]=fl(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Le(n,l)}}}function hl(r){var a;let e,t;function n(...s){return r[21](r[22],...s)}const l=[r[22],{value:((a=r[1])==null?void 0:a[r[22].key])??0},{onChange:n},{style:"width: 100%"}];let i={};for(let s=0;s<l.length;s+=1)i=he(i,l[s]);return e=new Qe({props:i}),{c(){Y(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,o){q(e,s,o),t=!0},p(s,o){var u;r=s;const c=o[0]&134?Pe(l,[o[0]&4&&kn(r[22]),o[0]&6&&{value:((u=r[1])==null?void 0:u[r[22].key])??0},o[0]&132&&{onChange:n},l[3]]):{};e.$set(c)},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){J(e,s)}}}function Bo(r){var xe,Ee,Se;let e,t,n,l,i,a,s,o,c,u,f,h,_,p,v,w,I,E,B,D,G,L,x,W,V,N,M,z,re,ne;const ee=[To,Co],te=[];function ae(Z,ue){return Z[0]?0:1}o=ae(r),c=te[o]=ee[o](r);let fe=r[3],ce=[];for(let Z=0;Z<fe.length;Z+=1)ce[Z]=cl(ol(r,fe,Z));w=new Xt({props:{value:((xe=r[1])==null?void 0:xe.action)??0,onChange:r[16],label:"Action BHAV"}}),E=new Xt({props:{value:((Ee=r[1])==null?void 0:Ee.guard)??0,onChange:r[17],label:"Guardian BHAV"}}),G=new kt({props:{headingLevel:"h4",title:"Flags",style:"flex: 1",$$slots:{default:[Do]},$$scope:{ctx:r}}}),x=new kt({props:{headingLevel:"h4",title:"Flags2",style:"flex: 1",$$slots:{default:[So]},$$scope:{ctx:r}}}),N=new Qe({props:{variant:"hex",value:((Se=r[1])==null?void 0:Se.attenuationCode)??0,onChange:r[20],label:"Attenuation code",style:"width: 100%"}});let Te=r[2],ge=[];for(let Z=0;Z<Te.length;Z+=1)ge[Z]=hl(il(r,Te,Z));const Oe=Z=>S(ge[Z],1,1,()=>{ge[Z]=null});return{c(){e=T("div"),t=T("div"),n=T("div"),l=T("div"),i=T("label"),a=K("Pie string ID"),s=P(),c.c(),u=P(),f=T("select");for(let Z=0;Z<ce.length;Z+=1)ce[Z].c();_=P(),p=T("div"),v=P(),Y(w.$$.fragment),I=P(),Y(E.$$.fragment),B=P(),D=T("div"),Y(G.$$.fragment),L=P(),Y(x.$$.fragment),W=P(),V=T("div"),Y(N.$$.fragment),M=P();for(let Z=0;Z<ge.length;Z+=1)ge[Z].c();this.h()},l(Z){e=A(Z,"DIV",{class:!0});var ue=C(e);t=A(ue,"DIV",{class:!0});var Ae=C(t);n=A(Ae,"DIV",{});var Ie=C(n);l=A(Ie,"DIV",{class:!0});var Xe=C(l);i=A(Xe,"LABEL",{for:!0});var et=C(i);a=Q(et,"Pie string ID"),et.forEach(m),s=O(Xe),c.l(Xe),Xe.forEach(m),u=O(Ie),f=A(Ie,"SELECT",{id:!0,class:!0});var ot=C(f);for(let Ge=0;Ge<ce.length;Ge+=1)ce[Ge].l(ot);ot.forEach(m),Ie.forEach(m),_=O(Ae),p=A(Ae,"DIV",{}),C(p).forEach(m),v=O(Ae),X(w.$$.fragment,Ae),I=O(Ae),X(E.$$.fragment,Ae),Ae.forEach(m),B=O(ue),D=A(ue,"DIV",{class:!0});var lt=C(D);X(G.$$.fragment,lt),L=O(lt),X(x.$$.fragment,lt),lt.forEach(m),W=O(ue),V=A(ue,"DIV",{class:!0});var it=C(V);X(N.$$.fragment,it),M=O(it);for(let Ge=0;Ge<ge.length;Ge+=1)ge[Ge].l(it);it.forEach(m),ue.forEach(m),this.h()},h(){k(i,"for","pie-string-select"),k(l,"class","label-with-edit svelte-1tpy5t5"),k(f,"id","pie-string-select"),k(f,"class","svelte-1tpy5t5"),k(t,"class","input-grid svelte-1tpy5t5"),k(D,"class","flags-wrapper svelte-1tpy5t5"),k(V,"class","input-grid svelte-1tpy5t5"),k(e,"class","settings svelte-1tpy5t5")},m(Z,ue){var Ae;R(Z,e,ue),b(e,t),b(t,n),b(n,l),b(l,i),b(i,a),b(l,s),te[o].m(l,null),b(n,u),b(n,f);for(let Ie=0;Ie<ce.length;Ie+=1)ce[Ie].m(f,null);Ze(f,((Ae=r[1])==null?void 0:Ae.strIndex)??0),b(t,_),b(t,p),b(t,v),q(w,t,null),b(t,I),q(E,t,null),b(e,B),b(e,D),q(G,D,null),b(D,L),q(x,D,null),b(e,W),b(e,V),q(N,V,null),b(V,M);for(let Ie=0;Ie<ge.length;Ie+=1)ge[Ie].m(V,null);z=!0,re||(ne=pe(f,"change",r[15]),re=!0)},p(Z,ue){var it,Ge,Ye,wt,St;let Ae=o;if(o=ae(Z),o===Ae?te[o].p(Z,ue):(me(),S(te[Ae],1,1,()=>{te[Ae]=null}),ve(),c=te[o],c?c.p(Z,ue):(c=te[o]=ee[o](Z),c.c()),U(c,1),c.m(l,null)),ue[0]&8){fe=Z[3];let $e;for($e=0;$e<fe.length;$e+=1){const $t=ol(Z,fe,$e);ce[$e]?ce[$e].p($t,ue):(ce[$e]=cl($t),ce[$e].c(),ce[$e].m(f,null))}for(;$e<ce.length;$e+=1)ce[$e].d(1);ce.length=fe.length}(!z||ue[0]&2&&h!==(h=((it=Z[1])==null?void 0:it.strIndex)??0))&&Ze(f,((Ge=Z[1])==null?void 0:Ge.strIndex)??0);const Ie={};ue[0]&2&&(Ie.value=((Ye=Z[1])==null?void 0:Ye.action)??0),w.$set(Ie);const Xe={};ue[0]&2&&(Xe.value=((wt=Z[1])==null?void 0:wt.guard)??0),E.$set(Xe);const et={};ue[0]&96|ue[1]&1&&(et.$$scope={dirty:ue,ctx:Z}),G.$set(et);const ot={};ue[0]&18|ue[1]&1&&(ot.$$scope={dirty:ue,ctx:Z}),x.$set(ot);const lt={};if(ue[0]&2&&(lt.value=((St=Z[1])==null?void 0:St.attenuationCode)??0),N.$set(lt),ue[0]&134){Te=Z[2];let $e;for($e=0;$e<Te.length;$e+=1){const $t=il(Z,Te,$e);ge[$e]?(ge[$e].p($t,ue),U(ge[$e],1)):(ge[$e]=hl($t),ge[$e].c(),U(ge[$e],1),ge[$e].m(V,null))}for(me(),$e=Te.length;$e<ge.length;$e+=1)Oe($e);ve()}},i(Z){if(!z){U(c),U(w.$$.fragment,Z),U(E.$$.fragment,Z),U(G.$$.fragment,Z),U(x.$$.fragment,Z),U(N.$$.fragment,Z);for(let ue=0;ue<Te.length;ue+=1)U(ge[ue]);z=!0}},o(Z){S(c),S(w.$$.fragment,Z),S(E.$$.fragment,Z),S(G.$$.fragment,Z),S(x.$$.fragment,Z),S(N.$$.fragment,Z),ge=ge.filter(Boolean);for(let ue=0;ue<ge.length;ue+=1)S(ge[ue]);z=!1},d(Z){Z&&m(e),te[o].d(),Le(ce,Z),J(w),J(E),J(G),J(x),J(N),Le(ge,Z),re=!1,ne()}}}function Fo(r,e,t){let n,l,i,a,s;tt(r,be,V=>t(12,s=V));let{content:o}=e,{onChange:c}=e,{index:u}=e,f=[],h,_=[];const p=(V,N)=>c(de(o,M=>{const z=M.items[u];z&&(z[V]=N)})),v=(V,N)=>c(de(o,M=>{const z=M.items[u];z&&(z[V]^=1<<N)})),w=()=>h?be.openResource(h):null,I=()=>be.createNewResource("TTAS"),E=V=>{p("strIndex",parseInt(V.currentTarget.value))},B=V=>p("action",V),D=V=>p("guard",V),G=V=>v("flags",V),L=V=>v("flags2",V),x=V=>p("attenuationCode",V),W=(V,N)=>p(V.key,N);return r.$$set=V=>{"content"in V&&t(9,o=V.content),"onChange"in V&&t(10,c=V.onChange),"index"in V&&t(11,u=V.index)},r.$$.update=()=>{var V,N;if(r.$$.dirty[0]&512&&t(2,f=[{key:"attenuationValue",variant:"hex",maxLength:8,label:"Attenuation value"},{key:"autonomy",variant:"hex",maxLength:8,label:"Autonomy"},{key:"joinIndex",variant:"hex",maxLength:8,label:"Join index"},{key:"uiDisplayType",variant:"hex",maxLength:4,label:"UI display type",disabled:o.format<=69},{key:"objectType",variant:"hex",maxLength:8,label:"Object type",disabled:o.format<=76},{key:"facialAnimation",variant:"hex",maxLength:8,label:"Facial animation ID",disabled:o.format<=74},{key:"modelTableId",variant:"hex",maxLength:8,label:"Model table ID",disabled:o.format<=70},{key:"memoryIterMult",variant:"hex",maxLength:8,label:"Memory iterative multiplier",disabled:o.format<=76}]),r.$$.dirty[0]&2560&&t(1,n=o.items[u]),r.$$.dirty[0]&4097){t(0,h=_e(s).linkedResourceId("TTAS"));const M=_e(s).resourceById(h);t(3,_=(((V=M==null?void 0:M.contentChanges)==null?void 0:V.stringSets)??((N=M==null?void 0:M.content)==null?void 0:N.stringSets)??[]).map(z=>z.value))}r.$$.dirty[0]&2&&t(6,l=M=>{const z=(((n==null?void 0:n.flags)??0)&1<<M)>0;return M===4||M===5||M===6?!z:z}),r.$$.dirty[0]&512&&t(5,i=o.format>84?Eo:yo),r.$$.dirty[0]&512&&t(4,a=o.format>84?Io:ko)},[h,n,f,_,a,i,l,p,v,o,c,u,s,w,I,E,B,D,G,L,x,W]}class dl extends se{constructor(e){super(),oe(this,e,Fo,Bo,ie,{content:9,onChange:10,index:11},null,[-1,-1])}}function gl(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function _l(r){var o;let e,t,n,l,i=(((o=r[4])==null?void 0:o[r[9].strIndex])??"")+"",a,s;return{c(){e=T("option"),t=K("("),n=K(r[11]),l=K(") "),a=K(i),s=P(),this.h()},l(c){e=A(c,"OPTION",{});var u=C(e);t=Q(u,"("),n=Q(u,r[11]),l=Q(u,") "),a=Q(u,i),s=O(u),u.forEach(m),this.h()},h(){e.__value=r[11],e.value=e.__value},m(c,u){R(c,e,u),b(e,t),b(e,n),b(e,l),b(e,a),b(e,s)},p(c,u){var f;u&17&&i!==(i=(((f=c[4])==null?void 0:f[c[9].strIndex])??"")+"")&&Re(a,i)},d(c){c&&m(e)}}}function Ro(r){let e,t,n,l,i,a,s,o,c,u=r[0].items,f=[];for(let h=0;h<u.length;h+=1)f[h]=_l(gl(r,u,h));return a=new Qe({props:{label:"Format",variant:"hex",maxLength:8,onChange:r[5],value:r[0].format,style:"width: 100%"}}),{c(){e=T("div"),t=T("label"),n=K(`Interaction
				`),l=T("select");for(let h=0;h<f.length;h+=1)f[h].c();i=P(),Y(a.$$.fragment),this.h()},l(h){e=A(h,"DIV",{class:!0});var _=C(e);t=A(_,"LABEL",{});var p=C(t);n=Q(p,`Interaction
				`),l=A(p,"SELECT",{class:!0});var v=C(l);for(let w=0;w<f.length;w+=1)f[w].l(v);v.forEach(m),p.forEach(m),i=O(_),X(a.$$.fragment,_),_.forEach(m),this.h()},h(){k(l,"class","index-select svelte-909bhh"),k(e,"class","controls svelte-909bhh")},m(h,_){R(h,e,_),b(e,t),b(t,n),b(t,l);for(let p=0;p<f.length;p+=1)f[p].m(l,null);Ze(l,r[3]),b(e,i),q(a,e,null),s=!0,o||(c=pe(l,"change",r[7]),o=!0)},p(h,_){if(_&17){u=h[0].items;let v;for(v=0;v<u.length;v+=1){const w=gl(h,u,v);f[v]?f[v].p(w,_):(f[v]=_l(w),f[v].c(),f[v].m(l,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=u.length}(!s||_&8)&&Ze(l,h[3]);const p={};_&1&&(p.value=h[0].format),a.$set(p)},i(h){s||(U(a.$$.fragment,h),s=!0)},o(h){S(a.$$.fragment,h),s=!1},d(h){h&&m(e),Le(f,h),J(a),o=!1,c()}}}function Lo(r){let e,t,n,l,i;return t=new Je({props:{secondary:!0,$$slots:{default:[Ro]},$$scope:{ctx:r}}}),l=new jt({props:{tabs:{settings:{title:"Settings",content:dl,hideClose:!0,props:{content:r[0],onChange:r[1],index:r[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:r[0],onChange:r[1],index:r[3]}}},activeTab:r[2],onChange:r[8],onClose:Po,headingLevel:"h3",style:{flex:"1",background:"transparent",border:"0",overflow:"hidden",padding:"0","margin-top":"5px"},contentStyle:{overflow:"auto"}}}),{c(){e=T("div"),Y(t.$$.fragment),n=P(),Y(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=C(e);X(t.$$.fragment,s),n=O(s),X(l.$$.fragment,s),s.forEach(m),this.h()},h(){k(e,"class","ttab-view svelte-909bhh")},m(a,s){R(a,e,s),q(t,e,null),b(e,n),q(l,e,null),i=!0},p(a,[s]){const o={};s&4121&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&11&&(c.tabs={settings:{title:"Settings",content:dl,hideClose:!0,props:{content:a[0],onChange:a[1],index:a[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:a[0],onChange:a[1],index:a[3]}}}),s&4&&(c.activeTab=a[2]),s&4&&(c.onChange=a[8]),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){S(t.$$.fragment,a),S(l.$$.fragment,a),i=!1},d(a){a&&m(e),J(t),J(l)}}}const Po=()=>null;function Oo(r,e,t){let n;tt(r,be,h=>t(6,n=h));let{content:l}=e,{onChange:i}=e,a="settings",s=0,o=[];const c=h=>i(de(l,_=>{_.format=h})),u=h=>{t(3,s=parseInt(h.currentTarget.value))},f=h=>t(2,a=h);return r.$$set=h=>{"content"in h&&t(0,l=h.content),"onChange"in h&&t(1,i=h.onChange)},r.$$.update=()=>{var h,_;if(r.$$.dirty&64){const p=_e(n).linkedResourceId("TTAS"),v=_e(n).resourceById(p);t(4,o=(((h=v==null?void 0:v.contentChanges)==null?void 0:h.stringSets)??((_=v==null?void 0:v.content)==null?void 0:_.stringSets)??[]).map(w=>w.value))}},[l,i,a,s,o,c,n,u,f]}class Mo extends se{constructor(e){super(),oe(this,e,Oo,Lo,ie,{content:0,onChange:1})}}function No(r){let e;return{c(){e=K("No view for this resource type")},l(t){e=Q(t,"No view for this resource type")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Vo(r){let e,t;return e=new Je({props:{secondary:!0,$$slots:{default:[No]},$$scope:{ctx:r}}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p(n,[l]){const i={};l&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}class jo extends se{constructor(e){super(),oe(this,e,null,Vo,ie,{})}}const Mt={BCON:is,CTSS:fn,GLOB:cs,JFIF:qr,NREF:hs,OBJD:As,OBJF:Ps,STR:fn,TGA:qr,TPRP:oo,TRCN:vo,TTAB:Mo,TTAS:fn};function pl(r){if(r)return Mt[mt(r.meta.typeId)]??jo}function ml(r,e,t){const n=r.slice();return n[13]=e[t],n}function Go(r){let e,t;return e=new Ea({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:le,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function zo(r){let e,t;return e=new $a({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:le,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function vl(r,e){let t,n=e[13]+"",l;return{key:r,first:null,c(){t=T("option"),l=K(n),this.h()},l(i){t=A(i,"OPTION",{});var a=C(t);l=Q(a,n),a.forEach(m),this.h()},h(){t.__value=e[13],t.value=t.__value,this.first=t},m(i,a){R(i,t,a),b(t,l)},p(i,a){e=i},d(i){i&&m(t)}}}function Ho(r){let e,t;return e=new Da({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:le,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Wo(r){let e,t;return e=new Ta({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:le,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function xo(r){let e,t,n,l=[],i=new Map,a,s,o,c,u,f,h,_,p=Object.keys(Mt);const v=w=>w[13];for(let w=0;w<p.length;w+=1){let I=ml(r,p,w),E=v(I);i.set(E,l[w]=vl(E,I))}return o=new Be({props:{variant:"skeuomorphic",size:25,onClick:r[5],"aria-label":"cancel",style:"margin-right: 5px;",$$slots:{default:[Ho]},$$scope:{ctx:r}}}),u=new Be({props:{variant:"skeuomorphic",size:25,onClick:r[12],"aria-label":"submit",$$slots:{default:[Wo]},$$scope:{ctx:r}}}),{c(){e=T("label"),t=K(`Type:
			`),n=T("select");for(let w=0;w<l.length;w+=1)l[w].c();a=P(),s=T("div"),Y(o.$$.fragment),c=P(),Y(u.$$.fragment),this.h()},l(w){e=A(w,"LABEL",{class:!0});var I=C(e);t=Q(I,`Type:
			`),n=A(I,"SELECT",{class:!0});var E=C(n);for(let D=0;D<l.length;D+=1)l[D].l(E);E.forEach(m),I.forEach(m),a=O(w),s=A(w,"DIV",{class:!0});var B=C(s);X(o.$$.fragment,B),c=O(B),X(u.$$.fragment,B),B.forEach(m),this.h()},h(){k(n,"class","svelte-1sk2j0c"),k(e,"class","modal-content svelte-1sk2j0c"),k(s,"class","modal-controls svelte-1sk2j0c")},m(w,I){R(w,e,I),b(e,t),b(e,n);for(let E=0;E<l.length;E+=1)l[E].m(n,null);Ze(n,r[3]),r[11](n),R(w,a,I),R(w,s,I),q(o,s,null),b(s,c),q(u,s,null),f=!0,h||(_=pe(n,"input",r[6]),h=!0)},p(w,I){I&0&&(p=Object.keys(Mt),l=Kt(l,I,v,1,w,p,i,n,Nl,vl,null,ml)),(!f||I&8)&&Ze(n,w[3]);const E={};I&65536&&(E.$$scope={dirty:I,ctx:w}),o.$set(E);const B={};I&8&&(B.onClick=w[12]),I&65536&&(B.$$scope={dirty:I,ctx:w}),u.$set(B)},i(w){f||(U(o.$$.fragment,w),U(u.$$.fragment,w),f=!0)},o(w){S(o.$$.fragment,w),S(u.$$.fragment,w),f=!1},d(w){w&&m(e);for(let I=0;I<l.length;I+=1)l[I].d();r[11](null),w&&m(a),w&&m(s),J(o),J(u),h=!1,_()}}}function Yo(r){let e,t,n,l,i,a,s,o,c,u,f,h,_,p,v;o=new Be({props:{variant:"skeuomorphic",size:25,style:"margin: 0 5px; padding: 1px;",onClick:r[8],tooltip:"Download package","aria-label":"download package",$$slots:{default:[Go]},$$scope:{ctx:r}}});let w={variant:"skeuomorphic",size:25,style:"padding: 1px;",onClick:r[9],tooltip:"Add resource","aria-label":"add resource",$$slots:{default:[zo]},$$scope:{ctx:r}};return u=new Be({props:w}),r[10](u),h=new Va({props:{title:"Add new resource",isOpen:r[2],onClose:r[5],$$slots:{default:[xo]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("label"),n=K("Search"),l=P(),i=T("div"),a=T("input"),s=P(),Y(o.$$.fragment),c=P(),Y(u.$$.fragment),f=P(),Y(h.$$.fragment),this.h()},l(I){e=A(I,"DIV",{});var E=C(e);t=A(E,"LABEL",{for:!0,class:!0});var B=C(t);n=Q(B,"Search"),B.forEach(m),l=O(E),i=A(E,"DIV",{class:!0});var D=C(i);a=A(D,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),s=O(D),X(o.$$.fragment,D),c=O(D),X(u.$$.fragment,D),D.forEach(m),f=O(E),X(h.$$.fragment,E),E.forEach(m),this.h()},h(){k(t,"for","file-search"),k(t,"class","search-label svelte-1sk2j0c"),k(a,"id","file-search"),k(a,"type","text"),k(a,"placeholder","File name, file type, group ID, or instance ID"),k(a,"class","svelte-1sk2j0c"),k(i,"class","actions svelte-1sk2j0c")},m(I,E){R(I,e,E),b(e,t),b(t,n),b(e,l),b(e,i),b(i,a),Ln(a,r[0]),b(i,s),q(o,i,null),b(i,c),q(u,i,null),b(e,f),q(h,e,null),_=!0,p||(v=pe(a,"input",r[7]),p=!0)},p(I,[E]){E&1&&a.value!==I[0]&&Ln(a,I[0]);const B={};E&65536&&(B.$$scope={dirty:E,ctx:I}),o.$set(B);const D={};E&4&&(D.onClick=I[9]),E&65536&&(D.$$scope={dirty:E,ctx:I}),u.$set(D);const G={};E&4&&(G.isOpen=I[2]),E&65546&&(G.$$scope={dirty:E,ctx:I}),h.$set(G)},i(I){_||(U(o.$$.fragment,I),U(u.$$.fragment,I),U(h.$$.fragment,I),_=!0)},o(I){S(o.$$.fragment,I),S(u.$$.fragment,I),S(h.$$.fragment,I),_=!1},d(I){I&&m(e),J(o),r[10](null),J(u),J(h),p=!1,v()}}}function qo(r,e,t){let{search:n=""}=e,l=!1,i=Object.keys(Mt)[0],a,s;const o=()=>{t(2,l=!1),t(3,i=Object.keys(Mt)[0]),s.focus()},c=w=>{t(3,i=w.target.value)};function u(){n=this.value,t(0,n)}const f=()=>be.downloadActivePackage(),h=()=>{t(2,l=!0)};function _(w){bt[w?"unshift":"push"](()=>{s=w,t(4,s)})}function p(w){bt[w?"unshift":"push"](()=>{a=w,t(1,a)})}const v=()=>{be.createNewResource(i),o()};return r.$$set=w=>{"search"in w&&t(0,n=w.search)},r.$$.update=()=>{r.$$.dirty&2&&(a==null||a.focus())},[n,a,l,i,s,o,c,u,f,h,_,p,v]}class Jo extends se{constructor(e){super(),oe(this,e,qo,Yo,ie,{search:0})}}function bl(r,e,t){const n=r.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function Xo(r){let e,t,n=r[2](r[7])+"",l,i,a,s=mt(r[7].meta.typeId)+"",o,c,u,f,h,_,p,v,w=je(r[7].meta.groupId)+"",I,E,B,D,G,L,x,W=je(r[7].meta.instanceId2,8)+"",V,N,M,z,re,ne,ee,te=je(r[7].meta.instanceId,8)+"",ae;return{c(){e=T("div"),t=T("div"),l=K(n),i=P(),a=T("div"),o=K(s),c=P(),u=T("dl"),f=T("div"),h=T("dt"),_=K("Group"),p=P(),v=T("dd"),I=K(w),E=P(),B=T("div"),D=T("dt"),G=K("Instance (High)"),L=P(),x=T("dd"),V=K(W),N=P(),M=T("div"),z=T("dt"),re=K("Instance"),ne=P(),ee=T("dd"),ae=K(te),this.h()},l(fe){e=A(fe,"DIV",{class:!0});var ce=C(e);t=A(ce,"DIV",{class:!0});var Te=C(t);l=Q(Te,n),Te.forEach(m),i=O(ce),a=A(ce,"DIV",{class:!0});var ge=C(a);o=Q(ge,s),ge.forEach(m),ce.forEach(m),c=O(fe),u=A(fe,"DL",{class:!0});var Oe=C(u);f=A(Oe,"DIV",{class:!0});var xe=C(f);h=A(xe,"DT",{class:!0});var Ee=C(h);_=Q(Ee,"Group"),Ee.forEach(m),p=O(xe),v=A(xe,"DD",{class:!0});var Se=C(v);I=Q(Se,w),Se.forEach(m),E=O(xe),xe.forEach(m),B=A(Oe,"DIV",{class:!0});var Z=C(B);D=A(Z,"DT",{class:!0});var ue=C(D);G=Q(ue,"Instance (High)"),ue.forEach(m),L=O(Z),x=A(Z,"DD",{class:!0});var Ae=C(x);V=Q(Ae,W),Ae.forEach(m),N=O(Z),Z.forEach(m),M=A(Oe,"DIV",{class:!0});var Ie=C(M);z=A(Ie,"DT",{class:!0});var Xe=C(z);re=Q(Xe,"Instance"),Xe.forEach(m),ne=O(Ie),ee=A(Ie,"DD",{class:!0});var et=C(ee);ae=Q(et,te),et.forEach(m),Ie.forEach(m),Oe.forEach(m),this.h()},h(){k(t,"class","filename svelte-1odav1k"),k(a,"class","type svelte-1odav1k"),k(e,"class","file-info svelte-1odav1k"),k(h,"class","svelte-1odav1k"),k(v,"class","svelte-1odav1k"),k(f,"class","file-meta svelte-1odav1k"),k(D,"class","svelte-1odav1k"),k(x,"class","svelte-1odav1k"),k(B,"class","file-meta svelte-1odav1k"),k(z,"class","svelte-1odav1k"),k(ee,"class","svelte-1odav1k"),k(M,"class","file-meta svelte-1odav1k"),k(u,"class","svelte-1odav1k")},m(fe,ce){R(fe,e,ce),b(e,t),b(t,l),b(e,i),b(e,a),b(a,o),R(fe,c,ce),R(fe,u,ce),b(u,f),b(f,h),b(h,_),b(f,p),b(f,v),b(v,I),b(f,E),b(u,B),b(B,D),b(D,G),b(B,L),b(B,x),b(x,V),b(B,N),b(u,M),b(M,z),b(z,re),b(M,ne),b(M,ee),b(ee,ae)},p(fe,ce){ce&2&&n!==(n=fe[2](fe[7])+"")&&Re(l,n),ce&2&&s!==(s=mt(fe[7].meta.typeId)+"")&&Re(o,s),ce&2&&w!==(w=je(fe[7].meta.groupId)+"")&&Re(I,w),ce&2&&W!==(W=je(fe[7].meta.instanceId2,8)+"")&&Re(V,W),ce&2&&te!==(te=je(fe[7].meta.instanceId,8)+"")&&Re(ae,te)},d(fe){fe&&m(e),fe&&m(c),fe&&m(u)}}}function wl(r,e){let t,n,l,i;function a(){return e[5](e[6])}return n=new Be({props:{variant:"block",onClick:a,style:"padding: 5px 15px;",$$slots:{default:[Xo]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=T("li"),Y(n.$$.fragment),l=P(),this.h()},l(s){t=A(s,"LI",{class:!0});var o=C(t);X(n.$$.fragment,o),l=O(o),o.forEach(m),this.h()},h(){k(t,"class","svelte-1odav1k"),this.first=t},m(s,o){R(s,t,o),q(n,t,null),b(t,l),i=!0},p(s,o){e=s;const c={};o&2&&(c.onClick=a),o&1026&&(c.$$scope={dirty:o,ctx:e}),n.$set(c)},i(s){i||(U(n.$$.fragment,s),i=!0)},o(s){S(n.$$.fragment,s),i=!1},d(s){s&&m(t),J(n)}}}function Ko(r){let e,t,n,l,i,a=[],s=new Map,o;function c(_){r[4](_)}let u={};r[0]!==void 0&&(u.search=r[0]),t=new Jo({props:u}),bt.push(()=>Vl(t,"search",c,r[0]));let f=r[1];const h=_=>_[6];for(let _=0;_<f.length;_+=1){let p=bl(r,f,_),v=h(p);s.set(v,a[_]=wl(v,p))}return{c(){e=T("div"),Y(t.$$.fragment),l=P(),i=T("ul");for(let _=0;_<a.length;_+=1)a[_].c();this.h()},l(_){e=A(_,"DIV",{class:!0});var p=C(e);X(t.$$.fragment,p),l=O(p),i=A(p,"UL",{class:!0});var v=C(i);for(let w=0;w<a.length;w+=1)a[w].l(v);v.forEach(m),p.forEach(m),this.h()},h(){k(i,"class","svelte-1odav1k"),k(e,"class","file-list svelte-1odav1k")},m(_,p){R(_,e,p),q(t,e,null),b(e,l),b(e,i);for(let v=0;v<a.length;v+=1)a[v].m(i,null);o=!0},p(_,[p]){const v={};!n&&p&1&&(n=!0,v.search=_[0],jl(()=>n=!1)),t.$set(v),p&6&&(f=_[1],me(),a=Kt(a,p,h,1,_,f,s,i,yn,wl,null,bl),ve())},i(_){if(!o){U(t.$$.fragment,_);for(let p=0;p<f.length;p+=1)U(a[p]);o=!0}},o(_){S(t.$$.fragment,_);for(let p=0;p<a.length;p+=1)S(a[p]);o=!1},d(_){_&&m(e),J(t);for(let p=0;p<a.length;p+=1)a[p].d()}}}function Qo(r,e,t){let n;tt(r,Ul,c=>t(3,n=c));let l="",i;const a=c=>{var u;return((u=c.content)==null?void 0:u.filename)||Hl[mt(c.meta.typeId)]||""};function s(c){l=c,t(0,l)}const o=c=>be.openResource(c);return r.$$.update=()=>{if(r.$$.dirty&9){const c=new RegExp(l,"i");t(1,i=l?Object.entries((n==null?void 0:n.resources)??{}).filter(([,u])=>je(u.meta.groupId,8).match(c)||je(u.meta.instanceId,8).match(c)||je(u.meta.instanceId2,8).match(c)||a(u).toUpperCase().match(c)||mt(u.meta.typeId).match(c)):Object.entries((n==null?void 0:n.resources)??{}))}},[l,i,a,n,s,o]}class Zo extends se{constructor(e){super(),oe(this,e,Qo,Ko,ie,{})}}function ec(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function tc(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class nc extends se{constructor(e){super(),oe(this,e,tc,ec,ie,{})}}function rc(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function lc(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class ic extends se{constructor(e){super(),oe(this,e,lc,rc,ie,{})}}function ac(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function sc(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class oc extends se{constructor(e){super(),oe(this,e,sc,ac,ie,{})}}function cc(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function uc(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class fc extends se{constructor(e){super(),oe(this,e,uc,cc,ie,{})}}function hc(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=he(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=C(e);t=He(a,"path",{fill:!0,d:!0}),C(t).forEach(m),a.forEach(m),this.h()},h(){k(t,"fill","currentColor"),k(t,"d","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Pe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},a&1&&i[0]]))},i:le,o:le,d(i){i&&m(e)}}}function dc(r,e,t){return r.$$set=n=>{t(0,e=he(he({},e),Ne(n)))},e=Ne(e),[e]}class gc extends se{constructor(e){super(),oe(this,e,dc,hc,ie,{})}}function $l(r){var n;let e,t;return e=new Qe({props:{label:"File name",value:(n=r[1])==null?void 0:n.filename,onChange:r[3],style:"margin-bottom: 15px; width: 100%;"}}),{c(){Y(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,i){q(e,l,i),t=!0},p(l,i){var s;const a={};i&2&&(a.value=(s=l[1])==null?void 0:s.filename),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function _c(r){let e,t;return e=new oc({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function pc(r){let e,t;return e=new ic({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function mc(r){let e,t,n,l;const i=[pc,_c],a=[];function s(o,c){return o[0]?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=we()},l(o){t.l(o),n=we()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,c){let u=e;e=s(o),e!==u&&(me(),S(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t||(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){S(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function vc(r){let e,t;return e=new gc({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:le,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function bc(r){let e,t;return e=new nc({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:le,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function wc(r){let e,t;return e=new fc({props:{height:20}}),{c(){Y(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,l){q(e,n,l),t=!0},p:le,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function $c(r){var W,V,N;let e,t=r[1]&&!(r[1]instanceof ArrayBuffer)&&Object.hasOwn(r[1],"filename"),n,l,i,a,s,o,c,u,f,h,_,p,v,w,I,E,B,D,G,L,x=t&&$l(r);return a=new Qe({props:{variant:"hex",maxLength:8,label:"Group ID",value:((W=r[2])==null?void 0:W.groupId)??0,onChange:r[4]("groupId"),style:"width: 100%"}}),c=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID (High)",value:((V=r[2])==null?void 0:V.instanceId2)??0,onChange:r[4]("instanceId2"),style:"width: 100%"}}),h=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID",value:((N=r[2])==null?void 0:N.instanceId)??0,onChange:r[4]("instanceId"),style:"width: 100%"}}),v=new Be({props:{disabled:!r[0],onClick:r[7],variant:"skeuomorphic",tooltip:"Save changes","aria-label":"Save changes",$$slots:{default:[mc]},$$scope:{ctx:r}}}),I=new Be({props:{disabled:!r[0],onClick:r[8],variant:"skeuomorphic",tooltip:"Abandon changes","aria-label":"Abandon changes",$$slots:{default:[vc]},$$scope:{ctx:r}}}),B=new Be({props:{onClick:r[9],variant:"skeuomorphic",tooltip:"Clone resource","aria-label":"Clone resource",$$slots:{default:[bc]},$$scope:{ctx:r}}}),G=new Be({props:{onClick:r[10],variant:"skeuomorphic",tooltip:"Delete resource","aria-label":"Delete resource",$$slots:{default:[wc]},$$scope:{ctx:r}}}),{c(){e=T("div"),x&&x.c(),n=P(),l=T("div"),i=T("div"),Y(a.$$.fragment),s=P(),o=T("div"),Y(c.$$.fragment),u=P(),f=T("div"),Y(h.$$.fragment),_=P(),p=T("div"),Y(v.$$.fragment),w=P(),Y(I.$$.fragment),E=P(),Y(B.$$.fragment),D=P(),Y(G.$$.fragment),this.h()},l(M){e=A(M,"DIV",{});var z=C(e);x&&x.l(z),n=O(z),l=A(z,"DIV",{class:!0});var re=C(l);i=A(re,"DIV",{class:!0});var ne=C(i);X(a.$$.fragment,ne),ne.forEach(m),s=O(re),o=A(re,"DIV",{class:!0});var ee=C(o);X(c.$$.fragment,ee),ee.forEach(m),u=O(re),f=A(re,"DIV",{class:!0});var te=C(f);X(h.$$.fragment,te),te.forEach(m),re.forEach(m),_=O(z),p=A(z,"DIV",{class:!0});var ae=C(p);X(v.$$.fragment,ae),w=O(ae),X(I.$$.fragment,ae),E=O(ae),X(B.$$.fragment,ae),D=O(ae),X(G.$$.fragment,ae),ae.forEach(m),z.forEach(m),this.h()},h(){k(i,"class","input-wrapper svelte-xzft46"),k(o,"class","input-wrapper svelte-xzft46"),k(f,"class","input-wrapper svelte-xzft46"),k(l,"class","meta svelte-xzft46"),k(p,"class","actions svelte-xzft46")},m(M,z){R(M,e,z),x&&x.m(e,null),b(e,n),b(e,l),b(l,i),q(a,i,null),b(l,s),b(l,o),q(c,o,null),b(l,u),b(l,f),q(h,f,null),b(e,_),b(e,p),q(v,p,null),b(p,w),q(I,p,null),b(p,E),q(B,p,null),b(p,D),q(G,p,null),L=!0},p(M,[z]){var Te,ge,Oe;z&2&&(t=M[1]&&!(M[1]instanceof ArrayBuffer)&&Object.hasOwn(M[1],"filename")),t?x?(x.p(M,z),z&2&&U(x,1)):(x=$l(M),x.c(),U(x,1),x.m(e,n)):x&&(me(),S(x,1,1,()=>{x=null}),ve());const re={};z&4&&(re.value=((Te=M[2])==null?void 0:Te.groupId)??0),a.$set(re);const ne={};z&4&&(ne.value=((ge=M[2])==null?void 0:ge.instanceId2)??0),c.$set(ne);const ee={};z&4&&(ee.value=((Oe=M[2])==null?void 0:Oe.instanceId)??0),h.$set(ee);const te={};z&1&&(te.disabled=!M[0]),z&2049&&(te.$$scope={dirty:z,ctx:M}),v.$set(te);const ae={};z&1&&(ae.disabled=!M[0]),z&2048&&(ae.$$scope={dirty:z,ctx:M}),I.$set(ae);const fe={};z&2048&&(fe.$$scope={dirty:z,ctx:M}),B.$set(fe);const ce={};z&2048&&(ce.$$scope={dirty:z,ctx:M}),G.$set(ce)},i(M){L||(U(x),U(a.$$.fragment,M),U(c.$$.fragment,M),U(h.$$.fragment,M),U(v.$$.fragment,M),U(I.$$.fragment,M),U(B.$$.fragment,M),U(G.$$.fragment,M),L=!0)},o(M){S(x),S(a.$$.fragment,M),S(c.$$.fragment,M),S(h.$$.fragment,M),S(v.$$.fragment,M),S(I.$$.fragment,M),S(B.$$.fragment,M),S(G.$$.fragment,M),L=!1},d(M){M&&m(e),x&&x.d(),J(a),J(c),J(h),J(v),J(I),J(B),J(G)}}}function yc(r,e,t){let n,l;tt(r,Dl,p=>t(5,n=p)),tt(r,be,p=>t(6,l=p));let i,a,s;const o=p=>{!a||a instanceof ArrayBuffer||be.editActiveResource(de(a,v=>{v.filename=p}))},c=p=>v=>{s&&be.editActiveResourceMeta(de(s,w=>{w[p]=v}))},u=()=>be.saveActiveResource(),f=()=>be.resetActiveResource(),h=()=>be.copyActiveResource(),_=()=>be.deleteActiveResource();return r.$$.update=()=>{r.$$.dirty&96&&(t(0,i=_e(l).isDirty()),t(1,a=(n==null?void 0:n.contentChanges)??(n==null?void 0:n.content)),t(2,s=(n==null?void 0:n.metaChanges)??(n==null?void 0:n.meta)))},[i,a,s,o,c,n,l,u,f,h,_]}class kc extends se{constructor(e){super(),oe(this,e,yc,$c,ie,{})}}function yl(r){let e,t,n,l,i;return t=new jt({props:{tabs:r[1],activeTab:r[0].activeResourceId,onChange:r[5],onClose:r[6],headingLevel:"h2",style:{"flex-shrink":"0"},contentStyle:{"padding-bottom":"30px",position:"relative"}}}),l=new Je({props:{style:{"flex-shrink":"1","min-height":"0","margin-top":"30px",overflow:"hidden"},$$slots:{default:[Ec]},$$scope:{ctx:r}}}),{c(){e=T("div"),Y(t.$$.fragment),n=P(),Y(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=C(e);X(t.$$.fragment,s),n=O(s),X(l.$$.fragment,s),s.forEach(m),this.h()},h(){k(e,"class","file-viewer svelte-9p8pe0")},m(a,s){R(a,e,s),q(t,e,null),b(e,n),q(l,e,null),i=!0},p(a,s){const o={};s&2&&(o.tabs=a[1]),s&1&&(o.activeTab=a[0].activeResourceId),t.$set(o);const c={};s&132&&(c.$$scope={dirty:s,ctx:a}),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){S(t.$$.fragment,a),S(l.$$.fragment,a),i=!1},d(a){a&&m(e),J(t),J(l)}}}function Ec(r){let e,t,n;var l=pl(r[2]);function i(a){return{props:{content:a[2].contentChanges??a[2].content,onChange:a[3]}}}return l&&(e=Ct(l,i(r))),{c(){e&&Y(e.$$.fragment),t=we()},l(a){e&&X(e.$$.fragment,a),t=we()},m(a,s){e&&q(e,a,s),R(a,t,s),n=!0},p(a,s){const o={};if(s&4&&(o.content=a[2].contentChanges??a[2].content),l!==(l=pl(a[2]))){if(e){me();const c=e;S(c.$$.fragment,1,0,()=>{J(c,1)}),ve()}l?(e=Ct(l,i(a)),Y(e.$$.fragment),U(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(o)},i(a){n||(e&&U(e.$$.fragment,a),n=!0)},o(a){e&&S(e.$$.fragment,a),n=!1},d(a){a&&m(t),e&&J(e,a)}}}function Ic(r){let e,t,n=r[0]&&r[2]&&yl(r);return{c(){n&&n.c(),e=we()},l(l){n&&n.l(l),e=we()},m(l,i){n&&n.m(l,i),R(l,e,i),t=!0},p(l,[i]){l[0]&&l[2]?n?(n.p(l,i),i&5&&U(n,1)):(n=yl(l),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),S(n,1,1,()=>{n=null}),ve())},i(l){t||(U(n),t=!0)},o(l){S(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function Cc(r,e,t){let n,l,i;tt(r,be,u=>t(4,n=u)),tt(r,Ul,u=>t(0,l=u)),tt(r,Dl,u=>t(2,i=u));let a;const s=u=>{u&&be.editActiveResource(u)},o=u=>be.setActiveResource(u),c=u=>be.closeResource(u);return r.$$.update=()=>{r.$$.dirty&17&&t(1,a={...Object.entries((l==null?void 0:l.resources)??{}).reduce((u,[f,h])=>{var _;return h.isOpen&&(u[f]={title:`${((_=h.content)==null?void 0:_.filename)||mt(h.meta.typeId)}${_e(n).isDirty(f)?"*":""}`,content:kc}),u},{})})},[l,a,i,s,n,o,c]}class Tc extends se{constructor(e){super(),oe(this,e,Cc,Ic,ie,{})}}function Ac(r){let e,t,n,l,i,a,s,o,c,u,f,h,_,p,v,w,I,E,B,D,G,L,x,W,V,N,M;return{c(){e=T("div"),t=T("div"),n=T("div"),l=T("div"),i=P(),a=T("div"),s=P(),o=T("div"),c=P(),u=T("div"),f=P(),h=T("div"),_=P(),p=T("div"),v=P(),w=T("div"),I=P(),E=T("div"),B=P(),D=T("div"),G=P(),L=T("div"),x=P(),W=T("div"),V=P(),N=T("div"),this.h()},l(z){e=A(z,"DIV",{class:!0,style:!0});var re=C(e);t=A(re,"DIV",{style:!0});var ne=C(t);n=A(ne,"DIV",{class:!0});var ee=C(n);l=A(ee,"DIV",{class:!0}),C(l).forEach(m),i=O(ee),a=A(ee,"DIV",{class:!0}),C(a).forEach(m),s=O(ee),o=A(ee,"DIV",{class:!0}),C(o).forEach(m),c=O(ee),u=A(ee,"DIV",{class:!0}),C(u).forEach(m),f=O(ee),h=A(ee,"DIV",{class:!0}),C(h).forEach(m),_=O(ee),p=A(ee,"DIV",{class:!0}),C(p).forEach(m),v=O(ee),w=A(ee,"DIV",{class:!0}),C(w).forEach(m),I=O(ee),E=A(ee,"DIV",{class:!0}),C(E).forEach(m),B=O(ee),D=A(ee,"DIV",{class:!0}),C(D).forEach(m),G=O(ee),L=A(ee,"DIV",{class:!0}),C(L).forEach(m),x=O(ee),W=A(ee,"DIV",{class:!0}),C(W).forEach(m),V=O(ee),N=A(ee,"DIV",{class:!0}),C(N).forEach(m),ee.forEach(m),ne.forEach(m),re.forEach(m),this.h()},h(){k(l,"class","triangle bottom face-1 svelte-10dc8xq"),k(a,"class","triangle bottom face-2 svelte-10dc8xq"),k(o,"class","triangle bottom face-3 svelte-10dc8xq"),k(u,"class","triangle bottom face-4 svelte-10dc8xq"),k(h,"class","triangle bottom face-5 svelte-10dc8xq"),k(p,"class","triangle bottom face-6 svelte-10dc8xq"),k(w,"class","triangle top face-1 svelte-10dc8xq"),k(E,"class","triangle top face-2 svelte-10dc8xq"),k(D,"class","triangle top face-3 svelte-10dc8xq"),k(L,"class","triangle top face-4 svelte-10dc8xq"),k(W,"class","triangle top face-5 svelte-10dc8xq"),k(N,"class","triangle top face-6 svelte-10dc8xq"),k(n,"class","rotator svelte-10dc8xq"),k(t,"style",r[1]),k(e,"class","plumbob-wrapper svelte-10dc8xq"),k(e,"style",M=`height:${r[0]}px;width:${r[0]/2}px`)},m(z,re){R(z,e,re),b(e,t),b(t,n),b(n,l),b(n,i),b(n,a),b(n,s),b(n,o),b(n,c),b(n,u),b(n,f),b(n,h),b(n,_),b(n,p),b(n,v),b(n,w),b(n,I),b(n,E),b(n,B),b(n,D),b(n,G),b(n,L),b(n,x),b(n,W),b(n,V),b(n,N)},p(z,[re]){re&2&&k(t,"style",z[1]),re&1&&M!==(M=`height:${z[0]}px;width:${z[0]/2}px`)&&k(e,"style",M)},i:le,o:le,d(z){z&&m(e)}}}function Uc(r,e,t){let{size:n}=e,l;return r.$$set=i=>{"size"in i&&t(0,n=i.size)},r.$$.update=()=>{r.$$.dirty&1&&t(1,l=n?`transform:scale(${n/100})`:void 0)},[n,l]}class Dc extends se{constructor(e){super(),oe(this,e,Uc,Ac,ie,{size:0})}}function Sc(r){let e;return{c(){e=K("browse files")},l(t){e=Q(t,"browse files")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Bc(r){let e,t,n,l,i,a,s,o,c,u,f,h,_;return i=new Dc({props:{size:50}}),u=new Be({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[4],$$slots:{default:[Sc]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),n=T("input"),l=P(),Y(i.$$.fragment),a=P(),s=T("span"),o=K("Drag .package file here or"),c=P(),Y(u.$$.fragment),this.h()},l(p){e=A(p,"DIV",{class:!0});var v=C(e);t=A(v,"DIV",{class:!0});var w=C(t);n=A(w,"INPUT",{type:!0,accept:!0,class:!0}),l=O(w),X(i.$$.fragment,w),a=O(w),s=A(w,"SPAN",{class:!0});var I=C(s);o=Q(I,"Drag .package file here or"),I.forEach(m),c=O(w),X(u.$$.fragment,w),w.forEach(m),v.forEach(m),this.h()},h(){k(n,"type","file"),k(n,"accept",".package"),k(n,"class","svelte-n3cac0"),k(s,"class","text svelte-n3cac0"),k(t,"class","drop-zone svelte-n3cac0"),k(e,"class","wrapper svelte-n3cac0")},m(p,v){R(p,e,v),b(e,t),b(t,n),r[2](n),b(t,l),q(i,t,null),b(t,a),b(t,s),b(s,o),b(t,c),q(u,t,null),f=!0,h||(_=[pe(n,"change",r[3]),pe(t,"dragover",st(r[1])),pe(t,"drop",st(r[5]))],h=!0)},p(p,[v]){const w={};v&1&&(w.onClick=p[4]),v&64&&(w.$$scope={dirty:v,ctx:p}),u.$set(w)},i(p){f||(U(i.$$.fragment,p),U(u.$$.fragment,p),f=!0)},o(p){S(i.$$.fragment,p),S(u.$$.fragment,p),f=!1},d(p){p&&m(e),r[2](null),J(i),J(u),h=!1,gt(_)}}}function Fc(r,e,t){let n;function l(c){Gl.call(this,r,c)}function i(c){bt[c?"unshift":"push"](()=>{n=c,t(0,n)})}return[n,l,i,async()=>{var u;const c=(u=n.files)==null?void 0:u[0];c&&await be.addPackage(c)},()=>n.click(),async c=>{var f,h,_;const u=(_=(h=(f=c==null?void 0:c.dataTransfer)==null?void 0:f.items)==null?void 0:h[0])==null?void 0:_.getAsFile();u&&await be.addPackage(u)}]}class Rc extends se{constructor(e){super(),oe(this,e,Fc,Bc,ie,{})}}function Lc(r){let e;return{c(){e=K("Try the custom career template!")},l(t){e=Q(t,"Try the custom career template!")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Pc(r){let e,t,n,l,i,a,s,o,c,u,f,h,_,p;return s=new Rc({}),_=new Be({props:{onClick:r[0],style:"font-size: 1.2rem",$$slots:{default:[Lc]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),n=T("h1"),l=K("SIMPAI"),i=K(`
		Sims 2 Package Alteration Interface`),a=P(),Y(s.$$.fragment),o=P(),c=T("div"),u=K("Not sure where to start?"),f=T("br"),h=P(),Y(_.$$.fragment),this.h()},l(v){e=A(v,"DIV",{class:!0});var w=C(e);t=A(w,"DIV",{class:!0});var I=C(t);n=A(I,"H1",{class:!0});var E=C(n);l=Q(E,"SIMPAI"),E.forEach(m),i=Q(I,`
		Sims 2 Package Alteration Interface`),I.forEach(m),a=O(w),X(s.$$.fragment,w),o=O(w),c=A(w,"DIV",{class:!0});var B=C(c);u=Q(B,"Not sure where to start?"),f=A(B,"BR",{}),h=O(B),X(_.$$.fragment,B),B.forEach(m),w.forEach(m),this.h()},h(){k(n,"class","svelte-iietxr"),k(t,"class","intro svelte-iietxr"),k(c,"class","help svelte-iietxr"),k(e,"class","welcome svelte-iietxr")},m(v,w){R(v,e,w),b(e,t),b(t,n),b(n,l),b(t,i),b(e,a),q(s,e,null),b(e,o),b(e,c),b(c,u),b(c,f),b(c,h),q(_,c,null),p=!0},p(v,[w]){const I={};w&2&&(I.$$scope={dirty:w,ctx:v}),_.$set(I)},i(v){p||(U(s.$$.fragment,v),U(_.$$.fragment,v),p=!0)},o(v){S(s.$$.fragment,v),S(_.$$.fragment,v),p=!1},d(v){v&&m(e),J(s),J(_)}}}const kl="career.package";function Oc(r){return[async()=>{const t=await fetch(`/simpai/templates/${kl}`);await be.addPackage(new File([await t.arrayBuffer()],kl))}]}class Mc extends se{constructor(e){super(),oe(this,e,Oc,Pc,ie,{})}}function Nc(r){let e,t,n,l,i,a,s;return n=new jt({props:{tabs:r[1],activeTab:r[0].activePackageId,onChange:r[2],onClose:r[3],headingLevel:"h1",style:{width:"100%",flex:"1","min-height":"0"},contentStyle:{"min-height":"0",padding:"15px 0"},hideSingleTab:!0}}),a=new Tc({}),{c(){e=T("div"),t=T("div"),Y(n.$$.fragment),l=P(),i=T("div"),Y(a.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var c=C(e);t=A(c,"DIV",{class:!0});var u=C(t);X(n.$$.fragment,u),u.forEach(m),l=O(c),i=A(c,"DIV",{class:!0});var f=C(i);X(a.$$.fragment,f),f.forEach(m),c.forEach(m),this.h()},h(){k(t,"class","left svelte-x0u2sm"),k(i,"class","right svelte-x0u2sm"),k(e,"class","layout svelte-x0u2sm")},m(o,c){R(o,e,c),b(e,t),q(n,t,null),b(e,l),b(e,i),q(a,i,null),s=!0},p(o,[c]){const u={};c&2&&(u.tabs=o[1]),c&1&&(u.activeTab=o[0].activePackageId),n.$set(u)},i(o){s||(U(n.$$.fragment,o),U(a.$$.fragment,o),s=!0)},o(o){S(n.$$.fragment,o),S(a.$$.fragment,o),s=!1},d(o){o&&m(e),J(n),J(a)}}}function Vc(r,e,t){let n;tt(r,be,s=>t(0,n=s));let l;const i=s=>be.setActivePackage(s),a=s=>be.removePackage(s);return r.$$.update=()=>{r.$$.dirty&1&&t(1,l={...Object.entries(n.packages).reduce((s,[o,c])=>(s[o]={title:c.filename,content:Zo},s),{}),"":{title:"+",content:Mc,hideClose:!0}})},[n,l,i,a]}class Hc extends se{constructor(e){super(),oe(this,e,Vc,Nc,ie,{})}}export{Hc as default};
