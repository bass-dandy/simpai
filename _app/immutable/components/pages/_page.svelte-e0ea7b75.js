var Bl=Object.defineProperty;var Fl=(r,e,t)=>e in r?Bl(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ft=(r,e,t)=>(Fl(r,typeof e!="symbol"?e+"":e,t),t);import{S as ce,i as ue,s as ae,e as ke,b as R,g as me,t as B,d as ve,f as U,h as m,G as ut,M as ge,k as T,l as A,m as I,N as Ne,O as De,H as ft,I as ht,J as dt,P as Le,Q as pe,F as Vt,C as ie,R as Yt,T as Ve,x as W,y as q,z as x,A as Y,a as L,c as O,n as C,U as Qt,V as yn,K as b,w as Tt,W as kn,q as X,r as K,u as Fe,X as At,Y as Rl,Z as Fn,v as bt,_ as ze,$ as He,a0 as We,a1 as Pl,a2 as Ll,B as Ol,a3 as hn,a4 as Ht,E as gt,a5 as Pe,a6 as st,L as tt,a7 as Ze,a8 as Ml,a9 as Rn,aa as Pn,ab as Nl,ac as Vl,ad as jl,ae as Gl}from"../../chunks/index-205a6d65.js";import{w as zl,d as El}from"../../chunks/index-3d13d6bc.js";const dn=["English (US)","English (UK)","French","German","Italian","Spanish","Dutch","Danish","Swedish","Norwegian","Finnish","Hebrew","Russian","Portuguese","Japanese","Polish","Traditional Chinese","Simplified Chinese","Thai","Korean","Czech"],Hl={TGA:"[image file]",NREF:"[name reference]",BCON:"[behavior constant]",BHAV:"[behavior function]",CTSS:"[catalogue description]",GLOB:"[global data]",OBJD:"[object data]",OBJF:"[object functions]",STR:"[text lists]"},en={filename:"",formatCode:3,stringSets:[{languageId:1,value:"",description:""}]},Et={BCON:{filename:"",flag:!1,items:[0]},GLOB:{filename:"",semiglobal:""},NREF:{filename:""},OBJF:{filename:"",header:[0,0,0],functions:Array.from(Array(55)).map(()=>({action:0,guard:0}))},TPRP:{filename:"",header:[0,0,0],params:[{label:"",pdata:0}],locals:[""]},TRCN:{filename:"",version:0,items:[{used:0,constId:0,constName:"",desc:"",value:0,minValue:0,maxValue:0}]},TTAB:{filename:"",format:0,items:[{action:0,guard:0,flags:0,flags2:0,strIndex:0,attenuationCode:0,attenuationValue:0,autonomy:0,joinIndex:0,uiDisplayType:0,facialAnimation:0,memoryIterMult:0,objectType:0,modelTableId:0,humanGroups:{groups:[{items:[]}]},animalGroups:null}]},STR:en,CTSS:en,TTAS:en,TGA:new ArrayBuffer(0),JFIF:new ArrayBuffer(0)};function Wl(r){const e=typeof r=="number"?r:parseInt(r,16);return dn[e-1]||"Unknown"}function Me(r,e){if(r===void 0)return"";let t=r.toString(16).toUpperCase();for(;e&&t.length<e;)t="0"+t;return`0x${t}`}function gn(r){return Object.entries(r).map(([e,t])=>`${e}: ${t}`).join(";")}function jt(r,e){return[...r.slice(0,e),...r.slice(e+1)]}function xl(r,e){let t;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{r(...n),t=void 0},e)}}function Ln(r,e){const t=[];for(let n=0;n<r;n++)t.push(e(n));return t}function Yl(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("li"),l&&l.c(),this.h()},l(s){e=A(s,"LI",{});var o=I(e);l&&l.l(o),o.forEach(m),this.h()},h(){Ne(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){B(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function ql(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("ol"),l&&l.c(),this.h()},l(s){e=A(s,"OL",{});var o=I(e);l&&l.l(o),o.forEach(m),this.h()},h(){Ne(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){B(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function Jl(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("ul"),l&&l.c(),this.h()},l(s){e=A(s,"UL",{});var o=I(e);l&&l.l(o),o.forEach(m),this.h()},h(){Ne(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){B(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function Xl(r){let e,t;const n=r[5].default,l=ut(n,r,r[4],null);let i=[r[1]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("div"),l&&l.c(),this.h()},l(s){e=A(s,"DIV",{});var o=I(e);l&&l.l(o),o.forEach(m),this.h()},h(){Ne(e,a),De(e,"svelte-lyag80",!0)},m(s,o){R(s,e,o),l&&l.m(e,null),t=!0},p(s,o){l&&l.p&&(!t||o&16)&&ft(l,n,s,s[4],t?dt(n,s[4],o,null):ht(s[4]),null),Ne(e,a=Le(i,[o&2&&s[1]])),De(e,"svelte-lyag80",!0)},i(s){t||(U(l,s),t=!0)},o(s){B(l,s),t=!1},d(s){s&&m(e),l&&l.d(s)}}}function Kl(r){let e,t,n,l;const i=[Xl,Jl,ql,Yl],a=[];function s(o,c){return o[0]==="div"?0:o[0]==="ul"?1:o[0]==="ol"?2:o[0]==="li"?3:-1}return~(e=s(r))&&(t=a[e]=i[e](r)),{c(){t&&t.c(),n=ke()},l(o){t&&t.l(o),n=ke()},m(o,c){~e&&a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?~e&&a[e].p(o,c):(t&&(me(),B(a[u],1,1,()=>{a[u]=null}),ve()),~e?(t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n)):t=null)},i(o){l||(U(t),l=!0)},o(o){B(t),l=!1},d(o){~e&&a[e].d(o),o&&m(n)}}}function Ql(r,e,t){let{$$slots:n={},$$scope:l}=e,{style:i={}}=e,{secondary:a=!1}=e,{as:s="div"}=e,o;return r.$$set=c=>{"style"in c&&t(2,i=c.style),"secondary"in c&&t(3,a=c.secondary),"as"in c&&t(0,s=c.as),"$$scope"in c&&t(4,l=c.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&t(1,o={style:gn(i),class:a?"secondary":"primary"})},[s,o,i,a,l,n]}class xe extends ce{constructor(e){super(),ue(this,e,Ql,Kl,ae,{style:2,secondary:3,as:0})}}function Zl(r){let e,t,n,l,i=[{style:t=r[1]&&gn(r[1])},r[2]],a={};for(let s=0;s<i.length;s+=1)a=ge(a,i[s]);return{c(){e=T("button"),this.h()},l(s){e=A(s,"BUTTON",{style:!0}),I(e).forEach(m),this.h()},h(){Ne(e,a),De(e,"svelte-gwh5g1",!0)},m(s,o){R(s,e,o),e.autofocus&&e.focus(),n||(l=pe(e,"click",function(){Vt(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(s,[o]){r=s,Ne(e,a=Le(i,[o&2&&t!==(t=r[1]&&gn(r[1]))&&{style:t},o&4&&r[2]])),De(e,"svelte-gwh5g1",!0)},i:ie,o:ie,d(s){s&&m(e),n=!1,l()}}}function ei(r,e,t){const n=["onClick","style"];let l=Yt(e,n),{onClick:i}=e,{style:a=void 0}=e;return r.$$set=s=>{e=ge(ge({},e),Ve(s)),t(2,l=Yt(e,n)),"onClick"in s&&t(0,i=s.onClick),"style"in s&&t(1,a=s.style)},[i,a,l]}class Dt extends ce{constructor(e){super(),ue(this,e,ei,Zl,ae,{onClick:0,style:1})}}function On(r,e,t){const n=r.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function Mn(r){let e,t=[],n=new Map,l,i=Object.entries(r[0]);const a=s=>s[10];for(let s=0;s<i.length;s+=1){let o=On(r,i,s),c=a(o);n.set(c,t[s]=Vn(c,o))}return{c(){e=T("section");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=A(s,"SECTION",{role:!0,tabindex:!0,class:!0});var o=I(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(m),this.h()},h(){C(e,"role","tablist"),C(e,"tabindex","0"),C(e,"class","svelte-zviqfe")},m(s,o){R(s,e,o);for(let c=0;c<t.length;c+=1)t[c].m(e,null);l=!0},p(s,o){o&31&&(i=Object.entries(s[0]),me(),t=Qt(t,o,a,1,s,i,n,e,yn,Vn,null,On),ve())},i(s){if(!l){for(let o=0;o<i.length;o+=1)U(t[o]);l=!0}},o(s){for(let o=0;o<t.length;o+=1)B(t[o]);l=!1},d(s){s&&m(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ti(r){let e,t=r[11].title+"",n;return{c(){e=T("div"),n=X(t),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);n=K(i,t),i.forEach(m),this.h()},h(){C(e,"class","tab-text svelte-zviqfe")},m(l,i){R(l,e,i),b(e,n)},p(l,i){i&1&&t!==(t=l[11].title+"")&&Fe(n,t)},d(l){l&&m(e)}}}function ni(r){let e=r[4],t,n=r[4]&&tn(r);return{c(){n&&n.c(),t=ke()},l(l){n&&n.l(l),t=ke()},m(l,i){n&&n.m(l,i),R(l,t,i)},p(l,i){l[4]?e?ae(e,l[4])?(n.d(1),n=tn(l),n.c(),n.m(t.parentNode,t)):n.p(l,i):(n=tn(l),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=l[4]},d(l){l&&m(t),n&&n.d(l)}}}function tn(r){let e,t=r[11].title+"",n,l=[{class:"tab-text svelte-zviqfe"}],i={};for(let a=0;a<l.length;a+=1)i=ge(i,l[a]);return{c(){e=T(r[4]),n=X(t),this.h()},l(a){e=A(a,(r[4]||"null").toUpperCase(),{class:!0});var s=I(e);n=K(s,t),s.forEach(m),this.h()},h(){/-/.test(r[4])?At(e,i):Ne(e,i)},m(a,s){R(a,e,s),b(e,n)},p(a,s){s&1&&t!==(t=a[11].title+"")&&Fe(n,t),i=Le(l,[{class:"tab-text svelte-zviqfe"}]),/-/.test(a[4])?At(e,i):Ne(e,i)},d(a){a&&m(e)}}}function Nn(r){let e,t;function n(){return r[9](r[10])}return e=new Dt({props:{onClick:n,"aria-label":"close tab",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}}}),{c(){W(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){x(e,l,i),t=!0},p(l,i){r=l;const a={};i&9&&(a.onClick=n),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Vn(r,e){let t,n,l,i,a,s,o,c,u;function f(w,E){return w[1]===w[10]&&w[4]?ni:ti}let h=f(e),d=h(e);function p(){return e[8](e[10])}let v=!e[11].hideClose&&Nn(e);return{key:r,first:null,c(){t=T("div"),n=T("button"),d.c(),i=L(),v&&v.c(),a=L(),this.h()},l(w){t=A(w,"DIV",{role:!0,"aria-selected":!0,class:!0});var E=I(t);n=A(E,"BUTTON",{class:!0});var k=I(n);d.l(k),k.forEach(m),i=O(E),v&&v.l(E),a=O(E),E.forEach(m),this.h()},h(){C(n,"class","tab svelte-zviqfe"),n.disabled=l=e[1]===e[10],De(n,"closable",!e[11].hideClose),C(t,"role","tab"),C(t,"aria-selected",s=e[1]===e[10]),C(t,"class","svelte-zviqfe"),this.first=t},m(w,E){R(w,t,E),b(t,n),d.m(n,null),b(t,i),v&&v.m(t,null),b(t,a),o=!0,c||(u=pe(n,"click",p),c=!0)},p(w,E){e=w,h===(h=f(e))&&d?d.p(e,E):(d.d(1),d=h(e),d&&(d.c(),d.m(n,null))),(!o||E&3&&l!==(l=e[1]===e[10]))&&(n.disabled=l),(!o||E&1)&&De(n,"closable",!e[11].hideClose),e[11].hideClose?v&&(me(),B(v,1,1,()=>{v=null}),ve()):v?(v.p(e,E),E&1&&U(v,1)):(v=Nn(e),v.c(),U(v,1),v.m(t,a)),(!o||E&3&&s!==(s=e[1]===e[10]))&&C(t,"aria-selected",s)},i(w){o||(U(v),o=!0)},o(w){B(v),o=!1},d(w){w&&m(t),d.d(),v&&v.d(),c=!1,u()}}}function ri(r){var s,o;let e,t,n;const l=[((s=r[0][r[1]])==null?void 0:s.props)??{}];var i=(o=r[0][r[1]])==null?void 0:o.content;function a(c){let u={};for(let f=0;f<l.length;f+=1)u=ge(u,l[f]);return{props:u}}return i&&(e=Tt(i,a())),{c(){e&&W(e.$$.fragment),t=ke()},l(c){e&&q(e.$$.fragment,c),t=ke()},m(c,u){e&&x(e,c,u),R(c,t,u),n=!0},p(c,u){var h,d;const f=u&3?Le(l,[kn(((h=c[0][c[1]])==null?void 0:h.props)??{})]):{};if(i!==(i=(d=c[0][c[1]])==null?void 0:d.content)){if(e){me();const p=e;B(p.$$.fragment,1,0,()=>{Y(p,1)}),ve()}i?(e=Tt(i,a()),W(e.$$.fragment),U(e.$$.fragment,1),x(e,t.parentNode,t)):e=null}else i&&e.$set(f)},i(c){n||(e&&U(e.$$.fragment,c),n=!0)},o(c){e&&B(e.$$.fragment,c),n=!1},d(c){c&&m(t),e&&Y(e,c)}}}function li(r){let e=!r[5]||Object.keys(r[0]).length>1,t,n,l,i=e&&Mn(r);return n=new xe({props:{secondary:!0,style:{flex:"1",...r[7]},$$slots:{default:[ri]},$$scope:{ctx:r}}}),{c(){i&&i.c(),t=L(),W(n.$$.fragment)},l(a){i&&i.l(a),t=O(a),q(n.$$.fragment,a)},m(a,s){i&&i.m(a,s),R(a,t,s),x(n,a,s),l=!0},p(a,s){s&33&&(e=!a[5]||Object.keys(a[0]).length>1),e?i?(i.p(a,s),s&33&&U(i,1)):(i=Mn(a),i.c(),U(i,1),i.m(t.parentNode,t)):i&&(me(),B(i,1,1,()=>{i=null}),ve());const o={};s&128&&(o.style={flex:"1",...a[7]}),s&16387&&(o.$$scope={dirty:s,ctx:a}),n.$set(o)},i(a){l||(U(i),U(n.$$.fragment,a),l=!0)},o(a){B(i),B(n.$$.fragment,a),l=!1},d(a){i&&i.d(a),a&&m(t),Y(n,a)}}}function ii(r){let e,t;return e=new xe({props:{style:{display:"flex","flex-direction":"column",...r[6]},$$slots:{default:[li]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,[l]){const i={};l&64&&(i.style={display:"flex","flex-direction":"column",...n[6]}),l&16575&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ai(r,e,t){let{tabs:n}=e,{activeTab:l}=e,{onChange:i}=e,{onClose:a}=e,{headingLevel:s=void 0}=e,{hideSingleTab:o=!1}=e,{style:c={}}=e,{contentStyle:u={}}=e;const f=d=>i(d),h=d=>a(d);return r.$$set=d=>{"tabs"in d&&t(0,n=d.tabs),"activeTab"in d&&t(1,l=d.activeTab),"onChange"in d&&t(2,i=d.onChange),"onClose"in d&&t(3,a=d.onClose),"headingLevel"in d&&t(4,s=d.headingLevel),"hideSingleTab"in d&&t(5,o=d.hideSingleTab),"style"in d&&t(6,c=d.style),"contentStyle"in d&&t(7,u=d.contentStyle)},[n,l,i,a,s,o,c,u,f,h]}class Gt extends ce{constructor(e){super(),ue(this,e,ai,ii,ae,{tabs:0,activeTab:1,onChange:2,onClose:3,headingLevel:4,hideSingleTab:5,style:6,contentStyle:7})}}function si(r){let[e,t]=r;if(!((e===16||e===17)&&t===251))throw new Error("Input is not a valid QFS compressed buffer! Did you forget to truncate the size bytes?");const n=ci(r),l=65536*r[2]+256*r[3]+r[4],i=n(l);let a=r[0]&1?8:5,s=0;for(;a<r.length&&r[a]<252;){let o=r[a],c=r[a+1],u=r[a+2];if(o&128)if(o&64)if(o&32){let f=(o&31)*4+4;vt(i,s,r,a+1,f),a+=f+1,s+=f}else{let f=r[a+3],h=o&3;vt(i,s,r,a+4,h),a+=h+4,s+=h,h=(o>>2&3)*256+f+5;let d=((o&16)<<12)+256*c+u+1;vt(i,s,i,s-d,h),s+=h}else{let f=c>>6&3;vt(i,s,r,a+3,f),a+=f+3,s+=f,f=(o&63)+4;let h=(c&63)*256+u+1;vt(i,s,i,s-h,f),s+=f}else{let f=o&3;vt(i,s,r,a+2,f),a+=f+2,s+=f,f=((o&28)>>2)+3;let h=(o>>5<<8)+c+1;vt(i,s,i,s-h,f),s+=f}}if(a<r.length&&s<i.length){let o=r[a]&3;vt(i,s,r,a+1,o),s+=o}if(s!==i.length)throw new Error("Error when decompressing!");return i}var oi=si;function ci(r){const e=r.constructor;if(e.allocUnsafe)return t=>e.allocUnsafe(t);{const t=e[Symbol.species]||e;return n=>new t(n)}}function vt(r,e,t,n,l){let i=l;for(;i--;)r[e++]=t[n++]}class _t{constructor(e){Ft(this,"view");Ft(this,"cursor");this.view=new DataView(e),this.cursor=0}seekForward(e){return this.cursor+=e,this}seekTo(e){return this.cursor=e,this}readUint8(){const e=this.view.getUint8(this.cursor);return this.cursor+=1,e}readUint8Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint8());return t}readUint16(){const e=this.view.getUint16(this.cursor,!0);return this.cursor+=2,e}readUint16Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint16());return t}readUint32(){const e=this.view.getUint32(this.cursor,!0);return this.cursor+=4,e}readUint32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.readUint32());return t}readBuffer(e){const t=this.view.buffer.slice(this.cursor,this.cursor+e);return this.cursor+=e,t}readCountedString(){const e=this.readUint32();return new TextDecoder().decode(this.readBuffer(e))}readFileName(){return new TextDecoder().decode(this.readBuffer(64)).replace(/\u0000/g,"")}readUntilNull(){for(let e=this.cursor;e<this.view.byteLength;e++)if(this.view.getUint8(e)===0){const t=this.view.buffer.slice(this.cursor,e);return this.cursor=e+1,t}return this.view.buffer.slice(this.cursor)}}class pt{constructor(){Ft(this,"buffer");Ft(this,"encoder");this.buffer=new ArrayBuffer(0)}appendBytes(e){const t=new Uint8Array(this.buffer.byteLength+e);t.set(new Uint8Array(this.buffer),0),this.buffer=t.buffer}writeUint8(e){const t=this.buffer.byteLength;this.appendBytes(1);const n=new DataView(this.buffer);n.setUint8(t,e),this.buffer=n.buffer}writeUint8Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length);const n=new DataView(this.buffer);e.forEach((l,i)=>{n.setUint8(t+i,l)}),this.buffer=n.buffer}writeUint16(e){const t=this.buffer.byteLength;this.appendBytes(2);const n=new DataView(this.buffer);n.setUint16(t,e,!0),this.buffer=n.buffer}writeUint16Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*2);const n=new DataView(this.buffer);e.forEach((l,i)=>{n.setUint16(t+i*2,l,!0)}),this.buffer=n.buffer}writeUint32(e){const t=this.buffer.byteLength;this.appendBytes(4);const n=new DataView(this.buffer);n.setUint32(t,e,!0),this.buffer=n.buffer}writeUint32Array(e){const t=this.buffer.byteLength;this.appendBytes(e.length*4);const n=new DataView(this.buffer);e.forEach((l,i)=>{n.setUint32(t+i*4,l,!0)}),this.buffer=n.buffer}writeBuffer(e){const t=new Uint8Array(this.buffer.byteLength+e.byteLength);t.set(new Uint8Array(this.buffer),0),t.set(new Uint8Array(e),this.buffer.byteLength),this.buffer=t.buffer}writeString(e,t){this.encoder||(this.encoder=new TextEncoder),t!=null&&t.counted&&this.writeUint32(e.length),this.writeBuffer(this.encoder.encode(e).buffer)}writeNulls(e){this.appendBytes(e)}}const ye={BCON:"42434f4e",BHAV:"42484156",CTSS:"43545353",DIR:"e86b1eef",GLOB:"474c4f42",NREF:"4e524546",OBJD:"4f424a44",OBJF:"4f424a66",STR:"53545223",TPRP:"54505250",TRCN:"5452434e",TTAB:"54544142",TTAS:"54544173",VERS:"ebfee342","2ARY":"6b943b43","3ARY":"2a51171b","5DS":"ac06a676","5EL":"6a97042f","5LF":"ac06a66f","5SC":"25232b11",ANIM:"fb00791e",BMP:"424d505f",CATS:"43415453",CIGE:"43494745",CINE:"4d51f042",CREG:"cdb467b8",CRES:"e519c933",DGRP:"44475250",FACE:"46414345",FAMI:"46414d49",FAMh:"46414d68",FAMt:"8c870743",FCNS:"46434e53",FPL:"ab4ba572",FWAV:"46574156",FX:"ea5118b0",GMDC:"ac4f8687",GMND:"7ba3838c",HOUS:"484f5553",INI:"2026960b",JFIF:"8c3ce95a",LGHT1:"c9c81b9b",LGHT2:"c9c81ba3",LGHT3:"c9c81ba9",LGHT4:"c9c81bad",LIFO:"ed534136",LTXT:"0bf999e7",LXNR:"cccef852",MATSHAD:"cd7fe87a",MP3:"2026960b",MOBJT:"6f626a74",NGBH:"4e474248",NHTG:"abcb5da4",NHTR:"abd0dc63",NID:"ac8a7a2e",NMAP:"4e6d6150",OBJT:"fa1c39f7",OBJM:"4f626a4d",PALT:"50414c54",PDAT:"aace2efb",PERS:"50455253",PMAP:"8cc0a14b",PNG:"856ddbac",POOL:"0c900fdb",POSI:"504f5349",PTBP:"50544250",SFX:"8db5e4c2",SHPE:"fc6eb1f7",SIMI:"53494d49",SKIN:"ac506764",SLOT:"534c4f54",SMAP:"cac4fc40",SPR2:"53505232",SPX1:"2026960b",SREL:"cc364c2a",STXR:"ace46235",SWAF:"cd95548e",TATT:"54415454",TGA:"856ddbac",TMAP:"4b58975b",TREE:"54524545",TRKS:"0b9eb87e",TSSG:"ba353ce1",TXMT:"49596978",TXTR:"1c4a276c",UI:"00000000",VERT:"cb4387a1",WFR:"cd95548e",WGRA:"0a284d0b",WLL:"8a84d7b0",WRLD:"49ff7d76",XA:"2026960b",XMTO:"584d544f",XOBJ:"584f424a"},ui=Object.entries(ye).reduce((r,[e,t])=>(r[t]=e,r),{});function mt(r){const e=typeof r=="number"?r.toString(16):r.toLowerCase();return ui[e]??"UNK"}function fi(r){return r.meta.typeId===ye.BCON}function hi(r){return r.meta.typeId===ye.BHAV}function di(r){return r.meta.typeId===ye.GLOB}function gi(r){return r.meta.typeId===ye.NREF}function _i(r){return r.meta.typeId===ye.OBJD}function pi(r){return r.meta.typeId===ye.OBJF}function mi(r){return r.meta.typeId===ye.STR||r.meta.typeId===ye.CTSS||r.meta.typeId===ye.TTAS}function vi(r){return r.meta.typeId===ye.TTAB}function bi(r){return r.meta.typeId===ye.TPRP}function wi(r){return r.meta.typeId===ye.TRCN}function $i(r){const e=new _t(r),t={filename:e.readFileName(),flag:!1,items:[]},n=e.readUint16();t.flag=(n&32768)!==0;const l=n&32767;for(let i=0;i<l;i++)t.items.push(e.readUint16());return t}function yi(r){const e=new pt,n=new TextEncoder().encode(r.filename);e.writeBuffer(n),e.writeNulls(64-n.byteLength);let l=r.items.length;return r.flag&&(l|=32768),e.writeUint16(l),e.writeUint16Array(r.items),e.buffer}function ki(r){const e=new _t(r),t={filename:e.readFileName(),format:e.readUint16(),count:e.readUint16(),type:e.readUint8(),argc:e.readUint8(),locals:e.readUint8(),headerFlag:e.readUint8(),treeVersion:e.readUint32(),instructions:[]};for(;t.instructions.length<t.count;){const n={opcode:e.readUint16(),gotoOnTrue:0,gotoOnFalse:0,nodeVersion:void 0,cacheFlags:void 0,operands:[]};t.format<32771?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(8)):t.format<32773?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.operands=e.readUint8Array(16)):t.format<32775?(n.gotoOnTrue=e.readUint8(),n.gotoOnFalse=e.readUint8(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16)):(n.gotoOnTrue=e.readUint16(),n.gotoOnFalse=e.readUint16(),n.nodeVersion=e.readUint8(),n.operands=e.readUint8Array(16),t.format===32777&&(n.cacheFlags=e.readUint8())),t.instructions.push(n)}return t}function Ei(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.format),e.writeUint16(r.instructions.length),e.writeUint8(r.type),e.writeUint8(r.argc),e.writeUint8(r.locals),e.writeUint8(r.headerFlag),e.writeUint32(r.treeVersion),r.instructions.forEach(l=>{e.writeUint16(l.opcode),r.format<32773?(e.writeUint8(l.gotoOnTrue),e.writeUint8(l.gotoOnFalse),e.writeUint8Array(l.operands)):r.format<32775?(e.writeUint8(l.gotoOnTrue),e.writeUint8(l.gotoOnFalse),e.writeUint8(l.nodeVersion??0),e.writeUint8Array(l.operands)):(e.writeUint16(l.gotoOnTrue),e.writeUint16(l.gotoOnFalse),e.writeUint8(l.nodeVersion??0),e.writeUint8Array(l.operands),r.format===32777&&e.writeUint8(l.cacheFlags??0))}),e.buffer}function Ci(r){const e=new _t(r),t={filename:e.readFileName(),semiglobal:""},n=e.readUint8();return t.semiglobal=new TextDecoder().decode(e.readBuffer(n)),t}function Ii(r){const e=new pt,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint8(r.semiglobal.length),e.writeBuffer(t.encode(r.semiglobal).buffer),e.buffer}function Ti(r){return{filename:new TextDecoder().decode(r)}}function Ai(r){return new TextEncoder().encode(r.filename)}const Cl={version:2,initialStackSize:1,defaultWallAdjacentFlags:1,defaultPlacementFlags:1,defaultWallPlacementFlags:1,defaultAllowedHeightFlags:1,ttabId:1,interactionGroup:1,objectType:1,multiTileMasterId:1,multiTileSubIndex:1,useDefaultPlacementFlags:1,lookAtScore:1,guid:2,isUnlockable:1,catalogUseFlags:1,price:1,strId:1,slotId:1,diagonalSelectorGuid:2,gridSelectorGuid:2,objectOwnership:1,ignoreGlobalSimInCAS:1,cannotMoveOutWith:1,hauntable:1,proxyGuid:2,slotGroup:1,aspirationFlags:1,memoryNiceOrBad:1,isSalePriceDifferent:1,initialSaleDepreciation:1,dailySaleDepreciation:1,isSelfDepreciating:1,depreciationLimit:1,roomSortFlags:1,functionSortFlags:1,ctssId:1,isGlobalSimObject:1,tooltipNameType:1,templateVersion:1,nicenessMultiplier:1,noDuplicateOnPlacement:1,wantCategory:1,noNewNameFromTemplate:1,objectVersion:1,defaultThumbnailId:1,motiveEffectsId:1,jobObjectGuid:2,catalogPopupId:1,ignoreCurrentModelIndexInIcons:1,levelOffset:1,hasShadow:1,attributeCount:1,objectArrayCount:1,_hole0:1,frontDirection:1,_hole1:1,multiTileLeadObject:1,expansionFlag:1,_numDynamicSpritesTS1:1,chairEntryFlags:1,tileWidth:1,inhibitSuitCopying:1,buildModeType:1,originalGuid:2,objectModelGuid:2,buildModeSubSort:1,_thumbnailGraphicTS1:1,_shadowFlagsTS1:1,footprintMask:1,_hole2:1,_shadowBrightnessTS1:1,_hole3:1,_wallStyleSpriteIdTS1:1,hungerRating:1,comfortRating:1,hygieneRating:1,bladderRating:1,energyRating:1,funRating:1,roomRating:1,skillFlags:1,numTypeAttributes:1,miscFlags:1,_typeAttrGuidTS1:2,functionSubSort:1,downtownSort:1,keepBuying:1,vacationSort:1,resetLotAction:1,"3dObjectType":1,communitySort:1,dreamFlags:1};function Ui(r){const e=new _t(r),t={filename:e.readFileName(),data:{}};Object.entries(Cl).forEach(([l,i])=>{i===1?t.data[l]=e.readUint16():i===2&&(t.data[l]=e.readUint32())}),e.readBuffer(12);const n=e.readCountedString();return t.filename!==n&&console.error(`OBJD malformed: start filename (${t.filename}) does not match end filename (${n})`),t}function Di(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),Object.entries(Cl).forEach(([l,i])=>{i===1?e.writeUint16(r.data[l]):i===2&&e.writeUint32(r.data[l])}),e.writeNulls(12),e.writeString(r.filename,{counted:!0}),e.buffer}function Si(r){const e=new _t(r),t={filename:e.readFileName(),header:e.readUint32Array(3),functions:[]},n=e.readUint32();for(let l=0;l<n;l++)t.functions.push({guard:e.readUint16(),action:e.readUint16()});return t}function Bi(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(r.header),e.writeUint32(r.functions.length),r.functions.forEach(l=>{e.writeUint16(l.guard),e.writeUint16(l.action)}),e.buffer}function Fi(r){const e=new _t(r),t=new TextDecoder,n={filename:e.readFileName(),formatCode:e.readUint16(),stringSets:[]},l=e.readUint16();for(let i=0;i<l;i++)n.stringSets.push({languageId:e.readUint8(),value:t.decode(e.readUntilNull()),description:t.decode(e.readUntilNull())});return n}function Ri(r){const e=new pt,t=new TextEncoder,n=t.encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint16(r.formatCode),e.writeUint16(r.stringSets.length),r.stringSets.forEach(l=>{e.writeUint8(l.languageId),e.writeBuffer(t.encode(l.value)),e.writeNulls(1),e.writeBuffer(t.encode(l.description)),e.writeNulls(1)}),e.buffer}function jn(r){return Float32Array.of(r.readUint32())[0]??0}function Gn(r,e,t,n){const l=e===null?n.readUint32():e.length,i={groups:[]};for(let a=0;a<l;a++){const s=r<84?(e==null?void 0:e[a])??0:n.readUint32(),o={items:[]};for(let c=0;c<s;c++)if(t==="human")o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()});else{const u=n.readUint32();for(let f=0;f<u;f++)o.items.push({min:n.readUint16(),delta:n.readUint16(),type:n.readUint16()})}i.groups.push(o)}return i}function Pi(r){const e=new _t(r),t={filename:e.readFileName(),format:0,items:[]};e.readUint32(),t.format=e.readUint32(),e.readUint32();const n=e.readUint16();for(let l=0;l<n;l++){const i=e.readUint16(),a=e.readUint16();let s=null;t.format<68?s=[e.readUint32()]:t.format<84&&(s=[0,0,0,0,0,0,0].map(()=>e.readUint32())),t.items.push({action:i,guard:a,flags:e.readUint16(),flags2:e.readUint16(),strIndex:e.readUint32(),attenuationCode:e.readUint32(),attenuationValue:jn(e),autonomy:e.readUint32(),joinIndex:e.readUint32(),uiDisplayType:t.format>69?e.readUint16():0,facialAnimation:t.format>74?e.readUint32():0,memoryIterMult:t.format>76?jn(e):0,objectType:t.format>76?e.readUint32():0,modelTableId:t.format>70?e.readUint32():0,humanGroups:Gn(t.format,s,"human",e),animalGroups:t.format>84?Gn(t.format,s,"animal",e):null})}return t}function zn(r,e,t,n){r>=84&&n.writeUint32(e.groups.length),e.groups.forEach(l=>{r>=85&&n.writeUint32(l.items.length),l.items.forEach(i=>{t==="human"&&(n.writeUint16(i.min),n.writeUint16(i.delta),n.writeUint16(i.type))})})}function Li(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32(-1),e.writeUint32(r.format),e.writeUint32(0),e.writeUint16(r.items.length),r.items.forEach(l=>{e.writeUint16(l.action),e.writeUint16(l.guard),r.format<84&&l.humanGroups.groups.forEach(i=>{e.writeUint32(i.items.length)}),e.writeUint16(l.flags),e.writeUint16(l.flags2),e.writeUint32(l.strIndex),e.writeUint32(l.attenuationCode),e.writeUint32(l.attenuationValue),e.writeUint32(l.autonomy),e.writeUint32(l.joinIndex),r.format>69&&e.writeUint16(l.uiDisplayType),r.format>74&&e.writeUint32(l.facialAnimation),r.format>76&&(e.writeUint32(l.memoryIterMult),e.writeUint32(l.objectType)),r.format>70&&e.writeUint32(l.modelTableId),zn(r.format,l.humanGroups,"human",e),r.format>84&&l.animalGroups&&zn(r.format,l.animalGroups,"animal",e)}),e.buffer}function Hn(r){const e=new TextDecoder,t=r.readUint8();return e.decode(r.readBuffer(t))}function Wn(r,e){const t=new TextEncoder;r.writeUint8(e.length),r.writeBuffer(t.encode(e))}function Oi(r){const e=new _t(r),t={filename:e.readFileName(),header:[e.readUint32(),e.readUint32(),e.readUint32()],params:[],locals:[]},n=e.readUint32(),l=e.readUint32();for(let i=0;i<n;i++)t.params.push({label:Hn(e),pdata:0});for(let i=0;i<l;i++)t.locals.push(Hn(e));return e.seekForward(4),t.params.forEach(i=>{i.pdata=e.readUint8()}),t}function Mi(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeUint32Array(r.header),e.writeUint32(r.params.length),e.writeUint32(r.locals.length),r.params.forEach(l=>{Wn(e,l.label)}),r.locals.forEach(l=>{Wn(e,l)}),e.writeUint32(0),r.params.forEach(l=>{e.writeUint8(l.pdata)}),e.writeUint32(5),e.writeUint32(0),e.buffer}function Ni(r){const e=new _t(r),t=new TextDecoder,n={filename:e.readFileName(),version:0,items:[]};e.readUint32(),n.version=e.readUint32(),e.readUint32();const l=e.readUint32();for(;n.items.length<l;)n.items.push({used:e.readUint32(),constId:e.readUint32(),constName:t.decode(e.readBuffer(e.readUint8())),desc:n.version>83?t.decode(e.readBuffer(e.readUint8())):"",value:n.version>83?e.readUint8():e.readUint16(),minValue:e.readUint16(),maxValue:e.readUint16()});return n}function Vi(r){const e=new pt,n=new TextEncoder().encode(r.filename);return e.writeBuffer(n),e.writeNulls(64-n.byteLength),e.writeString("NCRT"),e.writeUint32(r.version),e.writeUint32(0),e.writeUint32(r.items.length),r.items.forEach(l=>{e.writeUint32(l.used),e.writeUint32(l.constId),e.writeUint8(l.constName.length),e.writeString(l.constName),r.version>83?(e.writeUint8(l.desc.length),e.writeString(l.desc),e.writeUint8(l.value)):e.writeUint16(l.value),e.writeUint16(l.minValue),e.writeUint16(l.maxValue)}),e.buffer}function ji(r,e){switch(r){case ye.BCON:return $i(e);case ye.BHAV:return ki(e);case ye.GLOB:return Ci(e);case ye.NREF:return Ti(e);case ye.OBJD:return Ui(e);case ye.OBJF:return Si(e);case ye.TTAB:return Pi(e);case ye.TPRP:return Oi(e);case ye.TRCN:return Ni(e);case ye.STR:case ye.CTSS:case ye.TTAS:return Fi(e);default:return console.log(`No handler for file with typeId ${r} (${mt(r)})`),e}}function Gi(r){const e=new _t(r);if(new TextDecoder().decode(e.readBuffer(4))!=="DBPF")throw new Error("Not a DBPF file!");const n=e.readUint32(),l=e.readUint32();if(n!==1||l>1)throw new Error(`Expected version 1.0 or 1.1 but got ${n}.${l}`);e.seekTo(32);const i=e.readUint32(),a=e.readUint32(),s=e.readUint32();e.seekTo(60);const o=l===1?e.readUint32():0;if(i!==7||o>2)throw new Error(`Expected index version 7.1 or 7.2 but got ${i}.${o}`);e.seekTo(s);const c=[];for(let f=0;f<a;f++)c.push({typeId:e.readUint32().toString(16),groupId:e.readUint32(),instanceId:e.readUint32(),instanceId2:o===2?e.readUint32():void 0,location:e.readUint32(),size:e.readUint32(),compressed:!1});c.forEach(f=>{if(f.typeId===ye.DIR){const h=f.size/(o===2?20:16);let d=0;console.log(`DIR found with ${h} entries`);for(let p=0;p<h;p++){e.seekTo(f.location);const v=e.readUint32().toString(16),w=e.readUint32(),E=e.readUint32(),k=o===2?e.readUint32():void 0,D=c.find(S=>S.typeId===v&&S.groupId===w&&S.instanceId===E&&S.instanceId2===k);D&&(D.compressed=!0,d++)}console.log(`found ${d} matching resources out of ${h} DIR entries`)}});const u=[];return c.forEach(f=>{if(f.typeId===ye.DIR)return;e.seekTo(f.location);const h=e.readBuffer(f.size);f.compressed?console.log(`decompressing and deserializing ${mt(f.typeId)}`):console.log(`deserializing ${mt(f.typeId)}`);const d=ji(f.typeId,f.compressed?oi(new Uint8Array(h).slice(4)).buffer:h);u.push({meta:f,content:d})}),u}function zi(r){const e=new pt;e.writeString("DBPF"),e.writeUint32(1),e.writeUint32(1),e.writeNulls(20),e.writeUint32(7),e.writeUint32(r.length),e.writeUint32(0),e.writeUint32(r.length*24),e.writeNulls(12),e.writeUint32(2),e.writeNulls(32);const t=[];r.forEach(i=>{let a=new ArrayBuffer(0);fi(i)?a=yi(i.content):hi(i)?a=Ei(i.content):di(i)?a=Ii(i.content):gi(i)?a=Ai(i.content):_i(i)?a=Di(i.content):pi(i)?a=Bi(i.content):mi(i)?a=Ri(i.content):vi(i)?a=Li(i.content):bi(i)?a=Mi(i.content):wi(i)?a=Vi(i.content):a=i.content,t.push({...i.meta,location:e.buffer.byteLength,size:a.byteLength}),e.writeBuffer(a)});const n=e.buffer.byteLength;t.forEach(i=>{e.writeUint32(parseInt(i.typeId,16)),e.writeUint32(i.groupId),e.writeUint32(i.instanceId),i.instanceId2!==void 0&&e.writeUint32(i.instanceId2),e.writeUint32(i.location),e.writeUint32(i.size)});const l=new DataView(e.buffer);return l.setUint32(40,n,!0),l.buffer}var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wt=0;Wt<It.length;Wt++)Pt[It.charCodeAt(Wt)]=Wt;var Hi=function(r){var e=new Uint8Array(r),t,n=e.length,l="";for(t=0;t<n;t+=3)l+=It[e[t]>>2],l+=It[(e[t]&3)<<4|e[t+1]>>4],l+=It[(e[t+1]&15)<<2|e[t+2]>>6],l+=It[e[t+2]&63];return n%3===2?l=l.substring(0,l.length-1)+"=":n%3===1&&(l=l.substring(0,l.length-2)+"=="),l},Wi=function(r){var e=r.length*.75,t=r.length,n,l=0,i,a,s,o;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=new ArrayBuffer(e),u=new Uint8Array(c);for(n=0;n<t;n+=4)i=Pt[r.charCodeAt(n)],a=Pt[r.charCodeAt(n+1)],s=Pt[r.charCodeAt(n+2)],o=Pt[r.charCodeAt(n+3)],u[l++]=i<<2|a>>4,u[l++]=(a&15)<<4|s>>2,u[l++]=(s&3)<<6|o&63;return c};function at(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+r+(t.length?" "+t.map(function(l){return"'"+l+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ut(r){return!!r&&!!r[nt]}function Ct(r){return!!r&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===Zi}(r)||Array.isArray(r)||!!r[Zn]||!!r.constructor[Zn]||En(r)||Cn(r))}function Ot(r,e,t){t===void 0&&(t=!1),St(r)===0?(t?Object.keys:Dn)(r).forEach(function(n){t&&typeof n=="symbol"||e(n,r[n],r)}):r.forEach(function(n,l){return e(l,n,r)})}function St(r){var e=r[nt];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:En(r)?2:Cn(r)?3:0}function _n(r,e){return St(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function xi(r,e){return St(r)===2?r.get(e):r[e]}function Il(r,e,t){var n=St(r);n===2?r.set(e,t):n===3?(r.delete(e),r.add(t)):r[e]=t}function Yi(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function En(r){return Ki&&r instanceof Map}function Cn(r){return Qi&&r instanceof Set}function yt(r){return r.o||r.t}function In(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=ea(r);delete e[nt];for(var t=Dn(e),n=0;n<t.length;n++){var l=t[n],i=e[l];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[l]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[l]})}return Object.create(Object.getPrototypeOf(r),e)}function Tn(r,e){return e===void 0&&(e=!1),An(r)||Ut(r)||!Ct(r)||(St(r)>1&&(r.set=r.add=r.clear=r.delete=qi),Object.freeze(r),e&&Ot(r,function(t,n){return Tn(n,!0)},!0)),r}function qi(){at(2)}function An(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function ct(r){var e=ta[r];return e||at(18,r),e}function xn(){return Mt}function nn(r,e){e&&(ct("Patches"),r.u=[],r.s=[],r.v=e)}function qt(r){pn(r),r.p.forEach(Ji),r.p=null}function pn(r){r===Mt&&(Mt=r.l)}function Yn(r){return Mt={p:[],l:Mt,h:r,m:!0,_:0}}function Ji(r){var e=r[nt];e.i===0||e.i===1?e.j():e.O=!0}function rn(r,e){e._=e.p.length;var t=e.p[0],n=r!==void 0&&r!==t;return e.h.g||ct("ES5").S(e,r,n),n?(t[nt].P&&(qt(e),at(4)),Ct(r)&&(r=Jt(e,r),e.l||Xt(e,r)),e.u&&ct("Patches").M(t[nt].t,r,e.u,e.s)):r=Jt(e,t,[]),qt(e),e.u&&e.v(e.u,e.s),r!==Tl?r:void 0}function Jt(r,e,t){if(An(e))return e;var n=e[nt];if(!n)return Ot(e,function(i,a){return qn(r,n,e,i,a,t)},!0),e;if(n.A!==r)return e;if(!n.P)return Xt(r,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var l=n.i===4||n.i===5?n.o=In(n.k):n.o;Ot(n.i===3?new Set(l):l,function(i,a){return qn(r,n,l,i,a,t)}),Xt(r,l,!1),t&&r.u&&ct("Patches").R(n,t,r.u,r.s)}return n.o}function qn(r,e,t,n,l,i){if(Ut(l)){var a=Jt(r,l,i&&e&&e.i!==3&&!_n(e.D,n)?i.concat(n):void 0);if(Il(t,n,a),!Ut(a))return;r.m=!1}if(Ct(l)&&!An(l)){if(!r.h.F&&r._<1)return;Jt(r,l),e&&e.A.l||Xt(r,l)}}function Xt(r,e,t){t===void 0&&(t=!1),r.h.F&&r.m&&Tn(e,t)}function ln(r,e){var t=r[nt];return(t?yt(t):r)[e]}function Jn(r,e){if(e in r)for(var t=Object.getPrototypeOf(r);t;){var n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Object.getPrototypeOf(t)}}function mn(r){r.P||(r.P=!0,r.l&&mn(r.l))}function an(r){r.o||(r.o=In(r.t))}function vn(r,e,t){var n=En(e)?ct("MapSet").N(e,t):Cn(e)?ct("MapSet").T(e,t):r.g?function(l,i){var a=Array.isArray(l),s={i:a?1:0,A:i?i.A:xn(),P:!1,I:!1,D:{},l:i,t:l,k:null,o:null,j:null,C:!1},o=s,c=bn;a&&(o=[s],c=Lt);var u=Proxy.revocable(o,c),f=u.revoke,h=u.proxy;return s.k=h,s.j=f,h}(e,t):ct("ES5").J(e,t);return(t?t.A:xn()).p.push(n),n}function Xi(r){return Ut(r)||at(22,r),function e(t){if(!Ct(t))return t;var n,l=t[nt],i=St(t);if(l){if(!l.P&&(l.i<4||!ct("ES5").K(l)))return l.t;l.I=!0,n=Xn(t,i),l.I=!1}else n=Xn(t,i);return Ot(n,function(a,s){l&&xi(l.t,a)===s||Il(n,a,e(s))}),i===3?new Set(n):n}(r)}function Xn(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return In(r)}var Kn,Mt,Un=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ki=typeof Map<"u",Qi=typeof Set<"u",Qn=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Tl=Un?Symbol.for("immer-nothing"):((Kn={})["immer-nothing"]=!0,Kn),Zn=Un?Symbol.for("immer-draftable"):"__$immer_draftable",nt=Un?Symbol.for("immer-state"):"__$immer_state",Zi=""+Object.prototype.constructor,Dn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,ea=Object.getOwnPropertyDescriptors||function(r){var e={};return Dn(r).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(r,t)}),e},ta={},bn={get:function(r,e){if(e===nt)return r;var t=yt(r);if(!_n(t,e))return function(l,i,a){var s,o=Jn(i,a);return o?"value"in o?o.value:(s=o.get)===null||s===void 0?void 0:s.call(l.k):void 0}(r,t,e);var n=t[e];return r.I||!Ct(n)?n:n===ln(r.t,e)?(an(r),r.o[e]=vn(r.A.h,n,r)):n},has:function(r,e){return e in yt(r)},ownKeys:function(r){return Reflect.ownKeys(yt(r))},set:function(r,e,t){var n=Jn(yt(r),e);if(n!=null&&n.set)return n.set.call(r.k,t),!0;if(!r.P){var l=ln(yt(r),e),i=l==null?void 0:l[nt];if(i&&i.t===t)return r.o[e]=t,r.D[e]=!1,!0;if(Yi(t,l)&&(t!==void 0||_n(r.t,e)))return!0;an(r),mn(r)}return r.o[e]===t&&typeof t!="number"&&(t!==void 0||e in r.o)||(r.o[e]=t,r.D[e]=!0,!0)},deleteProperty:function(r,e){return ln(r.t,e)!==void 0||e in r.t?(r.D[e]=!1,an(r),mn(r)):delete r.D[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var t=yt(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty:function(){at(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){at(12)}},Lt={};Ot(bn,function(r,e){Lt[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Lt.deleteProperty=function(r,e){return Lt.set.call(this,r,e,void 0)},Lt.set=function(r,e,t){return bn.set.call(this,r[0],e,t,r[0])};var na=function(){function r(t){var n=this;this.g=Qn,this.F=!0,this.produce=function(l,i,a){if(typeof l=="function"&&typeof i!="function"){var s=i;i=l;var o=n;return function(v){var w=this;v===void 0&&(v=s);for(var E=arguments.length,k=Array(E>1?E-1:0),D=1;D<E;D++)k[D-1]=arguments[D];return o.produce(v,function(S){var N;return(N=i).call.apply(N,[w,S].concat(k))})}}var c;if(typeof i!="function"&&at(6),a!==void 0&&typeof a!="function"&&at(7),Ct(l)){var u=Yn(n),f=vn(n,l,void 0),h=!0;try{c=i(f),h=!1}finally{h?qt(u):pn(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(v){return nn(u,a),rn(v,u)},function(v){throw qt(u),v}):(nn(u,a),rn(c,u))}if(!l||typeof l!="object"){if((c=i(l))===void 0&&(c=l),c===Tl&&(c=void 0),n.F&&Tn(c,!0),a){var d=[],p=[];ct("Patches").M(l,c,d,p),a(d,p)}return c}at(21,l)},this.produceWithPatches=function(l,i){if(typeof l=="function")return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return n.produceWithPatches(c,function(d){return l.apply(void 0,[d].concat(f))})};var a,s,o=n.produce(l,i,function(c,u){a=c,s=u});return typeof Promise<"u"&&o instanceof Promise?o.then(function(c){return[c,a,s]}):[o,a,s]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=r.prototype;return e.createDraft=function(t){Ct(t)||at(8),Ut(t)&&(t=Xi(t));var n=Yn(this),l=vn(this,t,void 0);return l[nt].C=!0,pn(n),l},e.finishDraft=function(t,n){var l=t&&t[nt],i=l.A;return nn(i,n),rn(void 0,i)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Qn&&at(20),this.g=t},e.applyPatches=function(t,n){var l;for(l=n.length-1;l>=0;l--){var i=n[l];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}l>-1&&(n=n.slice(l+1));var a=ct("Patches").$;return Ut(t)?a(t,n):this.produce(t,function(s){return a(s,n)})},r}(),rt=new na,ra=rt.produce;rt.produceWithPatches.bind(rt);rt.setAutoFreeze.bind(rt);rt.setUseProxies.bind(rt);rt.applyPatches.bind(rt);rt.createDraft.bind(rt);rt.finishDraft.bind(rt);const he=ra;var xt,la=new Uint8Array(16);function ia(){if(!xt&&(xt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!xt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xt(la)}const aa=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sa(r){return typeof r=="string"&&aa.test(r)}var Je=[];for(var sn=0;sn<256;++sn)Je.push((sn+256).toString(16).substr(1));function oa(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Je[r[e+0]]+Je[r[e+1]]+Je[r[e+2]]+Je[r[e+3]]+"-"+Je[r[e+4]]+Je[r[e+5]]+"-"+Je[r[e+6]]+Je[r[e+7]]+"-"+Je[r[e+8]]+Je[r[e+9]]+"-"+Je[r[e+10]]+Je[r[e+11]]+Je[r[e+12]]+Je[r[e+13]]+Je[r[e+14]]+Je[r[e+15]]).toLowerCase();if(!sa(t))throw TypeError("Stringified UUID is invalid");return t}function Rt(r,e,t){r=r||{};var n=r.random||(r.rng||ia)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var l=0;l<16;++l)e[t+l]=n[l];return e}return oa(n)}function er(r){return(r==null?void 0:r.contentChanges)!==void 0||(r==null?void 0:r.metaChanges)!==void 0}function _e(r){return{activePackage(){return r.packages[r.activePackageId]},activeResourceId(){var e;return(e=this.activePackage())==null?void 0:e.activeResourceId},activeResource(){var t;const e=this.activeResourceId();return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},openResourceIds(){var t;const e=(t=this.activePackage())==null?void 0:t.resources;return e?Object.keys(e).filter(n=>{var l;return(l=e[n])==null?void 0:l.isOpen}):[]},resourceById(e){var t;return e?(t=this.activePackage())==null?void 0:t.resources[e]:void 0},resourcesByType(e){var t;return Object.values(((t=this.activePackage())==null?void 0:t.resources)??{}).filter(n=>n.meta.typeId===ye[e])},resourceIdByTypeAndInstanceId(e,t){var l;const n=Object.entries(((l=this.activePackage())==null?void 0:l.resources)??{}).find(([,i])=>i.meta.typeId===ye[e]&&i.meta.instanceId===t);return n==null?void 0:n[0]},isDirty(e){const t=e??this.activeResourceId();return t?er(this.resourceById(t)):!1},isPackageDirty(e){const t=r.packages[e??r.activePackageId];return Object.values((t==null?void 0:t.resources)??{}).some(er)},linkedResourceId(e){var l;const t=_e(r).activePackage(),n=_e(r).activeResource();return(l=Object.entries((t==null?void 0:t.resources)??{}).find(([,i])=>i.meta.typeId===ye[e]&&i.meta.instanceId===(n==null?void 0:n.meta.instanceId)&&i.meta.instanceId2===(n==null?void 0:n.meta.instanceId2)))==null?void 0:l[0]}}}const Al="editorState",wn="base64:",ca=xl(r=>{const e=JSON.stringify(r,(t,n)=>n instanceof ArrayBuffer?`${wn}${Hi(n)}`:n);localStorage.setItem(Al,e)},1e3);function ua(){const r={activePackageId:"",packages:{}},e=localStorage.getItem(Al);return e?JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(wn)?Wi(n.slice(wn.length)):n):r}function on(r,e){const t=e.filter(n=>n!==r);return t[Math.min(e.indexOf(r),t.length-1)]??""}const je=zl(ua());je.subscribe(ca);const be={subscribe:je.subscribe,async addPackage(r){const e=Gi(await r.arrayBuffer()).reduce((n,l)=>(n[Rt()]=l,n),{}),t=Rt();je.update(n=>he(n,l=>{l.packages[t]={filename:r.name,resources:e,activeResourceId:""},l.activePackageId=t}))},removePackage(r){window.confirm("Close this package? You'll lose all changes.")&&je.update(e=>he(e,t=>{r===e.activePackageId&&(t.activePackageId=on(r,Object.keys(e.packages))),delete t.packages[r]}))},setActivePackage(r){je.update(e=>he(e,t=>{t.activePackageId=r}))},downloadActivePackage(){const r=Rl(je);if(_e(r).isPackageDirty()&&!window.confirm("This package contains resources with unsaved changes. Download anyway?"))return;const e=_e(r).activePackage();if(!e)return console.error("Failed to find active package, unable to download");const t=zi(Object.values(e.resources)),n=new Blob([new Uint8Array(t)],{type:"octet/stream"}),l=window.URL.createObjectURL(n),i=document.createElement("a");i.href=l,i.download=e.filename,i.click(),window.URL.revokeObjectURL(l)},openResource(r){je.update(e=>he(e,t=>{const n=_e(t).resourceById(r);if(n){n.isOpen=!0;const l=_e(t).activePackage();l&&(l.activeResourceId=r)}}))},closeResource(r){je.update(e=>he(e,t=>{var a;const n=(a=_e(e).activePackage())==null?void 0:a.activeResourceId;if(_e(e).isDirty(r)&&!window.confirm("Close this resource? You'll lose all unsaved changes."))return;const l=_e(e).openResourceIds();if(r===n){const s=_e(t).activePackage();s&&(s.activeResourceId=on(r,l))}const i=_e(t).resourceById(r);i&&(i.isOpen=!1,delete i.contentChanges,delete i.metaChanges)}))},editActiveResource(r){je.update(e=>he(e,t=>{const n=_e(t).activeResource();n&&(n.contentChanges=r)}))},editActiveResourceMeta(r){je.update(e=>he(e,t=>{const n=_e(t).activeResource();n&&(n.metaChanges=r)}))},resetActiveResource(){window.confirm("Undo all unsaved changes to this resource? This cannot be undone.")&&je.update(r=>he(r,e=>{const t=_e(e).activeResource();t&&(delete t.contentChanges,delete t.metaChanges)}))},saveActiveResource(){je.update(r=>he(r,e=>{const t=_e(e).activeResource();(t==null?void 0:t.contentChanges)!==void 0&&(t.content=t.contentChanges,delete t.contentChanges),(t==null?void 0:t.metaChanges)!==void 0&&(t.meta=t.metaChanges,delete t.metaChanges)}))},copyActiveResource(){je.update(r=>he(r,e=>{const t=_e(e).activePackage(),n=_e(r).activeResource();if(t&&n){const l=Rt();t.resources[l]={...n},t.activeResourceId=l}}))},deleteActiveResource(){window.confirm("Remove this resource from the package file? This cannot be undone.")&&je.update(r=>he(r,e=>{const t=_e(e).activePackage(),n=_e(e).activeResourceId();if(t&&n){const l=_e(e).openResourceIds();t.activeResourceId=on(n,l),delete t.resources[n]}}))},createNewResource(r){je.update(e=>he(e,t=>{const n=_e(t).activePackage(),l=Rt();n&&(n.resources[l]={meta:{typeId:ye[r],groupId:0,instanceId:0,instanceId2:0,location:0,size:0},content:Et[r],isOpen:!0},n.activeResourceId=l)}))},createLinkedResource(r,e){je.update(t=>he(t,n=>{const l=_e(n).activePackage(),i=_e(n).activeResource(),a=Rt();l&&i&&(l.resources[a]={meta:{...i.meta,typeId:ye[r]},content:e??Et[r]})}))},setActiveResource(r){je.update(e=>he(e,t=>{const n=_e(t).activePackage();n&&(n.activeResourceId=r)}))}},Ul=El(je,r=>_e(r).activePackage()),Dl=El(je,r=>_e(r).activeResource());function fa(r){let e,t,n;const l=r[2].default,i=ut(l,r,r[1],null);return{c(){e=T("div"),i&&i.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);i&&i.l(s),s.forEach(m),this.h()},h(){C(e,"class",t=Fn(`popover ${r[0]}`)+" svelte-1og6ho9")},m(a,s){R(a,e,s),i&&i.m(e,null),n=!0},p(a,[s]){i&&i.p&&(!n||s&2)&&ft(i,l,a,a[1],n?dt(l,a[1],s,null):ht(a[1]),null),(!n||s&1&&t!==(t=Fn(`popover ${a[0]}`)+" svelte-1og6ho9"))&&C(e,"class",t)},i(a){n||(U(i,a),n=!0)},o(a){B(i,a),n=!1},d(a){a&&m(e),i&&i.d(a)}}}function ha(r,e,t){let{$$slots:n={},$$scope:l}=e,{position:i="top"}=e;return r.$$set=a=>{"position"in a&&t(0,i=a.position),"$$scope"in a&&t(1,l=a.$$scope)},[i,l,n]}class da extends ce{constructor(e){super(),ue(this,e,ha,fa,ae,{position:0})}}function ga(r){let e,t,n,l;const i=r[8].default,a=ut(i,r,r[11],null);let s=[{class:r[1]},{style:r[2]},r[6]],o={};for(let c=0;c<s.length;c+=1)o=ge(o,s[c]);return{c(){e=T("button"),a&&a.c(),this.h()},l(c){e=A(c,"BUTTON",{class:!0,style:!0});var u=I(e);a&&a.l(u),u.forEach(m),this.h()},h(){Ne(e,o),De(e,"svelte-1dioxib",!0)},m(c,u){R(c,e,u),a&&a.m(e,null),e.autofocus&&e.focus(),r[10](e),t=!0,n||(l=pe(e,"click",function(){Vt(r[0])&&r[0].apply(this,arguments)}),n=!0)},p(c,u){r=c,a&&a.p&&(!t||u&2048)&&ft(a,i,r,r[11],t?dt(i,r[11],u,null):ht(r[11]),null),Ne(e,o=Le(s,[(!t||u&2)&&{class:r[1]},(!t||u&4)&&{style:r[2]},u&64&&r[6]])),De(e,"svelte-1dioxib",!0)},i(c){t||(U(a,c),t=!0)},o(c){B(a,c),t=!1},d(c){c&&m(e),a&&a.d(c),r[10](null),n=!1,l()}}}function _a(r){let e,t,n,l,i,a,s;const o=r[8].default,c=ut(o,r,r[11],null);let u=[{class:r[1]},{style:n=`height: ${r[3]}px; width: ${r[3]}px;`},r[6]],f={};for(let d=0;d<u.length;d+=1)f=ge(f,u[d]);let h=r[4]&&tr(r);return{c(){e=T("div"),t=T("button"),c&&c.c(),l=L(),h&&h.c(),this.h()},l(d){e=A(d,"DIV",{class:!0,style:!0});var p=I(e);t=A(p,"BUTTON",{class:!0,style:!0});var v=I(t);c&&c.l(v),v.forEach(m),l=O(p),h&&h.l(p),p.forEach(m),this.h()},h(){Ne(t,f),De(t,"svelte-1dioxib",!0),C(e,"class","bevel svelte-1dioxib"),C(e,"style",r[2])},m(d,p){R(d,e,p),b(e,t),c&&c.m(t,null),t.autofocus&&t.focus(),r[9](t),b(e,l),h&&h.m(e,null),i=!0,a||(s=pe(t,"click",function(){Vt(r[0])&&r[0].apply(this,arguments)}),a=!0)},p(d,p){r=d,c&&c.p&&(!i||p&2048)&&ft(c,o,r,r[11],i?dt(o,r[11],p,null):ht(r[11]),null),Ne(t,f=Le(u,[(!i||p&2)&&{class:r[1]},(!i||p&8&&n!==(n=`height: ${r[3]}px; width: ${r[3]}px;`))&&{style:n},p&64&&r[6]])),De(t,"svelte-1dioxib",!0),r[4]?h?(h.p(r,p),p&16&&U(h,1)):(h=tr(r),h.c(),U(h,1),h.m(e,null)):h&&(me(),B(h,1,1,()=>{h=null}),ve()),(!i||p&4)&&C(e,"style",r[2])},i(d){i||(U(c,d),U(h),i=!0)},o(d){B(c,d),B(h),i=!1},d(d){d&&m(e),c&&c.d(d),r[9](null),h&&h.d(),a=!1,s()}}}function tr(r){let e,t;return e=new da({props:{position:"top",$$slots:{default:[pa]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&2064&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function pa(r){let e;return{c(){e=X(r[4])},l(t){e=K(t,r[4])},m(t,n){R(t,e,n)},p(t,n){n&16&&Fe(e,t[4])},d(t){t&&m(e)}}}function ma(r){let e,t,n,l;const i=[_a,ga],a=[];function s(o,c){return o[1]==="skeuomorphic"?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){B(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function va(r,e,t){const n=["focus","onClick","variant","style","size","tooltip"];let l=Yt(e,n),{$$slots:i={},$$scope:a}=e,s;function o(){s.focus()}let{onClick:c}=e,{variant:u="link"}=e,{style:f=void 0}=e,{size:h=35}=e,{tooltip:d=""}=e;function p(w){bt[w?"unshift":"push"](()=>{s=w,t(5,s)})}function v(w){bt[w?"unshift":"push"](()=>{s=w,t(5,s)})}return r.$$set=w=>{e=ge(ge({},e),Ve(w)),t(6,l=Yt(e,n)),"onClick"in w&&t(0,c=w.onClick),"variant"in w&&t(1,u=w.variant),"style"in w&&t(2,f=w.style),"size"in w&&t(3,h=w.size),"tooltip"in w&&t(4,d=w.tooltip),"$$scope"in w&&t(11,a=w.$$scope)},[c,u,f,h,d,s,l,o,i,p,v,a]}class Se extends ce{constructor(e){super(),ue(this,e,va,ma,ae,{focus:7,onClick:0,variant:1,style:2,size:3,tooltip:4})}get focus(){return this.$$.ctx[7]}}function ba(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99h144v-144C192 62.32 206.33 48 224 48s32 14.32 32 32.01v144h144c17.7-.01 32 14.29 32 31.99z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function wa(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class $a extends ce{constructor(e){super(),ue(this,e,wa,ba,ae,{})}}function ya(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M384 128H256V0l128 128zm-128 32h128v304c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.5-48-48V48C0 21.49 21.49 0 48 0h176l.004 128C224 145.7 238.3 160 256 160zm-1 135-39 39.1V232c0-13.25-10.75-24-24-24s-24 10.8-24 24v102.1L128.1 295c-3.8-4.7-9.9-7-16.1-7s-12.28 2.3-16.97 7c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94s-24.57-9.3-33.97 0z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function ka(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class Ea extends ce{constructor(e){super(),ue(this,e,ka,ya,ae,{})}}function Ca(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M438.6 105.4c12.5 12.5 12.5 32.7 0 45.2l-256 256c-12.5 12.5-32.7 12.5-45.2 0L9.372 278.6c-12.496-12.5-12.496-32.7 0-45.2 12.498-12.5 32.758-12.5 45.258 0L159.1 338.7l234.3-233.3c12.5-12.52 32.7-12.52 45.2 0z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function Ia(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class Ta extends ce{constructor(e){super(),ue(this,e,Ia,Ca,ae,{})}}function Aa(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M376.6 427.5c11.31 13.58 9.484 33.75-4.094 45.06a31.894 31.894 0 0 1-20.47 7.422c-9.172 0-18.27-3.922-24.59-11.52L192 305.1 56.6 467.6c-6.328 7.594-15.42 11.52-24.59 11.52a31.907 31.907 0 0 1-20.47-7.422c-13.58-11.31-15.41-31.48-4.094-45.06l142.9-171.5L7.422 84.5C-3.891 70.92-2.063 50.75 11.52 39.44c13.56-11.34 33.73-9.516 45.06 4.094L192 206 327.4 43.5c11.3-13.58 31.48-15.42 45.06-4.094 13.58 11.31 15.41 31.48 4.094 45.06l-142.9 171.5L376.6 427.5z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 384 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function Ua(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class Da extends ce{constructor(e){super(),ue(this,e,Ua,Aa,ae,{})}}function Sa(r){const e=r-1;return e*e*e+1}function nr(r,{delay:e=0,duration:t=400,easing:n=Pl}={}){const l=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*l}`}}function rr(r,{delay:e=0,duration:t=400,easing:n=Sa,x:l=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(r),o=+s.opacity,c=s.transform==="none"?"":s.transform,u=o*(1-a);return{delay:e,duration:t,easing:n,css:(f,h)=>`
			transform: ${c} translate(${(1-f)*l}px, ${(1-f)*i}px);
			opacity: ${o-u*h}`}}function Ba(r){let e,t,n,l,i;const a=r[2].default,s=ut(a,r,r[1],null);return{c(){e=T("div"),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{});var c=I(e);s&&s.l(c),c.forEach(m),this.h()},h(){e.hidden=!0},m(o,c){R(o,e,c),s&&s.m(e,null),n=!0,l||(i=Ll(t=Fa.call(null,e,r[0])),l=!0)},p(o,[c]){s&&s.p&&(!n||c&2)&&ft(s,a,o,o[1],n?dt(a,o[1],c,null):ht(o[1]),null),t&&Vt(t.update)&&c&1&&t.update.call(null,o[0])},i(o){n||(U(s,o),n=!0)},o(o){B(s,o),n=!1},d(o){o&&m(e),s&&s.d(o),l=!1,i()}}}function Fa(r,e="body"){let t;async function n(i){if(e=i,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Ol(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(r),r.hidden=!1}function l(){r.parentNode&&r.parentNode.removeChild(r)}return n(e),{update:n,destroy:l}}function Ra(r,e,t){let{$$slots:n={},$$scope:l}=e,{target:i="body"}=e;return r.$$set=a=>{"target"in a&&t(0,i=a.target),"$$scope"in a&&t(1,l=a.$$scope)},[i,l,n]}class Pa extends ce{constructor(e){super(),ue(this,e,Ra,Ba,ae,{target:0})}}function lr(r){let e,t;return e=new Pa({props:{$$slots:{default:[Oa]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&269&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function ir(r){let e,t;return{c(){e=T("h2"),t=X(r[0]),this.h()},l(n){e=A(n,"H2",{class:!0});var l=I(e);t=K(l,r[0]),l.forEach(m),this.h()},h(){C(e,"class","svelte-tzis89")},m(n,l){R(n,e,l),b(e,t)},p(n,l){l&1&&Fe(t,n[0])},d(n){n&&m(e)}}}function La(r){let e,t,n=r[0]&&ir(r);const l=r[4].default,i=ut(l,r,r[8],null);return{c(){n&&n.c(),e=L(),i&&i.c()},l(a){n&&n.l(a),e=O(a),i&&i.l(a)},m(a,s){n&&n.m(a,s),R(a,e,s),i&&i.m(a,s),t=!0},p(a,s){a[0]?n?n.p(a,s):(n=ir(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),i&&i.p&&(!t||s&256)&&ft(i,l,a,a[8],t?dt(l,a[8],s,null):ht(a[8]),null)},i(a){t||(U(i,a),t=!0)},o(a){B(i,a),t=!1},d(a){n&&n.d(a),a&&m(e),i&&i.d(a)}}}function Oa(r){let e,t,n,l,i,a,s,o;return n=new xe({props:{secondary:!0,style:{position:"relative"},$$slots:{default:[La]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),W(n.$$.fragment),this.h()},l(c){e=A(c,"DIV",{class:!0});var u=I(e);t=A(u,"DIV",{});var f=I(t);q(n.$$.fragment,f),f.forEach(m),u.forEach(m),this.h()},h(){C(e,"class","background svelte-tzis89")},m(c,u){R(c,e,u),b(e,t),x(n,t,null),r[7](e),a=!0,s||(o=[pe(e,"click",r[5]),pe(e,"keydown",r[6])],s=!0)},p(c,u){const f={};u&257&&(f.$$scope={dirty:u,ctx:c}),n.$set(f)},i(c){a||(U(n.$$.fragment,c),hn(()=>{l||(l=Ht(t,rr,{y:-200,duration:100},!0)),l.run(1)}),hn(()=>{i||(i=Ht(e,nr,{duration:100},!0)),i.run(1)}),a=!0)},o(c){B(n.$$.fragment,c),l||(l=Ht(t,rr,{y:-200,duration:100},!1)),l.run(0),i||(i=Ht(e,nr,{duration:100},!1)),i.run(0),a=!1},d(c){c&&m(e),Y(n),c&&l&&l.end(),r[7](null),c&&i&&i.end(),s=!1,gt(o)}}}function Ma(r){let e,t,n=r[1]&&lr(r);return{c(){n&&n.c(),e=ke()},l(l){n&&n.l(l),e=ke()},m(l,i){n&&n.m(l,i),R(l,e,i),t=!0},p(l,[i]){l[1]?n?(n.p(l,i),i&2&&U(n,1)):(n=lr(l),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),B(n,1,1,()=>{n=null}),ve())},i(l){t||(U(n),t=!0)},o(l){B(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function Na(r,e,t){let{$$slots:n={},$$scope:l}=e,{title:i=void 0}=e,{isOpen:a}=e,{onClose:s}=e,o;const c=h=>{h.target===o&&s()},u=h=>{h.key==="Escape"&&s()};function f(h){bt[h?"unshift":"push"](()=>{o=h,t(3,o)})}return r.$$set=h=>{"title"in h&&t(0,i=h.title),"isOpen"in h&&t(1,a=h.isOpen),"onClose"in h&&t(2,s=h.onClose),"$$scope"in h&&t(8,l=h.$$scope)},[i,a,s,o,n,c,u,f,l]}class Va extends ce{constructor(e){super(),ue(this,e,Na,Ma,ae,{title:0,isOpen:1,onClose:2})}}function ar(r,e,t){const n=r.slice();return n[6]=e[t],n}function sr(r,e,t){const n=r.slice();n[9]=e[t];const l=n[6][n[9]];return n[10]=l,n}function or(r,e,t){const n=r.slice();return n[9]=e[t],n}function cr(r){let e,t=r[9]+"",n,l;return{c(){e=T("th"),n=X(t),l=L(),this.h()},l(i){e=A(i,"TH",{class:!0});var a=I(e);n=K(a,t),l=O(a),a.forEach(m),this.h()},h(){var i,a,s,o;C(e,"class","svelte-1r7sqdr"),De(e,"stretch",(a=(i=r[1])==null?void 0:i[r[9]])==null?void 0:a.stretch),De(e,"shrink",(o=(s=r[1])==null?void 0:s[r[9]])==null?void 0:o.shrink)},m(i,a){R(i,e,a),b(e,n),b(e,l)},p(i,a){var s,o,c,u;a&1&&t!==(t=i[9]+"")&&Fe(n,t),a&3&&De(e,"stretch",(o=(s=i[1])==null?void 0:s[i[9]])==null?void 0:o.stretch),a&3&&De(e,"shrink",(u=(c=i[1])==null?void 0:c[i[9]])==null?void 0:u.shrink)},d(i){i&&m(e)}}}function ja(r){let e=(r[10]??"-")+"",t;return{c(){t=X(e)},l(n){t=K(n,e)},m(n,l){R(n,t,l)},p(n,l){l&5&&e!==(e=(n[10]??"-")+"")&&Fe(t,e)},i:ie,o:ie,d(n){n&&m(t)}}}function Ga(r){let e=r[10].element,t,n=r[10].element&&cn(r);return{c(){n&&n.c(),t=ke()},l(l){n&&n.l(l),t=ke()},m(l,i){n&&n.m(l,i),R(l,t,i)},p(l,i){l[10].element?e?ae(e,l[10].element)?(n.d(1),n=cn(l),n.c(),n.m(t.parentNode,t)):n.p(l,i):(n=cn(l),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=l[10].element},i:ie,o:ie,d(l){l&&m(t),n&&n.d(l)}}}function za(r){let e,t,n;const l=[r[10].props??{}];var i=r[10].component;function a(s){let o={};for(let c=0;c<l.length;c+=1)o=ge(o,l[c]);return{props:o}}return i&&(e=Tt(i,a())),{c(){e&&W(e.$$.fragment),t=ke()},l(s){e&&q(e.$$.fragment,s),t=ke()},m(s,o){e&&x(e,s,o),R(s,t,o),n=!0},p(s,o){const c=o&5?Le(l,[kn(s[10].props??{})]):{};if(i!==(i=s[10].component)){if(e){me();const u=e;B(u.$$.fragment,1,0,()=>{Y(u,1)}),ve()}i?(e=Tt(i,a()),W(e.$$.fragment),U(e.$$.fragment,1),x(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(s){n||(e&&U(e.$$.fragment,s),n=!0)},o(s){e&&B(e.$$.fragment,s),n=!1},d(s){s&&m(t),e&&Y(e,s)}}}function cn(r){let e,t=[r[10].props??{}],n={};for(let l=0;l<t.length;l+=1)n=ge(n,t[l]);return{c(){e=T(r[10].element),this.h()},l(l){e=A(l,(r[10].element||"null").toUpperCase(),{}),I(e).forEach(m),this.h()},h(){/-/.test(r[10].element)?At(e,n):Ne(e,n),De(e,"svelte-1r7sqdr",!0)},m(l,i){R(l,e,i)},p(l,i){n=Le(t,[i&5&&(l[10].props??{})]),/-/.test(l[10].element)?At(e,n):Ne(e,n),De(e,"svelte-1r7sqdr",!0)},d(l){l&&m(e)}}}function ur(r){let e,t,n,l,i,a;const s=[za,Ga,ja],o=[];function c(u,f){return f&5&&(t=null),f&5&&(n=null),t==null&&(t=!!u[4](u[10])),t?0:(n==null&&(n=!!u[5](u[10])),n?1:2)}return l=c(r,-1),i=o[l]=s[l](r),{c(){e=T("td"),i.c(),this.h()},l(u){e=A(u,"TD",{class:!0});var f=I(e);i.l(f),f.forEach(m),this.h()},h(){C(e,"class","svelte-1r7sqdr")},m(u,f){R(u,e,f),o[l].m(e,null),a=!0},p(u,f){let h=l;l=c(u,f),l===h?o[l].p(u,f):(me(),B(o[h],1,1,()=>{o[h]=null}),ve(),i=o[l],i?i.p(u,f):(i=o[l]=s[l](u),i.c()),U(i,1),i.m(e,null))},i(u){a||(U(i),a=!0)},o(u){B(i),a=!1},d(u){u&&m(e),o[l].d()}}}function fr(r){let e,t,n,l=r[0],i=[];for(let s=0;s<l.length;s+=1)i[s]=ur(sr(r,l,s));const a=s=>B(i[s],1,1,()=>{i[s]=null});return{c(){e=T("tr");for(let s=0;s<i.length;s+=1)i[s].c();t=L(),this.h()},l(s){e=A(s,"TR",{class:!0});var o=I(e);for(let c=0;c<i.length;c+=1)i[c].l(o);t=O(o),o.forEach(m),this.h()},h(){C(e,"class","svelte-1r7sqdr")},m(s,o){R(s,e,o);for(let c=0;c<i.length;c+=1)i[c].m(e,null);b(e,t),n=!0},p(s,o){if(o&53){l=s[0];let c;for(c=0;c<l.length;c+=1){const u=sr(s,l,c);i[c]?(i[c].p(u,o),U(i[c],1)):(i[c]=ur(u),i[c].c(),U(i[c],1),i[c].m(e,t))}for(me(),c=l.length;c<i.length;c+=1)a(c);ve()}},i(s){if(!n){for(let o=0;o<l.length;o+=1)U(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)B(i[o]);n=!1},d(s){s&&m(e),Pe(i,s)}}}function Ha(r){let e,t,n,l,i,a=r[0],s=[];for(let f=0;f<a.length;f+=1)s[f]=cr(or(r,a,f));let o=r[2],c=[];for(let f=0;f<o.length;f+=1)c[f]=fr(ar(r,o,f));const u=f=>B(c[f],1,1,()=>{c[f]=null});return{c(){e=T("table"),t=T("thead");for(let f=0;f<s.length;f+=1)s[f].c();n=L(),l=T("tbody");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=A(f,"TABLE",{style:!0,class:!0});var h=I(e);t=A(h,"THEAD",{});var d=I(t);for(let v=0;v<s.length;v+=1)s[v].l(d);d.forEach(m),n=O(h),l=A(h,"TBODY",{});var p=I(l);for(let v=0;v<c.length;v+=1)c[v].l(p);p.forEach(m),h.forEach(m),this.h()},h(){C(e,"style",r[3]),C(e,"class","svelte-1r7sqdr")},m(f,h){R(f,e,h),b(e,t);for(let d=0;d<s.length;d+=1)s[d].m(t,null);b(e,n),b(e,l);for(let d=0;d<c.length;d+=1)c[d].m(l,null);i=!0},p(f,[h]){if(h&3){a=f[0];let d;for(d=0;d<a.length;d+=1){const p=or(f,a,d);s[d]?s[d].p(p,h):(s[d]=cr(p),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}if(h&53){o=f[2];let d;for(d=0;d<o.length;d+=1){const p=ar(f,o,d);c[d]?(c[d].p(p,h),U(c[d],1)):(c[d]=fr(p),c[d].c(),U(c[d],1),c[d].m(l,null))}for(me(),d=o.length;d<c.length;d+=1)u(d);ve()}(!i||h&8)&&C(e,"style",f[3])},i(f){if(!i){for(let h=0;h<o.length;h+=1)U(c[h]);i=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)B(c[h]);i=!1},d(f){f&&m(e),Pe(s,f),Pe(c,f)}}}function Wa(r,e,t){let{columns:n}=e,{columnConfig:l=void 0}=e,{rows:i}=e,{style:a=""}=e;const s=c=>c&&typeof c!="string"&&typeof c!="number"&&c.component,o=c=>c&&typeof c!="string"&&typeof c!="number"&&c.element;return r.$$set=c=>{"columns"in c&&t(0,n=c.columns),"columnConfig"in c&&t(1,l=c.columnConfig),"rows"in c&&t(2,i=c.rows),"style"in c&&t(3,a=c.style)},[n,l,i,a,s,o]}class Zt extends ce{constructor(e){super(),ue(this,e,Wa,Ha,ae,{columns:0,columnConfig:1,rows:2,style:3})}}function xa(r){let e,t,n;return{c(){e=T("input"),this.h()},l(l){e=A(l,"INPUT",{type:!0,style:!0}),this.h()},h(){C(e,"type","text"),e.value=r[3],e.disabled=r[1],C(e,"style",r[2])},m(l,i){R(l,e,i),t||(n=[pe(e,"input",st(r[4])),pe(e,"blur",r[5])],t=!0)},p(l,i){i&8&&e.value!==l[3]&&(e.value=l[3]),i&2&&(e.disabled=l[1]),i&4&&C(e,"style",l[2])},d(l){l&&m(e),t=!1,gt(n)}}}function Ya(r){let e,t,n,l,i,a;return{c(){e=T("label"),t=X(r[0]),n=L(),l=T("input"),this.h()},l(s){e=A(s,"LABEL",{});var o=I(e);t=K(o,r[0]),n=O(o),l=A(o,"INPUT",{type:!0,class:!0,style:!0}),o.forEach(m),this.h()},h(){C(l,"type","text"),l.value=r[3],l.disabled=r[1],C(l,"class","labeled svelte-1c67e8g"),C(l,"style",r[2])},m(s,o){R(s,e,o),b(e,t),b(e,n),b(e,l),i||(a=[pe(l,"input",st(r[4])),pe(l,"blur",r[5])],i=!0)},p(s,o){o&1&&Fe(t,s[0]),o&8&&l.value!==s[3]&&(l.value=s[3]),o&2&&(l.disabled=s[1]),o&4&&C(l,"style",s[2])},d(s){s&&m(e),i=!1,gt(a)}}}function qa(r){let e;function t(i,a){return i[0]?Ya:xa}let n=t(r),l=n(r);return{c(){l.c(),e=ke()},l(i){l.l(i),e=ke()},m(i,a){l.m(i,a),R(i,e,a)},p(i,[a]){n===(n=t(i))&&l?l.p(i,a):(l.d(1),l=n(i),l&&(l.c(),l.m(e.parentNode,e)))},i:ie,o:ie,d(i){l.d(i),i&&m(e)}}}function Ja(r,e,t){let n,{variant:l="text"}=e,{value:i}=e,{onChange:a}=e,{label:s=""}=e,{maxLength:o=void 0}=e,{disabled:c=!1}=e,{style:u=void 0}=e;const f=p=>{const v=l==="hex"?`^(0x|0X)?[a-fA-F0-9]{0,${o??""}}$`:"";return RegExp(v).test(p)},h=p=>{const v=p.target;f(v.value)?t(3,n=v.value):v.value=n},d=()=>{a(l==="hex"?parseInt(n,16):n)};return r.$$set=p=>{"variant"in p&&t(6,l=p.variant),"value"in p&&t(7,i=p.value),"onChange"in p&&t(8,a=p.onChange),"label"in p&&t(0,s=p.label),"maxLength"in p&&t(9,o=p.maxLength),"disabled"in p&&t(1,c=p.disabled),"style"in p&&t(2,u=p.style)},r.$$.update=()=>{r.$$.dirty&704&&t(3,n=l==="hex"?Me(i,o):i)},[s,c,u,n,h,d,l,i,a,o]}class Qe extends ce{constructor(e){super(),ue(this,e,Ja,qa,ae,{variant:6,value:7,onChange:8,label:0,maxLength:9,disabled:1,style:2})}}function Xa(r){let e,t;return e=new Se({props:{onClick:r[4],$$slots:{default:[Qa]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&1024&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ka(r){let e,t;return e=new Se({props:{onClick:r[8],$$slots:{default:[Za]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&4&&(i.onClick=n[8]),l&1024&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Qa(r){let e;return{c(){e=X("Create TRCN")},l(t){e=K(t,"Create TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Za(r){let e;return{c(){e=X("Edit TRCN")},l(t){e=K(t,"Edit TRCN")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function es(r){let e;return{c(){e=X("Append new value")},l(t){e=K(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function ts(r){let e,t,n,l,i,a,s,o,c,u,f,h,d,p;const v=[Ka,Xa],w=[];function E(k,D){return k[2]?0:1}return t=E(r),n=w[t]=v[t](r),i=new Se({props:{onClick:r[5],$$slots:{default:[es]},$$scope:{ctx:r}}}),{c(){e=T("div"),n.c(),l=L(),W(i.$$.fragment),a=L(),s=T("div"),o=T("label"),c=X(`Flag
				`),u=T("input"),this.h()},l(k){e=A(k,"DIV",{class:!0});var D=I(e);n.l(D),l=O(D),q(i.$$.fragment,D),D.forEach(m),a=O(k),s=A(k,"DIV",{class:!0});var S=I(s);o=A(S,"LABEL",{});var N=I(o);c=K(N,`Flag
				`),u=A(N,"INPUT",{type:!0}),N.forEach(m),S.forEach(m),this.h()},h(){C(e,"class","control-group svelte-oueji5"),C(u,"type","checkbox"),u.checked=f=r[0].flag,C(s,"class","control-group svelte-oueji5")},m(k,D){R(k,e,D),w[t].m(e,null),b(e,l),x(i,e,null),R(k,a,D),R(k,s,D),b(s,o),b(o,c),b(o,u),h=!0,d||(p=pe(u,"input",r[6]),d=!0)},p(k,D){let S=t;t=E(k),t===S?w[t].p(k,D):(me(),B(w[S],1,1,()=>{w[S]=null}),ve(),n=w[t],n?n.p(k,D):(n=w[t]=v[t](k),n.c()),U(n,1),n.m(e,l));const N={};D&1024&&(N.$$scope={dirty:D,ctx:k}),i.$set(N),(!h||D&1&&f!==(f=k[0].flag))&&(u.checked=f)},i(k){h||(U(n),U(i.$$.fragment,k),h=!0)},o(k){B(n),B(i.$$.fragment,k),h=!1},d(k){k&&m(e),w[t].d(),Y(i),k&&m(a),k&&m(s),d=!1,p()}}}function ns(r){let e,t;return e=new Zt({props:{columns:["","Value",...r[3]?["Label","Default","Min","Max","Used"]:[]],columnConfig:{"":{shrink:!0}},rows:r[0].items.map(r[9])}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&8&&(i.columns=["","Value",...n[3]?["Label","Default","Min","Max","Used"]:[]]),l&11&&(i.rows=n[0].items.map(n[9])),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function rs(r){let e,t,n,l,i;return t=new xe({props:{secondary:!0,style:{display:"flex",gap:"15px","justify-content":"space-between","margin-bottom":"5px"},$$slots:{default:[ts]},$$scope:{ctx:r}}}),l=new xe({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[ns]},$$scope:{ctx:r}}}),{c(){e=T("div"),W(t.$$.fragment),n=L(),W(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(l.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","bcon-view svelte-oueji5")},m(a,s){R(a,e,s),x(t,e,null),b(e,n),x(l,e,null),i=!0},p(a,[s]){const o={};s&1029&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(l.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(l)}}}function ls(r,e,t){let n;tt(r,be,d=>t(7,n=d));let{content:l}=e,{onChange:i}=e,a,s;const o=()=>{be.createLinkedResource("TRCN",{...Et.TRCN,filename:l.filename,items:l.items.map((d,p)=>({...Et.TRCN.items[0],constId:p+1}))})},c=()=>i(he(l,d=>{d.items.push(0)})),u=d=>i(he(l,p=>{p.flag=d.target.checked})),f=()=>a?be.openResource(a):null,h=(d,p)=>{var v,w,E,k,D;return{"":{component:Dt,props:{onClick:()=>{i(he(l,S=>{S.items=jt(S.items,p)}))},"aria-label":`delete line ${p}`}},Value:{component:Qe,props:{onChange:S=>i(he(l,N=>{N.items[p]=S})),value:d,variant:"hex",maxLength:4,style:"width: 100%; min-width: 75px;"}},Label:(v=s==null?void 0:s[p])==null?void 0:v.constName,Default:Me((w=s==null?void 0:s[p])==null?void 0:w.value,4)||"-",Min:Me((E=s==null?void 0:s[p])==null?void 0:E.minValue,4)||"-",Max:Me((k=s==null?void 0:s[p])==null?void 0:k.maxValue,4)||"-",Used:s!=null&&s[p]?{element:"input",props:{type:"checkbox",checked:(D=s==null?void 0:s[p])==null?void 0:D.used,disabled:!0}}:void 0}};return r.$$set=d=>{"content"in d&&t(0,l=d.content),"onChange"in d&&t(1,i=d.onChange)},r.$$.update=()=>{var d,p;if(r.$$.dirty&132){t(2,a=_e(n).linkedResourceId("TRCN"));const v=_e(n).resourceById(a);t(3,s=((d=v==null?void 0:v.contentChanges)==null?void 0:d.items)??((p=v==null?void 0:v.content)==null?void 0:p.items))}},[l,i,a,s,o,c,u,n,f,h]}class is extends ce{constructor(e){super(),ue(this,e,ls,rs,ae,{content:0,onChange:1})}}function as(r){let e,t,n,l,i,a,s;return{c(){e=T("label"),t=X("Semi global"),n=L(),l=T("input"),this.h()},l(o){e=A(o,"LABEL",{for:!0});var c=I(e);t=K(c,"Semi global"),c.forEach(m),n=O(o),l=A(o,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){C(e,"for","semiglobal-input"),C(l,"id","semiglobal-input"),C(l,"type","text"),l.value=i=r[0].semiglobal,C(l,"class","svelte-1vnf0ng")},m(o,c){R(o,e,c),b(e,t),R(o,n,c),R(o,l,c),a||(s=pe(l,"input",r[1]),a=!0)},p(o,c){c&1&&i!==(i=o[0].semiglobal)&&l.value!==i&&(l.value=i)},d(o){o&&m(e),o&&m(n),o&&m(l),a=!1,s()}}}function ss(r){let e,t,n;return t=new xe({props:{secondary:!0,$$slots:{default:[as]},$$scope:{ctx:r}}}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","svelte-1vnf0ng")},m(l,i){R(l,e,i),x(t,e,null),n=!0},p(l,[i]){const a={};i&9&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){l&&m(e),Y(t)}}}function os(r,e,t){let{content:n}=e,{onChange:l}=e;const i=a=>l(he(n,s=>{s.semiglobal=a.target.value}));return r.$$set=a=>{"content"in a&&t(0,n=a.content),"onChange"in a&&t(2,l=a.onChange)},[n,i,l]}class cs extends ce{constructor(e){super(),ue(this,e,os,ss,ae,{content:0,onChange:2})}}function us(r){let e;return{c(){e=X("This file can be edited by changing the file name!")},l(t){e=K(t,"This file can be edited by changing the file name!")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function fs(r){let e,t,n;return t=new xe({props:{secondary:!0,$$slots:{default:[us]},$$scope:{ctx:r}}}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","svelte-ez7vw6")},m(l,i){R(l,e,i),x(t,e,null),n=!0},p(l,[i]){const a={};i&1&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){l&&m(e),Y(t)}}}class hs extends ce{constructor(e){super(),ue(this,e,null,fs,ae,{})}}function un(r){let e,t,n=[{class:"svelte-5wy7c6"}],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=T(r[1]),t=X(r[0]),this.h()},l(i){e=A(i,(r[1]||"null").toUpperCase(),{class:!0});var a=I(e);t=K(a,r[0]),a.forEach(m),this.h()},h(){/-/.test(r[1])?At(e,l):Ne(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,a){a&1&&Fe(t,i[0]),l=Le(n,[{class:"svelte-5wy7c6"}]),/-/.test(i[1])?At(e,l):Ne(e,l)},d(i){i&&m(e)}}}function ds(r){let e,t=r[1],n,l,i=r[1]&&un(r);const a=r[4].default,s=ut(a,r,r[3],null);return{c(){e=T("div"),i&&i.c(),n=L(),s&&s.c(),this.h()},l(o){e=A(o,"DIV",{class:!0,style:!0});var c=I(e);i&&i.l(c),n=O(c),s&&s.l(c),c.forEach(m),this.h()},h(){C(e,"class","subsection svelte-5wy7c6"),C(e,"style",r[2])},m(o,c){R(o,e,c),i&&i.m(e,null),b(e,n),s&&s.m(e,null),l=!0},p(o,[c]){o[1]?t?ae(t,o[1])?(i.d(1),i=un(o),i.c(),i.m(e,n)):i.p(o,c):(i=un(o),i.c(),i.m(e,n)):t&&(i.d(1),i=null),t=o[1],s&&s.p&&(!l||c&8)&&ft(s,a,o,o[3],l?dt(a,o[3],c,null):ht(o[3]),null),(!l||c&4)&&C(e,"style",o[2])},i(o){l||(U(s,o),l=!0)},o(o){B(s,o),l=!1},d(o){o&&m(e),i&&i.d(o),s&&s.d(o)}}}function gs(r,e,t){let{$$slots:n={},$$scope:l}=e,{title:i}=e,{headingLevel:a}=e,{style:s=""}=e;return r.$$set=o=>{"title"in o&&t(0,i=o.title),"headingLevel"in o&&t(1,a=o.headingLevel),"style"in o&&t(2,s=o.style),"$$scope"in o&&t(3,l=o.$$scope)},[i,a,s,l,n]}class kt extends ce{constructor(e){super(),ue(this,e,gs,ds,ae,{title:0,headingLevel:1,style:2})}}const hr=["Kitchen","Bedroom","Bathroom","Living room","Outside","Dining room","Misc.","Study","Kids"],$n=["Seating","Surfaces","Appliances","Electronics","Plumbing","Decorative","General","Lights","Hobbies","Aspiration","Career"],_s={Seating:["Dining room","Living room","Sofas","Beds","Recreation",null,null,"Misc."],Surfaces:["Counter","Table","End table","Desk","Coffee table","Shelf",null,"Misc."],Appliances:["Cooking","Refrigerator","Small","Large",null,null,null,"Misc."],Electronics:["Entertainment","TV & computer","Audio","Small",null,null,null,"Misc."],Plumbing:["Toilet","Shower","Sink","Hot tub",null,null,null,"Misc."],Decorative:["Wall","Sculpture","Rug","Plant","Mirror","Curtain",null,"Misc."],General:[null,"Dresser",null,"Party","Child","Car","Pets","Misc."],Lights:["Table lamp","Floor lamp","Wall lamp","Ceiling lamp","Outdoor",null,null,"Misc."],Hobbies:["Creativity","Knowledge","Excercise","Recreation",null,null,null,"Misc."],Aspiration:[],Career:[]},dr=["Cleaning","Cooking","Mechanical","Logic","Body","Creativity","Charisma","School study"],gr=["Unknown",null,"Person",null,"Normal","Architectural support",null,"Sim type","Door","Window","Stairs","Modular stairs","Modular stairs portal","Vehicle","Outfit","Memory","Template",null,null,"Tiles"],_r={"OBJD File":["version"],"Catalog price":["price","isSalePriceDifferent","initialSaleDepreciation","dailySaleDepreciation","isSelfDepreciating","depreciationLimit"],"Catalog sort":["catalogUseFlags","roomSortFlags","functionSortFlags","expansionFlag","buildModeType","buildModeSubSort","functionSubSort","downtownSort","vacationSort","communitySort"],"Catalog ratings":["hungerRating","comfortRating","hygieneRating","bladderRating","energyRating","funRating","roomRating","skillFlags"],"User placement":["defaultWallAdjacentFlags","defaultPlacementFlags","defaultWallPlacementFlags","defaultAllowedHeightFlags","useDefaultPlacementFlags","noDuplicateOnPlacement","keepBuying"],"Mesh and graphics":["multiTileMasterId","multiTileSubIndex","levelOffset","hasShadow","frontDirection","multiTileLeadObject","chairEntryFlags","tileWidth","footprintMask","3dObjectType"],"Resource cross-refs":["ttabId","interactionGroup","strId","slotId","slotGroup","ctssId","defaultThumbnailId","motiveEffectsId","catalogPopupId"],GUIDs:["guid","diagonalSelectorGuid","gridSelectorGuid","proxyGuid","jobObjectGuid","originalGuid"],"Data space":["initialStackSize","attributeCount","objectArrayCount","numTypeAttributes"],"Memories & wants":["aspirationFlags","memoryNiceOrBad","wantCategory"],Miscellaneous:["objectType","lookAtScore","isUnlockable","objectOwnership","ignoreGlobalSimInCAS","cannotMoveOutWith","hauntable","isGlobalSimObject","tooltipNameType","templateVersion","nicenessMultiplier","noNewNameFromTemplate","objectVersion","ignoreCurrentModelIndexInIcons","inhibitSuitCopying","miscFlags","resetLotAction","dreamFlags"]};function pr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function mr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function vr(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function br(r,e,t){const n=r.slice();return n[23]=e[t],n[25]=t,n}function wr(r,e,t){const n=r.slice();return n[29]=e[t],n}function $r(r,e,t){const n=r.slice();return n[32]=e[t],n[25]=t,n}function ps(r){let e,t=r[32]+"",n,l;return{c(){e=T("option"),n=X(t),l=L(),this.h()},l(i){e=A(i,"OPTION",{});var a=I(e);n=K(a,t),l=O(a),a.forEach(m),this.h()},h(){e.__value=r[25],e.value=e.__value},m(i,a){R(i,e,a),b(e,n),b(e,l)},p:ie,d(i){i&&m(e)}}}function yr(r){let e,t=r[32]!==null&&ps(r);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,l){t&&t.m(n,l),R(n,e,l)},p(n,l){n[32]!==null&&t.p(n,l)},d(n){t&&t.d(n),n&&m(e)}}}function kr(r){let e,t;function n(...l){return r[13](r[29],...l)}return e=new Qe({props:{variant:"hex",maxLength:8,label:r[29],value:r[0].data[r[29]],onChange:n,style:"display: block; width: 100%;"}}),{c(){W(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){x(e,l,i),t=!0},p(l,i){r=l;const a={};i[0]&1&&(a.value=r[0].data[r[29]]),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Er(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[16](r[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=X(l),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=K(f,l),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][0].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[4],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[14]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&16&&(t.checked=t.__value===r[4])},d(u){u&&m(e),r[15][0].splice(r[15][0].indexOf(t),1),s=!1,gt(o)}}}function ms(r){let e,t=hr,n=[];for(let l=0;l<t.length;l+=1)n[l]=Er(br(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1040){t=hr;let a;for(a=0;a<t.length;a+=1){const s=br(l,t,a);n[a]?n[a].p(s,i):(n[a]=Er(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Pe(n,l)}}}function Cr(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[18](r[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=X(l),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=K(f,l),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][1].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[2],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[17]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&4&&(t.checked=t.__value===r[2])},d(u){u&&m(e),r[15][1].splice(r[15][1].indexOf(t),1),s=!1,gt(o)}}}function vs(r){let e,t=$n,n=[];for(let l=0;l<t.length;l+=1)n[l]=Cr(vr(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1028){t=$n;let a;for(a=0;a<t.length;a+=1){const s=vr(l,t,a);n[a]?n[a].p(s,i):(n[a]=Cr(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Pe(n,l)}}}function Ir(r){let e,t;return e=new kt({props:{title:"Function subsort",headingLevel:"h4",$$slots:{default:[bs]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l[0]&160|l[1]&8&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Tr(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[20](r[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=X(l),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=K(f,l),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][2].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[5],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[19]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&32&&(t.checked=t.__value===r[5]),f[0]&128&&l!==(l=r[23]+"")&&Fe(i,l)},d(u){u&&m(e),r[15][2].splice(r[15][2].indexOf(t),1),s=!1,gt(o)}}}function Ar(r){let e,t=r[23]!==null&&Tr(r);return{c(){t&&t.c(),e=ke()},l(n){t&&t.l(n),e=ke()},m(n,l){t&&t.m(n,l),R(n,e,l)},p(n,l){n[23]!==null?t?t.p(n,l):(t=Tr(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&m(e)}}}function bs(r){let e,t=r[7],n=[];for(let l=0;l<t.length;l+=1)n[l]=Ar(mr(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1184){t=l[7];let a;for(a=0;a<t.length;a+=1){const s=mr(l,t,a);n[a]?n[a].p(s,i):(n[a]=Ar(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Pe(n,l)}}}function Ur(r){let e,t,n,l=r[23]+"",i,a,s,o;function c(){return r[22](r[25])}return{c(){e=T("label"),t=T("input"),n=L(),i=X(l),a=L(),this.h()},l(u){e=A(u,"LABEL",{});var f=I(e);t=A(f,"INPUT",{type:!0}),n=O(f),i=K(f,l),a=O(f),f.forEach(m),this.h()},h(){C(t,"type","radio"),t.__value=1<<r[25],t.value=t.__value,r[15][3].push(t)},m(u,f){R(u,e,f),b(e,t),t.checked=t.__value===r[6],b(e,n),b(e,i),b(e,a),s||(o=[pe(t,"change",r[21]),pe(t,"change",st(c))],s=!0)},p(u,f){r=u,f[0]&64&&(t.checked=t.__value===r[6])},d(u){u&&m(e),r[15][3].splice(r[15][3].indexOf(t),1),s=!1,gt(o)}}}function ws(r){let e,t=dr,n=[];for(let l=0;l<t.length;l+=1)n[l]=Ur(pr(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","radio-group svelte-1tgu5yy")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&1088){t=dr;let a;for(a=0;a<t.length;a+=1){const s=pr(l,t,a);n[a]?n[a].p(s,i):(n[a]=Ur(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Pe(n,l)}}}function $s(r){var J;let e,t,n,l,i,a,s,o,c,u,f,h,d,p,v,w,E=gr,k=[];for(let z=0;z<E.length;z+=1)k[z]=yr($r(r,E,z));let D=r[8],S=[];for(let z=0;z<D.length;z+=1)S[z]=kr(wr(r,D,z));const N=z=>B(S[z],1,1,()=>{S[z]=null});o=new kt({props:{title:"Room sort",headingLevel:"h4",$$slots:{default:[ms]},$$scope:{ctx:r}}}),u=new kt({props:{title:"Function sort",headingLevel:"h4",$$slots:{default:[vs]},$$scope:{ctx:r}}});let P=((J=r[7])==null?void 0:J.length)&&Ir(r);return d=new kt({props:{title:"Skill flags",headingLevel:"h4",$$slots:{default:[ws]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),n=T("label"),l=X(`Object type
			`),i=T("select");for(let z=0;z<k.length;z+=1)k[z].c();a=L();for(let z=0;z<S.length;z+=1)S[z].c();s=L(),W(o.$$.fragment),c=L(),W(u.$$.fragment),f=L(),P&&P.c(),h=L(),W(d.$$.fragment),this.h()},l(z){e=A(z,"DIV",{class:!0});var M=I(e);t=A(M,"DIV",{class:!0});var H=I(t);n=A(H,"LABEL",{});var j=I(n);l=K(j,`Object type
			`),i=A(j,"SELECT",{class:!0});var Q=I(i);for(let le=0;le<k.length;le+=1)k[le].l(Q);Q.forEach(m),j.forEach(m),a=O(H);for(let le=0;le<S.length;le+=1)S[le].l(H);H.forEach(m),s=O(M),q(o.$$.fragment,M),c=O(M),q(u.$$.fragment,M),f=O(M),P&&P.l(M),h=O(M),q(d.$$.fragment,M),M.forEach(m),this.h()},h(){C(i,"class","type-select svelte-1tgu5yy"),r[3]===void 0&&hn(()=>r[11].call(i)),C(t,"class","input-group svelte-1tgu5yy"),C(e,"class","catalog-sort svelte-1tgu5yy")},m(z,M){R(z,e,M),b(e,t),b(t,n),b(n,l),b(n,i);for(let H=0;H<k.length;H+=1)k[H].m(i,null);Ze(i,r[3]),b(t,a);for(let H=0;H<S.length;H+=1)S[H].m(t,null);b(e,s),x(o,e,null),b(e,c),x(u,e,null),b(e,f),P&&P.m(e,null),b(e,h),x(d,e,null),p=!0,v||(w=[pe(i,"change",r[11]),pe(i,"input",st(r[12]))],v=!0)},p(z,M){var le;if(M&0){E=gr;let Z;for(Z=0;Z<E.length;Z+=1){const ee=$r(z,E,Z);k[Z]?k[Z].p(ee,M):(k[Z]=yr(ee),k[Z].c(),k[Z].m(i,null))}for(;Z<k.length;Z+=1)k[Z].d(1);k.length=E.length}if(M[0]&8&&Ze(i,z[3]),M[0]&769){D=z[8];let Z;for(Z=0;Z<D.length;Z+=1){const ee=wr(z,D,Z);S[Z]?(S[Z].p(ee,M),U(S[Z],1)):(S[Z]=kr(ee),S[Z].c(),U(S[Z],1),S[Z].m(t,null))}for(me(),Z=D.length;Z<S.length;Z+=1)N(Z);ve()}const H={};M[0]&16|M[1]&8&&(H.$$scope={dirty:M,ctx:z}),o.$set(H);const j={};M[0]&4|M[1]&8&&(j.$$scope={dirty:M,ctx:z}),u.$set(j),(le=z[7])!=null&&le.length?P?(P.p(z,M),M[0]&128&&U(P,1)):(P=Ir(z),P.c(),U(P,1),P.m(e,h)):P&&(me(),B(P,1,1,()=>{P=null}),ve());const Q={};M[0]&64|M[1]&8&&(Q.$$scope={dirty:M,ctx:z}),d.$set(Q)},i(z){if(!p){for(let M=0;M<D.length;M+=1)U(S[M]);U(o.$$.fragment,z),U(u.$$.fragment,z),U(P),U(d.$$.fragment,z),p=!0}},o(z){S=S.filter(Boolean);for(let M=0;M<S.length;M+=1)B(S[M]);B(o.$$.fragment,z),B(u.$$.fragment,z),B(P),B(d.$$.fragment,z),p=!1},d(z){z&&m(e),Pe(k,z),Pe(S,z),Y(o),Y(u),P&&P.d(),Y(d),v=!1,gt(w)}}}function ys(r,e,t){let{content:n}=e,{onChange:l}=e,i=0,a=0,s=0,o=0,c=0,u;const f=["guid","originalGuid","proxyGuid","diagonalSelectorGuid","gridSelectorGuid"],h=(H,j)=>l(he(n,Q=>{Q.data[H]=j})),d=(H,j)=>{l(he(n,Q=>{Q.data[H]=1<<j}))},p=[[],[],[],[]];function v(){i=Ml(this),t(3,i),t(0,n),t(2,s)}const w=H=>l(he(n,j=>{j.data.objectType=parseInt(H.currentTarget.value)})),E=(H,j)=>h(H,j);function k(){a=this.__value,t(4,a),t(0,n),t(2,s)}const D=H=>d("roomSortFlags",H);function S(){s=this.__value,t(2,s),t(0,n)}const N=H=>d("functionSortFlags",H);function P(){o=this.__value,t(5,o),t(0,n),t(2,s)}const J=H=>d("functionSubSort",H);function z(){c=this.__value,t(6,c),t(0,n),t(2,s)}const M=H=>d("skillFlags",H);return r.$$set=H=>{"content"in H&&t(0,n=H.content),"onChange"in H&&t(1,l=H.onChange)},r.$$.update=()=>{if(r.$$.dirty[0]&5){t(3,i=n.data.objectType),t(4,a=n.data.roomSortFlags),t(2,s=n.data.functionSortFlags),t(5,o=n.data.functionSubSort),t(6,c=n.data.skillFlags);const H=$n.find((j,Q)=>s===1<<Q);t(7,u=H?_s[H]:void 0)}},[n,l,s,i,a,o,c,u,f,h,d,v,w,E,k,p,D,S,N,P,J,z,M]}class Dr extends ce{constructor(e){super(),ue(this,e,ys,$s,ae,{content:0,onChange:1},null,[-1,-1])}}function Sr(r,e,t){const n=r.slice();return n[5]=e[t][0],n[6]=e[t][1],n}function Br(r,e,t){const n=r.slice();return n[9]=e[t],n}function Fr(r){let e,t,n=r[9]+"",l,i,a,s,o,c;function u(...f){return r[4](r[9],...f)}return s=new Qe({props:{variant:"hex",maxLength:r[1][r[9]]?8:4,value:r[0].data[r[9]],onChange:u}}),{c(){e=T("tr"),t=T("td"),l=X(n),i=L(),a=T("td"),W(s.$$.fragment),o=L(),this.h()},l(f){e=A(f,"TR",{});var h=I(e);t=A(h,"TD",{class:!0});var d=I(t);l=K(d,n),d.forEach(m),i=O(h),a=A(h,"TD",{class:!0});var p=I(a);q(s.$$.fragment,p),p.forEach(m),o=O(h),h.forEach(m),this.h()},h(){C(t,"class","svelte-m2j855"),C(a,"class","svelte-m2j855")},m(f,h){R(f,e,h),b(e,t),b(t,l),b(e,i),b(e,a),x(s,a,null),b(e,o),c=!0},p(f,h){r=f;const d={};h&1&&(d.value=r[0].data[r[9]]),s.$set(d)},i(f){c||(U(s.$$.fragment,f),c=!0)},o(f){B(s.$$.fragment,f),c=!1},d(f){f&&m(e),Y(s)}}}function Rr(r){let e,t,n=r[5]+"",l,i,a,s,o=r[6],c=[];for(let f=0;f<o.length;f+=1)c[f]=Fr(Br(r,o,f));const u=f=>B(c[f],1,1,()=>{c[f]=null});return{c(){e=T("tr"),t=T("th"),l=X(n),i=L();for(let f=0;f<c.length;f+=1)c[f].c();a=ke(),this.h()},l(f){e=A(f,"TR",{});var h=I(e);t=A(h,"TH",{colspan:!0,class:!0});var d=I(t);l=K(d,n),d.forEach(m),h.forEach(m),i=O(f);for(let p=0;p<c.length;p+=1)c[p].l(f);a=ke(),this.h()},h(){C(t,"colspan",2),C(t,"class","svelte-m2j855")},m(f,h){R(f,e,h),b(e,t),b(t,l),R(f,i,h);for(let d=0;d<c.length;d+=1)c[d].m(f,h);R(f,a,h),s=!0},p(f,h){if(h&7){o=f[6];let d;for(d=0;d<o.length;d+=1){const p=Br(f,o,d);c[d]?(c[d].p(p,h),U(c[d],1)):(c[d]=Fr(p),c[d].c(),U(c[d],1),c[d].m(a.parentNode,a))}for(me(),d=o.length;d<c.length;d+=1)u(d);ve()}},i(f){if(!s){for(let h=0;h<o.length;h+=1)U(c[h]);s=!0}},o(f){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)B(c[h]);s=!1},d(f){f&&m(e),f&&m(i),Pe(c,f),f&&m(a)}}}function ks(r){let e,t,n,l,i=Object.entries(_r),a=[];for(let o=0;o<i.length;o+=1)a[o]=Rr(Sr(r,i,o));const s=o=>B(a[o],1,1,()=>{a[o]=null});return{c(){e=T("div"),t=T("table"),n=T("tbody");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=A(o,"DIV",{class:!0});var c=I(e);t=A(c,"TABLE",{class:!0});var u=I(t);n=A(u,"TBODY",{});var f=I(n);for(let h=0;h<a.length;h+=1)a[h].l(f);f.forEach(m),u.forEach(m),c.forEach(m),this.h()},h(){C(t,"class","svelte-m2j855"),C(e,"class","raw-data-wrapper svelte-m2j855")},m(o,c){R(o,e,c),b(e,t),b(t,n);for(let u=0;u<a.length;u+=1)a[u].m(n,null);l=!0},p(o,[c]){if(c&7){i=Object.entries(_r);let u;for(u=0;u<i.length;u+=1){const f=Sr(o,i,u);a[u]?(a[u].p(f,c),U(a[u],1)):(a[u]=Rr(f),a[u].c(),U(a[u],1),a[u].m(n,null))}for(me(),u=i.length;u<a.length;u+=1)s(u);ve()}},i(o){if(!l){for(let c=0;c<i.length;c+=1)U(a[c]);l=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)B(a[c]);l=!1},d(o){o&&m(e),Pe(a,o)}}}function Es(r,e,t){let{content:n}=e,{onChange:l}=e;const i={version:!0,guid:!0,diagonalSelectorGuid:!0,gridSelectorGuid:!0,proxyGuid:!0,jobObjectGuid:!0,originalGuid:!0,objectModelGuid:!0},a=(o,c)=>l(he(n,u=>{u.data[o]=c})),s=(o,c)=>a(o,c);return r.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,l=o.onChange)},[n,i,a,l,s]}class Pr extends ce{constructor(e){super(),ue(this,e,Es,ks,ae,{content:0,onChange:3})}}function Cs(r){let e,t,n;return t=new Gt({props:{tabs:{catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:r[0],onChange:r[1]}},rawData:{title:"Raw data",content:Pr,hideClose:!0,props:{content:r[0],onChange:r[1]}}},activeTab:r[2],onChange:r[3],onClose:Is,headingLevel:"h3",style:{height:"100%",background:"transparent",border:"0"},contentStyle:{overflow:"auto"}}}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","objd-container svelte-1kd2bg9")},m(l,i){R(l,e,i),x(t,e,null),n=!0},p(l,[i]){const a={};i&3&&(a.tabs={catalogSort:{title:"Catalog sort",content:Dr,hideClose:!0,props:{content:l[0],onChange:l[1]}},rawData:{title:"Raw data",content:Pr,hideClose:!0,props:{content:l[0],onChange:l[1]}}}),i&4&&(a.activeTab=l[2]),i&4&&(a.onChange=l[3]),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){l&&m(e),Y(t)}}}const Is=()=>null;function Ts(r,e,t){let{content:n}=e,{onChange:l}=e,i="catalogSort";const a=s=>t(2,i=s);return r.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(1,l=s.onChange)},[n,l,i,a]}class As extends ce{constructor(e){super(),ue(this,e,Ts,Cs,ae,{content:0,onChange:1})}}function Lr(r,e,t){const n=r.slice();return n[10]=e[t],n}function Or(r){let e,t,n,l,i,a=r[4]&&Mr(r);return{c(){e=T("div"),t=T("label"),n=X(r[2]),l=L(),a&&a.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var o=I(e);t=A(o,"LABEL",{for:!0});var c=I(t);n=K(c,r[2]),c.forEach(m),l=O(o),a&&a.l(o),o.forEach(m),this.h()},h(){C(t,"for","bhav-select"),C(e,"class","label-with-edit svelte-1wewriw")},m(s,o){R(s,e,o),b(e,t),b(t,n),b(e,l),a&&a.m(e,null),i=!0},p(s,o){(!i||o&4)&&Fe(n,s[2]),s[4]?a?(a.p(s,o),o&16&&U(a,1)):(a=Mr(s),a.c(),U(a,1),a.m(e,null)):a&&(me(),B(a,1,1,()=>{a=null}),ve())},i(s){i||(U(a),i=!0)},o(s){B(a),i=!1},d(s){s&&m(e),a&&a.d()}}}function Mr(r){let e,t;return e=new Se({props:{onClick:r[7],$$slots:{default:[Us]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&16&&(i.onClick=n[7]),l&8192&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Us(r){let e;return{c(){e=X("Edit BHAV")},l(t){e=K(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Nr(r){let e,t,n=Me(r[10].meta.instanceId,4)+"",l,i,a=r[10].content.filename+"",s,o,c;return{c(){e=T("option"),t=X("("),l=X(n),i=X(") "),s=X(a),o=L(),this.h()},l(u){e=A(u,"OPTION",{});var f=I(e);t=K(f,"("),l=K(f,n),i=K(f,") "),s=K(f,a),o=O(f),f.forEach(m),this.h()},h(){e.__value=c=r[10].meta.instanceId,e.value=e.__value},m(u,f){R(u,e,f),b(e,t),b(e,l),b(e,i),b(e,s),b(e,o)},p(u,f){f&32&&n!==(n=Me(u[10].meta.instanceId,4)+"")&&Fe(l,n),f&32&&a!==(a=u[10].content.filename+"")&&Fe(s,a),f&32&&c!==(c=u[10].meta.instanceId)&&(e.__value=c,e.value=e.__value)},d(u){u&&m(e)}}}function Vr(r){let e,t;return e=new Se({props:{onClick:r[9],style:"margin-left: 5px; white-space: nowrap;",$$slots:{default:[Ds]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&16&&(i.onClick=n[9]),l&8192&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ds(r){let e;return{c(){e=X("Edit BHAV")},l(t){e=K(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Ss(r){let e,t,n,l,i,a,s,o=r[2]&&Or(r),c=r[5],u=[];for(let h=0;h<c.length;h+=1)u[h]=Nr(Lr(r,c,h));let f=!r[2]&&r[4]&&Vr(r);return{c(){e=T("div"),o&&o.c(),t=L(),n=T("select");for(let h=0;h<u.length;h+=1)u[h].c();l=L(),f&&f.c(),this.h()},l(h){e=A(h,"DIV",{class:!0,style:!0});var d=I(e);o&&o.l(d),t=O(d),n=A(d,"SELECT",{id:!0,class:!0});var p=I(n);for(let v=0;v<u.length;v+=1)u[v].l(p);p.forEach(m),l=O(d),f&&f.l(d),d.forEach(m),this.h()},h(){C(n,"id","bhav-select"),C(n,"class","svelte-1wewriw"),C(e,"class","bhav-select svelte-1wewriw"),C(e,"style",r[3]),De(e,"stacked",!!r[2])},m(h,d){R(h,e,d),o&&o.m(e,null),b(e,t),b(e,n);for(let p=0;p<u.length;p+=1)u[p].m(n,null);Ze(n,r[1]),b(e,l),f&&f.m(e,null),i=!0,a||(s=pe(n,"change",r[8]),a=!0)},p(h,[d]){if(h[2]?o?(o.p(h,d),d&4&&U(o,1)):(o=Or(h),o.c(),U(o,1),o.m(e,t)):o&&(me(),B(o,1,1,()=>{o=null}),ve()),d&32){c=h[5];let p;for(p=0;p<c.length;p+=1){const v=Lr(h,c,p);u[p]?u[p].p(v,d):(u[p]=Nr(v),u[p].c(),u[p].m(n,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}(!i||d&34)&&Ze(n,h[1]),!h[2]&&h[4]?f?(f.p(h,d),d&20&&U(f,1)):(f=Vr(h),f.c(),U(f,1),f.m(e,null)):f&&(me(),B(f,1,1,()=>{f=null}),ve()),(!i||d&8)&&C(e,"style",h[3]),(!i||d&4)&&De(e,"stacked",!!h[2])},i(h){i||(U(o),U(f),i=!0)},o(h){B(o),B(f),i=!1},d(h){h&&m(e),o&&o.d(),Pe(u,h),f&&f.d(),a=!1,s()}}}function Bs(r,e,t){let n,l,i;tt(r,be,d=>t(6,i=d));let{onChange:a}=e,{value:s}=e,{label:o=""}=e,{style:c=""}=e;const u=()=>l?be.openResource(l):null,f=d=>a(parseInt(d.currentTarget.value)),h=()=>l?be.openResource(l):null;return r.$$set=d=>{"onChange"in d&&t(0,a=d.onChange),"value"in d&&t(1,s=d.value),"label"in d&&t(2,o=d.label),"style"in d&&t(3,c=d.style)},r.$$.update=()=>{r.$$.dirty&64&&t(5,n=_e(i).resourcesByType("BHAV")),r.$$.dirty&66&&t(4,l=_e(i).resourceIdByTypeAndInstanceId("BHAV",s))},[a,s,o,c,l,n,i,u,f,h]}class Kt extends ce{constructor(e){super(),ue(this,e,Bs,Ss,ae,{onChange:0,value:1,label:2,style:3})}}function jr(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function Gr(r){let e,t,n=r[1][r[6]]+"",l,i,a,s,o,c,u,f,h;return s=new Kt({props:{value:r[4].action,onChange:r[2]("action",r[6]),style:"width: 100%"}}),u=new Kt({props:{value:r[4].guard,onChange:r[2]("guard",r[6]),style:"width: 100%"}}),{c(){e=T("tr"),t=T("td"),l=X(n),i=L(),a=T("td"),W(s.$$.fragment),o=L(),c=T("td"),W(u.$$.fragment),f=L(),this.h()},l(d){e=A(d,"TR",{});var p=I(e);t=A(p,"TD",{class:!0});var v=I(t);l=K(v,n),v.forEach(m),i=O(p),a=A(p,"TD",{class:!0});var w=I(a);q(s.$$.fragment,w),w.forEach(m),o=O(p),c=A(p,"TD",{class:!0});var E=I(c);q(u.$$.fragment,E),E.forEach(m),f=O(p),p.forEach(m),this.h()},h(){C(t,"class","svelte-5fcvf8"),C(a,"class","svelte-5fcvf8"),C(c,"class","svelte-5fcvf8")},m(d,p){R(d,e,p),b(e,t),b(t,l),b(e,i),b(e,a),x(s,a,null),b(e,o),b(e,c),x(u,c,null),b(e,f),h=!0},p(d,p){const v={};p&1&&(v.value=d[4].action),s.$set(v);const w={};p&1&&(w.value=d[4].guard),u.$set(w)},i(d){h||(U(s.$$.fragment,d),U(u.$$.fragment,d),h=!0)},o(d){B(s.$$.fragment,d),B(u.$$.fragment,d),h=!1},d(d){d&&m(e),Y(s),Y(u)}}}function Fs(r){let e,t,n,l,i,a,s,o,c,u,f,h,d,p=r[0].functions,v=[];for(let E=0;E<p.length;E+=1)v[E]=Gr(jr(r,p,E));const w=E=>B(v[E],1,1,()=>{v[E]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),l=X("Function"),i=L(),a=T("th"),s=X("Action BHAV"),o=L(),c=T("th"),u=X("Guardian BHAV"),f=L(),h=T("tbody");for(let E=0;E<v.length;E+=1)v[E].c();this.h()},l(E){e=A(E,"TABLE",{class:!0});var k=I(e);t=A(k,"THEAD",{class:!0});var D=I(t);n=A(D,"TH",{class:!0});var S=I(n);l=K(S,"Function"),S.forEach(m),i=O(D),a=A(D,"TH",{class:!0});var N=I(a);s=K(N,"Action BHAV"),N.forEach(m),o=O(D),c=A(D,"TH",{class:!0});var P=I(c);u=K(P,"Guardian BHAV"),P.forEach(m),D.forEach(m),f=O(k),h=A(k,"TBODY",{});var J=I(h);for(let z=0;z<v.length;z+=1)v[z].l(J);J.forEach(m),k.forEach(m),this.h()},h(){C(n,"class","svelte-5fcvf8"),C(a,"class","svelte-5fcvf8"),C(c,"class","svelte-5fcvf8"),C(t,"class","svelte-5fcvf8"),C(e,"class","svelte-5fcvf8")},m(E,k){R(E,e,k),b(e,t),b(t,n),b(n,l),b(t,i),b(t,a),b(a,s),b(t,o),b(t,c),b(c,u),b(e,f),b(e,h);for(let D=0;D<v.length;D+=1)v[D].m(h,null);d=!0},p(E,k){if(k&7){p=E[0].functions;let D;for(D=0;D<p.length;D+=1){const S=jr(E,p,D);v[D]?(v[D].p(S,k),U(v[D],1)):(v[D]=Gr(S),v[D].c(),U(v[D],1),v[D].m(h,null))}for(me(),D=p.length;D<v.length;D+=1)w(D);ve()}},i(E){if(!d){for(let k=0;k<p.length;k+=1)U(v[k]);d=!0}},o(E){v=v.filter(Boolean);for(let k=0;k<v.length;k+=1)B(v[k]);d=!1},d(E){E&&m(e),Pe(v,E)}}}function Rs(r){let e,t,n;return t=new xe({props:{secondary:!0,style:{width:"100%",height:"100%",overflow:"auto","padding-top":"0"},$$slots:{default:[Fs]},$$scope:{ctx:r}}}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","objf-view svelte-5fcvf8")},m(l,i){R(l,e,i),x(t,e,null),n=!0},p(l,[i]){const a={};i&129&&(a.$$scope={dirty:i,ctx:l}),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){l&&m(e),Y(t)}}}function Ps(r,e,t){let{content:n}=e,{onChange:l}=e;const i=["init","main","load","cleanup","queue skipped","allow intersection","wall adjacency changed","room changed","dynamic multi-tile update","placement","pickup","user placement","user pickup","level info request","serving surface","portal","gardening","wash hands","prep","cook","surface","dispose","food","pickup from slot","wash dish","eating surface","sit","stand","clean","repair","ui event","Restock","Wash Clothes","start live mode","stop live mode","link objects","message handler","pre route","post route","goal check","reaction handler","along route callback","awareness","reset","look at target","walk over","utility state change","set model by type","get model type","delete","user delete","just moved in","prevent place in slot","global awareness","object updated by design mode"],a=(s,o)=>c=>l(he(n,u=>{const f=u.functions[o];f&&(f[s]=c)}));return r.$$set=s=>{"content"in s&&t(0,n=s.content),"onChange"in s&&t(3,l=s.onChange)},[n,i,a,l]}class Ls extends ce{constructor(e){super(),ue(this,e,Ps,Rs,ae,{content:0,onChange:3})}}function zr(r,e,t){const n=r.slice();return n[10]=e[t],n[12]=t,n}function Hr(r,e,t){const n=r.slice();return n[13]=e[t],n[12]=t,n}function Os(r){let e;return{c(){e=X("Append new string set")},l(t){e=K(t,"Append new string set")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Ms(r){let e,t;return e=new Se({props:{onClick:r[2],$$slots:{default:[Os]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&32768&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Wr(r){let e,t=Wl(r[12]+1)+"",n;return{c(){e=T("option"),n=X(t),this.h()},l(l){e=A(l,"OPTION",{});var i=I(e);n=K(i,t),i.forEach(m),this.h()},h(){e.__value=r[12]+1,e.value=e.__value},m(l,i){R(l,e,i),b(e,n)},p:ie,d(l){l&&m(e)}}}function xr(r,e){let t,n,l,i,a,s=Me(e[12],4)+"",o,c,u,f,h,d,p,v,w,E,k,D,S,N,P,J;function z(){return e[6](e[12])}i=new Dt({props:{onClick:z,"aria-label":`remove string set ${e[12]}`}});let M=dn,H=[];for(let Z=0;Z<M.length;Z+=1)H[Z]=Wr(Hr(e,M,Z));function j(...Z){return e[7](e[12],...Z)}function Q(...Z){return e[8](e[12],...Z)}function le(...Z){return e[9](e[12],...Z)}return{key:r,first:null,c(){t=T("tr"),n=T("td"),l=T("div"),W(i.$$.fragment),a=X(`
								(`),o=X(s),c=X(`)
								`),u=T("select");for(let Z=0;Z<H.length;Z+=1)H[Z].c();h=L(),d=T("td"),p=T("textarea"),w=L(),E=T("td"),k=T("textarea"),S=L(),this.h()},l(Z){t=A(Z,"TR",{class:!0});var ee=I(t);n=A(ee,"TD",{class:!0});var ne=I(n);l=A(ne,"DIV",{class:!0});var re=I(l);q(i.$$.fragment,re),a=K(re,`
								(`),o=K(re,s),c=K(re,`)
								`),u=A(re,"SELECT",{class:!0});var oe=I(u);for(let de=0;de<H.length;de+=1)H[de].l(oe);oe.forEach(m),re.forEach(m),ne.forEach(m),h=O(ee),d=A(ee,"TD",{class:!0});var se=I(d);p=A(se,"TEXTAREA",{placeholder:!0,class:!0}),I(p).forEach(m),se.forEach(m),w=O(ee),E=A(ee,"TD",{class:!0});var Ee=I(E);k=A(Ee,"TEXTAREA",{placeholder:!0,class:!0}),I(k).forEach(m),Ee.forEach(m),S=O(ee),ee.forEach(m),this.h()},h(){C(u,"class","language svelte-ed1fg7"),C(l,"class","grid svelte-ed1fg7"),C(n,"class","svelte-ed1fg7"),C(p,"placeholder","No value"),p.value=v=e[10].value,C(p,"class","svelte-ed1fg7"),C(d,"class","svelte-ed1fg7"),C(k,"placeholder","No description"),k.value=D=e[10].description,C(k,"class","svelte-ed1fg7"),C(E,"class","svelte-ed1fg7"),C(t,"class","svelte-ed1fg7"),this.first=t},m(Z,ee){R(Z,t,ee),b(t,n),b(n,l),x(i,l,null),b(l,a),b(l,o),b(l,c),b(l,u);for(let ne=0;ne<H.length;ne+=1)H[ne].m(u,null);Ze(u,e[10].languageId),b(t,h),b(t,d),b(d,p),b(t,w),b(t,E),b(E,k),b(t,S),N=!0,P||(J=[pe(u,"input",j),pe(p,"input",Q),pe(k,"input",le)],P=!0)},p(Z,ee){e=Z;const ne={};if(ee&3&&(ne.onClick=z),ee&1&&(ne["aria-label"]=`remove string set ${e[12]}`),i.$set(ne),(!N||ee&1)&&s!==(s=Me(e[12],4)+"")&&Fe(o,s),ee&0){M=dn;let re;for(re=0;re<M.length;re+=1){const oe=Hr(e,M,re);H[re]?H[re].p(oe,ee):(H[re]=Wr(oe),H[re].c(),H[re].m(u,null))}for(;re<H.length;re+=1)H[re].d(1);H.length=M.length}(!N||ee&1&&f!==(f=e[10].languageId))&&Ze(u,e[10].languageId),(!N||ee&1&&v!==(v=e[10].value))&&(p.value=v),(!N||ee&1&&D!==(D=e[10].description))&&(k.value=D)},i(Z){N||(U(i.$$.fragment,Z),N=!0)},o(Z){B(i.$$.fragment,Z),N=!1},d(Z){Z&&m(t),Y(i),Pe(H,Z),P=!1,gt(J)}}}function Ns(r){let e,t,n,l,i,a,s,o,c,u,f,h=[],d=new Map,p,v=r[0].stringSets;const w=E=>E[12];for(let E=0;E<v.length;E+=1){let k=zr(r,v,E),D=w(k);d.set(D,h[E]=xr(D,k))}return{c(){e=T("table"),t=T("thead"),n=T("th"),l=L(),i=T("th"),a=X("Value"),s=L(),o=T("th"),c=X("Description"),u=L(),f=T("tbody");for(let E=0;E<h.length;E+=1)h[E].c();this.h()},l(E){e=A(E,"TABLE",{class:!0});var k=I(e);t=A(k,"THEAD",{});var D=I(t);n=A(D,"TH",{class:!0}),I(n).forEach(m),l=O(D),i=A(D,"TH",{class:!0});var S=I(i);a=K(S,"Value"),S.forEach(m),s=O(D),o=A(D,"TH",{class:!0});var N=I(o);c=K(N,"Description"),N.forEach(m),D.forEach(m),u=O(k),f=A(k,"TBODY",{});var P=I(f);for(let J=0;J<h.length;J+=1)h[J].l(P);P.forEach(m),k.forEach(m),this.h()},h(){C(n,"class","shrink svelte-ed1fg7"),C(i,"class","svelte-ed1fg7"),C(o,"class","svelte-ed1fg7"),C(e,"class","svelte-ed1fg7")},m(E,k){R(E,e,k),b(e,t),b(t,n),b(t,l),b(t,i),b(i,a),b(t,s),b(t,o),b(o,c),b(e,u),b(e,f);for(let D=0;D<h.length;D+=1)h[D].m(f,null);p=!0},p(E,k){k&59&&(v=E[0].stringSets,me(),h=Qt(h,k,w,1,E,v,d,f,yn,xr,null,zr),ve())},i(E){if(!p){for(let k=0;k<v.length;k+=1)U(h[k]);p=!0}},o(E){for(let k=0;k<h.length;k+=1)B(h[k]);p=!1},d(E){E&&m(e);for(let k=0;k<h.length;k+=1)h[k].d()}}}function Vs(r){let e,t,n,l,i;return t=new xe({props:{secondary:!0,$$slots:{default:[Ms]},$$scope:{ctx:r}}}),l=new xe({props:{secondary:!0,style:{flex:"1",overflow:"auto","padding-top":"0"},$$slots:{default:[Ns]},$$scope:{ctx:r}}}),{c(){e=T("div"),W(t.$$.fragment),n=L(),W(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(l.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","str-view svelte-ed1fg7")},m(a,s){R(a,e,s),x(t,e,null),b(e,n),x(l,e,null),i=!0},p(a,[s]){const o={};s&32768&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&32771&&(c.$$scope={dirty:s,ctx:a}),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(l.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(l)}}}function js(r,e,t){let{content:n}=e,{onChange:l}=e;const i=()=>l(he(n,d=>{d.stringSets.push({...Et.STR.stringSets[0]})})),a=(d,p)=>l(he(n,v=>{const w=v.stringSets[p];w&&(w.languageId=parseInt(d.target.value,10))})),s=(d,p)=>l(he(n,v=>{const w=v.stringSets[p];w&&(w.value=d.target.value)})),o=(d,p)=>l(he(n,v=>{const w=v.stringSets[p];w&&(w.description=d.target.value)})),c=d=>l(he(n,p=>{p.stringSets=jt(p.stringSets,d)})),u=(d,p)=>a(p,d),f=(d,p)=>s(p,d),h=(d,p)=>o(p,d);return r.$$set=d=>{"content"in d&&t(0,n=d.content),"onChange"in d&&t(1,l=d.onChange)},[n,l,i,a,s,o,c,u,f,h]}class fn extends ce{constructor(e){super(),ue(this,e,js,Vs,ae,{content:0,onChange:1})}}var Gs=function(r){var e={};function t(n){if(e[n])return e[n].exports;var l=e[n]={i:n,l:!1,exports:{}};return r[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=r,t.c=e,t.d=function(n,l,i){t.o(n,l)||Object.defineProperty(n,l,{configurable:!1,enumerable:!0,get:i})},t.n=function(n){var l=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(l,"a",l),l},t.o=function(n,l){return Object.prototype.hasOwnProperty.call(n,l)},t.p="",t(t.s=0)}([function(r,e,t){(function(n){var l=function(){function u(f,h){for(var d=0;d<h.length;d++){var p=h[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,h,d){return h&&u(f.prototype,h),d&&u(f,d),f}}();function i(u){if(Array.isArray(u)){for(var f=0,h=Array(u.length);f<u.length;f++)h[f]=u[f];return h}else return Array.from(u)}function a(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}var s={noImage:0,colorMapped:1,RGB:2,blackAndWhite:3,runlengthColorMapped:9,runlengthRGB:10,compressedBlackAndWhite:11,compressedColorMapped:32,compressed4PassQTColorMapped:33},o=18,c=function(){function u(f){var h=this;a(this,u),f instanceof n?this._buffer=f:typeof f=="string"?this._buffer=n.from(f,"binary"):f?this._buffer=n.from(f):this._buffer=null,this._idLength=0,this._colorMapType=0,this._imageType=0,this._colorMapOrigin=0,this._colorMapLength=0,this._colorMapDepth=0,this._imageXOrigin=0,this._imageYOrigin=0,this._imageWidth=0,this._imageHeight=0,this._imageDepth=0,this._alphaDepth=0,this._leftToRight=!0,this._topToBottom=!1,this._interleave=!1,this._hasAlpha=!1,this._imageID=null,this._canvas=null,this._context=null,this._imageData=null,this._image=null,this._src=null,this.onload=null,this.onerror=null,this._resolveFunc=null,this._rejectFunc=null,this._didLoad=new Promise(function(d,p){h._resolveFunc=d,h._rejectFunc=p}),f&&this._parseData()}return l(u,[{key:"_loadURL",value:function(h){var d=this;this._src=h,this._requestBinaryFile(h).then(function(p){d._buffer=n.from(p),d._parseData()}).catch(function(p){d._reject(p)})}},{key:"_requestBinaryFile",value:function(h){return new Promise(function(d,p){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="arraybuffer",v.onload=function(w){v.response?d(v.response):p(v)},v.onerror=function(w){p(w)},v.send(null)})}},{key:"_parseData",value:function(){this._readHeader(),this._readImageID(),this._initImage();var h=this._getImageData();switch(this._imageType){case s.noImage:break;case s.colorMapped:{this._parseColorMapData(h);break}case s.RGB:{this._parseRGBData(h);break}case s.blackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.runlengthColorMapped:{this._parseColorMapData(h);break}case s.runlengthRGB:{this._parseRGBData(h);break}case s.compressedBlackAndWhite:{this._parseBlackAndWhiteData(h);break}case s.compressedColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}case s.compressed4PassQTColorMapped:{console.error("parser for compressed TGA is not implemeneted");break}default:throw new Error("unknown imageType: "+this._imageType)}this._setImage(),this._deleteBuffer()}},{key:"_readHeader",value:function(){this._idLength=this._buffer.readUIntLE(0,1),this._colorMapType=this._buffer.readUIntLE(1,1),this._imageType=this._buffer.readUIntLE(2,1),this._colorMapOrigin=this._buffer.readUIntLE(3,2),this._colorMapLength=this._buffer.readUIntLE(5,2),this._colorMapDepth=this._buffer.readUIntLE(7,1),this._imageXOrigin=this._buffer.readUIntLE(8,2),this._imageYOrigin=this._buffer.readUIntLE(10,2),this._imageWidth=this._buffer.readUIntLE(12,2),this._imageHeight=this._buffer.readUIntLE(14,2),this._imageDepth=this._buffer.readUIntLE(16,1);var h=this._buffer.readUIntLE(17,1);this._alphaDepth=h&15,this._leftToRight=(h&16)===0,this._topToBottom=(h&32)>0,this._interleave=h&192}},{key:"_readImageID",value:function(){this._idLength>0&&(this._imageID=this._buffer.subarray(o,this._idLength))}},{key:"_initImage",value:function(){this._imageType!==s.noImage&&(this._imageWidth<=0||this._imageHeight<=0||(this._canvas=document.createElement("canvas"),this._canvas.width=this._imageWidth,this._canvas.height=this._imageHeight,this._context=this._canvas.getContext("2d"),this._imageData=this._context.createImageData(this._imageWidth,this._imageHeight)))}},{key:"_setImage",value:function(){var h=this;this._context.putImageData(this._imageData,0,0),this._image=new Image,this._image.width=this._imageWidth,this._image.height=this._imageHeight,this._image.onload=function(){h._resolve()},this._image.src=this._canvas.toDataURL()}},{key:"_deleteBuffer",value:function(){this._buffer&&(delete this._buffer,this._buffer=null),this._imageData&&(delete this._imageData,this._imageData=null)}},{key:"_parseColorMapData",value:function(h){if(this._colorMapDepth===24||this._colorMapDepth===16||this._colorMapDepth===15)this._hasAlpha=!1;else if(this._colorMapDepth===32)this._hasAlpha=!0;else throw new Error("unknown colorMapDepth: "+this._colorMapDepth);var d=o+this._idLength,p=Math.ceil(this._colorMapDepth/8);p*this._colorMapLength;for(var v=1,w=[],E=d,k=0;k<this._colorMapLength;k++){var D=this._getRGBA(this._buffer,E,this._colorMapDepth);w.push(D),E+=p}var S=this._imageData.data,N=0,P=0,J=1,z=1;this._leftToRight||(N=this._imageWidth-1,J=-1),this._topToBottom||(P=this._imageHeight-1,z=-1),E=0;for(var M=P,H=[255,255,255,255],j=0;j<this._imageHeight;j++){for(var Q=N,le=0;le<this._imageWidth;le++){var Z=(M*this._imageWidth+Q)*4,ee=H,ne=h[E]-this._colorMapOrigin;ne>=0&&(ee=w[ne]),S[Z]=ee[0],S[Z+1]=ee[1],S[Z+2]=ee[2],S[Z+3]=ee[3],Q+=J,E+=v}M+=z}}},{key:"_parseRGBData",value:function(h){if(this._imageDepth===24||this._imageDepth===16||this._imageDepth===15)this._hasAlpha=!1;else if(this._imageDepth===32)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var d=Math.ceil(this._imageDepth/8),p=this._imageData.data,v=0,w=0,E=1,k=1;this._leftToRight||(v=this._imageWidth-1,E=-1),this._topToBottom||(w=this._imageHeight-1,k=-1);for(var D=0,S=w,N=0;N<this._imageHeight;N++){for(var P=v,J=0;J<this._imageWidth;J++){var z=(S*this._imageWidth+P)*4,M=this._getRGBA(h,D,this._imageDepth);p[z]=M[0],p[z+1]=M[1],p[z+2]=M[2],p[z+3]=M[3],P+=E,D+=d}S+=k}}},{key:"_getRGBA",value:function(h,d,p){if(p===15){var v=(h[d+1]&124)<<1,w=(h[d+1]&3)<<6|(h[d]&224)>>2,E=(h[d]&31)<<3,k=255;return[v,w,E,k]}else if(p===16){var D=(h[d+1]&124)<<1,S=(h[d+1]&3)<<6|(h[d]&224)>>2,N=(h[d]&31)<<3,P=255;return[D,S,N,P]}else{if(p===24)return[h[d+2],h[d+1],h[d],255];if(p===32)return[h[d+2],h[d+1],h[d],h[d+3]]}throw new Error("unsupported imageDepth: "+p)}},{key:"_parseBlackAndWhiteData",value:function(h){if(this._imageDepth==8)this._hasAlpha=!1;else if(this._imageDepth==16)this._hasAlpha=!0;else throw new Error("unknown imageDepth: "+this._imageDepth);var d=this._imageDepth/8,p=this._imageData.data,v=0,w=0,E=1,k=1;this._leftToRight||(v=this._imageWidth-1,E=-1),this._topToBottom||(w=this._imageHeight-1,k=-1);var D=0;if(this._hasAlpha)for(var S=w,N=0;N<this._imageHeight;N++){for(var P=v,J=0;J<this._imageWidth;J++){var z=(S*this._imageWidth+P)*4,M=h[D],H=h[D+1];p[z]=M,p[z+1]=M,p[z+2]=M,p[z+3]=H,P+=E,D+=d}S+=k}else for(var j=w,Q=0;Q<this._imageHeight;Q++){for(var le=v,Z=0;Z<this._imageWidth;Z++){var ee=(j*this._imageWidth+le)*4,ne=h[D],re=255;p[ee]=ne,p[ee+1]=ne,p[ee+2]=ne,p[ee+3]=re,le+=E,D+=d}j+=k}}},{key:"_getImageData",value:function(){var h=null;if(this._imageType!==s.none){var d=Math.ceil(this._colorMapDepth/8)*this._colorMapLength,p=o+this._idLength+d;h=this._buffer.subarray(p)}return this._imageType===s.runlengthColorMapped||this._imageType===s.runlengthRGB?h=this._decompressRunlengthData(h):this._imageType===s.compressedBlackAndWhite?h=this._decompressRunlengthData(h):(this._imageType===s.compressedColorMapped||this._imageType===s.compressed4PassQTColorMapped)&&console.error("Compressed Color Mapped TGA Image data is not supported"),h}},{key:"_decompressRunlengthData",value:function(h){for(var d=[],p=Math.ceil(this._imageDepth/8),v=p*this._imageWidth*this._imageHeight,w=0;d.length<v;){var E=h[w];if(w+=1,E&128){var k=h.slice(w,w+p);w+=p;for(var D=(E&127)+1,S=0;S<D;S++)d.push.apply(d,i(k))}else{var N=(E+1)*p;d.push.apply(d,i(h.slice(w,w+N))),w+=N}}return d}},{key:"_resolve",value:function(h){this.onload&&this.onload(h),this._resolveFunc(h)}},{key:"_reject",value:function(h){this.onerror&&this.onerror(h),this._rejectFunc(h)}},{key:"image",get:function(){return this._image}},{key:"canvas",get:function(){return this._canvas}},{key:"didLoad",get:function(){return this._didLoad}},{key:"src",get:function(){return this._src},set:function(h){this._loadURL(h)}}],[{key:"imageWithData",value:function(h){return new u(h)}},{key:"imageWithURL",value:function(h){var d=new u;return d._loadURL(h),d}}]),u}();r.exports=c}).call(e,t(1).Buffer)},function(r,e,t){(function(n){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var l=t(3),i=t(4),a=t(5);e.Buffer=u,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=n.TYPED_ARRAY_SUPPORT!==void 0?n.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=o();function s(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c($,g){if(o()<g)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?($=new Uint8Array(g),$.__proto__=u.prototype):($===null&&($=new u(g)),$.length=g),$}function u($,g,_){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u($,g,_);if(typeof $=="number"){if(typeof g=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,$)}return f(this,$,g,_)}u.poolSize=8192,u._augment=function($){return $.__proto__=u.prototype,$};function f($,g,_,y){if(typeof g=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer?E($,g,_,y):typeof g=="string"?v($,g,_):k($,g)}u.from=function($,g,_){return f(null,$,g,_)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}));function h($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function d($,g,_,y){return h(g),g<=0?c($,g):_!==void 0?typeof y=="string"?c($,g).fill(_,y):c($,g).fill(_):c($,g)}u.alloc=function($,g,_){return d(null,$,g,_)};function p($,g){if(h(g),$=c($,g<0?0:D(g)|0),!u.TYPED_ARRAY_SUPPORT)for(var _=0;_<g;++_)$[_]=0;return $}u.allocUnsafe=function($){return p(null,$)},u.allocUnsafeSlow=function($){return p(null,$)};function v($,g,_){if((typeof _!="string"||_==="")&&(_="utf8"),!u.isEncoding(_))throw new TypeError('"encoding" must be a valid string encoding');var y=N(g,_)|0;$=c($,y);var F=$.write(g,_);return F!==y&&($=$.slice(0,F)),$}function w($,g){var _=g.length<0?0:D(g.length)|0;$=c($,_);for(var y=0;y<_;y+=1)$[y]=g[y]&255;return $}function E($,g,_,y){if(g.byteLength,_<0||g.byteLength<_)throw new RangeError("'offset' is out of bounds");if(g.byteLength<_+(y||0))throw new RangeError("'length' is out of bounds");return _===void 0&&y===void 0?g=new Uint8Array(g):y===void 0?g=new Uint8Array(g,_):g=new Uint8Array(g,_,y),u.TYPED_ARRAY_SUPPORT?($=g,$.__proto__=u.prototype):$=w($,g),$}function k($,g){if(u.isBuffer(g)){var _=D(g.length)|0;return $=c($,_),$.length===0||g.copy($,0,0,_),$}if(g){if(typeof ArrayBuffer<"u"&&g.buffer instanceof ArrayBuffer||"length"in g)return typeof g.length!="number"||$t(g.length)?c($,0):w($,g);if(g.type==="Buffer"&&a(g.data))return w($,g.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function D($){if($>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return $|0}function S($){return+$!=$&&($=0),u.alloc(+$)}u.isBuffer=function(g){return!!(g!=null&&g._isBuffer)},u.compare=function(g,_){if(!u.isBuffer(g)||!u.isBuffer(_))throw new TypeError("Arguments must be Buffers");if(g===_)return 0;for(var y=g.length,F=_.length,V=0,G=Math.min(y,F);V<G;++V)if(g[V]!==_[V]){y=g[V],F=_[V];break}return y<F?-1:F<y?1:0},u.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(g,_){if(!a(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return u.alloc(0);var y;if(_===void 0)for(_=0,y=0;y<g.length;++y)_+=g[y].length;var F=u.allocUnsafe(_),V=0;for(y=0;y<g.length;++y){var G=g[y];if(!u.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy(F,V),V+=G.length}return F};function N($,g){if(u.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var _=$.length;if(_===0)return 0;for(var y=!1;;)switch(g){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":case void 0:return Ge($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return Bt($).length;default:if(y)return Ge($).length;g=(""+g).toLowerCase(),y=!0}}u.byteLength=N;function P($,g,_){var y=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,g>>>=0,_<=g))return"";for($||($="utf8");;)switch($){case"hex":return Oe(this,g,_);case"utf8":case"utf-8":return re(this,g,_);case"ascii":return Ee(this,g,_);case"latin1":case"binary":return de(this,g,_);case"base64":return ne(this,g,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye(this,g,_);default:if(y)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),y=!0}}u.prototype._isBuffer=!0;function J($,g,_){var y=$[g];$[g]=$[_],$[_]=y}u.prototype.swap16=function(){var g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<g;_+=2)J(this,_,_+1);return this},u.prototype.swap32=function(){var g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<g;_+=4)J(this,_,_+3),J(this,_+1,_+2);return this},u.prototype.swap64=function(){var g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<g;_+=8)J(this,_,_+7),J(this,_+1,_+6),J(this,_+2,_+5),J(this,_+3,_+4);return this},u.prototype.toString=function(){var g=this.length|0;return g===0?"":arguments.length===0?re(this,0,g):P.apply(this,arguments)},u.prototype.equals=function(g){if(!u.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:u.compare(this,g)===0},u.prototype.inspect=function(){var g="",_=e.INSPECT_MAX_BYTES;return this.length>0&&(g=this.toString("hex",0,_).match(/.{2}/g).join(" "),this.length>_&&(g+=" ... ")),"<Buffer "+g+">"},u.prototype.compare=function(g,_,y,F,V){if(!u.isBuffer(g))throw new TypeError("Argument must be a Buffer");if(_===void 0&&(_=0),y===void 0&&(y=g?g.length:0),F===void 0&&(F=0),V===void 0&&(V=this.length),_<0||y>g.length||F<0||V>this.length)throw new RangeError("out of range index");if(F>=V&&_>=y)return 0;if(F>=V)return-1;if(_>=y)return 1;if(_>>>=0,y>>>=0,F>>>=0,V>>>=0,this===g)return 0;for(var G=V-F,$e=y-_,Te=Math.min(G,$e),Ue=this.slice(F,V),Ke=g.slice(_,y),Re=0;Re<Te;++Re)if(Ue[Re]!==Ke[Re]){G=Ue[Re],$e=Ke[Re];break}return G<$e?-1:$e<G?1:0};function z($,g,_,y,F){if($.length===0)return-1;if(typeof _=="string"?(y=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,isNaN(_)&&(_=F?0:$.length-1),_<0&&(_=$.length+_),_>=$.length){if(F)return-1;_=$.length-1}else if(_<0)if(F)_=0;else return-1;if(typeof g=="string"&&(g=u.from(g,y)),u.isBuffer(g))return g.length===0?-1:M($,g,_,y,F);if(typeof g=="number")return g=g&255,u.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call($,g,_):Uint8Array.prototype.lastIndexOf.call($,g,_):M($,[g],_,y,F);throw new TypeError("val must be string, number or Buffer")}function M($,g,_,y,F){var V=1,G=$.length,$e=g.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if($.length<2||g.length<2)return-1;V=2,G/=2,$e/=2,_/=2}function Te(Sn,Bn){return V===1?Sn[Bn]:Sn.readUInt16BE(Bn*V)}var Ue;if(F){var Ke=-1;for(Ue=_;Ue<G;Ue++)if(Te($,Ue)===Te(g,Ke===-1?0:Ue-Ke)){if(Ke===-1&&(Ke=Ue),Ue-Ke+1===$e)return Ke*V}else Ke!==-1&&(Ue-=Ue-Ke),Ke=-1}else for(_+$e>G&&(_=G-$e),Ue=_;Ue>=0;Ue--){for(var Re=!0,zt=0;zt<$e;zt++)if(Te($,Ue+zt)!==Te(g,zt)){Re=!1;break}if(Re)return Ue}return-1}u.prototype.includes=function(g,_,y){return this.indexOf(g,_,y)!==-1},u.prototype.indexOf=function(g,_,y){return z(this,g,_,y,!0)},u.prototype.lastIndexOf=function(g,_,y){return z(this,g,_,y,!1)};function H($,g,_,y){_=Number(_)||0;var F=$.length-_;y?(y=Number(y),y>F&&(y=F)):y=F;var V=g.length;if(V%2!==0)throw new TypeError("Invalid hex string");y>V/2&&(y=V/2);for(var G=0;G<y;++G){var $e=parseInt(g.substr(G*2,2),16);if(isNaN($e))return G;$[_+G]=$e}return G}function j($,g,_,y){return we(Ge(g,$.length-_),$,_,y)}function Q($,g,_,y){return we(qe(g),$,_,y)}function le($,g,_,y){return Q($,g,_,y)}function Z($,g,_,y){return we(Bt(g),$,_,y)}function ee($,g,_,y){return we(wt(g,$.length-_),$,_,y)}u.prototype.write=function(g,_,y,F){if(_===void 0)F="utf8",y=this.length,_=0;else if(y===void 0&&typeof _=="string")F=_,y=this.length,_=0;else if(isFinite(_))_=_|0,isFinite(y)?(y=y|0,F===void 0&&(F="utf8")):(F=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-_;if((y===void 0||y>V)&&(y=V),g.length>0&&(y<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var G=!1;;)switch(F){case"hex":return H(this,g,_,y);case"utf8":case"utf-8":return j(this,g,_,y);case"ascii":return Q(this,g,_,y);case"latin1":case"binary":return le(this,g,_,y);case"base64":return Z(this,g,_,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,g,_,y);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),G=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne($,g,_){return g===0&&_===$.length?l.fromByteArray($):l.fromByteArray($.slice(g,_))}function re($,g,_){_=Math.min($.length,_);for(var y=[],F=g;F<_;){var V=$[F],G=null,$e=V>239?4:V>223?3:V>191?2:1;if(F+$e<=_){var Te,Ue,Ke,Re;switch($e){case 1:V<128&&(G=V);break;case 2:Te=$[F+1],(Te&192)===128&&(Re=(V&31)<<6|Te&63,Re>127&&(G=Re));break;case 3:Te=$[F+1],Ue=$[F+2],(Te&192)===128&&(Ue&192)===128&&(Re=(V&15)<<12|(Te&63)<<6|Ue&63,Re>2047&&(Re<55296||Re>57343)&&(G=Re));break;case 4:Te=$[F+1],Ue=$[F+2],Ke=$[F+3],(Te&192)===128&&(Ue&192)===128&&(Ke&192)===128&&(Re=(V&15)<<18|(Te&63)<<12|(Ue&63)<<6|Ke&63,Re>65535&&Re<1114112&&(G=Re))}}G===null?(G=65533,$e=1):G>65535&&(G-=65536,y.push(G>>>10&1023|55296),G=56320|G&1023),y.push(G),F+=$e}return se(y)}var oe=4096;function se($){var g=$.length;if(g<=oe)return String.fromCharCode.apply(String,$);for(var _="",y=0;y<g;)_+=String.fromCharCode.apply(String,$.slice(y,y+=oe));return _}function Ee($,g,_){var y="";_=Math.min($.length,_);for(var F=g;F<_;++F)y+=String.fromCharCode($[F]&127);return y}function de($,g,_){var y="";_=Math.min($.length,_);for(var F=g;F<_;++F)y+=String.fromCharCode($[F]);return y}function Oe($,g,_){var y=$.length;(!g||g<0)&&(g=0),(!_||_<0||_>y)&&(_=y);for(var F="",V=g;V<_;++V)F+=it($[V]);return F}function Ye($,g,_){for(var y=$.slice(g,_),F="",V=0;V<y.length;V+=2)F+=String.fromCharCode(y[V]+y[V+1]*256);return F}u.prototype.slice=function(g,_){var y=this.length;g=~~g,_=_===void 0?y:~~_,g<0?(g+=y,g<0&&(g=0)):g>y&&(g=y),_<0?(_+=y,_<0&&(_=0)):_>y&&(_=y),_<g&&(_=g);var F;if(u.TYPED_ARRAY_SUPPORT)F=this.subarray(g,_),F.__proto__=u.prototype;else{var V=_-g;F=new u(V,void 0);for(var G=0;G<V;++G)F[G]=this[G+g]}return F};function Ce($,g,_){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+g>_)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=this[g],V=1,G=0;++G<_&&(V*=256);)F+=this[g+G]*V;return F},u.prototype.readUIntBE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=this[g+--_],V=1;_>0&&(V*=256);)F+=this[g+--_]*V;return F},u.prototype.readUInt8=function(g,_){return _||Ce(g,1,this.length),this[g]},u.prototype.readUInt16LE=function(g,_){return _||Ce(g,2,this.length),this[g]|this[g+1]<<8},u.prototype.readUInt16BE=function(g,_){return _||Ce(g,2,this.length),this[g]<<8|this[g+1]},u.prototype.readUInt32LE=function(g,_){return _||Ce(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},u.prototype.readUInt32BE=function(g,_){return _||Ce(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},u.prototype.readIntLE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=this[g],V=1,G=0;++G<_&&(V*=256);)F+=this[g+G]*V;return V*=128,F>=V&&(F-=Math.pow(2,8*_)),F},u.prototype.readIntBE=function(g,_,y){g=g|0,_=_|0,y||Ce(g,_,this.length);for(var F=_,V=1,G=this[g+--F];F>0&&(V*=256);)G+=this[g+--F]*V;return V*=128,G>=V&&(G-=Math.pow(2,8*_)),G},u.prototype.readInt8=function(g,_){return _||Ce(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},u.prototype.readInt16LE=function(g,_){_||Ce(g,2,this.length);var y=this[g]|this[g+1]<<8;return y&32768?y|4294901760:y},u.prototype.readInt16BE=function(g,_){_||Ce(g,2,this.length);var y=this[g+1]|this[g]<<8;return y&32768?y|4294901760:y},u.prototype.readInt32LE=function(g,_){return _||Ce(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},u.prototype.readInt32BE=function(g,_){return _||Ce(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},u.prototype.readFloatLE=function(g,_){return _||Ce(g,4,this.length),i.read(this,g,!0,23,4)},u.prototype.readFloatBE=function(g,_){return _||Ce(g,4,this.length),i.read(this,g,!1,23,4)},u.prototype.readDoubleLE=function(g,_){return _||Ce(g,8,this.length),i.read(this,g,!0,52,8)},u.prototype.readDoubleBE=function(g,_){return _||Ce(g,8,this.length),i.read(this,g,!1,52,8)};function Be($,g,_,y,F,V){if(!u.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>F||g<V)throw new RangeError('"value" argument is out of bounds');if(_+y>$.length)throw new RangeError("Index out of range")}u.prototype.writeUIntLE=function(g,_,y,F){if(g=+g,_=_|0,y=y|0,!F){var V=Math.pow(2,8*y)-1;Be(this,g,_,y,V,0)}var G=1,$e=0;for(this[_]=g&255;++$e<y&&(G*=256);)this[_+$e]=g/G&255;return _+y},u.prototype.writeUIntBE=function(g,_,y,F){if(g=+g,_=_|0,y=y|0,!F){var V=Math.pow(2,8*y)-1;Be(this,g,_,y,V,0)}var G=y-1,$e=1;for(this[_+G]=g&255;--G>=0&&($e*=256);)this[_+G]=g/$e&255;return _+y},u.prototype.writeUInt8=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,1,255,0),u.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),this[_]=g&255,_+1};function te($,g,_,y){g<0&&(g=65535+g+1);for(var F=0,V=Math.min($.length-_,2);F<V;++F)$[_+F]=(g&255<<8*(y?F:1-F))>>>(y?F:1-F)*8}u.prototype.writeUInt16LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8):te(this,g,_,!0),_+2},u.prototype.writeUInt16BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=g&255):te(this,g,_,!1),_+2};function fe($,g,_,y){g<0&&(g=4294967295+g+1);for(var F=0,V=Math.min($.length-_,4);F<V;++F)$[_+F]=g>>>(y?F:3-F)*8&255}u.prototype.writeUInt32LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[_+3]=g>>>24,this[_+2]=g>>>16,this[_+1]=g>>>8,this[_]=g&255):fe(this,g,_,!0),_+4},u.prototype.writeUInt32BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255):fe(this,g,_,!1),_+4},u.prototype.writeIntLE=function(g,_,y,F){if(g=+g,_=_|0,!F){var V=Math.pow(2,8*y-1);Be(this,g,_,y,V-1,-V)}var G=0,$e=1,Te=0;for(this[_]=g&255;++G<y&&($e*=256);)g<0&&Te===0&&this[_+G-1]!==0&&(Te=1),this[_+G]=(g/$e>>0)-Te&255;return _+y},u.prototype.writeIntBE=function(g,_,y,F){if(g=+g,_=_|0,!F){var V=Math.pow(2,8*y-1);Be(this,g,_,y,V-1,-V)}var G=y-1,$e=1,Te=0;for(this[_+G]=g&255;--G>=0&&($e*=256);)g<0&&Te===0&&this[_+G+1]!==0&&(Te=1),this[_+G]=(g/$e>>0)-Te&255;return _+y},u.prototype.writeInt8=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,1,127,-128),u.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),g<0&&(g=255+g+1),this[_]=g&255,_+1},u.prototype.writeInt16LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8):te(this,g,_,!0),_+2},u.prototype.writeInt16BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>8,this[_+1]=g&255):te(this,g,_,!1),_+2},u.prototype.writeInt32LE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[_]=g&255,this[_+1]=g>>>8,this[_+2]=g>>>16,this[_+3]=g>>>24):fe(this,g,_,!0),_+4},u.prototype.writeInt32BE=function(g,_,y){return g=+g,_=_|0,y||Be(this,g,_,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),u.TYPED_ARRAY_SUPPORT?(this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255):fe(this,g,_,!1),_+4};function Ae($,g,_,y,F,V){if(_+y>$.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Ie($,g,_,y,F){return F||Ae($,g,_,4),i.write($,g,_,y,23,4),_+4}u.prototype.writeFloatLE=function(g,_,y){return Ie(this,g,_,!0,y)},u.prototype.writeFloatBE=function(g,_,y){return Ie(this,g,_,!1,y)};function Xe($,g,_,y,F){return F||Ae($,g,_,8),i.write($,g,_,y,52,8),_+8}u.prototype.writeDoubleLE=function(g,_,y){return Xe(this,g,_,!0,y)},u.prototype.writeDoubleBE=function(g,_,y){return Xe(this,g,_,!1,y)},u.prototype.copy=function(g,_,y,F){if(y||(y=0),!F&&F!==0&&(F=this.length),_>=g.length&&(_=g.length),_||(_=0),F>0&&F<y&&(F=y),F===y||g.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),g.length-_<F-y&&(F=g.length-_+y);var V=F-y,G;if(this===g&&y<_&&_<F)for(G=V-1;G>=0;--G)g[G+_]=this[G+y];else if(V<1e3||!u.TYPED_ARRAY_SUPPORT)for(G=0;G<V;++G)g[G+_]=this[G+y];else Uint8Array.prototype.set.call(g,this.subarray(y,y+V),_);return V},u.prototype.fill=function(g,_,y,F){if(typeof g=="string"){if(typeof _=="string"?(F=_,_=0,y=this.length):typeof y=="string"&&(F=y,y=this.length),g.length===1){var V=g.charCodeAt(0);V<256&&(g=V)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!u.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof g=="number"&&(g=g&255);if(_<0||this.length<_||this.length<y)throw new RangeError("Out of range index");if(y<=_)return this;_=_>>>0,y=y===void 0?this.length:y>>>0,g||(g=0);var G;if(typeof g=="number")for(G=_;G<y;++G)this[G]=g;else{var $e=u.isBuffer(g)?g:Ge(new u(g,F).toString()),Te=$e.length;for(G=0;G<y-_;++G)this[G+_]=$e[G%Te]}return this};var et=/[^+\/0-9A-Za-z-_]/g;function ot($){if($=lt($).replace(et,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function lt($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function it($){return $<16?"0"+$.toString(16):$.toString(16)}function Ge($,g){g=g||1/0;for(var _,y=$.length,F=null,V=[],G=0;G<y;++G){if(_=$.charCodeAt(G),_>55295&&_<57344){if(!F){if(_>56319){(g-=3)>-1&&V.push(239,191,189);continue}else if(G+1===y){(g-=3)>-1&&V.push(239,191,189);continue}F=_;continue}if(_<56320){(g-=3)>-1&&V.push(239,191,189),F=_;continue}_=(F-55296<<10|_-56320)+65536}else F&&(g-=3)>-1&&V.push(239,191,189);if(F=null,_<128){if((g-=1)<0)break;V.push(_)}else if(_<2048){if((g-=2)<0)break;V.push(_>>6|192,_&63|128)}else if(_<65536){if((g-=3)<0)break;V.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((g-=4)<0)break;V.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return V}function qe($){for(var g=[],_=0;_<$.length;++_)g.push($.charCodeAt(_)&255);return g}function wt($,g){for(var _,y,F,V=[],G=0;G<$.length&&!((g-=2)<0);++G)_=$.charCodeAt(G),y=_>>8,F=_%256,V.push(F),V.push(y);return V}function Bt($){return l.toByteArray(ot($))}function we($,g,_,y){for(var F=0;F<y&&!(F+_>=g.length||F>=$.length);++F)g[F+_]=$[F];return F}function $t($){return $!==$}}).call(e,t(2))},function(r,e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(t=window)}r.exports=t},function(r,e,t){e.byteLength=u,e.toByteArray=f,e.fromByteArray=p;for(var n=[],l=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)n[s]=a[s],l[a.charCodeAt(s)]=s;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63;function c(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return v[w-2]==="="?2:v[w-1]==="="?1:0}function u(v){return v.length*3/4-c(v)}function f(v){var w,E,k,D,S,N=v.length;D=c(v),S=new i(N*3/4-D),E=D>0?N-4:N;var P=0;for(w=0;w<E;w+=4)k=l[v.charCodeAt(w)]<<18|l[v.charCodeAt(w+1)]<<12|l[v.charCodeAt(w+2)]<<6|l[v.charCodeAt(w+3)],S[P++]=k>>16&255,S[P++]=k>>8&255,S[P++]=k&255;return D===2?(k=l[v.charCodeAt(w)]<<2|l[v.charCodeAt(w+1)]>>4,S[P++]=k&255):D===1&&(k=l[v.charCodeAt(w)]<<10|l[v.charCodeAt(w+1)]<<4|l[v.charCodeAt(w+2)]>>2,S[P++]=k>>8&255,S[P++]=k&255),S}function h(v){return n[v>>18&63]+n[v>>12&63]+n[v>>6&63]+n[v&63]}function d(v,w,E){for(var k,D=[],S=w;S<E;S+=3)k=(v[S]<<16)+(v[S+1]<<8)+v[S+2],D.push(h(k));return D.join("")}function p(v){for(var w,E=v.length,k=E%3,D="",S=[],N=16383,P=0,J=E-k;P<J;P+=N)S.push(d(v,P,P+N>J?J:P+N));return k===1?(w=v[E-1],D+=n[w>>2],D+=n[w<<4&63],D+="=="):k===2&&(w=(v[E-2]<<8)+v[E-1],D+=n[w>>10],D+=n[w>>4&63],D+=n[w<<2&63],D+="="),S.push(D),S.join("")}},function(r,e){e.read=function(t,n,l,i,a){var s,o,c=a*8-i-1,u=(1<<c)-1,f=u>>1,h=-7,d=l?a-1:0,p=l?-1:1,v=t[n+d];for(d+=p,s=v&(1<<-h)-1,v>>=-h,h+=c;h>0;s=s*256+t[n+d],d+=p,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=o*256+t[n+d],d+=p,h-=8);if(s===0)s=1-f;else{if(s===u)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-f}return(v?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,n,l,i,a,s){var o,c,u,f=s*8-a-1,h=(1<<f)-1,d=h>>1,p=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:s-1,w=i?1:-1,E=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,o=h):(o=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?n+=p/u:n+=p*Math.pow(2,1-d),n*u>=2&&(o++,u/=2),o+d>=h?(c=0,o=h):o+d>=1?(c=(n*u-1)*Math.pow(2,a),o=o+d):(c=n*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;t[l+v]=c&255,v+=w,c/=256,a-=8);for(o=o<<a|c,f+=a;f>0;t[l+v]=o&255,v+=w,o/=256,f-=8);t[l+v-w]|=E*128}},function(r,e){var t={}.toString;r.exports=Array.isArray||function(n){return t.call(n)=="[object Array]"}}]);function zs(r){let e;return{c(){e=X("Upload image file")},l(t){e=K(t,"Upload image file")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Hs(r){let e,t;return e=new Se({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[6],$$slots:{default:[zs]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&4&&(i.onClick=n[6]),l&512&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Yr(r){let e,t;return e=new xe({props:{secondary:!0,style:{"margin-top":"5px",overflow:"hidden"},$$slots:{default:[Ws]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&514&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Ws(r){let e,t;return{c(){e=T("img"),this.h()},l(n){e=A(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Rn(e.src,t=r[1])||C(e,"src",t),C(e,"alt",""),C(e,"class","svelte-23h5j9")},m(n,l){R(n,e,l)},p(n,l){l&2&&!Rn(e.src,t=n[1])&&C(e,"src",t)},d(n){n&&m(e)}}}function xs(r){let e,t,n,l,i,a,s,o;l=new xe({props:{secondary:!0,$$slots:{default:[Hs]},$$scope:{ctx:r}}});let c=r[1]&&Yr(r);return{c(){e=T("div"),t=T("input"),n=L(),W(l.$$.fragment),i=L(),c&&c.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var f=I(e);t=A(f,"INPUT",{type:!0,accept:!0,class:!0}),n=O(f),q(l.$$.fragment,f),i=O(f),c&&c.l(f),f.forEach(m),this.h()},h(){C(t,"type","file"),C(t,"accept","image/jpeg, image/png, .tga"),C(t,"class","svelte-23h5j9"),C(e,"class","tga-view svelte-23h5j9")},m(u,f){R(u,e,f),b(e,t),r[4](t),b(e,n),x(l,e,null),b(e,i),c&&c.m(e,null),a=!0,s||(o=pe(t,"change",r[5]),s=!0)},p(u,[f]){const h={};f&516&&(h.$$scope={dirty:f,ctx:u}),l.$set(h),u[1]?c?(c.p(u,f),f&2&&U(c,1)):(c=Yr(u),c.c(),U(c,1),c.m(e,null)):c&&(me(),B(c,1,1,()=>{c=null}),ve())},i(u){a||(U(l.$$.fragment,u),U(c),a=!0)},o(u){B(l.$$.fragment,u),B(c),a=!1},d(u){u&&m(e),r[4](null),Y(l),c&&c.d(),s=!1,o()}}}function Ys(r,e,t){let{content:n}=e,{onChange:l}=e,i,a;const s={jpg:[255,216],png:[137,80,78,71,13,10,26,10]},o=(h,d)=>d.every((p,v)=>p===h[v]);function c(h){bt[h?"unshift":"push"](()=>{a=h,t(2,a)})}const u=async()=>{var h,d;l(await((d=(h=a.files)==null?void 0:h[0])==null?void 0:d.arrayBuffer()))},f=()=>a.click();return r.$$set=h=>{"content"in h&&t(3,n=h.content),"onChange"in h&&t(0,l=h.onChange)},r.$$.update=()=>{if(r.$$.dirty&8){const h=new Uint8Array(n);let d;if(!n||!h.length)t(1,i="");else if(o(h,s.jpg))d=new Blob([h],{type:"image/jpeg"}),t(1,i=window.URL.createObjectURL(d));else if(o(h,s.png))d=new Blob([h],{type:"image/png"}),t(1,i=window.URL.createObjectURL(d));else{const p=Gs.imageWithData(n);p.didLoad.then(()=>{t(1,i=p.image.src)})}}},[l,i,a,n,c,u,f]}class qr extends ce{constructor(e){super(),ue(this,e,Ys,xs,ae,{content:3,onChange:0})}}function qs(r){let e,t,n;return{c(){e=T("input"),this.h()},l(l){e=A(l,"INPUT",{type:!0}),this.h()},h(){C(e,"type","checkbox"),e.checked=r[0]},m(l,i){R(l,e,i),t||(n=pe(e,"click",function(){Vt(r[1])&&r[1].apply(this,arguments)}),t=!0)},p(l,[i]){r=l,i&1&&(e.checked=r[0])},i:ie,o:ie,d(l){l&&m(e),t=!1,n()}}}function Js(r,e,t){let{checked:n}=e,{onClick:l}=e;return r.$$set=i=>{"checked"in i&&t(0,n=i.checked),"onClick"in i&&t(1,l=i.onClick)},[n,l]}class Sl extends ce{constructor(e){super(),ue(this,e,Js,qs,ae,{checked:0,onClick:1})}}function Xs(r){let e,t;return{c(){e=T("div"),t=X("Params empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var l=I(e);t=K(l,"Params empty! Nothing to see here."),l.forEach(m),this.h()},h(){C(e,"class","empty svelte-oadag3")},m(n,l){R(n,e,l),b(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function Ks(r){let e,t,n;return t=new Zt({props:{columns:["","Index","Label","pData"],columnConfig:{Label:{stretch:!0}},rows:r[0].params.map(r[5])}}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","table-wrap svelte-oadag3")},m(l,i){R(l,e,i),x(t,e,null),n=!0},p(l,i){const a={};i&1&&(a.rows=l[0].params.map(l[5])),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){l&&m(e),Y(t)}}}function Qs(r){let e,t,n,l;const i=[Ks,Xs],a=[];function s(o,c){return o[0].params.length>0?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){B(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function Zs(r,e,t){let{content:n}=e,{onChange:l}=e;const i=c=>l(he(n,u=>{u.params=jt(u.params,c)})),a=(c,u)=>l(he(n,f=>{const h=f.params[u];h&&(h.label=c)})),s=c=>l(he(n,u=>{const f=u.params[c];f&&(f.pdata=f.pdata?0:1)})),o=(c,u)=>({"":{component:Dt,props:{onClick:()=>i(u),"aria-label":`remove param ${u}`}},Index:Me(u,4),Label:{component:Qe,props:{value:c.label,onChange:f=>a(f,u),style:"width: 100%"}},pData:{component:Sl,props:{checked:c.pdata>0,onClick:()=>s(u)}}});return r.$$set=c=>{"content"in c&&t(0,n=c.content),"onChange"in c&&t(4,l=c.onChange)},[n,i,a,s,l,o]}class Jr extends ce{constructor(e){super(),ue(this,e,Zs,Qs,ae,{content:0,onChange:4})}}function eo(r){let e,t;return{c(){e=T("div"),t=X("Locals empty! Nothing to see here."),this.h()},l(n){e=A(n,"DIV",{class:!0});var l=I(e);t=K(l,"Locals empty! Nothing to see here."),l.forEach(m),this.h()},h(){C(e,"class","empty svelte-oadag3")},m(n,l){R(n,e,l),b(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function to(r){let e,t,n;return t=new Zt({props:{columns:["","Index","Label"],columnConfig:{Label:{stretch:!0}},rows:r[0].locals.map(r[4])}}),{c(){e=T("div"),W(t.$$.fragment),this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);q(t.$$.fragment,i),i.forEach(m),this.h()},h(){C(e,"class","table-wrap svelte-oadag3")},m(l,i){R(l,e,i),x(t,e,null),n=!0},p(l,i){const a={};i&1&&(a.rows=l[0].locals.map(l[4])),t.$set(a)},i(l){n||(U(t.$$.fragment,l),n=!0)},o(l){B(t.$$.fragment,l),n=!1},d(l){l&&m(e),Y(t)}}}function no(r){let e,t,n,l;const i=[to,eo],a=[];function s(o,c){return o[0].locals.length>0?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,[c]){let u=e;e=s(o),e===u?a[e].p(o,c):(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t?t.p(o,c):(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){B(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function ro(r,e,t){let{content:n}=e,{onChange:l}=e;const i=o=>l(he(n,c=>{c.locals=jt(c.locals,o)})),a=(o,c)=>l(he(n,u=>{u.locals[c]=o})),s=(o,c)=>({"":{component:Dt,props:{onClick:()=>i(c),"aria-label":`remove local ${c}`}},Index:Me(c,4),Label:{component:Qe,props:{value:o,onChange:u=>a(u,c),style:"width: 100%"}}});return r.$$set=o=>{"content"in o&&t(0,n=o.content),"onChange"in o&&t(3,l=o.onChange)},[n,i,a,l,s]}class Xr extends ce{constructor(e){super(),ue(this,e,ro,no,ae,{content:0,onChange:3})}}function Kr(r){let e,t;return e=new Se({props:{onClick:r[6],$$slots:{default:[lo]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&8&&(i.onClick=n[6]),l&256&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function lo(r){let e;return{c(){e=X("Edit BHAV")},l(t){e=K(t,"Edit BHAV")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function io(r){let e,t;return{c(){e=X("Append new "),t=X(r[2])},l(n){e=K(n,"Append new "),t=K(n,r[2])},m(n,l){R(n,e,l),R(n,t,l)},p(n,l){l&4&&Fe(t,n[2])},d(n){n&&m(e),n&&m(t)}}}function ao(r){let e,t,n,l=r[3]&&Kr(r);return t=new Se({props:{onClick:r[4],$$slots:{default:[io]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=L(),W(t.$$.fragment)},l(i){l&&l.l(i),e=O(i),q(t.$$.fragment,i)},m(i,a){l&&l.m(i,a),R(i,e,a),x(t,i,a),n=!0},p(i,a){i[3]?l?(l.p(i,a),a&8&&U(l,1)):(l=Kr(i),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(me(),B(l,1,1,()=>{l=null}),ve());const s={};a&260&&(s.$$scope={dirty:a,ctx:i}),t.$set(s)},i(i){n||(U(l),U(t.$$.fragment,i),n=!0)},o(i){B(l),B(t.$$.fragment,i),n=!1},d(i){l&&l.d(i),i&&m(e),Y(t,i)}}}function so(r){let e,t,n,l,i;return t=new xe({props:{secondary:!0,style:{display:"flex","align-items":"center",gap:"var(--spacing-md)"},$$slots:{default:[ao]},$$scope:{ctx:r}}}),l=new Gt({props:{tabs:{param:{title:"Params",hideClose:!0,content:Jr,props:{content:r[0],onChange:r[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:r[0],onChange:r[1]}}},activeTab:r[2],onChange:r[7],onClose:oo,headingLevel:"h3",style:{border:"0",padding:"0",flex:"1",overflow:"hidden"},contentStyle:{overflow:"auto",padding:"0"}}}),{c(){e=T("div"),W(t.$$.fragment),n=L(),W(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(l.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","tprp-view svelte-kkgp8e")},m(a,s){R(a,e,s),x(t,e,null),b(e,n),x(l,e,null),i=!0},p(a,[s]){const o={};s&268&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&3&&(c.tabs={param:{title:"Params",hideClose:!0,content:Jr,props:{content:a[0],onChange:a[1]}},local:{title:"Locals",hideClose:!0,content:Xr,props:{content:a[0],onChange:a[1]}}}),s&4&&(c.activeTab=a[2]),s&4&&(c.onChange=a[7]),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(l.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(l)}}}const oo=()=>null;function co(r,e,t){let n,l;tt(r,be,f=>t(5,l=f));let{content:i}=e,{onChange:a}=e,s="param";const o=()=>a(he(i,f=>{s==="param"?f.params.push({...Et.TPRP.params[0]}):f.locals.push("")})),c=()=>be.openResource(n),u=f=>{t(2,s=f)};return r.$$set=f=>{"content"in f&&t(0,i=f.content),"onChange"in f&&t(1,a=f.onChange)},r.$$.update=()=>{r.$$.dirty&32&&t(3,n=_e(l).linkedResourceId("BHAV"))},[i,a,s,n,o,l,c,u]}class uo extends ce{constructor(e){super(),ue(this,e,co,so,ae,{content:0,onChange:1})}}function fo(r){let e,t;return{c(){e=T("span"),t=X("Warning: failed to find BCON file with matching instance id"),this.h()},l(n){e=A(n,"SPAN",{class:!0});var l=I(e);t=K(l,"Warning: failed to find BCON file with matching instance id"),l.forEach(m),this.h()},h(){C(e,"class","warn svelte-daywxd")},m(n,l){R(n,e,l),b(e,t)},p:ie,i:ie,o:ie,d(n){n&&m(e)}}}function ho(r){let e,t;return e=new Se({props:{onClick:r[8],$$slots:{default:[go]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&4&&(i.onClick=n[8]),l&1024&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function go(r){let e;return{c(){e=X("Edit BCON")},l(t){e=K(t,"Edit BCON")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function _o(r){let e;return{c(){e=X("Append new value")},l(t){e=K(t,"Append new value")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function po(r){let e,t,n,l,i;const a=[ho,fo],s=[];function o(c,u){return c[2]?0:1}return e=o(r),t=s[e]=a[e](r),l=new Se({props:{onClick:r[6],style:"margin-left: 5px",$$slots:{default:[_o]},$$scope:{ctx:r}}}),{c(){t.c(),n=L(),W(l.$$.fragment)},l(c){t.l(c),n=O(c),q(l.$$.fragment,c)},m(c,u){s[e].m(c,u),R(c,n,u),x(l,c,u),i=!0},p(c,u){let f=e;e=o(c),e===f?s[e].p(c,u):(me(),B(s[f],1,1,()=>{s[f]=null}),ve(),t=s[e],t?t.p(c,u):(t=s[e]=a[e](c),t.c()),U(t,1),t.m(n.parentNode,n));const h={};u&1024&&(h.$$scope={dirty:u,ctx:c}),l.$set(h)},i(c){i||(U(t),U(l.$$.fragment,c),i=!0)},o(c){B(t),B(l.$$.fragment,c),i=!1},d(c){s[e].d(c),c&&m(n),Y(l,c)}}}function mo(r){var n;let e,t;return e=new Zt({props:{columns:["","Value","Label","Default","Min","Max","Used"],columnConfig:{"":{shrink:!0}},rows:Ln(Math.max(r[0].items.length,((n=r[3])==null?void 0:n.length)??0),r[9])}}),{c(){W(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){x(e,l,i),t=!0},p(l,i){var s;const a={};i&11&&(a.rows=Ln(Math.max(l[0].items.length,((s=l[3])==null?void 0:s.length)??0),l[9])),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function vo(r){let e,t,n,l,i;return t=new xe({props:{secondary:!0,style:{"margin-bottom":"5px"},$$slots:{default:[po]},$$scope:{ctx:r}}}),l=new xe({props:{secondary:!0,style:{overflow:"auto",flex:"1","padding-top":"0"},$$slots:{default:[mo]},$$scope:{ctx:r}}}),{c(){e=T("div"),W(t.$$.fragment),n=L(),W(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(l.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","trcn-view svelte-daywxd")},m(a,s){R(a,e,s),x(t,e,null),b(e,n),x(l,e,null),i=!0},p(a,[s]){const o={};s&1028&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&1035&&(c.$$scope={dirty:s,ctx:a}),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(l.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(l)}}}function bo(r,e,t){let n;tt(r,be,d=>t(7,n=d));let{content:l}=e,{onChange:i}=e,a,s;const o=(d,p,v)=>{const w=l.items[v];return w?{component:Qe,props:{variant:p,maxLength:p==="hex"?4:void 0,onChange:E=>i(he(l,k=>{const D=k.items[v];D&&(D[d]=E)})),value:w[d],style:"width: 100%; min-width: 75px;"}}:void 0},c=d=>{d.forEach((p,v)=>{p.constId=v+1})},u=()=>{i(he(l,d=>{d.items.push({...Et.TRCN.items[0]}),c(d.items)}))},f=()=>a?be.openResource(a):null,h=d=>{const p=l.items[d];return{"":p?{component:Dt,props:{onClick:()=>{i(he(l,v=>{v.items=jt(v.items,d),c(v.items)}))},"aria-label":`delete line ${d}`}}:"",Value:(s==null?void 0:s[d])!==void 0?Me(s[d],4):void 0,Label:o("constName","text",d),Default:o("value","hex",d),Min:o("minValue","hex",d),Max:o("maxValue","hex",d),Used:p?{component:Sl,props:{checked:!!(p!=null&&p.used),onClick:()=>i(he(l,v=>{const w=v.items[d];w&&(w.used=w.used?0:1)}))}}:""}};return r.$$set=d=>{"content"in d&&t(0,l=d.content),"onChange"in d&&t(1,i=d.onChange)},r.$$.update=()=>{var d;if(r.$$.dirty&132){t(2,a=_e(n).linkedResourceId("BCON"));const p=_e(n).resourceById(a);t(3,s=((d=p==null?void 0:p.contentChanges)==null?void 0:d.items)??(p==null?void 0:p.content.items))}},[l,i,a,s,o,c,u,n,f,h]}class wo extends ce{constructor(e){super(),ue(this,e,bo,vo,ae,{content:0,onChange:1})}}function Qr(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function Zr(r,e,t){const n=r.slice();return n[14]=e[t],n[16]=t,n}function el(r,e,t){const n=r.slice();return n[17]=e[t],n[19]=t,n}function tl(r){let e,t=r[17]+"",n,l;return{c(){e=T("option"),n=X(t),l=L(),this.h()},l(i){e=A(i,"OPTION",{});var a=I(e);n=K(a,t),l=O(a),a.forEach(m),this.h()},h(){e.__value=r[19],e.value=e.__value},m(i,a){R(i,e,a),b(e,n),b(e,l)},p:ie,d(i){i&&m(e)}}}function nl(r){var z,M,H,j,Q,le,Z,ee;let e,t,n=r[14]+"",l,i,a,s,o,c,u,f,h,d,p,v,w,E,k;function D(...ne){return r[8](r[13],r[16],...ne)}s=new Qe({props:{variant:"hex",maxLength:4,value:((j=(H=(M=(z=r[0])==null?void 0:z[r[13]])==null?void 0:M.items)==null?void 0:H[r[16]])==null?void 0:j.min)??0,onChange:D,style:"width: 100%; min-width: 75px;"}});function S(...ne){return r[9](r[13],r[16],...ne)}u=new Qe({props:{variant:"hex",maxLength:4,value:((ee=(Z=(le=(Q=r[0])==null?void 0:Q[r[13]])==null?void 0:le.items)==null?void 0:Z[r[16]])==null?void 0:ee.delta)??0,onChange:S,style:"width: 100%; min-width: 75px;"}});let N=r[2],P=[];for(let ne=0;ne<N.length;ne+=1)P[ne]=tl(el(r,N,ne));function J(...ne){return r[10](r[13],r[16],...ne)}return{c(){e=T("tr"),t=T("td"),l=X(n),i=L(),a=T("td"),W(s.$$.fragment),o=L(),c=T("td"),W(u.$$.fragment),f=L(),h=T("td"),d=T("select");for(let ne=0;ne<P.length;ne+=1)P[ne].c();v=L(),this.h()},l(ne){e=A(ne,"TR",{});var re=I(e);t=A(re,"TD",{class:!0});var oe=I(t);l=K(oe,n),oe.forEach(m),i=O(re),a=A(re,"TD",{class:!0});var se=I(a);q(s.$$.fragment,se),se.forEach(m),o=O(re),c=A(re,"TD",{class:!0});var Ee=I(c);q(u.$$.fragment,Ee),Ee.forEach(m),f=O(re),h=A(re,"TD",{class:!0});var de=I(h);d=A(de,"SELECT",{class:!0});var Oe=I(d);for(let Ye=0;Ye<P.length;Ye+=1)P[Ye].l(Oe);Oe.forEach(m),de.forEach(m),v=O(re),re.forEach(m),this.h()},h(){C(t,"class","svelte-10xwf4"),C(a,"class","svelte-10xwf4"),C(c,"class","svelte-10xwf4"),C(d,"class","svelte-10xwf4"),C(h,"class","svelte-10xwf4")},m(ne,re){var oe,se,Ee,de;R(ne,e,re),b(e,t),b(t,l),b(e,i),b(e,a),x(s,a,null),b(e,o),b(e,c),x(u,c,null),b(e,f),b(e,h),b(h,d);for(let Oe=0;Oe<P.length;Oe+=1)P[Oe].m(d,null);Ze(d,((de=(Ee=(se=(oe=r[0])==null?void 0:oe[r[13]])==null?void 0:se.items)==null?void 0:Ee[r[16]])==null?void 0:de.type)??0),b(e,v),w=!0,E||(k=pe(d,"change",J),E=!0)},p(ne,re){var Ee,de,Oe,Ye,Ce,Be,te,fe,Ae,Ie,Xe,et,ot,lt,it,Ge;r=ne;const oe={};re&1&&(oe.value=((Ye=(Oe=(de=(Ee=r[0])==null?void 0:Ee[r[13]])==null?void 0:de.items)==null?void 0:Oe[r[16]])==null?void 0:Ye.min)??0),s.$set(oe);const se={};if(re&1&&(se.value=((fe=(te=(Be=(Ce=r[0])==null?void 0:Ce[r[13]])==null?void 0:Be.items)==null?void 0:te[r[16]])==null?void 0:fe.delta)??0),u.$set(se),re&4){N=r[2];let qe;for(qe=0;qe<N.length;qe+=1){const wt=el(r,N,qe);P[qe]?P[qe].p(wt,re):(P[qe]=tl(wt),P[qe].c(),P[qe].m(d,null))}for(;qe<P.length;qe+=1)P[qe].d(1);P.length=N.length}(!w||re&1&&p!==(p=((et=(Xe=(Ie=(Ae=r[0])==null?void 0:Ae[r[13]])==null?void 0:Ie.items)==null?void 0:Xe[r[16]])==null?void 0:et.type)??0))&&Ze(d,((Ge=(it=(lt=(ot=r[0])==null?void 0:ot[r[13]])==null?void 0:lt.items)==null?void 0:it[r[16]])==null?void 0:Ge.type)??0)},i(ne){w||(U(s.$$.fragment,ne),U(u.$$.fragment,ne),w=!0)},o(ne){B(s.$$.fragment,ne),B(u.$$.fragment,ne),w=!1},d(ne){ne&&m(e),Y(s),Y(u),Pe(P,ne),E=!1,k()}}}function $o(r){let e,t,n,l,i,a,s,o,c,u,f,h,d,p,v,w,E=r[3],k=[];for(let S=0;S<E.length;S+=1)k[S]=nl(Zr(r,E,S));const D=S=>B(k[S],1,1,()=>{k[S]=null});return{c(){e=T("table"),t=T("thead"),n=T("th"),l=L(),i=T("th"),a=X("Min."),s=L(),o=T("th"),c=X("Delta"),u=L(),f=T("th"),h=X("Type"),d=L(),p=T("tbody");for(let S=0;S<k.length;S+=1)k[S].c();v=L(),this.h()},l(S){e=A(S,"TABLE",{class:!0});var N=I(e);t=A(N,"THEAD",{});var P=I(t);n=A(P,"TH",{class:!0}),I(n).forEach(m),l=O(P),i=A(P,"TH",{class:!0});var J=I(i);a=K(J,"Min."),J.forEach(m),s=O(P),o=A(P,"TH",{class:!0});var z=I(o);c=K(z,"Delta"),z.forEach(m),u=O(P),f=A(P,"TH",{class:!0});var M=I(f);h=K(M,"Type"),M.forEach(m),P.forEach(m),d=O(N),p=A(N,"TBODY",{});var H=I(p);for(let j=0;j<k.length;j+=1)k[j].l(H);H.forEach(m),N.forEach(m),v=O(S),this.h()},h(){C(n,"class","svelte-10xwf4"),C(i,"class","svelte-10xwf4"),C(o,"class","svelte-10xwf4"),C(f,"class","svelte-10xwf4"),C(e,"class","svelte-10xwf4")},m(S,N){R(S,e,N),b(e,t),b(t,n),b(t,l),b(t,i),b(i,a),b(t,s),b(t,o),b(o,c),b(t,u),b(t,f),b(f,h),b(e,d),b(e,p);for(let P=0;P<k.length;P+=1)k[P].m(p,null);R(S,v,N),w=!0},p(S,N){if(N&29){E=S[3];let P;for(P=0;P<E.length;P+=1){const J=Zr(S,E,P);k[P]?(k[P].p(J,N),U(k[P],1)):(k[P]=nl(J),k[P].c(),U(k[P],1),k[P].m(p,null))}for(me(),P=E.length;P<k.length;P+=1)D(P);ve()}},i(S){if(!w){for(let N=0;N<E.length;N+=1)U(k[N]);w=!0}},o(S){k=k.filter(Boolean);for(let N=0;N<k.length;N+=1)B(k[N]);w=!1},d(S){S&&m(e),Pe(k,S),S&&m(v)}}}function rl(r){let e,t;return e=new kt({props:{title:r[11],headingLevel:"h4",$$slots:{default:[$o]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l&1048577&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function yo(r){let e,t,n=r[1],l=[];for(let a=0;a<n.length;a+=1)l[a]=rl(Qr(r,n,a));const i=a=>B(l[a],1,1,()=>{l[a]=null});return{c(){e=T("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);for(let o=0;o<l.length;o+=1)l[o].l(s);s.forEach(m),this.h()},h(){C(e,"class","motive-tables svelte-10xwf4")},m(a,s){R(a,e,s);for(let o=0;o<l.length;o+=1)l[o].m(e,null);t=!0},p(a,[s]){if(s&31){n=a[1];let o;for(o=0;o<n.length;o+=1){const c=Qr(a,n,o);l[o]?(l[o].p(c,s),U(l[o],1)):(l[o]=rl(c),l[o].c(),U(l[o],1),l[o].m(e,null))}for(me(),o=n.length;o<l.length;o+=1)i(o);ve()}},i(a){if(!t){for(let s=0;s<n.length;s+=1)U(l[s]);t=!0}},o(a){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)B(l[s]);t=!1},d(a){a&&m(e),Pe(l,a)}}}function ko(r,e,t){let n,{content:l}=e,{onChange:i}=e,{index:a}=e;const s=["Adult","Child","Toddler","Teen","Elder","Cat","Dog"],o=["None","Nice","Grouchy","Active","Lazy","Generous","Selfish","Playful","Serious","Outgoing","Shy","Neat","Sloppy","Cleaning skill","Cooking skill","Charisma skill","Mechanical skill","Gardening skill","Music skill","Creative skill","Literacy skill","Physical skill","Logic skill"],c=["Shopping","Scratch/chew","Unused","Mood","Mood + mem","Energy","Comfort","Hunger","Water/hygiene","Bladder","Unused","Sleep state","Amorous","Environment","Social","Fun"],u=(p,v,w,E)=>i(he(l,k=>{var N;const D=((N=k.items[a])==null?void 0:N.humanGroups.groups)??[];for(;w>=D.length;)D.push({items:[]});const S=D[w];if(S){for(;E>=S.items.length;)S.items.push({min:0,delta:0,type:0});const P=S.items[E];P&&(P[p]=v)}})),f=(p,v,w)=>u("min",w,p,v),h=(p,v,w)=>u("delta",w,p,v),d=(p,v,w)=>{u("type",parseInt(w.currentTarget.value),p,v)};return r.$$set=p=>{"content"in p&&t(5,l=p.content),"onChange"in p&&t(6,i=p.onChange),"index"in p&&t(7,a=p.index)},r.$$.update=()=>{var p;r.$$.dirty&160&&t(0,n=((p=l.items[a])==null?void 0:p.humanGroups.groups)??[])},[n,s,o,c,u,l,i,a,f,h,d]}class ll extends ce{constructor(e){super(),ue(this,e,ko,yo,ae,{content:5,onChange:6,index:7})}}const Eo=["Visitor","Joinable","Immediately","Consecutive","Children","Demo child","Adults","Debug menu","Auto first","Toddlers","Elders","Teens","Dogs","Cats","Allow nested","Nest"],Co=["Babies",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],Io=["Visitor","Joinable?","Immediately","Consecutive?","Children","2-way?","Adults","Debug menu?","Auto first?","Toddlers","Elders","Teens","Adult big dogs","Adult cats","Allow nested","Nest"],To=["Babies",null,null,null,null,null,null,null,"Puppies","Kittens","Elder cats","Adult small dogs","Elder small dogs",null,null];function il(r,e,t){const n=r.slice();return n[22]=e[t],n}function al(r,e,t){const n=r.slice();return n[25]=e[t],n[27]=t,n}function sl(r,e,t){const n=r.slice();return n[25]=e[t],n[27]=t,n}function ol(r,e,t){const n=r.slice();return n[29]=e[t],n[27]=t,n}function Ao(r){let e,t;return e=new Se({props:{onClick:r[14],$$slots:{default:[Do]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Uo(r){let e,t;return e=new Se({props:{onClick:r[13],$$slots:{default:[So]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,l){const i={};l[0]&1&&(i.onClick=n[13]),l[1]&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Do(r){let e;return{c(){e=X("Create TTAS")},l(t){e=K(t,"Create TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function So(r){let e;return{c(){e=X("Edit TTAS")},l(t){e=K(t,"Edit TTAS")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function cl(r){let e,t,n=Me(r[27],8)+"",l,i,a=r[29]+"",s,o;return{c(){e=T("option"),t=X("("),l=X(n),i=X(") "),s=X(a),o=L(),this.h()},l(c){e=A(c,"OPTION",{});var u=I(e);t=K(u,"("),l=K(u,n),i=K(u,") "),s=K(u,a),o=O(u),u.forEach(m),this.h()},h(){e.__value=r[27],e.value=e.__value},m(c,u){R(c,e,u),b(e,t),b(e,l),b(e,i),b(e,s),b(e,o)},p(c,u){u[0]&8&&a!==(a=c[29]+"")&&Fe(s,a)},d(c){c&&m(e)}}}function ul(r){let e,t,n,l,i=r[25]+"",a,s,o,c;function u(){return r[18](r[27])}return{c(){e=T("label"),t=T("input"),l=L(),a=X(i),s=L(),this.h()},l(f){e=A(f,"LABEL",{});var h=I(e);t=A(h,"INPUT",{type:!0}),l=O(h),a=K(h,i),s=O(h),h.forEach(m),this.h()},h(){C(t,"type","checkbox"),t.checked=n=r[6](r[27])},m(f,h){R(f,e,h),b(e,t),b(e,l),b(e,a),b(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){r=f,h[0]&64&&n!==(n=r[6](r[27]))&&(t.checked=n),h[0]&32&&i!==(i=r[25]+"")&&Fe(a,i)},d(f){f&&m(e),o=!1,c()}}}function Bo(r){let e,t=r[5],n=[];for(let l=0;l<t.length;l+=1)n[l]=ul(sl(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","checkbox-grid svelte-1tpy5t5")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&352){t=l[5];let a;for(a=0;a<t.length;a+=1){const s=sl(l,t,a);n[a]?n[a].p(s,i):(n[a]=ul(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Pe(n,l)}}}function fl(r){let e,t,n,l,i=(r[25]??"?")+"",a,s,o,c;function u(){return r[19](r[27])}return{c(){e=T("label"),t=T("input"),l=L(),a=X(i),s=L(),this.h()},l(f){e=A(f,"LABEL",{});var h=I(e);t=A(h,"INPUT",{type:!0}),l=O(h),a=K(h,i),s=O(h),h.forEach(m),this.h()},h(){var f;C(t,"type","checkbox"),t.checked=n=((((f=r[1])==null?void 0:f.flags2)??0)&1<<r[27])>0},m(f,h){R(f,e,h),b(e,t),b(e,l),b(e,a),b(e,s),o||(c=pe(t,"change",st(u)),o=!0)},p(f,h){var d;r=f,h[0]&2&&n!==(n=((((d=r[1])==null?void 0:d.flags2)??0)&1<<r[27])>0)&&(t.checked=n),h[0]&16&&i!==(i=(r[25]??"?")+"")&&Fe(a,i)},d(f){f&&m(e),o=!1,c()}}}function Fo(r){let e,t=r[4],n=[];for(let l=0;l<t.length;l+=1)n[l]=fl(al(r,t,l));return{c(){e=T("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=A(l,"DIV",{class:!0});var i=I(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(m),this.h()},h(){C(e,"class","checkbox-grid svelte-1tpy5t5")},m(l,i){R(l,e,i);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(l,i){if(i[0]&274){t=l[4];let a;for(a=0;a<t.length;a+=1){const s=al(l,t,a);n[a]?n[a].p(s,i):(n[a]=fl(s),n[a].c(),n[a].m(e,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(l){l&&m(e),Pe(n,l)}}}function hl(r){var a;let e,t;function n(...s){return r[21](r[22],...s)}const l=[r[22],{value:((a=r[1])==null?void 0:a[r[22].key])??0},{onChange:n},{style:"width: 100%"}];let i={};for(let s=0;s<l.length;s+=1)i=ge(i,l[s]);return e=new Qe({props:i}),{c(){W(e.$$.fragment)},l(s){q(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,o){var u;r=s;const c=o[0]&134?Le(l,[o[0]&4&&kn(r[22]),o[0]&6&&{value:((u=r[1])==null?void 0:u[r[22].key])??0},o[0]&132&&{onChange:n},l[3]]):{};e.$set(c)},i(s){t||(U(e.$$.fragment,s),t=!0)},o(s){B(e.$$.fragment,s),t=!1},d(s){Y(e,s)}}}function Ro(r){var Ye,Ce,Be;let e,t,n,l,i,a,s,o,c,u,f,h,d,p,v,w,E,k,D,S,N,P,J,z,M,H,j,Q,le,Z;const ee=[Uo,Ao],ne=[];function re(te,fe){return te[0]?0:1}o=re(r),c=ne[o]=ee[o](r);let oe=r[3],se=[];for(let te=0;te<oe.length;te+=1)se[te]=cl(ol(r,oe,te));w=new Kt({props:{value:((Ye=r[1])==null?void 0:Ye.action)??0,onChange:r[16],label:"Action BHAV"}}),k=new Kt({props:{value:((Ce=r[1])==null?void 0:Ce.guard)??0,onChange:r[17],label:"Guardian BHAV"}}),N=new kt({props:{headingLevel:"h4",title:"Flags",style:"flex: 1",$$slots:{default:[Bo]},$$scope:{ctx:r}}}),J=new kt({props:{headingLevel:"h4",title:"Flags2",style:"flex: 1",$$slots:{default:[Fo]},$$scope:{ctx:r}}}),H=new Qe({props:{variant:"hex",value:((Be=r[1])==null?void 0:Be.attenuationCode)??0,onChange:r[20],label:"Attenuation code",style:"width: 100%"}});let Ee=r[2],de=[];for(let te=0;te<Ee.length;te+=1)de[te]=hl(il(r,Ee,te));const Oe=te=>B(de[te],1,1,()=>{de[te]=null});return{c(){e=T("div"),t=T("div"),n=T("div"),l=T("div"),i=T("label"),a=X("Pie string ID"),s=L(),c.c(),u=L(),f=T("select");for(let te=0;te<se.length;te+=1)se[te].c();d=L(),p=T("div"),v=L(),W(w.$$.fragment),E=L(),W(k.$$.fragment),D=L(),S=T("div"),W(N.$$.fragment),P=L(),W(J.$$.fragment),z=L(),M=T("div"),W(H.$$.fragment),j=L();for(let te=0;te<de.length;te+=1)de[te].c();this.h()},l(te){e=A(te,"DIV",{class:!0});var fe=I(e);t=A(fe,"DIV",{class:!0});var Ae=I(t);n=A(Ae,"DIV",{});var Ie=I(n);l=A(Ie,"DIV",{class:!0});var Xe=I(l);i=A(Xe,"LABEL",{for:!0});var et=I(i);a=K(et,"Pie string ID"),et.forEach(m),s=O(Xe),c.l(Xe),Xe.forEach(m),u=O(Ie),f=A(Ie,"SELECT",{id:!0,class:!0});var ot=I(f);for(let Ge=0;Ge<se.length;Ge+=1)se[Ge].l(ot);ot.forEach(m),Ie.forEach(m),d=O(Ae),p=A(Ae,"DIV",{}),I(p).forEach(m),v=O(Ae),q(w.$$.fragment,Ae),E=O(Ae),q(k.$$.fragment,Ae),Ae.forEach(m),D=O(fe),S=A(fe,"DIV",{class:!0});var lt=I(S);q(N.$$.fragment,lt),P=O(lt),q(J.$$.fragment,lt),lt.forEach(m),z=O(fe),M=A(fe,"DIV",{class:!0});var it=I(M);q(H.$$.fragment,it),j=O(it);for(let Ge=0;Ge<de.length;Ge+=1)de[Ge].l(it);it.forEach(m),fe.forEach(m),this.h()},h(){C(i,"for","pie-string-select"),C(l,"class","label-with-edit svelte-1tpy5t5"),C(f,"id","pie-string-select"),C(f,"class","svelte-1tpy5t5"),C(t,"class","input-grid svelte-1tpy5t5"),C(S,"class","flags-wrapper svelte-1tpy5t5"),C(M,"class","input-grid svelte-1tpy5t5"),C(e,"class","settings svelte-1tpy5t5")},m(te,fe){var Ae;R(te,e,fe),b(e,t),b(t,n),b(n,l),b(l,i),b(i,a),b(l,s),ne[o].m(l,null),b(n,u),b(n,f);for(let Ie=0;Ie<se.length;Ie+=1)se[Ie].m(f,null);Ze(f,((Ae=r[1])==null?void 0:Ae.strIndex)??0),b(t,d),b(t,p),b(t,v),x(w,t,null),b(t,E),x(k,t,null),b(e,D),b(e,S),x(N,S,null),b(S,P),x(J,S,null),b(e,z),b(e,M),x(H,M,null),b(M,j);for(let Ie=0;Ie<de.length;Ie+=1)de[Ie].m(M,null);Q=!0,le||(Z=pe(f,"change",r[15]),le=!0)},p(te,fe){var it,Ge,qe,wt,Bt;let Ae=o;if(o=re(te),o===Ae?ne[o].p(te,fe):(me(),B(ne[Ae],1,1,()=>{ne[Ae]=null}),ve(),c=ne[o],c?c.p(te,fe):(c=ne[o]=ee[o](te),c.c()),U(c,1),c.m(l,null)),fe[0]&8){oe=te[3];let we;for(we=0;we<oe.length;we+=1){const $t=ol(te,oe,we);se[we]?se[we].p($t,fe):(se[we]=cl($t),se[we].c(),se[we].m(f,null))}for(;we<se.length;we+=1)se[we].d(1);se.length=oe.length}(!Q||fe[0]&2&&h!==(h=((it=te[1])==null?void 0:it.strIndex)??0))&&Ze(f,((Ge=te[1])==null?void 0:Ge.strIndex)??0);const Ie={};fe[0]&2&&(Ie.value=((qe=te[1])==null?void 0:qe.action)??0),w.$set(Ie);const Xe={};fe[0]&2&&(Xe.value=((wt=te[1])==null?void 0:wt.guard)??0),k.$set(Xe);const et={};fe[0]&96|fe[1]&1&&(et.$$scope={dirty:fe,ctx:te}),N.$set(et);const ot={};fe[0]&18|fe[1]&1&&(ot.$$scope={dirty:fe,ctx:te}),J.$set(ot);const lt={};if(fe[0]&2&&(lt.value=((Bt=te[1])==null?void 0:Bt.attenuationCode)??0),H.$set(lt),fe[0]&134){Ee=te[2];let we;for(we=0;we<Ee.length;we+=1){const $t=il(te,Ee,we);de[we]?(de[we].p($t,fe),U(de[we],1)):(de[we]=hl($t),de[we].c(),U(de[we],1),de[we].m(M,null))}for(me(),we=Ee.length;we<de.length;we+=1)Oe(we);ve()}},i(te){if(!Q){U(c),U(w.$$.fragment,te),U(k.$$.fragment,te),U(N.$$.fragment,te),U(J.$$.fragment,te),U(H.$$.fragment,te);for(let fe=0;fe<Ee.length;fe+=1)U(de[fe]);Q=!0}},o(te){B(c),B(w.$$.fragment,te),B(k.$$.fragment,te),B(N.$$.fragment,te),B(J.$$.fragment,te),B(H.$$.fragment,te),de=de.filter(Boolean);for(let fe=0;fe<de.length;fe+=1)B(de[fe]);Q=!1},d(te){te&&m(e),ne[o].d(),Pe(se,te),Y(w),Y(k),Y(N),Y(J),Y(H),Pe(de,te),le=!1,Z()}}}function Po(r,e,t){let n,l,i,a,s;tt(r,be,M=>t(12,s=M));let{content:o}=e,{onChange:c}=e,{index:u}=e,f=[],h,d=[];const p=(M,H)=>c(he(o,j=>{const Q=j.items[u];Q&&(Q[M]=H)})),v=(M,H)=>c(he(o,j=>{const Q=j.items[u];Q&&(Q[M]^=1<<H)})),w=()=>h?be.openResource(h):null,E=()=>be.createNewResource("TTAS"),k=M=>{p("strIndex",parseInt(M.currentTarget.value))},D=M=>p("action",M),S=M=>p("guard",M),N=M=>v("flags",M),P=M=>v("flags2",M),J=M=>p("attenuationCode",M),z=(M,H)=>p(M.key,H);return r.$$set=M=>{"content"in M&&t(9,o=M.content),"onChange"in M&&t(10,c=M.onChange),"index"in M&&t(11,u=M.index)},r.$$.update=()=>{var M,H;if(r.$$.dirty[0]&512&&t(2,f=[{key:"attenuationValue",variant:"hex",maxLength:8,label:"Attenuation value"},{key:"autonomy",variant:"hex",maxLength:8,label:"Autonomy"},{key:"joinIndex",variant:"hex",maxLength:8,label:"Join index"},{key:"uiDisplayType",variant:"hex",maxLength:4,label:"UI display type",disabled:o.format<=69},{key:"objectType",variant:"hex",maxLength:8,label:"Object type",disabled:o.format<=76},{key:"facialAnimation",variant:"hex",maxLength:8,label:"Facial animation ID",disabled:o.format<=74},{key:"modelTableId",variant:"hex",maxLength:8,label:"Model table ID",disabled:o.format<=70},{key:"memoryIterMult",variant:"hex",maxLength:8,label:"Memory iterative multiplier",disabled:o.format<=76}]),r.$$.dirty[0]&2560&&t(1,n=o.items[u]),r.$$.dirty[0]&4097){t(0,h=_e(s).linkedResourceId("TTAS"));const j=_e(s).resourceById(h);t(3,d=(((M=j==null?void 0:j.contentChanges)==null?void 0:M.stringSets)??((H=j==null?void 0:j.content)==null?void 0:H.stringSets)??[]).map(Q=>Q.value))}r.$$.dirty[0]&2&&t(6,l=j=>{const Q=(((n==null?void 0:n.flags)??0)&1<<j)>0;return j===4||j===5||j===6?!Q:Q}),r.$$.dirty[0]&512&&t(5,i=o.format>84?Io:Eo),r.$$.dirty[0]&512&&t(4,a=o.format>84?To:Co)},[h,n,f,d,a,i,l,p,v,o,c,u,s,w,E,k,D,S,N,P,J,z]}class dl extends ce{constructor(e){super(),ue(this,e,Po,Ro,ae,{content:9,onChange:10,index:11},null,[-1,-1])}}function gl(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function _l(r){var o;let e,t,n,l,i=(((o=r[4])==null?void 0:o[r[9].strIndex])??"")+"",a,s;return{c(){e=T("option"),t=X("("),n=X(r[11]),l=X(") "),a=X(i),s=L(),this.h()},l(c){e=A(c,"OPTION",{});var u=I(e);t=K(u,"("),n=K(u,r[11]),l=K(u,") "),a=K(u,i),s=O(u),u.forEach(m),this.h()},h(){e.__value=r[11],e.value=e.__value},m(c,u){R(c,e,u),b(e,t),b(e,n),b(e,l),b(e,a),b(e,s)},p(c,u){var f;u&17&&i!==(i=(((f=c[4])==null?void 0:f[c[9].strIndex])??"")+"")&&Fe(a,i)},d(c){c&&m(e)}}}function Lo(r){let e,t,n,l,i,a,s,o,c,u=r[0].items,f=[];for(let h=0;h<u.length;h+=1)f[h]=_l(gl(r,u,h));return a=new Qe({props:{label:"Format",variant:"hex",maxLength:8,onChange:r[5],value:r[0].format,style:"width: 100%"}}),{c(){e=T("div"),t=T("label"),n=X(`Interaction
				`),l=T("select");for(let h=0;h<f.length;h+=1)f[h].c();i=L(),W(a.$$.fragment),this.h()},l(h){e=A(h,"DIV",{class:!0});var d=I(e);t=A(d,"LABEL",{});var p=I(t);n=K(p,`Interaction
				`),l=A(p,"SELECT",{class:!0});var v=I(l);for(let w=0;w<f.length;w+=1)f[w].l(v);v.forEach(m),p.forEach(m),i=O(d),q(a.$$.fragment,d),d.forEach(m),this.h()},h(){C(l,"class","index-select svelte-909bhh"),C(e,"class","controls svelte-909bhh")},m(h,d){R(h,e,d),b(e,t),b(t,n),b(t,l);for(let p=0;p<f.length;p+=1)f[p].m(l,null);Ze(l,r[3]),b(e,i),x(a,e,null),s=!0,o||(c=pe(l,"change",r[7]),o=!0)},p(h,d){if(d&17){u=h[0].items;let v;for(v=0;v<u.length;v+=1){const w=gl(h,u,v);f[v]?f[v].p(w,d):(f[v]=_l(w),f[v].c(),f[v].m(l,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=u.length}(!s||d&8)&&Ze(l,h[3]);const p={};d&1&&(p.value=h[0].format),a.$set(p)},i(h){s||(U(a.$$.fragment,h),s=!0)},o(h){B(a.$$.fragment,h),s=!1},d(h){h&&m(e),Pe(f,h),Y(a),o=!1,c()}}}function Oo(r){let e,t,n,l,i;return t=new xe({props:{secondary:!0,$$slots:{default:[Lo]},$$scope:{ctx:r}}}),l=new Gt({props:{tabs:{settings:{title:"Settings",content:dl,hideClose:!0,props:{content:r[0],onChange:r[1],index:r[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:r[0],onChange:r[1],index:r[3]}}},activeTab:r[2],onChange:r[8],onClose:Mo,headingLevel:"h3",style:{flex:"1",background:"transparent",border:"0",overflow:"hidden",padding:"0","margin-top":"5px"},contentStyle:{overflow:"auto"}}}),{c(){e=T("div"),W(t.$$.fragment),n=L(),W(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(l.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","ttab-view svelte-909bhh")},m(a,s){R(a,e,s),x(t,e,null),b(e,n),x(l,e,null),i=!0},p(a,[s]){const o={};s&4121&&(o.$$scope={dirty:s,ctx:a}),t.$set(o);const c={};s&11&&(c.tabs={settings:{title:"Settings",content:dl,hideClose:!0,props:{content:a[0],onChange:a[1],index:a[3]}},motives:{title:"Motive tables",content:ll,hideClose:!0,props:{content:a[0],onChange:a[1],index:a[3]}}}),s&4&&(c.activeTab=a[2]),s&4&&(c.onChange=a[8]),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(l.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(l)}}}const Mo=()=>null;function No(r,e,t){let n;tt(r,be,h=>t(6,n=h));let{content:l}=e,{onChange:i}=e,a="settings",s=0,o=[];const c=h=>i(he(l,d=>{d.format=h})),u=h=>{t(3,s=parseInt(h.currentTarget.value))},f=h=>t(2,a=h);return r.$$set=h=>{"content"in h&&t(0,l=h.content),"onChange"in h&&t(1,i=h.onChange)},r.$$.update=()=>{var h,d;if(r.$$.dirty&64){const p=_e(n).linkedResourceId("TTAS"),v=_e(n).resourceById(p);t(4,o=(((h=v==null?void 0:v.contentChanges)==null?void 0:h.stringSets)??((d=v==null?void 0:v.content)==null?void 0:d.stringSets)??[]).map(w=>w.value))}},[l,i,a,s,o,c,n,u,f]}class Vo extends ce{constructor(e){super(),ue(this,e,No,Oo,ae,{content:0,onChange:1})}}function jo(r){let e;return{c(){e=X("No view for this resource type")},l(t){e=K(t,"No view for this resource type")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Go(r){let e,t;return e=new xe({props:{secondary:!0,$$slots:{default:[jo]},$$scope:{ctx:r}}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p(n,[l]){const i={};l&1&&(i.$$scope={dirty:l,ctx:n}),e.$set(i)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}class zo extends ce{constructor(e){super(),ue(this,e,null,Go,ae,{})}}const Nt={BCON:is,CTSS:fn,GLOB:cs,JFIF:qr,NREF:hs,OBJD:As,OBJF:Ls,STR:fn,TGA:qr,TPRP:uo,TRCN:wo,TTAB:Vo,TTAS:fn};function pl(r){if(r)return Nt[mt(r.meta.typeId)]??zo}function ml(r,e,t){const n=r.slice();return n[13]=e[t],n}function Ho(r){let e,t;return e=new Ea({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Wo(r){let e,t;return e=new $a({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function vl(r,e){let t,n=e[13]+"",l;return{key:r,first:null,c(){t=T("option"),l=X(n),this.h()},l(i){t=A(i,"OPTION",{});var a=I(t);l=K(a,n),a.forEach(m),this.h()},h(){t.__value=e[13],t.value=t.__value,this.first=t},m(i,a){R(i,t,a),b(t,l)},p(i,a){e=i},d(i){i&&m(t)}}}function xo(r){let e,t;return e=new Da({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function Yo(r){let e,t;return e=new Ta({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function qo(r){let e,t,n,l=[],i=new Map,a,s,o,c,u,f,h,d,p=Object.keys(Nt);const v=w=>w[13];for(let w=0;w<p.length;w+=1){let E=ml(r,p,w),k=v(E);i.set(k,l[w]=vl(k,E))}return o=new Se({props:{variant:"skeuomorphic",size:25,onClick:r[5],"aria-label":"cancel",style:"margin-right: 5px;",$$slots:{default:[xo]},$$scope:{ctx:r}}}),u=new Se({props:{variant:"skeuomorphic",size:25,onClick:r[12],"aria-label":"submit",$$slots:{default:[Yo]},$$scope:{ctx:r}}}),{c(){e=T("label"),t=X(`Type:
			`),n=T("select");for(let w=0;w<l.length;w+=1)l[w].c();a=L(),s=T("div"),W(o.$$.fragment),c=L(),W(u.$$.fragment),this.h()},l(w){e=A(w,"LABEL",{class:!0});var E=I(e);t=K(E,`Type:
			`),n=A(E,"SELECT",{class:!0});var k=I(n);for(let S=0;S<l.length;S+=1)l[S].l(k);k.forEach(m),E.forEach(m),a=O(w),s=A(w,"DIV",{class:!0});var D=I(s);q(o.$$.fragment,D),c=O(D),q(u.$$.fragment,D),D.forEach(m),this.h()},h(){C(n,"class","svelte-1sk2j0c"),C(e,"class","modal-content svelte-1sk2j0c"),C(s,"class","modal-controls svelte-1sk2j0c")},m(w,E){R(w,e,E),b(e,t),b(e,n);for(let k=0;k<l.length;k+=1)l[k].m(n,null);Ze(n,r[3]),r[11](n),R(w,a,E),R(w,s,E),x(o,s,null),b(s,c),x(u,s,null),f=!0,h||(d=pe(n,"input",r[6]),h=!0)},p(w,E){E&0&&(p=Object.keys(Nt),l=Qt(l,E,v,1,w,p,i,n,Nl,vl,null,ml)),(!f||E&8)&&Ze(n,w[3]);const k={};E&65536&&(k.$$scope={dirty:E,ctx:w}),o.$set(k);const D={};E&8&&(D.onClick=w[12]),E&65536&&(D.$$scope={dirty:E,ctx:w}),u.$set(D)},i(w){f||(U(o.$$.fragment,w),U(u.$$.fragment,w),f=!0)},o(w){B(o.$$.fragment,w),B(u.$$.fragment,w),f=!1},d(w){w&&m(e);for(let E=0;E<l.length;E+=1)l[E].d();r[11](null),w&&m(a),w&&m(s),Y(o),Y(u),h=!1,d()}}}function Jo(r){let e,t,n,l,i,a,s,o,c,u,f,h,d,p,v;o=new Se({props:{variant:"skeuomorphic",size:25,style:"margin: 0 5px; padding: 1px;",onClick:r[8],tooltip:"Download package","aria-label":"download package",$$slots:{default:[Ho]},$$scope:{ctx:r}}});let w={variant:"skeuomorphic",size:25,style:"padding: 1px;",onClick:r[9],tooltip:"Add resource","aria-label":"add resource",$$slots:{default:[Wo]},$$scope:{ctx:r}};return u=new Se({props:w}),r[10](u),h=new Va({props:{title:"Add new resource",isOpen:r[2],onClose:r[5],$$slots:{default:[qo]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("label"),n=X("Search"),l=L(),i=T("div"),a=T("input"),s=L(),W(o.$$.fragment),c=L(),W(u.$$.fragment),f=L(),W(h.$$.fragment),this.h()},l(E){e=A(E,"DIV",{});var k=I(e);t=A(k,"LABEL",{for:!0,class:!0});var D=I(t);n=K(D,"Search"),D.forEach(m),l=O(k),i=A(k,"DIV",{class:!0});var S=I(i);a=A(S,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),s=O(S),q(o.$$.fragment,S),c=O(S),q(u.$$.fragment,S),S.forEach(m),f=O(k),q(h.$$.fragment,k),k.forEach(m),this.h()},h(){C(t,"for","file-search"),C(t,"class","search-label svelte-1sk2j0c"),C(a,"id","file-search"),C(a,"type","text"),C(a,"placeholder","File name, file type, group ID, or instance ID"),C(a,"class","svelte-1sk2j0c"),C(i,"class","actions svelte-1sk2j0c")},m(E,k){R(E,e,k),b(e,t),b(t,n),b(e,l),b(e,i),b(i,a),Pn(a,r[0]),b(i,s),x(o,i,null),b(i,c),x(u,i,null),b(e,f),x(h,e,null),d=!0,p||(v=pe(a,"input",r[7]),p=!0)},p(E,[k]){k&1&&a.value!==E[0]&&Pn(a,E[0]);const D={};k&65536&&(D.$$scope={dirty:k,ctx:E}),o.$set(D);const S={};k&4&&(S.onClick=E[9]),k&65536&&(S.$$scope={dirty:k,ctx:E}),u.$set(S);const N={};k&4&&(N.isOpen=E[2]),k&65546&&(N.$$scope={dirty:k,ctx:E}),h.$set(N)},i(E){d||(U(o.$$.fragment,E),U(u.$$.fragment,E),U(h.$$.fragment,E),d=!0)},o(E){B(o.$$.fragment,E),B(u.$$.fragment,E),B(h.$$.fragment,E),d=!1},d(E){E&&m(e),Y(o),r[10](null),Y(u),Y(h),p=!1,v()}}}function Xo(r,e,t){let{search:n=""}=e,l=!1,i=Object.keys(Nt)[0],a,s;const o=()=>{t(2,l=!1),t(3,i=Object.keys(Nt)[0]),s.focus()},c=w=>{t(3,i=w.target.value)};function u(){n=this.value,t(0,n)}const f=()=>be.downloadActivePackage(),h=()=>{t(2,l=!0)};function d(w){bt[w?"unshift":"push"](()=>{s=w,t(4,s)})}function p(w){bt[w?"unshift":"push"](()=>{a=w,t(1,a)})}const v=()=>{be.createNewResource(i),o()};return r.$$set=w=>{"search"in w&&t(0,n=w.search)},r.$$.update=()=>{r.$$.dirty&2&&(a==null||a.focus())},[n,a,l,i,s,o,c,u,f,h,d,p,v]}class Ko extends ce{constructor(e){super(),ue(this,e,Xo,Jo,ae,{search:0})}}function bl(r,e,t){const n=r.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function Qo(r){let e,t,n=r[2](r[7])+"",l,i,a,s=mt(r[7].meta.typeId)+"",o,c,u,f,h,d,p,v,w=Me(r[7].meta.groupId)+"",E,k,D,S,N,P,J,z=Me(r[7].meta.instanceId2,8)+"",M,H,j,Q,le,Z,ee,ne=Me(r[7].meta.instanceId,8)+"",re;return{c(){e=T("div"),t=T("div"),l=X(n),i=L(),a=T("div"),o=X(s),c=L(),u=T("dl"),f=T("div"),h=T("dt"),d=X("Group"),p=L(),v=T("dd"),E=X(w),k=L(),D=T("div"),S=T("dt"),N=X("Instance (High)"),P=L(),J=T("dd"),M=X(z),H=L(),j=T("div"),Q=T("dt"),le=X("Instance"),Z=L(),ee=T("dd"),re=X(ne),this.h()},l(oe){e=A(oe,"DIV",{class:!0});var se=I(e);t=A(se,"DIV",{class:!0});var Ee=I(t);l=K(Ee,n),Ee.forEach(m),i=O(se),a=A(se,"DIV",{class:!0});var de=I(a);o=K(de,s),de.forEach(m),se.forEach(m),c=O(oe),u=A(oe,"DL",{class:!0});var Oe=I(u);f=A(Oe,"DIV",{class:!0});var Ye=I(f);h=A(Ye,"DT",{class:!0});var Ce=I(h);d=K(Ce,"Group"),Ce.forEach(m),p=O(Ye),v=A(Ye,"DD",{class:!0});var Be=I(v);E=K(Be,w),Be.forEach(m),k=O(Ye),Ye.forEach(m),D=A(Oe,"DIV",{class:!0});var te=I(D);S=A(te,"DT",{class:!0});var fe=I(S);N=K(fe,"Instance (High)"),fe.forEach(m),P=O(te),J=A(te,"DD",{class:!0});var Ae=I(J);M=K(Ae,z),Ae.forEach(m),H=O(te),te.forEach(m),j=A(Oe,"DIV",{class:!0});var Ie=I(j);Q=A(Ie,"DT",{class:!0});var Xe=I(Q);le=K(Xe,"Instance"),Xe.forEach(m),Z=O(Ie),ee=A(Ie,"DD",{class:!0});var et=I(ee);re=K(et,ne),et.forEach(m),Ie.forEach(m),Oe.forEach(m),this.h()},h(){C(t,"class","filename svelte-1odav1k"),C(a,"class","type svelte-1odav1k"),C(e,"class","file-info svelte-1odav1k"),C(h,"class","svelte-1odav1k"),C(v,"class","svelte-1odav1k"),C(f,"class","file-meta svelte-1odav1k"),C(S,"class","svelte-1odav1k"),C(J,"class","svelte-1odav1k"),C(D,"class","file-meta svelte-1odav1k"),C(Q,"class","svelte-1odav1k"),C(ee,"class","svelte-1odav1k"),C(j,"class","file-meta svelte-1odav1k"),C(u,"class","svelte-1odav1k")},m(oe,se){R(oe,e,se),b(e,t),b(t,l),b(e,i),b(e,a),b(a,o),R(oe,c,se),R(oe,u,se),b(u,f),b(f,h),b(h,d),b(f,p),b(f,v),b(v,E),b(f,k),b(u,D),b(D,S),b(S,N),b(D,P),b(D,J),b(J,M),b(D,H),b(u,j),b(j,Q),b(Q,le),b(j,Z),b(j,ee),b(ee,re)},p(oe,se){se&2&&n!==(n=oe[2](oe[7])+"")&&Fe(l,n),se&2&&s!==(s=mt(oe[7].meta.typeId)+"")&&Fe(o,s),se&2&&w!==(w=Me(oe[7].meta.groupId)+"")&&Fe(E,w),se&2&&z!==(z=Me(oe[7].meta.instanceId2,8)+"")&&Fe(M,z),se&2&&ne!==(ne=Me(oe[7].meta.instanceId,8)+"")&&Fe(re,ne)},d(oe){oe&&m(e),oe&&m(c),oe&&m(u)}}}function wl(r,e){let t,n,l,i;function a(){return e[5](e[6])}return n=new Se({props:{variant:"block",onClick:a,style:"padding: 5px 15px;",$$slots:{default:[Qo]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=T("li"),W(n.$$.fragment),l=L(),this.h()},l(s){t=A(s,"LI",{class:!0});var o=I(t);q(n.$$.fragment,o),l=O(o),o.forEach(m),this.h()},h(){C(t,"class","svelte-1odav1k"),this.first=t},m(s,o){R(s,t,o),x(n,t,null),b(t,l),i=!0},p(s,o){e=s;const c={};o&2&&(c.onClick=a),o&1026&&(c.$$scope={dirty:o,ctx:e}),n.$set(c)},i(s){i||(U(n.$$.fragment,s),i=!0)},o(s){B(n.$$.fragment,s),i=!1},d(s){s&&m(t),Y(n)}}}function Zo(r){let e,t,n,l,i,a=[],s=new Map,o;function c(d){r[4](d)}let u={};r[0]!==void 0&&(u.search=r[0]),t=new Ko({props:u}),bt.push(()=>Vl(t,"search",c,r[0]));let f=r[1];const h=d=>d[6];for(let d=0;d<f.length;d+=1){let p=bl(r,f,d),v=h(p);s.set(v,a[d]=wl(v,p))}return{c(){e=T("div"),W(t.$$.fragment),l=L(),i=T("ul");for(let d=0;d<a.length;d+=1)a[d].c();this.h()},l(d){e=A(d,"DIV",{class:!0});var p=I(e);q(t.$$.fragment,p),l=O(p),i=A(p,"UL",{class:!0});var v=I(i);for(let w=0;w<a.length;w+=1)a[w].l(v);v.forEach(m),p.forEach(m),this.h()},h(){C(i,"class","svelte-1odav1k"),C(e,"class","file-list svelte-1odav1k")},m(d,p){R(d,e,p),x(t,e,null),b(e,l),b(e,i);for(let v=0;v<a.length;v+=1)a[v].m(i,null);o=!0},p(d,[p]){const v={};!n&&p&1&&(n=!0,v.search=d[0],jl(()=>n=!1)),t.$set(v),p&6&&(f=d[1],me(),a=Qt(a,p,h,1,d,f,s,i,yn,wl,null,bl),ve())},i(d){if(!o){U(t.$$.fragment,d);for(let p=0;p<f.length;p+=1)U(a[p]);o=!0}},o(d){B(t.$$.fragment,d);for(let p=0;p<a.length;p+=1)B(a[p]);o=!1},d(d){d&&m(e),Y(t);for(let p=0;p<a.length;p+=1)a[p].d()}}}function ec(r,e,t){let n;tt(r,Ul,c=>t(3,n=c));let l="",i;const a=c=>{var u;return((u=c.content)==null?void 0:u.filename)||Hl[mt(c.meta.typeId)]||""};function s(c){l=c,t(0,l)}const o=c=>be.openResource(c);return r.$$.update=()=>{if(r.$$.dirty&9){const c=new RegExp(l,"i");t(1,i=l?Object.entries((n==null?void 0:n.resources)??{}).filter(([,u])=>Me(u.meta.groupId,8).match(c)||Me(u.meta.instanceId,8).match(c)||Me(u.meta.instanceId2,8).match(c)||a(u).toUpperCase().match(c)||mt(u.meta.typeId).match(c)):Object.entries((n==null?void 0:n.resources)??{}))}},[l,i,a,n,s,o]}class tc extends ce{constructor(e){super(),ue(this,e,ec,Zo,ae,{})}}function nc(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-copy fa-w-14"},{"data-icon":"copy"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function rc(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class lc extends ce{constructor(e){super(),ue(this,e,rc,nc,ae,{})}}function ic(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function ac(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class sc extends ce{constructor(e){super(),ue(this,e,ac,ic,ae,{})}}function oc(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","m433.941 129.941-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-save fa-w-14"},{"data-icon":"save"},{"data-prefix":"far"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function cc(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class uc extends ce{constructor(e){super(),ue(this,e,cc,oc,ae,{})}}function fc(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-trash fa-w-14"},{"data-icon":"trash"},{"data-prefix":"fas"},{viewBox:"0 0 448 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function hc(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class dc extends ce{constructor(e){super(),ue(this,e,hc,fc,ae,{})}}function gc(r){let e,t,n=[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},r[0]],l={};for(let i=0;i<n.length;i+=1)l=ge(l,n[i]);return{c(){e=ze("svg"),t=ze("path"),this.h()},l(i){e=He(i,"svg",{xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var a=I(e);t=He(a,"path",{fill:!0,d:!0}),I(t).forEach(m),a.forEach(m),this.h()},h(){C(t,"fill","currentColor"),C(t,"d","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"),We(e,l)},m(i,a){R(i,e,a),b(e,t)},p(i,[a]){We(e,l=Le(n,[{xmlns:"http://www.w3.org/2000/svg"},{"aria-hidden":"true"},{class:"svg-inline--fa fa-undo-alt fa-w-16"},{"data-icon":"undo-alt"},{"data-prefix":"fas"},{viewBox:"0 0 512 512"},a&1&&i[0]]))},i:ie,o:ie,d(i){i&&m(e)}}}function _c(r,e,t){return r.$$set=n=>{t(0,e=ge(ge({},e),Ve(n)))},e=Ve(e),[e]}class pc extends ce{constructor(e){super(),ue(this,e,_c,gc,ae,{})}}function $l(r){var n;let e,t;return e=new Qe({props:{label:"File name",value:(n=r[1])==null?void 0:n.filename,onChange:r[3],style:"margin-bottom: 15px; width: 100%;"}}),{c(){W(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){x(e,l,i),t=!0},p(l,i){var s;const a={};i&2&&(a.value=(s=l[1])==null?void 0:s.filename),e.$set(a)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function mc(r){let e,t;return e=new uc({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function vc(r){let e,t;return e=new sc({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function bc(r){let e,t,n,l;const i=[vc,mc],a=[];function s(o,c){return o[0]?0:1}return e=s(r),t=a[e]=i[e](r),{c(){t.c(),n=ke()},l(o){t.l(o),n=ke()},m(o,c){a[e].m(o,c),R(o,n,c),l=!0},p(o,c){let u=e;e=s(o),e!==u&&(me(),B(a[u],1,1,()=>{a[u]=null}),ve(),t=a[e],t||(t=a[e]=i[e](o),t.c()),U(t,1),t.m(n.parentNode,n))},i(o){l||(U(t),l=!0)},o(o){B(t),l=!1},d(o){a[e].d(o),o&&m(n)}}}function wc(r){let e,t;return e=new pc({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function $c(r){let e,t;return e=new lc({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function yc(r){let e,t;return e=new dc({props:{height:20}}),{c(){W(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,l){x(e,n,l),t=!0},p:ie,i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){B(e.$$.fragment,n),t=!1},d(n){Y(e,n)}}}function kc(r){var z,M,H;let e,t=r[1]&&!(r[1]instanceof ArrayBuffer)&&Object.hasOwn(r[1],"filename"),n,l,i,a,s,o,c,u,f,h,d,p,v,w,E,k,D,S,N,P,J=t&&$l(r);return a=new Qe({props:{variant:"hex",maxLength:8,label:"Group ID",value:((z=r[2])==null?void 0:z.groupId)??0,onChange:r[4]("groupId"),style:"width: 100%"}}),c=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID (High)",value:((M=r[2])==null?void 0:M.instanceId2)??0,onChange:r[4]("instanceId2"),style:"width: 100%"}}),h=new Qe({props:{variant:"hex",maxLength:8,label:"Instance ID",value:((H=r[2])==null?void 0:H.instanceId)??0,onChange:r[4]("instanceId"),style:"width: 100%"}}),v=new Se({props:{disabled:!r[0],onClick:r[7],variant:"skeuomorphic",tooltip:"Save changes","aria-label":"Save changes",$$slots:{default:[bc]},$$scope:{ctx:r}}}),E=new Se({props:{disabled:!r[0],onClick:r[8],variant:"skeuomorphic",tooltip:"Abandon changes","aria-label":"Abandon changes",$$slots:{default:[wc]},$$scope:{ctx:r}}}),D=new Se({props:{onClick:r[9],variant:"skeuomorphic",tooltip:"Clone resource","aria-label":"Clone resource",$$slots:{default:[$c]},$$scope:{ctx:r}}}),N=new Se({props:{onClick:r[10],variant:"skeuomorphic",tooltip:"Delete resource","aria-label":"Delete resource",$$slots:{default:[yc]},$$scope:{ctx:r}}}),{c(){e=T("div"),J&&J.c(),n=L(),l=T("div"),i=T("div"),W(a.$$.fragment),s=L(),o=T("div"),W(c.$$.fragment),u=L(),f=T("div"),W(h.$$.fragment),d=L(),p=T("div"),W(v.$$.fragment),w=L(),W(E.$$.fragment),k=L(),W(D.$$.fragment),S=L(),W(N.$$.fragment),this.h()},l(j){e=A(j,"DIV",{});var Q=I(e);J&&J.l(Q),n=O(Q),l=A(Q,"DIV",{class:!0});var le=I(l);i=A(le,"DIV",{class:!0});var Z=I(i);q(a.$$.fragment,Z),Z.forEach(m),s=O(le),o=A(le,"DIV",{class:!0});var ee=I(o);q(c.$$.fragment,ee),ee.forEach(m),u=O(le),f=A(le,"DIV",{class:!0});var ne=I(f);q(h.$$.fragment,ne),ne.forEach(m),le.forEach(m),d=O(Q),p=A(Q,"DIV",{class:!0});var re=I(p);q(v.$$.fragment,re),w=O(re),q(E.$$.fragment,re),k=O(re),q(D.$$.fragment,re),S=O(re),q(N.$$.fragment,re),re.forEach(m),Q.forEach(m),this.h()},h(){C(i,"class","input-wrapper svelte-xzft46"),C(o,"class","input-wrapper svelte-xzft46"),C(f,"class","input-wrapper svelte-xzft46"),C(l,"class","meta svelte-xzft46"),C(p,"class","actions svelte-xzft46")},m(j,Q){R(j,e,Q),J&&J.m(e,null),b(e,n),b(e,l),b(l,i),x(a,i,null),b(l,s),b(l,o),x(c,o,null),b(l,u),b(l,f),x(h,f,null),b(e,d),b(e,p),x(v,p,null),b(p,w),x(E,p,null),b(p,k),x(D,p,null),b(p,S),x(N,p,null),P=!0},p(j,[Q]){var Ee,de,Oe;Q&2&&(t=j[1]&&!(j[1]instanceof ArrayBuffer)&&Object.hasOwn(j[1],"filename")),t?J?(J.p(j,Q),Q&2&&U(J,1)):(J=$l(j),J.c(),U(J,1),J.m(e,n)):J&&(me(),B(J,1,1,()=>{J=null}),ve());const le={};Q&4&&(le.value=((Ee=j[2])==null?void 0:Ee.groupId)??0),a.$set(le);const Z={};Q&4&&(Z.value=((de=j[2])==null?void 0:de.instanceId2)??0),c.$set(Z);const ee={};Q&4&&(ee.value=((Oe=j[2])==null?void 0:Oe.instanceId)??0),h.$set(ee);const ne={};Q&1&&(ne.disabled=!j[0]),Q&2049&&(ne.$$scope={dirty:Q,ctx:j}),v.$set(ne);const re={};Q&1&&(re.disabled=!j[0]),Q&2048&&(re.$$scope={dirty:Q,ctx:j}),E.$set(re);const oe={};Q&2048&&(oe.$$scope={dirty:Q,ctx:j}),D.$set(oe);const se={};Q&2048&&(se.$$scope={dirty:Q,ctx:j}),N.$set(se)},i(j){P||(U(J),U(a.$$.fragment,j),U(c.$$.fragment,j),U(h.$$.fragment,j),U(v.$$.fragment,j),U(E.$$.fragment,j),U(D.$$.fragment,j),U(N.$$.fragment,j),P=!0)},o(j){B(J),B(a.$$.fragment,j),B(c.$$.fragment,j),B(h.$$.fragment,j),B(v.$$.fragment,j),B(E.$$.fragment,j),B(D.$$.fragment,j),B(N.$$.fragment,j),P=!1},d(j){j&&m(e),J&&J.d(),Y(a),Y(c),Y(h),Y(v),Y(E),Y(D),Y(N)}}}function Ec(r,e,t){let n,l;tt(r,Dl,p=>t(5,n=p)),tt(r,be,p=>t(6,l=p));let i,a,s;const o=p=>{!a||a instanceof ArrayBuffer||be.editActiveResource(he(a,v=>{v.filename=p}))},c=p=>v=>{s&&be.editActiveResourceMeta(he(s,w=>{w[p]=v}))},u=()=>be.saveActiveResource(),f=()=>be.resetActiveResource(),h=()=>be.copyActiveResource(),d=()=>be.deleteActiveResource();return r.$$.update=()=>{r.$$.dirty&96&&(t(0,i=_e(l).isDirty()),t(1,a=(n==null?void 0:n.contentChanges)??(n==null?void 0:n.content)),t(2,s=(n==null?void 0:n.metaChanges)??(n==null?void 0:n.meta)))},[i,a,s,o,c,n,l,u,f,h,d]}class Cc extends ce{constructor(e){super(),ue(this,e,Ec,kc,ae,{})}}function yl(r){let e,t,n,l,i;return t=new Gt({props:{tabs:r[1],activeTab:r[0].activeResourceId,onChange:r[5],onClose:r[6],headingLevel:"h2",style:{"flex-shrink":"0"},contentStyle:{"padding-bottom":"30px",position:"relative"}}}),l=new xe({props:{style:{"flex-shrink":"1","min-height":"0","margin-top":"30px",overflow:"hidden"},$$slots:{default:[Ic]},$$scope:{ctx:r}}}),{c(){e=T("div"),W(t.$$.fragment),n=L(),W(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=I(e);q(t.$$.fragment,s),n=O(s),q(l.$$.fragment,s),s.forEach(m),this.h()},h(){C(e,"class","file-viewer svelte-9p8pe0")},m(a,s){R(a,e,s),x(t,e,null),b(e,n),x(l,e,null),i=!0},p(a,s){const o={};s&2&&(o.tabs=a[1]),s&1&&(o.activeTab=a[0].activeResourceId),t.$set(o);const c={};s&132&&(c.$$scope={dirty:s,ctx:a}),l.$set(c)},i(a){i||(U(t.$$.fragment,a),U(l.$$.fragment,a),i=!0)},o(a){B(t.$$.fragment,a),B(l.$$.fragment,a),i=!1},d(a){a&&m(e),Y(t),Y(l)}}}function Ic(r){let e,t,n;var l=pl(r[2]);function i(a){return{props:{content:a[2].contentChanges??a[2].content,onChange:a[3]}}}return l&&(e=Tt(l,i(r))),{c(){e&&W(e.$$.fragment),t=ke()},l(a){e&&q(e.$$.fragment,a),t=ke()},m(a,s){e&&x(e,a,s),R(a,t,s),n=!0},p(a,s){const o={};if(s&4&&(o.content=a[2].contentChanges??a[2].content),l!==(l=pl(a[2]))){if(e){me();const c=e;B(c.$$.fragment,1,0,()=>{Y(c,1)}),ve()}l?(e=Tt(l,i(a)),W(e.$$.fragment),U(e.$$.fragment,1),x(e,t.parentNode,t)):e=null}else l&&e.$set(o)},i(a){n||(e&&U(e.$$.fragment,a),n=!0)},o(a){e&&B(e.$$.fragment,a),n=!1},d(a){a&&m(t),e&&Y(e,a)}}}function Tc(r){let e,t,n=r[0]&&r[2]&&yl(r);return{c(){n&&n.c(),e=ke()},l(l){n&&n.l(l),e=ke()},m(l,i){n&&n.m(l,i),R(l,e,i),t=!0},p(l,[i]){l[0]&&l[2]?n?(n.p(l,i),i&5&&U(n,1)):(n=yl(l),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(me(),B(n,1,1,()=>{n=null}),ve())},i(l){t||(U(n),t=!0)},o(l){B(n),t=!1},d(l){n&&n.d(l),l&&m(e)}}}function Ac(r,e,t){let n,l,i;tt(r,be,u=>t(4,n=u)),tt(r,Ul,u=>t(0,l=u)),tt(r,Dl,u=>t(2,i=u));let a;const s=u=>{u&&be.editActiveResource(u)},o=u=>be.setActiveResource(u),c=u=>be.closeResource(u);return r.$$.update=()=>{r.$$.dirty&17&&t(1,a={...Object.entries((l==null?void 0:l.resources)??{}).reduce((u,[f,h])=>{var d;return h.isOpen&&(u[f]={title:`${((d=h.content)==null?void 0:d.filename)||mt(h.meta.typeId)}${_e(n).isDirty(f)?"*":""}`,content:Cc}),u},{})})},[l,a,i,s,n,o,c]}class Uc extends ce{constructor(e){super(),ue(this,e,Ac,Tc,ae,{})}}function Dc(r){let e,t,n,l,i,a,s,o,c,u,f,h,d,p,v,w,E,k,D,S,N,P,J,z,M,H,j;return{c(){e=T("div"),t=T("div"),n=T("div"),l=T("div"),i=L(),a=T("div"),s=L(),o=T("div"),c=L(),u=T("div"),f=L(),h=T("div"),d=L(),p=T("div"),v=L(),w=T("div"),E=L(),k=T("div"),D=L(),S=T("div"),N=L(),P=T("div"),J=L(),z=T("div"),M=L(),H=T("div"),this.h()},l(Q){e=A(Q,"DIV",{class:!0,style:!0});var le=I(e);t=A(le,"DIV",{style:!0});var Z=I(t);n=A(Z,"DIV",{class:!0});var ee=I(n);l=A(ee,"DIV",{class:!0}),I(l).forEach(m),i=O(ee),a=A(ee,"DIV",{class:!0}),I(a).forEach(m),s=O(ee),o=A(ee,"DIV",{class:!0}),I(o).forEach(m),c=O(ee),u=A(ee,"DIV",{class:!0}),I(u).forEach(m),f=O(ee),h=A(ee,"DIV",{class:!0}),I(h).forEach(m),d=O(ee),p=A(ee,"DIV",{class:!0}),I(p).forEach(m),v=O(ee),w=A(ee,"DIV",{class:!0}),I(w).forEach(m),E=O(ee),k=A(ee,"DIV",{class:!0}),I(k).forEach(m),D=O(ee),S=A(ee,"DIV",{class:!0}),I(S).forEach(m),N=O(ee),P=A(ee,"DIV",{class:!0}),I(P).forEach(m),J=O(ee),z=A(ee,"DIV",{class:!0}),I(z).forEach(m),M=O(ee),H=A(ee,"DIV",{class:!0}),I(H).forEach(m),ee.forEach(m),Z.forEach(m),le.forEach(m),this.h()},h(){C(l,"class","triangle bottom face-1 svelte-10dc8xq"),C(a,"class","triangle bottom face-2 svelte-10dc8xq"),C(o,"class","triangle bottom face-3 svelte-10dc8xq"),C(u,"class","triangle bottom face-4 svelte-10dc8xq"),C(h,"class","triangle bottom face-5 svelte-10dc8xq"),C(p,"class","triangle bottom face-6 svelte-10dc8xq"),C(w,"class","triangle top face-1 svelte-10dc8xq"),C(k,"class","triangle top face-2 svelte-10dc8xq"),C(S,"class","triangle top face-3 svelte-10dc8xq"),C(P,"class","triangle top face-4 svelte-10dc8xq"),C(z,"class","triangle top face-5 svelte-10dc8xq"),C(H,"class","triangle top face-6 svelte-10dc8xq"),C(n,"class","rotator svelte-10dc8xq"),C(t,"style",r[1]),C(e,"class","plumbob-wrapper svelte-10dc8xq"),C(e,"style",j=`height:${r[0]}px;width:${r[0]/2}px`)},m(Q,le){R(Q,e,le),b(e,t),b(t,n),b(n,l),b(n,i),b(n,a),b(n,s),b(n,o),b(n,c),b(n,u),b(n,f),b(n,h),b(n,d),b(n,p),b(n,v),b(n,w),b(n,E),b(n,k),b(n,D),b(n,S),b(n,N),b(n,P),b(n,J),b(n,z),b(n,M),b(n,H)},p(Q,[le]){le&2&&C(t,"style",Q[1]),le&1&&j!==(j=`height:${Q[0]}px;width:${Q[0]/2}px`)&&C(e,"style",j)},i:ie,o:ie,d(Q){Q&&m(e)}}}function Sc(r,e,t){let{size:n}=e,l;return r.$$set=i=>{"size"in i&&t(0,n=i.size)},r.$$.update=()=>{r.$$.dirty&1&&t(1,l=n?`transform:scale(${n/100})`:void 0)},[n,l]}class Bc extends ce{constructor(e){super(),ue(this,e,Sc,Dc,ae,{size:0})}}function Fc(r){let e;return{c(){e=X("browse files")},l(t){e=K(t,"browse files")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Rc(r){let e,t,n,l,i,a,s,o,c,u,f,h,d;return i=new Bc({props:{size:50}}),u=new Se({props:{variant:"link",style:"font-size: 1.2rem;",onClick:r[4],$$slots:{default:[Fc]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),n=T("input"),l=L(),W(i.$$.fragment),a=L(),s=T("span"),o=X("Drag .package file here or"),c=L(),W(u.$$.fragment),this.h()},l(p){e=A(p,"DIV",{class:!0});var v=I(e);t=A(v,"DIV",{class:!0});var w=I(t);n=A(w,"INPUT",{type:!0,accept:!0,class:!0}),l=O(w),q(i.$$.fragment,w),a=O(w),s=A(w,"SPAN",{class:!0});var E=I(s);o=K(E,"Drag .package file here or"),E.forEach(m),c=O(w),q(u.$$.fragment,w),w.forEach(m),v.forEach(m),this.h()},h(){C(n,"type","file"),C(n,"accept",".package"),C(n,"class","svelte-n3cac0"),C(s,"class","text svelte-n3cac0"),C(t,"class","drop-zone svelte-n3cac0"),C(e,"class","wrapper svelte-n3cac0")},m(p,v){R(p,e,v),b(e,t),b(t,n),r[2](n),b(t,l),x(i,t,null),b(t,a),b(t,s),b(s,o),b(t,c),x(u,t,null),f=!0,h||(d=[pe(n,"change",r[3]),pe(t,"dragover",st(r[1])),pe(t,"drop",st(r[5]))],h=!0)},p(p,[v]){const w={};v&1&&(w.onClick=p[4]),v&64&&(w.$$scope={dirty:v,ctx:p}),u.$set(w)},i(p){f||(U(i.$$.fragment,p),U(u.$$.fragment,p),f=!0)},o(p){B(i.$$.fragment,p),B(u.$$.fragment,p),f=!1},d(p){p&&m(e),r[2](null),Y(i),Y(u),h=!1,gt(d)}}}function Pc(r,e,t){let n;function l(c){Gl.call(this,r,c)}function i(c){bt[c?"unshift":"push"](()=>{n=c,t(0,n)})}return[n,l,i,async()=>{var u;const c=(u=n.files)==null?void 0:u[0];c&&await be.addPackage(c)},()=>n.click(),async c=>{var f,h,d;const u=(d=(h=(f=c==null?void 0:c.dataTransfer)==null?void 0:f.items)==null?void 0:h[0])==null?void 0:d.getAsFile();u&&await be.addPackage(u)}]}class Lc extends ce{constructor(e){super(),ue(this,e,Pc,Rc,ae,{})}}function Oc(r){let e;return{c(){e=X("Try the custom career template!")},l(t){e=K(t,"Try the custom career template!")},m(t,n){R(t,e,n)},d(t){t&&m(e)}}}function Mc(r){let e,t,n,l,i,a,s,o,c,u,f,h,d,p;return s=new Lc({}),d=new Se({props:{onClick:r[0],style:"font-size: 1.2rem",$$slots:{default:[Oc]},$$scope:{ctx:r}}}),{c(){e=T("div"),t=T("div"),n=T("h1"),l=X("SIMPAI"),i=X(`
		Sims 2 Package Alteration Interface`),a=L(),W(s.$$.fragment),o=L(),c=T("div"),u=X("Not sure where to start?"),f=T("br"),h=L(),W(d.$$.fragment),this.h()},l(v){e=A(v,"DIV",{class:!0});var w=I(e);t=A(w,"DIV",{class:!0});var E=I(t);n=A(E,"H1",{class:!0});var k=I(n);l=K(k,"SIMPAI"),k.forEach(m),i=K(E,`
		Sims 2 Package Alteration Interface`),E.forEach(m),a=O(w),q(s.$$.fragment,w),o=O(w),c=A(w,"DIV",{class:!0});var D=I(c);u=K(D,"Not sure where to start?"),f=A(D,"BR",{}),h=O(D),q(d.$$.fragment,D),D.forEach(m),w.forEach(m),this.h()},h(){C(n,"class","svelte-iietxr"),C(t,"class","intro svelte-iietxr"),C(c,"class","help svelte-iietxr"),C(e,"class","welcome svelte-iietxr")},m(v,w){R(v,e,w),b(e,t),b(t,n),b(n,l),b(t,i),b(e,a),x(s,e,null),b(e,o),b(e,c),b(c,u),b(c,f),b(c,h),x(d,c,null),p=!0},p(v,[w]){const E={};w&2&&(E.$$scope={dirty:w,ctx:v}),d.$set(E)},i(v){p||(U(s.$$.fragment,v),U(d.$$.fragment,v),p=!0)},o(v){B(s.$$.fragment,v),B(d.$$.fragment,v),p=!1},d(v){v&&m(e),Y(s),Y(d)}}}const kl="career.package";function Nc(r){return[async()=>{const t=await fetch(`/simpai/templates/${kl}`);await be.addPackage(new File([await t.arrayBuffer()],kl))}]}class Vc extends ce{constructor(e){super(),ue(this,e,Nc,Mc,ae,{})}}function jc(r){let e,t,n,l,i,a,s;return n=new Gt({props:{tabs:r[1],activeTab:r[0].activePackageId,onChange:r[2],onClose:r[3],headingLevel:"h1",style:{width:"100%",flex:"1","min-height":"0"},contentStyle:{"min-height":"0",padding:"15px 0"},hideSingleTab:!0}}),a=new Uc({}),{c(){e=T("div"),t=T("div"),W(n.$$.fragment),l=L(),i=T("div"),W(a.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var c=I(e);t=A(c,"DIV",{class:!0});var u=I(t);q(n.$$.fragment,u),u.forEach(m),l=O(c),i=A(c,"DIV",{class:!0});var f=I(i);q(a.$$.fragment,f),f.forEach(m),c.forEach(m),this.h()},h(){C(t,"class","left svelte-x0u2sm"),C(i,"class","right svelte-x0u2sm"),C(e,"class","layout svelte-x0u2sm")},m(o,c){R(o,e,c),b(e,t),x(n,t,null),b(e,l),b(e,i),x(a,i,null),s=!0},p(o,[c]){const u={};c&2&&(u.tabs=o[1]),c&1&&(u.activeTab=o[0].activePackageId),n.$set(u)},i(o){s||(U(n.$$.fragment,o),U(a.$$.fragment,o),s=!0)},o(o){B(n.$$.fragment,o),B(a.$$.fragment,o),s=!1},d(o){o&&m(e),Y(n),Y(a)}}}function Gc(r,e,t){let n;tt(r,be,s=>t(0,n=s));let l;const i=s=>be.setActivePackage(s),a=s=>be.removePackage(s);return r.$$.update=()=>{r.$$.dirty&1&&t(1,l={...Object.entries(n.packages).reduce((s,[o,c])=>(s[o]={title:c.filename,content:tc},s),{}),"":{title:"+",content:Vc,hideClose:!0}})},[n,l,i,a]}class xc extends ce{constructor(e){super(),ue(this,e,Gc,jc,ae,{})}}export{xc as default};
